{
    "items": [{
        "tags": ["node.js", "azure", "sdk", "iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 5,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1632136543,
        "creation_date": 1632134691,
        "question_id": 69253144,
        "link": "https://stackoverflow.com/questions/69253144/cant-set-system-properties-using-node-js-sdk",
        "title": "Can&#39;t set system properties using node.js sdk",
        "body": "<p>I need to set system properties on a module written using the node.js SDK, otherwise the message body is sent forward base64 encoded. I can't find anything on the sdk. I can set application propertes, but that  doesn't help;</p>\n<pre><code>  outputMsg.properties.add('Content-Encoding', 'utf-8');  \n  outputMsg.properties.add('Content-Type', 'application/json');   \n</code></pre>\n<p>This how the event looks like in event grid:</p>\n<pre><code>{ \n  &quot;id&quot;: &quot;d72588fa-0141-d3e3-50ca-5fa8dc14b452&quot;,  \n  &quot;topic&quot;: &quot;/SUBSCRIPTIONS/55AE1D7B-63B3-4993-811D-6FDD3B176255/RESOURCEGROUPS/SJ-POC-RG/PROVIDERS/MICROSOFT.DEVICES/IOTHUBS/SJPOC&quot;,  \n  &quot;subject&quot;: &quot;devices/sjedge/nomadClient&quot;,  \n  &quot;eventType&quot;: &quot;Microsoft.Devices.DeviceTelemetry&quot;,  \n  &quot;data&quot;: {. \n    &quot;properties&quot;: {. \n      &quot;Content-Encoding&quot;: &quot;utf-8&quot;,  \n      &quot;Content-Type&quot;: &quot;application/json&quot;. \n    },  \n    &quot;systemProperties&quot;: {. \n      &quot;iothub-connection-device-id&quot;: &quot;sjedge&quot;,  \n      &quot;iothub-connection-module-id&quot;: &quot;some-client&quot;,   \n      &quot;iothub-connection-auth-method&quot;: &quot;{\\&quot;scope\\&quot;:\\&quot;module\\&quot;,\\&quot;type\\&quot;:\\&quot;sas\\&quot;,\\&quot;issuer\\&quot;:\\&quot;iothub\\&quot;,\\&quot;acceptingIpFilterRule\\&quot;:null}&quot;,  \n      &quot;iothub-connection-auth-generation-id&quot;: &quot;637667822113671571&quot;,  \n      &quot;iothub-enqueuedtime&quot;: &quot;2021-09-20T10:25:02.425Z&quot;,  \n      &quot;iothub-message-source&quot;: &quot;Telemetry&quot;. \n    },  \n    &quot;body&quot;:  &quot;eyJjdCI6MTYzMDQxNjE3MCwidmUiOjEsImVycm9yIjoibm9uZSIsImxhdCI6MC4wMTA0ODkyNDcyOTY4ODUxNjIsImxvbmciOjAuNDM2MTM0MzMxMjQ3NTY1Miwic3BlZWQiOjgwLjIyNzM3MDMwMDg1OTA4LCJzYXRzIjo4LCJncHNTYXRzIjoxMiwiYmVhcmluZyI6MTMxLjU3OTQ3NzUxNDMwMzE0LCJzb3VyY2UiOiI5Mi0wMSIsImFsdCI6MzYuOTE2ODAwOTIxODIzMzV9&quot;\n  },  \n  &quot;dataVersion&quot;: &quot;&quot;,  \n  &quot;metadataVersion&quot;: &quot;1&quot;,  \n  &quot;eventTime&quot;: &quot;2021-09-20T10:25:02.425Z&quot;.   \n}\n</code></pre>\n"
    }, {
        "tags": ["python", "iot", "sensors", "gateway", "openwrt"],
        "is_answered": false,
        "view_count": 9,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1631983345,
        "creation_date": 1631883528,
        "last_edit_date": 1631983345,
        "question_id": 69223854,
        "link": "https://stackoverflow.com/questions/69223854/save-sensor-data-in-gateway-sd-card-and-send-it-to-server-when-connection-is-est",
        "title": "Save sensor data in GATEWAY SD card and send it to server when connection is established",
        "body": "<p>I have to send sensor data to the server when the device is online, but when the device is offline I want to store the data to local device storage and automatically send the data to the server when the device is online.\nOR\ncan we directly store sensor data in a file and send the file data to the server?</p>\n<p>-I'm using a python script to read data from a sensor.</p>\n<p>Does anyone have an example or documentation of how to do this?</p>\n"
    }, {
        "tags": ["udp", "iot", "at-command", "modem", "lte"],
        "is_answered": false,
        "view_count": 44,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1631862541,
        "creation_date": 1629712091,
        "last_edit_date": 1629713837,
        "question_id": 68890476,
        "link": "https://stackoverflow.com/questions/68890476/simcom-a7600e-trouble-receiving-udp-packages",
        "title": "SIMCOM A7600E trouble receiving UDP packages",
        "body": "<p>I'm having trouble receiving UDP packages using a A7600E modem. I am required to send and receive UDP packages over LTE using dedicated IP addresses.</p>\n<p>I am able to:</p>\n<ul>\n<li>obtain the dedicated IPv4 the ISP has allocated for us.</li>\n<li>send a package over the internet, The arriving package has the proper sending IP/port</li>\n<li>send and receive TCP packages using the TCP client and  server. (but my boss wants me to send UDPs)</li>\n</ul>\n<p>There is no firewall at the ISP level, I've checked with another modem.</p>\n<p>This is the command sequence I use to send packages. I cannot receive anything over UDP when I send packages to 79.118.XX.XX</p>\n<pre><code>ATI\nManufacturer: INCORPORATED\nModel: A7600E-LNSE\nRevision: A7600M7_V8.18.1\nIMEI: 86999XXXXXXXXXX\n+GCAP: +CGSM,+FCLASS,+DS\n\nAT+CGMR\n+CGMR: A818B03A7600M7\n\nAT+CGATT=1\nOK\nAT+CGACT=1,1\nOK\n\n+CGEV: NW MODIFY 1,4\nAT+CGPADDR=1\n+CGPADDR: 1,46.97.XX.XX\n\nOK\nAT+NETOPEN\nOK\n\n+NETOPEN: 0\nAT+CIPOPEN=0,&quot;UDP&quot;,,,15000\n+CIPOPEN: 0,0\n\nAT+CIPSEND=0,10,&quot;77.81.XX.XX&quot;,21000\n&gt;ewewwe4343\nOK\n\n+CIPSEND: 0,10,10\nAT+CIPOPEN=1,&quot;UDP&quot;,,,21000\n+CIPOPEN: 1,0\n\nOK\nAT+CIPOPEN?\n+CIPOPEN: 0,&quot;UDP&quot;,&quot;79.118.XX.XX&quot;,21000,-1\n+CIPOPEN: 1,&quot;UDP&quot;,&quot;0.0.0.0&quot;,0,-1\n+CIPOPEN: 2\n+CIPOPEN: 3\n+CIPOPEN: 4\n+CIPOPEN: 5\n+CIPOPEN: 6\n+CIPOPEN: 7\n+CIPOPEN: 8\n+CIPOPEN: 9\n\nOK\n</code></pre>\n<p>Thank you for your help</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "azure-cli"],
        "is_answered": false,
        "view_count": 25,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1631685895,
        "creation_date": 1631684416,
        "last_edit_date": 1631685895,
        "question_id": 69187615,
        "link": "https://stackoverflow.com/questions/69187615/how-i-can-view-raw-data-binary-sensor-data-which-i-have-published-to-azure-iot",
        "title": "How I can view Raw Data (Binary sensor data) which i have published to Azure IoT Hub?",
        "body": "<p>I am implementing custom device based on ESP32 Wi-Fi Microcontroller. I was able to successfully connect this device to Azure IoT Hub.When I transfer telemetry data in json format and i can view the data using azure cli (az iot hub monitor-events --hub-name {hub}).</p>\n<p>But when i published telemetry raw data (ex: uint8_t data[]={0x12,0x3F,0x01,0xF1,0x01,0x02,0xD3,0x00};) i can not view through azure cli (az iot hub monitor-events) although mqtt publish is success from ESP32 side. Some time &quot;az iot hub monitor-events&quot; crash.(see the image)</p>\n<p>is there a alternative way to do this or does Azure IoT hub not support Raw telemetry data? Any help or advice would be highly appreciated! Thank you.</p>\n<p><a href=\"https://i.stack.imgur.com/3gIDD.png\" rel=\"nofollow noreferrer\">initial part - success in displaying json data, Crash when send raw data</a></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-stream-analytics", "stream-analytics"],
        "is_answered": false,
        "view_count": 20,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1631563703,
        "creation_date": 1631541537,
        "question_id": 69163978,
        "link": "https://stackoverflow.com/questions/69163978/azure-stream-analytics-threshold-based-rule-with-multiple-devices",
        "title": "Azure stream analytics threshold based rule with multiple devices",
        "body": "<p>I have Azure Stream analytics job with IOTHUB as input and have created query for threshold based rules with multiple condition. Now I have a scenario wherein I am required to compare telemetry data of more than one device.</p>\n<p>Current solution works for :\nDevice1 : property1 &gt; threshold AND property2 &lt; threshold</p>\n<p>Looking for a solution for :\nDevice1 : property1 &gt; threshold AND Device2 : property2 &lt; threshold</p>\n<p>Searched the web but could not really find anything for comparing telemetry of multiple devices. I'm not sure if this is supported or not.</p>\n"
    }, {
        "tags": ["uml", "iot", "use-case", "use-case-diagram"],
        "is_answered": true,
        "view_count": 22,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1631173104,
        "creation_date": 1631094829,
        "last_edit_date": 1631173104,
        "question_id": 69100825,
        "link": "https://stackoverflow.com/questions/69100825/should-i-include-the-iiot-as-an-secondary-actor-in-my-use-case-diagram",
        "title": "Should I include the IIoT as an secondary actor in my use case diagram?",
        "body": "<p>I have an application to monitor real-time data coming from an IIoT, the problem is I don't know exactly if I should include the IIoT as an actor, this is the flow of my application:</p>\n<p>the IIoT will send data to the Node-Red server then the Node-red will produce data to Kafka then a user (actor) will choose a machine then visualize the data coming from the IIoT.</p>\n<p>First I included node-red and Kafka as a part of my application but I don't know what to do about the IIoT.</p>\n<p>I have read that if you add an actor to the use case that means it has an interface in your application, but could the monitoring dashboard be the interface for the IIoT?</p>\n"
    }, {
        "tags": ["signal-processing", "iot", "sensors", "detection"],
        "is_answered": true,
        "view_count": 42,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1630523784,
        "creation_date": 1630503239,
        "last_edit_date": 1630503658,
        "question_id": 69014780,
        "link": "https://stackoverflow.com/questions/69014780/is-there-a-way-to-communicate-with-smartphone-remotely-via-a-sensor-without-usin",
        "title": "Is there a way to communicate with smartphone remotely via a sensor without using internet?",
        "body": "<p>I want to detect and send/recieve data from a smartphone in some vicinity without using internet.</p>\n"
    }, {
        "tags": ["firebase", "iot", "gsm", "esp32", "sim800"],
        "is_answered": true,
        "view_count": 374,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1630238691,
        "creation_date": 1619157744,
        "last_edit_date": 1619176841,
        "question_id": 67224717,
        "link": "https://stackoverflow.com/questions/67224717/sending-sensor-data-to-firebase-using-esp32sim800l",
        "title": "Sending Sensor Data to Firebase using ESP32+Sim800L",
        "body": "<p>I have a TTGO T-CALL ESP32+Sim800L board and I want to send accelerometer data to Firebase.\nI am using the TinyGSM library which supports SSL/https connections for Sim800L.\nI am currently sending dummy data to see if it works but it is giving me a failed flag.\nWhy is it not sending data to Firebase?</p>\n<pre><code>#define FIREBASE_HOST &quot;https://XXXXXXXXXXXXXXXXXfirebaseio.com/&quot;\n#define FIREBASE_AUTH &quot;XXXXXXXXXXXXXXXXXXXXhevKwQ3LALblGclqCk&quot;\n\nFirebaseData firebaseData;\n\nvoid setup()\n{\n// Set console baud rate\nSerial.begin(115200);\n// Set-up modem reset, enable, power pins\npinMode(MODEM_PWKEY, OUTPUT);\npinMode(MODEM_RST, OUTPUT);\npinMode(MODEM_POWER_ON, OUTPUT);\ndigitalWrite(MODEM_PWKEY, LOW);\ndigitalWrite(MODEM_RST, HIGH);\ndigitalWrite(MODEM_POWER_ON, HIGH);\n\n// Set GSM module baud rate and UART pins\nSerialAT.begin(115200, SERIAL_8N1, MODEM_RX, MODEM_TX);\ndelay(3000);\n\nSerialMon.println(&quot;Initializing modem...&quot;);\nmodem.init();\n\nSerialMon.print(&quot;Connecting to APN: &quot;);\nSerialMon.print(apn);\n  if (!modem.gprsConnect(apn, gprsUser, gprsPass)) {\n    SerialMon.println(&quot; fail&quot;);\n  }else {\n    SerialMon.println(&quot; OK&quot;);\n\n    Firebase.begin(FIREBASE_HOST,FIREBASE_AUTH);\n    SerialMon.println(&quot; Connection to Firebase Successful&quot;);\n}\n}\n\nvoid loop()\n{\nString data = &quot;5&quot;;\nbool res = Firebase.pushString(firebaseData,&quot;/ax&quot;, data);\nSerial.println(&quot;Data sent&quot;);\nSerial.println(res); \nSerial.println(firebaseData.errorReason());\ndelay(1000);\n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oekz8.png\" rel=\"nofollow noreferrer\">This is the output:</a></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-data-lake-gen2", "thingworx"],
        "is_answered": false,
        "view_count": 41,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1629966074,
        "creation_date": 1629960725,
        "last_edit_date": 1629964789,
        "question_id": 68933805,
        "link": "https://stackoverflow.com/questions/68933805/send-azure-iot-data-to-azure-gen2",
        "title": "Send Azure Iot data to azure gen2",
        "body": "<p>Currently My IOT hub is sending data to storage account gen2 within a folder called rawdata.. But I want to send the data into three folders if it is raw data - send to raw folder, transform data send to transform folder likewise.</p>\n<p>Current setting:\n<a href=\"https://i.stack.imgur.com/ST4cf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ST4cf.png\" alt=\"Screenshot\" /></a>\nKindly guide any article.</p>\n<p>Thanks\nAnuj</p>\n"
    }, {
        "tags": ["iot", "fiware-orion", "insomnia", "lorawan"],
        "is_answered": false,
        "view_count": 40,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1629482125,
        "creation_date": 1615485576,
        "last_edit_date": 1615496231,
        "question_id": 66587991,
        "link": "https://stackoverflow.com/questions/66587991/subscription-iotagent-lorawan-with-chirpstack-services",
        "title": "Subscription IoTAgent-LoRaWAN with ChirpStack Services",
        "body": "<p>I still trying to make a subscription with ChirpStack the IoTAgent-LoRaWAN and I don't have a response from this service and I can't see  my data about temperature and relative humidity from my sensors, also I knew that The Things  Network is more easy and popular to use, so I connected this network with my IoTAgent-LoraWAN and don't have problem with it, but I require the same response but from ChirpStack</p>\n<p>And the other hand, in section provider on Insomnia, I trying with ChirpStack.io and loraserver.io but the problem still</p>\n<p>Does someone know how to resolve this problem? Thank you so much</p>\n<p>(Also, I add images from Insomnia)</p>\n<p><a href=\"https://i.stack.imgur.com/ie38l.jpg\" rel=\"nofollow noreferrer\">Subscription with The Things Network</a></p>\n<p><a href=\"https://i.stack.imgur.com/QYbjw.jpg\" rel=\"nofollow noreferrer\">Data Visualization with The Things Network</a></p>\n<p><a href=\"https://i.stack.imgur.com/5PK7D.jpg\" rel=\"nofollow noreferrer\">Subscription with ChirpStack(before called LoraServer)</a></p>\n<p><a href=\"https://i.stack.imgur.com/XXj3H.jpg\" rel=\"nofollow noreferrer\">Don't exist Visualization with ChirpStack So don't exist subscription</a></p>\n<p>When I make the subscription with MQTT with the server is alright but the IoTAgent it doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/Bgymh.jpg\" rel=\"nofollow noreferrer\">Mosquitto subscription with ChirpStack</a></p>\n"
    }, {
        "tags": ["android", "firebase", "notifications", "iot"],
        "is_answered": false,
        "view_count": 20,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1629264725,
        "creation_date": 1629264725,
        "question_id": 68827023,
        "link": "https://stackoverflow.com/questions/68827023/how-to-receive-notification-based-on-the-condition-of-data-in-real-time-database",
        "title": "How to receive notification based on the condition of data in real-time database although the app is closed?",
        "body": "<p>Im doing a real time water monitoring system using IoT and Firebase. Im doing on a android app which able to view the data changes from real time database on firebase and receive notification based on data condition. For example, when water level is higher than 80%, then will get a notification &quot;Danger!&quot; and others. I implement the notification builder but it only receive notification when i open the app but when i closed it, it cannot receive the notification. SO what should i do ~.~</p>\n"
    }, {
        "tags": ["amazon-web-services", "http", "aws-lambda", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 106,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1629184281,
        "creation_date": 1620418326,
        "last_edit_date": 1620550528,
        "question_id": 67441126,
        "link": "https://stackoverflow.com/questions/67441126/send-mqtt-messages-from-aws-lambda-to-my-iot-device",
        "title": "Send MQTT messages from AWS Lambda to my IOT Device",
        "body": "<p>I am using AWS LAMBDA triggered by AWS IOT. My IOT device is publishing the message and will trigger AWS Lambda. After analyzing the message I need to send the analyzed data back to the IOT device. My IOT device has subscribe to the topic and waiting for my message to receive.</p>\n<p>Point here is I need to send the analyzed data from my lambda function using <strong>MQTT protocol</strong>.</p>\n<p>I have used boto3 to send the data:</p>\n<pre class=\"lang-py prettyprint-override\"><code>client = boto3.client('iot-data')\n    \nresponse = client.publish(\n    topic='test/topic1',\n    #note:\n    qos=0,\n    payload=eventText\n) \n</code></pre>\n<p>But the above code sends the data using HTTP which I don't want. I need to use MQTT protocol to send the data. Is it possible to send it? if yes, what is the other method?</p>\n<p>Also, my second doubt is.. even if data is sent using HTTP, it is received by my IoT device waiting to receive a message over MQTT protocol. Is it meant like HTTP is converted to MQTT? but who did it?</p>\n<p>I have already gone through the <a href=\"https://stackoverflow.com/questions/37810289/how-can-i-publish-to-a-mqtt-topic-in-a-amazon-aws-lambda-function\">How can I publish to a MQTT topic in a Amazon AWS Lambda function?</a> but all used boto3 which uses HTTP.</p>\n<p>Thank you in advance.</p>\n"
    }, {
        "tags": ["python", "multithreading", "flask", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 41,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1628714541,
        "creation_date": 1628680800,
        "last_edit_date": 1628681670,
        "question_id": 68740978,
        "link": "https://stackoverflow.com/questions/68740978/how-to-log-iot-data-in-specific-time-interval-using-flask-python",
        "title": "How to Log IoT Data in specific time interval using Flask/python",
        "body": "<p>It is my first question here, please pardon any mistakes. I am trying to develop software using python/flask, which continuously receives IoT data from multiple devices, and log data at specific time intervals. for example, I have 3 devices and log data in 30 seconds intervals: device1,device2,device3 sends first data at 5:04:20, 5:04:29,5;04:31 respectively. Then these devices continuously send data every 1 or 2 seconds, I want to keep track of the last data and ensure that the next data is updated at 5:04:50,5:04:59, 5:05:01 respectively after that at 5:05:20 and so on.</p>\n<p>I have written a script that ensures this for a single device using threading:\nhere is the code:</p>\n<pre><code>import paho.mqtt.client as mqtt\nimport csv\nimport os\nimport datetime\nimport threading\nimport queue\nimport time\nq = queue.Queue()\nheader = [&quot;Date&quot;, &quot;Time&quot;, &quot;Real_Speed&quot;]\nRspd_key_1 = &quot;key1=&quot;\nRspd_key_2 = &quot;key2=&quot;\nstate = 0\nmessage = &quot;&quot;\nvalues = {&quot;Date&quot;: 0, &quot;Time&quot;: 0, &quot;Real_Speed&quot;: 0}\nwriteFlag = True\nlogTime = 0\nlocallog = 0\nnowTime = 0\ndataUpdated = False\nF_checkTime = True\nprev_spd = 9999\n\n\n\ndef checkTime():\n    global logTime\n    global locallog\n    global values\n    global dataUpdated\n    timesDataMissed = 0\n    while (F_checkTime):\n        nowTime = time.time()\n        if(logTime != 0 and nowTime-logTime &gt;= 30):\n            values['Date'] = datetime.date.today().strftime(&quot;%d/%m/%Y&quot;)\n            now = datetime.datetime.now()\n            values['Time'] = now.strftime(&quot;%H:%M:%S&quot;)\n            if(dataUpdated):\n                q.put(values)\n                logTime +=30\n                dataUpdated = False\n                print(values)\n                timesDataMissed=0\n            else:\n                values['Real_Speed'] = 'NULL'\n                q.put(values)\n                logTime = nowTime\n                dataUpdated = False\n                timesDataMissed += 1\n                print(values)\n                if(timesDataMissed &gt; 10):\n                    timesDataMissed = 0\n                    logTime = 0\n\n\ndef on_connect(client, userdata, flags, rc):\n    print(&quot;Connected with result code &quot;+str(rc))\n    client.subscribe(&quot;something&quot;)\n\n\ndef write_csv():\n    csvfile = open('InverterDataLogger01.csv', mode='w',\n                   newline='',  encoding='utf-8')\n    spamwriter = csv.DictWriter(csvfile, fieldnames=header)\n    spamwriter.writeheader()\n    csvfile.close()\n    while writeFlag:\n        # print(&quot;worker running &quot;,csv_flag)\n        time.sleep(0.01)\n        # time.sleep(2)\n        while not q.empty():\n            results = q.get()\n            if results is None:\n                continue\n            csvfile = open('InverterDataLogger01.csv', mode='a',\n                           newline='',  encoding='utf-8')\n            spamwriter = csv.DictWriter(csvfile, fieldnames=header)\n            spamwriter.writerow(results)\n            csvfile.close()\n            print(&quot;Written in csv File&quot;)\n\n\n\ndef find_spd_val(message):\n    Do Something\n    return realspd\n\n\ndef on_message(client, userdata, msg):\n    message = str(msg.payload.decode(&quot;utf-8&quot;, &quot;ignore&quot;))\n    topic = str(msg.topic)\n    global values\n    global dataUpdated\n    global r_index\n    global prev_spd\n    global rspd\n    global locallog\n    if(logTime==0):\n        global logTime\n        logTime = time.time()\n        locallog=logTime\n\n    else:\n        try:\n            rspd = int(find_spd_val(message))\n        except:\n            pass\n        if(prev_spd == 9999):\n            prev_spd = rspd\n        else:\n            values['Real_Speed'] = rspd\n\n\n\ndef on_publish(client, userdata, mid):\n    print(&quot;Message Published&quot;)\n\n\nclient = mqtt.Client(&quot;hidden&quot;)\nclient.on_connect = on_connect\nclient.on_message = on_message\nclient.on_publish = on_publish\nclient.connect(&quot;hidden&quot;)\nclient.loop_start()\nt1 = threading.Thread(target=write_csv)  # start logger\nt2 = threading.Thread(target=checkTime)  # start logger\n\nt1.start()  # start logging thread\nt2.start()  # start logging thread\n\nprint('written')\ntry:\n    while True:\n        time.sleep(1)\n        pass\nexcept:\n    print(&quot;interrrupted by keyboard&quot;)\n    client.loop_stop()  # start loop\n    writeFlag = False  # stop logging thread\n    F_checkTime = False\n    time.sleep(5)\n</code></pre>\n<p>I want to do the same thing using python/flask to handle multiple devices. I am new to flask, can you please give me any guidelines, how can I ensure this functionality in the flask, what technology should I use?</p>\n"
    }, {
        "tags": ["amazon-web-services", "filter", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 23,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1627979612,
        "creation_date": 1627476426,
        "question_id": 68560684,
        "link": "https://stackoverflow.com/questions/68560684/create-aws-iot-solution-to-filter-incoming-data-and-send-response-to-web-app-in",
        "title": "Create AWS IoT solution to filter incoming data and send response to Web App in real time",
        "body": "<p><a href=\"https://i.stack.imgur.com/YJE35.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJE35.png\" alt=\"desired archeticture\" /></a></p>\n<p>I wish to achieve this archeticture with AWS IoT services, where I have a group of IoT devices that send data to the cloud (AWS IoT Core), When the data comes to the cloud I want to do two things per message:</p>\n<ol>\n<li>Archive the message into a db container, that will be quired by a backend to get this data and display them.</li>\n<li>Apply a filter conditions code based on some attributes saved on my local db, &lt;I can save these attributes on the cloud too .e.g. DynamoDB perhaps!&gt;, Then based on the filter if the message's data violates a specific condition it should fire an alert (notification) and send it to the frontend to view.</li>\n</ol>\n<p>How can I achieve this?\nI made some research and found this solution <a href=\"https://aws.amazon.com/solutions/implementations/real-time-iot-device-monitoring-with-kinesis/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/solutions/implementations/real-time-iot-device-monitoring-with-kinesis/</a> <a href=\"https://i.stack.imgur.com/zhRyx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zhRyx.png\" alt=\"AWS IoT Solution\" /></a></p>\n<p>I know now that I can filter the stream data with AWS Kinesis data analytics application code, but how can I read my conditions from my local db within the application code? is this even supported? What's the alternative way to achive my simple archeticture shown above?</p>\n<p>Please note that I'm beginner to AWS.</p>\n"
    }, {
        "tags": ["node.js", "azure", "iot", "azure-iot-hub", "open-telemetry"],
        "is_answered": true,
        "view_count": 31,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1627977299,
        "creation_date": 1627970424,
        "question_id": 68631043,
        "link": "https://stackoverflow.com/questions/68631043/which-is-an-appropriate-nodejs-code-to-send-telemetry-from-device-to-iot-hub",
        "title": "Which is an appropriate NodeJS code to send telemetry from device to IoT hub?",
        "body": "<p>With the help of Azure IoT SDK node, I've been assigned to send telemetry data from device to IoT hub using NodeJS.\nHow do I write or how do I find an appropriate sample for d2c messages.\nI'm quite confused which sample code to be used from this particular SDK for device to IoT hub telemetry.\n<a href=\"https://github.com/Azure/azure-iot-sdk-node\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-sdk-node</a>\n&quot;Suppose my device has a waste level sensor and sending waste fill level to IoT hub so how do I get an appropriate sample from this SDK to send data to Hub&quot;</p>\n<p>Thank you.</p>\n"
    }, {
        "tags": ["apache-kafka", "iot", "opc-ua", "milo"],
        "is_answered": true,
        "view_count": 1248,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1627431788,
        "creation_date": 1591951182,
        "question_id": 62340638,
        "link": "https://stackoverflow.com/questions/62340638/how-to-connect-opc-ua-data-with-kafka",
        "title": "How to Connect OPC-UA data with Kafka?",
        "body": "<p>I want to map opc-ua data into kafka topic. There are no spefic connectors from confluent for example.</p>\n\n<p>I will use eclipse/milo (<a href=\"https://github.com/eclipse/milo\" rel=\"nofollow noreferrer\">https://github.com/eclipse/milo</a>). </p>\n"
    }, {
        "tags": ["http", "post", "gps", "iot", "gsm"],
        "is_answered": false,
        "view_count": 9,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1626598566,
        "creation_date": 1626598566,
        "question_id": 68427531,
        "link": "https://stackoverflow.com/questions/68427531/smallest-http-post-possible",
        "title": "Smallest HTTP POST possible",
        "body": "<p>I'm looking at using a GPS and GSM module to send post requests with coordinates that are in total 24 bytes in size. What's the smallest size post request I could make to a web server to limit data charges?</p>\n"
    }, {
        "tags": ["python", "mqtt", "iot", "paho", "thingsboard"],
        "is_answered": true,
        "view_count": 955,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1625701644,
        "creation_date": 1584896325,
        "last_edit_date": 1584956596,
        "question_id": 60802247,
        "link": "https://stackoverflow.com/questions/60802247/mqtt-subscriber-to-thingsboard-broker-in-python",
        "title": "MQTT Subscriber to ThingsBoard broker in python",
        "body": "<p><strong>Situation:</strong>\nI have a python virtual sensor (a python program) that submits data via MQTT protocol to my device in ThingsBoard.\nI can visualize data on the dashboard, so I'm sure that the data are received.</p>\n\n<p><strong>Problem:</strong>\nWhen I try to connect a python subscriber to the thingsboard broker (demo.thingsboard.io) using paho I obtain that the connection code is 0, so the connection is OK, <strong>however</strong> I see that the dashboard stops visualising the data from the virtual sensor but the subscriber does not receive anything. </p>\n\n<p>The virtual sensor is publishing at <em>v1/devices/me/telemetry</em> and the subscriber is subscribed at the same topic <em>v1/devices/me/telemetry</em>.</p>\n\n<p><strong>Can</strong> anyone please help me to figure out how to sho the data published by the virtual sensor on my subscriber client?</p>\n\n<p><strong>VIRTUAL SENSOR CODE:</strong>  </p>\n\n<pre><code>import paho.mqtt.client as paho                     #mqtt library\nimport os\nimport json\nimport time\nfrom datetime import datetime\n\nACCESS_TOKEN=\"vgFztmvT6bps7JCeOEZq\"                 #Token of your device\nbroker=\"demo.thingsboard.io\"                        #host name\nport=1883                       #data listening port\n\ndef on_publish(client,userdata,result):             #create function for callback\n    print(\"data published to thingsboard \\n\")\n    pass\nclient1= paho.Client(\"control1\")                    #create client object\nclient1.on_publish = on_publish                     #assign function to callback\nclient1.username_pw_set(ACCESS_TOKEN)               #access token from thingsboard device\nclient1.connect(broker,port,keepalive=60)           #establish connection\n\nwhile True:\n\n   payload=\"{\"\n   payload+=\"\\\"Humidity\\\":60,\"; \n   payload+=\"\\\"Temperature\\\":25\"; \n   payload+=\"}\"\n   ret= client1.publish(\"v1/devices/me/telemetry\",payload) #topic-v1/devices/me/telemetry\n   print(\"Please check LATEST TELEMETRY field of your device\")\n   print(payload);\n   time.sleep(5)\n</code></pre>\n\n<p><strong>CLIENT SUBSCRIBER CODE:</strong> </p>\n\n<pre><code>import paho.mqtt.client as mqtt\nimport time\n\ntoken = \"vgFztmvT6bps7JCeOEZq\"\nbroker=\"demo.thingsboard.io\"                        # host name\nport=1883\ntopic = \"v1/devices/me/telemetry\"\n\n# The callback for when the client receives a CONNACK response from the server.\ndef on_connect(client, userdata, flags, rc) :\n    if (rc==0) :\n        print(\"connected OK Returned code = \", rc)\n    else :\n        print(\"Bad connection Returned code = \", rc)\n\ndef on_message(client, userdata, msg) :\n    print (msg.topic + \" \" + str(msg.payload))    \n\n\nclient = mqtt.Client()\nclient.on_connect = on_connect\nclient.on_message = on_message\n\nclient.username_pw_set(token)\nclient.connect(broker , port, 60)\nclient.subscribe(topic)\n\nclient.loop_forever()\n</code></pre>\n\n<p><strong>EDIT:</strong> added code</p>\n"
    }, {
        "tags": ["node.js", "reactjs", "mongodb", "iot", "mqtt-vernemq"],
        "is_answered": false,
        "view_count": 15,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1625070911,
        "creation_date": 1625070911,
        "question_id": 68198570,
        "link": "https://stackoverflow.com/questions/68198570/show-mqtt-publishers-data-on-react-interface-iot-project",
        "title": "Show mqtt publishers&#39; data on react interface (iot project)",
        "body": "<p>We are working now on an iot project where we need to show sensors data in realtime. We used React.js in the frontend, mongodb and nodejs in the backend, and an MQTT vernemq brocker.\nWe wonder what is the best and the most efficient way to show the data coming from the sensors(mqtt publishers) knowing that we have two solutions in mind: 1- using mqtt client in the frontend to steer the data directly from the mqtt publishers to the interface, 2- using mqtt client in the backend, where nodejs recieves the data, store them on mongodb, which leads to trigger update events and update the react UI.\nAny suggestions could be benficial, thank you.</p>\n"
    }, {
        "tags": ["iot", "esp32", "lora", "lorawan"],
        "is_answered": true,
        "view_count": 262,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1624874888,
        "creation_date": 1624707370,
        "question_id": 68141970,
        "link": "https://stackoverflow.com/questions/68141970/lora-point-to-point-communication",
        "title": "LoRa point-to-point communication",
        "body": "<p>I would like to create a point-to-point connection between a LoRa temperature sensor and a M5 Stack (ESP32) with LoRa module. However, I am a beginner with LoRa, so I have a few questions:</p>\n<ul>\n<li>Are all packets send with LoRa (not LoRaWAN) encrypted? Or does it depend on the producer of the LoRa sensor?</li>\n<li>Can the content of the packet received by the M5 Stack be viewed? (If I understand correctly, with the LoRaWAN the content can only be viewed after it is on the server).</li>\n<li>Can I send measured temperatures from multiple LoRa sensors to one M5 Stack? If yes, how could I distinguish from which sensor the packet has been sent?</li>\n</ul>\n<p>Any help would be appreciated!</p>\n"
    }, {
        "tags": ["nodes", "node-modules", "iot", "node-red", "opc-ua"],
        "is_answered": false,
        "view_count": 48,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1624627864,
        "creation_date": 1624613981,
        "last_edit_date": 1624627864,
        "question_id": 68128853,
        "link": "https://stackoverflow.com/questions/68128853/how-to-use-a-variable-to-modify-the-browser-endpoint-in-node-red",
        "title": "How to use a variable to modify the Browser Endpoint in Node Red",
        "body": "<p>I am a beginner in node red, I work now with IIoT-OPCUA, I need to connect my server to my client OPC UA through an interface in node red Dashboard and then access all the data from the server.\nI want  to modify the Browser Endpoint  from a text input in node red Dashboard. So how can I access and modify the Browser endpoint dynamically.  I tried to set a variable inside the Browser Endpoint but is not working.\nthank you in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/axH0H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axH0H.png\" alt=\"enter image description here\" /></a></p>\n"
    }, {
        "tags": ["simulation", "iot", "contiki", "cooja"],
        "is_answered": true,
        "view_count": 335,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1623093764,
        "creation_date": 1533471369,
        "last_edit_date": 1623093764,
        "question_id": 51694222,
        "link": "https://stackoverflow.com/questions/51694222/how-to-access-6lowpan-network-simulated-in-cooja-from-outside",
        "title": "How to access 6LowPAN network simulated in cooja from outside?",
        "body": "<p>I implemented a 6LowPAN network simulation using <code>Cooja</code> and <code>Contiki</code>, now i want to send some commands for actuators (motes) after processing data from outside of network.</p>\n\n<p>These commands will be send to motes after processing the data received from border router. </p>\n\n<p>How can i access specific mote in my simulated network from outside and send to it some packet?</p>\n"
    }, {
        "tags": ["arduino", "iot", "arduino-c++"],
        "is_answered": false,
        "view_count": 20,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1621802536,
        "creation_date": 1621802536,
        "question_id": 67664169,
        "link": "https://stackoverflow.com/questions/67664169/using-ifttt-arduino-iot-cloud",
        "title": "Using IFTTT &amp; Arduino IOT Cloud",
        "body": "<p>I'm currently trying to integrate IFTTT with Arduino IoT cloud. I have set up a webhook which when triggered will post a tweet. My system measures water quality and when the quality reaches a certain level it will trigger a tweet to be posted. I have setup the webhook url (see image) on the Ardunio IoT cloud but after doing some research I don't find it clear as to how to implement what I want to do in my code - I feel like it should be something simple so hopefully it'll be a quick fix if anyone can help me</p>\n<p><a href=\"https://i.stack.imgur.com/y5dnZ.png\" rel=\"nofollow noreferrer\">Webhook url image</a></p>\n"
    }, {
        "tags": ["azure", "export", "iot", "telemetry"],
        "is_answered": false,
        "view_count": 48,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1621263045,
        "creation_date": 1611214318,
        "question_id": 65822876,
        "link": "https://stackoverflow.com/questions/65822876/emtpy-messages-when-exporting-data-from-azure-iot-central-to-webhook",
        "title": "Emtpy messages when exporting data from Azure IoT Central to webhook",
        "body": "<p>I am following the guide below to try to export telemetry from IoT Central to a webhook.\n<a href=\"https://docs.microsoft.com/sv-se/azure/iot-central/core/howto-export-data#DataExportFilters\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/sv-se/azure/iot-central/core/howto-export-data#DataExportFilters</a></p>\n<p>I am testing with requestbin as the guide suggests. I do recieve message headers everytime new data arrives to the sensor, however the telemetry values are not recieved? I can read these in IoT Central, but they are not exported to the webhook?</p>\n<p><a href=\"https://i.stack.imgur.com/fSaOL.png\" rel=\"nofollow noreferrer\">Screenshot from requestbin</a></p>\n<p>Any ideas?</p>\n"
    }, {
        "tags": ["node.js", "tcp", "hex", "iot", "tcpdump"],
        "is_answered": false,
        "view_count": 135,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1620301133,
        "creation_date": 1591200804,
        "last_edit_date": 1591254581,
        "question_id": 62177561,
        "link": "https://stackoverflow.com/questions/62177561/nodejs-not-receiving-full-tcp-packet-when-data-comes-in-buffer-format-from-iot-d",
        "title": "NodeJS not receiving full tcp packet when data comes in buffer format from iot devices",
        "body": "<p>We have an IOT device for real-time communication (GPS location). \nThe device is sending TCP packets to the Nodejs server. But when we receiving so it is in buffer format and stripped.\nWe use tcpdump to checking, what data is coming in the network/transport layer. And Data is in HEX format. </p>\n\n<pre><code>0x0000:  029e 280b b191 022c 1666 c6e4 0800 4500  ..(....,.f....E.\n0x0010:  0061 0ae6 0000 6706 b735 6b54 5c96 ac1f  .a....g..5kT\\...\n0x0020:  1d72 5478 0c08 bc9e fa71 4bff c417 5010  .rTx.....qK...P.\n0x0030:  03c4 2571 0000 aa55 0035 8305 4572 0051  ..%q...U.5..Er.Q\n0x0040:  7601 0101 0209 e55e cde4 eb5e cde4 eb18  v......^...^....\n0x0050:  fb48 6dcb c14a 0f00 0040 6c00 0000 1001  .Hm..J...@l.....\n0x0060:  4d08 2001 9aff be8f 0d00 000a 0000 00    M..............\n</code></pre>\n\n<p>But, NodeJS server is receiving data in below format:\nBuffer aa 55 00 35 83 05 45 72 00 51 76 01 01 01 02 0a d8 5e ce 02 58 5e ce 02 58 18 fb 3e b3 cb c1 4d 3f 00 00 3f e7 00 00 00 10 00 fb 0c 20 01 9a ff bc 8f ... </p>\n\n<p>So why we are not able to receive full data packets? Because we need full data packets for send acknowledgment purposes.</p>\n\n<pre><code>var net = require('net');\nnet.createServer(function (socket) { \n    socket.on('data', function(data) {\n        var text = data.toString('hex');\n        console.log(\"data in hex\", text);\n    });\n    socket.on('end', function() {\n        console.log('end'); \n    });\n    socket.on('close', function() {\n        console.log('close');\n    });\n    socket.on('error', function(e) {\n        console.log('error ', e); \n    }); \n\n    }).listen(3080, function() { \n        console.log('TCP Server is listening on port 3080'); \n    });\n});\n</code></pre>\n\n<p>Note: Sorry, My English is very poor.</p>\n"
    }, {
        "tags": ["php", "mqtt", "iot", "qos"],
        "is_answered": false,
        "view_count": 773,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1620230062,
        "creation_date": 1479120454,
        "last_edit_date": 1479126961,
        "question_id": 40586907,
        "link": "https://stackoverflow.com/questions/40586907/sending-qos-parameter-along-with-mqtt-notification",
        "title": "sending qos parameter along with MQTT notification",
        "body": "<p>I am using ponte node application for sending MQTT notification from web to devices and please see below the format I am using.</p>\n\n<p>\"<a href=\"http://www.example.com/resources/topic/\" rel=\"nofollow noreferrer\">http://www.example.com/resources/topic/</a>\"  and message as body while testing from postman. My question is how can i send qos and retain parameter while sendin MQTT notification using PHP CURL ? My PHP code is below.</p>\n\n<pre><code>$curl = curl_init();\n            curl_setopt_array($curl, array(\n              CURLOPT_PORT              =&gt; self::MQTT_SERVER_PORT,\n              CURLOPT_URL               =&gt; self::MQTT_SERVER_URL.'/'.$topic,\n              CURLOPT_RETURNTRANSFER    =&gt; true,\n              CURLOPT_ENCODING          =&gt; \"\",\n              CURLOPT_MAXREDIRS         =&gt; 10,\n              CURLOPT_TIMEOUT           =&gt; 30,\n              CURLOPT_HTTP_VERSION      =&gt; CURL_HTTP_VERSION_1_1,\n              CURLOPT_CUSTOMREQUEST     =&gt; \"PUT\",\n              CURLOPT_POSTFIELDS        =&gt; \"test message\"\n            ));\n            curl_exec($curl);\n            $err = curl_error($curl);\n            curl_close($curl);\n            if(!$err){\n                $sent = true;\n            }\n</code></pre>\n\n<p>Regards,\nTismon Varghese.</p>\n"
    }, {
        "tags": ["c", "iot", "cooja"],
        "is_answered": false,
        "view_count": 22,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619499244,
        "creation_date": 1619499244,
        "question_id": 67277161,
        "link": "https://stackoverflow.com/questions/67277161/capturing-and-dropping-packets-between-source-and-destination-in-cooja-simulator",
        "title": "Capturing and dropping packets between source and destination in Cooja simulator",
        "body": "<p>I am working on a scenario where 2 motes are communicating using Cooja simulator. The sender mote sends a message and receiver accepts it. Is there any way where I can introduce another mote in between which can capture the data being shared between motes as well as prevent the same data from sender mote to reach receiver mote. Any kind of explanation or documentation is appreciated.\nThanks...</p>\n"
    }, {
        "tags": ["iot", "stream-processing"],
        "is_answered": true,
        "view_count": 38,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619420451,
        "creation_date": 1619372609,
        "last_edit_date": 1619420451,
        "question_id": 67256456,
        "link": "https://stackoverflow.com/questions/67256456/kafka-iot-use-case-stream-processing",
        "title": "Kafka + IoT use case + Stream Processing",
        "body": "<p>We have a number of drink machines which need to send telemetry/events to our central system and aso receive commands (e.g. power down/deactivate) from our central system.</p>\n<p>Today our machines (which run an android operating system) call a REST API endpoint on our backend which will do something like update a backend database, redis cache, trigger a task. We return a HTTP 20X, 40X, 50X. I have little experience understanding just how this will scale... today we are 100s of machines with events coming through at an average rate of 5 per minute. As we connect to more machines (tens of thousands being manufactured as we speak), I'm not sure how ideal this solution is, or if using REST patterns/abstraction is the best option.</p>\n<p>So first question - as we take in telemetry/events from the machine and perform some kind of processing on it, does this class as stream processing? One of the things which makes me hesitant to call it stream processing is that if a machine sent an event which causes an update to a database, and then if the database update failed, the machine would receive a 400/500 and that should prompt it to try again. With true stream processing I feel that it's just fire and forget - i.e. if the consumer failed your producer wouldn't be concerned. Your producer would only receive a success/fail code that the event was delivered, but not how it was processed.</p>\n<p>2nd question - we have an inelastic ingestion pipeline. Calling a single API which then synchronously connects to our backend (database, redis) to update state means that contention on something like a database will impact ingestion. What we need to do is decouple the ingestion pipeline from writing to the database... e.g. having some kind of durable buffer between the API and the backend which accepts events and queues them up for processing on the backend. I am wondering if Kafka is a suitable technology here. I am new to this area, but after being overwhelmed by a day of research I keep hearing more and more about Kafka. MQTT &amp; RabbitMQ are also mentioned prominently.</p>\n<p>3rd - if we created a kafka cluster, do I need to host the kafka-rest proxy seperately to be able to make and send REST requests?</p>\n<p>Other details: on AWS (guessing we can use Amazon MKS), backend (which would be a consumer) is TypeScript (i see there is a kafka-node node package).</p>\n"
    }, {
        "tags": ["javascript", "iot", "azure-iot-central"],
        "is_answered": false,
        "view_count": 47,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619371610,
        "creation_date": 1619336155,
        "question_id": 67250877,
        "link": "https://stackoverflow.com/questions/67250877/iot-central-offline-messaging",
        "title": "IOT Central Offline Messaging",
        "body": "<p>How I can handle the offline scenarios while sending messages from IOT device(not an IOT Edge) to IOT Central. My device may get diconnected from network but I need to store the messages locally and sync when it's back online. How can I achieve it?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-stream-analytics", "stream-analytics"],
        "is_answered": false,
        "view_count": 70,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1618486241,
        "creation_date": 1618486241,
        "question_id": 67107631,
        "link": "https://stackoverflow.com/questions/67107631/azure-stream-analytics-threshold-based-rule-with-multiple-conditions",
        "title": "Azure stream analytics threshold based rule with multiple conditions",
        "body": "<p>I am new to Azure stream analytics. I have gone through Microsoft articles regarding <a href=\"https://docs.microsoft.com/en-us/azure/stream-analytics/stream-analytics-threshold-based-rules\" rel=\"nofollow noreferrer\">threshold based rules</a>. And using below configuration for single condition based rule, I am able to get proper output also.</p>\n<p>My reference/rule data:</p>\n<pre><code>{\n    &quot;rule_id&quot;: 1234,\n    &quot;device_id&quot;: &quot;xyz&quot;,\n    &quot;property&quot;: &quot;Temperature&quot;,\n    &quot;alert_message&quot;: &quot;High temperature: Temperature above 93 \u00b0C&quot;,\n    &quot;operator&quot;: &quot;GREATEROREQUAL&quot;,\n    &quot;threshold&quot;: 93\n}\n</code></pre>\n<p>My sample telemetry packet:</p>\n<pre><code>{\n    &quot;deviceId&quot;: &quot;xyz&quot;,\n    &quot;Temperature&quot;: 45.43,\n    &quot;Pressure&quot;: 55.32\n}\n</code></pre>\n<p>My stream analytics input is IOTHUB and OUTPUT is Azure function.</p>\n<p>My stream analytics query:</p>\n<pre><code>SELECT tl.*, [rule]\nFROM IOTHUB as tl TIMESTAMP BY tl.EventEnqueuedUtcTime\nJOIN ReferenceData [rule]\nON [rule].device_id = tl.deviceId \nWHERE (\n    ([rule].operator = 'GREATEROREQUAL' AND GetRecordPropertyValue(tl, [rule].property) &gt;= [rule].threshold) OR \n    ([rule].operator = 'LESSOREQUAL' AND GetRecordPropertyValue(tl, [rule].property) &lt;= [rule].threshold) OR \n    ([rule].operator = 'EQUAL' AND GetRecordPropertyValue(tl, [rule].property) = [rule].threshold) OR\n    ([rule].operator = 'LESS' AND GetRecordPropertyValue(tl, [rule].property) &lt; [rule].threshold) OR \n    ([rule].operator = 'GREATER' AND GetRecordPropertyValue(tl, [rule].property) &gt; [rule].threshold)\n)\n</code></pre>\n<p>But now, I need to configure rule which satisfies multiple conditions. I have tried few ways but not able to make it dynamic. <br/>\nI have tried to use custom UDF function in WHERE condition of query to dynamically generate query. But unfortunately that is also not supported. (Please correct me if I am wrong).</p>\n<p>For example my new reference/rule data is:</p>\n<pre><code>{\n    &quot;rule_id&quot;: 1233,\n    &quot;device_id&quot;: &quot;xyz&quot;,\n    &quot;alert_message&quot;: &quot;Temperature above 93 \u00b0C &amp; Pressure beyond range (50-100)&quot;,\n    &quot;conditions&quot;: [\n        {\n            &quot;property&quot;: &quot;Temperature&quot;,\n            &quot;operator&quot;: &quot;GREATEROREQUAL&quot;,\n            &quot;threshold&quot;: 93\n        },\n        &quot;AND&quot;,\n        [\n            {\n                &quot;property&quot;: &quot;Pressure&quot;,\n                &quot;operator&quot;: &quot;LESSOREQUAL&quot;,\n                &quot;threshold&quot;: 50\n            },\n            &quot;OR&quot;,\n            {\n                &quot;property&quot;: &quot;Pressure&quot;,\n                &quot;operator&quot;: &quot;GREATEROREQUAL&quot;,\n                &quot;threshold&quot;: 100\n            }\n        ]\n    ]\n}\n</code></pre>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": true,
        "view_count": 1375,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1618312808,
        "creation_date": 1571904354,
        "last_edit_date": 1571906302,
        "question_id": 58536874,
        "link": "https://stackoverflow.com/questions/58536874/does-thingsboard-store-telemetry-data-into-database-by-default",
        "title": "Does Thingsboard store telemetry data into database by default?",
        "body": "<p>I'm studying the ThingsBoard IoT platform and what's not clear to me is:</p>\n\n<p>does ThingsBoard store <strong>by default</strong> its telemetry data into the configured database (Postgres or Cassandra) ?</p>\n\n<p>I can also put the question in another way: when I view telemetry data from device's dashboard, where do those data come from?</p>\n\n<p><br></p>\n\n<p>What I understood is that the <strong>default</strong> data flow is:</p>\n\n<p>device > transport layer (mqtt, http) > Kafka</p>\n\n<p>so I think you must create an appropriate rule into the rule engine if you want to further save your telemetry data into your database, but I'm not sure about this, please correct me if i'm wrong.</p>\n\n<p>Thank you all</p>\n"
    }, {
        "tags": ["websocket", "tcp", "iot", "tcpclient", "iomt"],
        "is_answered": false,
        "view_count": 18,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1617108657,
        "creation_date": 1617108657,
        "question_id": 66871298,
        "link": "https://stackoverflow.com/questions/66871298/for-an-iot-device-what-is-the-mechanism-by-which-a-simultaneous-multiple-output",
        "title": "For an IoT device what is the mechanism by which a simultaneous multiple output connections from the IoT device can occur",
        "body": "<p>I realize with, for example, a web site and thus it's web server, multiple clients can connect to the server and through port mappings from the TCP and the clients remote IP:ports.</p>\n<p>An abstraction of this type of <a href=\"https://stackoverflow.com/questions/16952625/how-can-a-web-server-handle-multiple-users-incoming-requests-at-a-time-on-a-sin\">explanation is found here.</a></p>\n<p>However, what I am asking is what if &quot;I the server/chipset wifi abstraction&quot; from the IoT device need to send out multiple outputs from the device source. Almost like the reverse.</p>\n<p>Say I want to send data to multiple endpoints from that device can I do that in a simultaneous and in realtime?</p>\n<p>I did read that people do use Kafka or perhaps Azure Event Hub and use the single source of data collection to then proceed downstream to various client connectors and this may be the proper and best solution. But I do wonder is that realtime and does that have an effect over a raw websocket or perhaps an HL7 direct connection? And still bifurcating data in at least 2 or 3 directions should, one would think, be able to be handled by the device's hardware/firmware setup.</p>\n"
    }, {
        "tags": ["gps", "iot", "grafana", "cratedb"],
        "is_answered": true,
        "view_count": 48,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1616994448,
        "creation_date": 1616989464,
        "question_id": 66848511,
        "link": "https://stackoverflow.com/questions/66848511/fiware-gps-data-on-cratedb-and-visualization-on-grafana",
        "title": "FIWARE: GPS DATA ON CrateDB AND VISUALIZATION ON GRAFANA",
        "body": "<p>Actually, I am experimenting with FIWARE and IoT systems and I need to visualize on Grafana the localization of a specific device using a GPS. All data that GPS sends to Orion Context Broker (OCB) is latitude, longitude, altitude and they are in Cayenne LPP Format. My DataBase is based on CrateDB and QuantumLeap allows me to subscribe to changes in the OCB and copy them to the database</p>\n<p><a href=\"https://i.stack.imgur.com/SzbW4.jpg\" rel=\"nofollow noreferrer\">The request from Insomnia is here</a></p>\n<p>For the beginning, I used the following post to subscribe the IoT LoRaWan Agent to the platform that supports this protocol (The Things Network Or ChirpStack)</p>\n<p>After the subscription, the system automatically generates a table with data type float and only works with The Things Network, the problem is as soon as I add a second GPS device it is of type &quot;String&quot; instead of being of type &quot;Object&quot; so latitude, longitude, and altitude data do not appear.</p>\n<p>Later, I used the data type &quot;geo: point&quot; instead of &quot;float&quot; and it is possible to record GPS data in CrateDB, because it is 2D location but the data is stored in String and Grafana cannot use this type of data Does anyone know what can be the ideal configuration?</p>\n<p><em>Note: CrateDB don't support 3D geolocalization just 2D geolocalization</em></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 244,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1616682412,
        "creation_date": 1548500004,
        "question_id": 54377684,
        "link": "https://stackoverflow.com/questions/54377684/iot-device-sends-information-as-telemetry-and-twins-what-is-the-difference-betw",
        "title": "IoT device sends information as telemetry and twins. What is the difference between then which has to be when?",
        "body": "<p>I have a confusion here, IoT devices sends data in the form of telemetry and the same would be done through configuring device twins(might be I am wrong. But as I don't have clarity over this I am asking questions). Then, in what scenarios do we prefer to use configuring device twins over sending telemetry.</p>\n"
    }, {
        "tags": ["message-queue", "iot", "thingsboard"],
        "is_answered": false,
        "view_count": 49,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1615243658,
        "creation_date": 1615170991,
        "question_id": 66523666,
        "link": "https://stackoverflow.com/questions/66523666/how-to-make-a-queue-for-handling-delayed-iot-data",
        "title": "How to make a queue for handling delayed IoT data?",
        "body": "<p>My rule chain analytics is state-based, which means the calculation depends on the value of the previous data.</p>\n<p>Let say the device generate data every second, so for 5 second there are 5 data from t=0 to t=4 (t=0, t=1, t=2, t=3, and t=4). In an ideal situation, first, the device will send the t=0 data and then Thingsboard will receive it. Next, the device will send the t=1 data and then Thingsboard will receive it. Next, the device will send the t=2 data and then Thingsboard will receive it. Therefore, Thingsboard will receive the data in chronological order based on the t value.</p>\n<p>But due to the network issue, I faced a problem. Let say Thingsboard gets the t=3 data for now, but due to the network issue, the t=1 data just arrive exactly after the t=3 data. The t=1 should be sent and be received earlier than the t=3 data but it can happen because of a lost network connection. So the order of the data coming to the Thingsboard rule chain is broken.</p>\n<p>So I think that I need to implement a queue to collect all the data first and sort it based on the timestamp before publishing it to Thingsboard. Let say the maximum delay between the device timestamp and the server timestamp is 15 minutes. So I need to make a queue for 15 minutes first before publishing it to thingsboard.</p>\n<p>But how do I implement that queue? Or my idea is not the best solution?</p>\n"
    }, {
        "tags": ["iot", "onem2m"],
        "is_answered": true,
        "view_count": 39,
        "favorite_count": 1,
        "closed_date": 1614013644,
        "score": 0,
        "last_activity_date": 1614028886,
        "creation_date": 1613979017,
        "last_edit_date": 1614028886,
        "question_id": 66311590,
        "link": "https://stackoverflow.com/questions/66311590/can-there-be-duplicate-telemetry-data-in-a-onem2m-system",
        "title": "Can there be duplicate telemetry data in a oneM2M system",
        "body": "<p>I am using <strong>OM2M (Eclipse)</strong> implementation of <strong>OneM2M</strong> standard. Here, they are generating a Content Instance for each telemetry data, and they use a random number to generate it's ID. Now , let's say for some reason, the device sends same telemetry data twice, then in that case, we will have duplicate entries for this telemetry data since we create a random ID of content instance.</p>\n<p>There are two possibilities -</p>\n<ol>\n<li>I can use the telemetry timestamp to generate the ID for content\ninstance. So that there won't be any duplicate entries.</li>\n<li>I do nothing and store the duplicate entries, so that we can later analyze the data and capture this anomaly. And change the device configurations accordingly.</li>\n</ol>\n<p>Which of the two options is possible using oneM2M?</p>\n<p>And how does oneM2M support time-series data streams?</p>\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["mqtt", "iot", "node-red"],
        "is_answered": false,
        "view_count": 37,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1612788298,
        "creation_date": 1612787050,
        "last_edit_date": 1612788298,
        "question_id": 66101589,
        "link": "https://stackoverflow.com/questions/66101589/trying-to-debug-the-request-sent-form-nodered-project-to-myqtthub",
        "title": "Trying to debug the request sent form NodeRed project to myqtthub",
        "body": "<p>It's my first time using node red and I'm trying to post a message to myqtthub and it's working fine. I'm trying to find a way to see the details of the request sent from node red to the mqtt broker. What I want to see is something like this:</p>\n<pre><code>{\n  &quot;protocol&quot;:&quot;ws&quot;,\n  &quot;slashes&quot;:true,\n  &quot;auth&quot;:null,\n  &quot;host&quot;:&quot;node02.myqtthub.com&quot;,\n  &quot;port&quot;:1883,\n  &quot;hostname&quot;:&quot;node02.myqtthub.com&quot;,\n  &quot;hash&quot;:null,\n  &quot;search&quot;:&quot;&quot;,\n  &quot;query&quot;:{},\n  &quot;pathname&quot;:null,\n  &quot;path&quot;:&quot;/&quot;,\n  &quot;href&quot;:&quot;mqtt://node02.myqtthub.com&quot;,\n  &quot;clientId&quot;:&quot;idbj'&quot;,\n  &quot;username&quot;:&quot;dddd&quot;,\n  &quot;password&quot;:&quot;Qpasswwqordv&quot;,\n  &quot;defaultProtocol&quot;:&quot;ws&quot;,\n  &quot;keepalive&quot;:60,\n  &quot;reschedulePings&quot;:true,\n  &quot;protocolId&quot;:&quot;MQTT&quot;,\n  &quot;protocolVersion&quot;:4,\n  &quot;reconnectPeriod&quot;:1000,\n  &quot;connectTimeout&quot;:30000,\n  &quot;clean&quot;:true,\n  &quot;resubscribe&quot;:true,\n  &quot;wsOptions&quot;:{},\n  &quot;objectMode&quot;:false\n}\n</code></pre>\n<p>This JSON object is provided from another project and I want to be able to see such Object for my request sent from this project.</p>\n"
    }, {
        "tags": ["ftp", "sftp", "iot", "onem2m"],
        "is_answered": true,
        "view_count": 31,
        "favorite_count": 0,
        "closed_date": 1612212248,
        "score": 0,
        "last_activity_date": 1611441056,
        "creation_date": 1611434444,
        "question_id": 65864162,
        "link": "https://stackoverflow.com/questions/65864162/onem2m-ipe-that-periodically-fetches-device-data-from-ftp-server",
        "title": "OneM2M: IPE that periodically fetches device data from FTP server",
        "body": "<p>I have a device that sends data to a FTP server. In oneM2M, I want to implement an IPE to access this data and send it to MN-CSE.</p>\n<p>I am thinking of periodically (say every 5 minutes) requesting the FTP server and fetching the data to the IPE which further processes and sends this data to MN-CSE. I just wanted to confirm if the approach is fine or are there any better ways to achieve this?</p>\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["iot", "heartbeat"],
        "is_answered": false,
        "view_count": 16,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1610265022,
        "creation_date": 1610265022,
        "question_id": 65651115,
        "link": "https://stackoverflow.com/questions/65651115/effeciently-detect-if-heartbeat-not-recieved-and-fire-an-event",
        "title": "Effeciently detect if heartbeat not recieved (and fire an event)",
        "body": "<p>I have devices which send heartbeats every 15 seconds. I am wondering what are good approaches to being able to detect every 15 seconds.</p>\n<p>One naive approach I can think of is, we know all our machine and their machineIds. We create a set and every time we receive a heartbeat (containing the machine Id) and we remove it from the set. After 30 seconds (nyquist) we check the set and any remaining machine Ids tell us what machines didn't send a heartbeat. Any better approaches than this?</p>\n<p>Thanks</p>\n"
    }, {
        "tags": ["iot", "mongoose-os"],
        "is_answered": false,
        "view_count": 15,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1609991966,
        "creation_date": 1609991966,
        "question_id": 65606432,
        "link": "https://stackoverflow.com/questions/65606432/how-can-i-retrieve-the-returned-value-of-a-timer-id-using-the-timer-set-js-tim",
        "title": "How can I retrieve the returned value of a timer ID using the Timer.set() js timer in Mongoose OS?",
        "body": "<p>Using the Mongoose OS JS API for Timers (<a href=\"https://mongoose-os.com/docs/mongoose-os/api/core/mgos_timers.h.md\" rel=\"nofollow noreferrer\">https://mongoose-os.com/docs/mongoose-os/api/core/mgos_timers.h.md</a>) I am unable to work out how to get the returned value of the timer ID, so I can use it in Timer.del().</p>\n<p>Below is my snippet of code that fires a timer when an MQTT message arrives and ideally cancels the timer on another received message. As you can see I have put in the variable <em>timer</em> instead of null, and have tried using it to call Timer.del().</p>\n<p>I have tried to define the timer variable in the global scope, but that hasn't worked. I have also tried to use &quot;return timer&quot; etc.</p>\n<p>Can someone please help me with this?</p>\n<pre><code>// Interrupt cycle\nMQTT.sub('cp/interrupt', function(conn, topic, msg) {\n    let status = JSON.parse(msg);\n    if (status === 1) {\n        Timer.del(timer)\n        GPIO.blink(12, 0, 0);\n        let relreturn = JSON.stringify('interrupt cycle off');\n        MQTT.pub(&quot;cp/tp1&quot;, relreturn);\n    } else if (status === 0) {\n        Timer.set(1000, Timer.REPEAT, function() {\n            let relreturn = JSON.stringify(ADC.read(0));\n            MQTT.pub(&quot;cp/tp1&quot;, relreturn);\n        }, timer);\n        GPIO.blink(12, 12000, 3000);\n        let relreturn = JSON.stringify('interrupt cycle on');\n        MQTT.pub(&quot;cp/tp1&quot;, relreturn);\n        print('Relay 4 is ON (', msg, ')');\n    }\n    return true;\n});\n</code></pre>\n"
    }, {
        "tags": ["amazon-web-services", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 20,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1606988719,
        "creation_date": 1606988719,
        "question_id": 65123431,
        "link": "https://stackoverflow.com/questions/65123431/where-to-start-to-ingest-data-using-aws-iot-components",
        "title": "Where to start to ingest data using AWS IoT * components?",
        "body": "<p>I've read a lot of documentation on AWS about every IoT services but I'm still lost at knowing where to start.</p>\n<p>I've IoT devices which I can configure by myself and I don't want them to be managed by AWS however I'd like to provide endpoints for HTTP/S and MQTT protocol to ingest data.</p>\n<p>Ingested data should be available so I can use them in a custom app for exploration.</p>\n<p>I'd also like to be able to programaticaly set up rules to trigger actions on certains threshold for example (similarly to cloudwatch).</p>\n<p>What would be the best fitted AWS service(s) for such use case?</p>\n"
    }, {
        "tags": ["python", "mysql", "iot", "pubnub"],
        "is_answered": false,
        "view_count": 81,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1606513412,
        "creation_date": 1606396680,
        "question_id": 65022863,
        "link": "https://stackoverflow.com/questions/65022863/storing-pubnub-data-in-mysql",
        "title": "Storing Pubnub data in mysql",
        "body": "<p>Concept:</p>\n<p>Sending GPS data and proximity data over a pubnub channel to store them in a mysql database to then monitor the database content with grafana.</p>\n<p>Current situation:</p>\n<p>We have 2 people publishing data over a pubnub channel named 'frameData', one sending the GPS data and the other sending the proximity data. The echo gives the correct parameters, however they don't get published to the database. Can anyone help solving this problem?</p>\n<p>Code:</p>\n<pre><code>import os\nimport time\nimport sys\nimport datetime\n \nimport MySQLdb\n \nfrom pubnub.enums import PNStatusCategory\nfrom pubnub.callbacks import SubscribeCallback\nfrom pubnub.pnconfiguration import PNConfiguration\nfrom pubnub.pubnub import PubNub\n \n\n# removed the pub and sub key for the purpose of asking this question\npnconfig = PNConfiguration()\npnconfig.publish_key = &quot;pub-c-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;\npnconfig.subscribe_key = &quot;sub-c-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;\npubnub = PubNub(pnconfig)\n \nCHANNEL = &quot;frameData&quot;\n \ndatabase = MySQLdb.connect(host=&quot;localhost&quot;, user=&quot;pi&quot;, passwd=&quot;raspberry&quot;,db=&quot;IoTProject&quot;)\ncursor = database.cursor()\n \nFrameID = 1\nSerieNummer = &quot;000001&quot;\nLongitude = &quot;&quot;\nLatitude = &quot;&quot;\nisGeladen = &quot;&quot;\nDatum=datetime.datetime.now()\n \nclass MySubscribeCallbackITF(SubscribeCallback):\n    def message (self, pubnub, message):\n \n        if type(message.message) is list:\n \n            Latitude = message.message[0].lstrip(&quot;u&quot;)\n            Longitude = message.message[1].lstrip(&quot;u&quot;)\n            print(Latitude)\n            print(Longitude)\n            return(Latitude,Longitude)\n \n        elif type(message.message) is not  list:\n \n            isGeladen = message.message\n            print(isGeladen)\n            return(isGeladen)\n\n        else:\n \n            print(&quot;No data available&quot;)\n \n\n    def presence(self, pubnub, event):\n            print(&quot;[PRESENCE: {\u200b\u200b\u200b\u200b}\u200b\u200b\u200b\u200b]&quot;.format(event.event))\n            print(&quot;uuid: {\u200b\u200b\u200b\u200b}\u200b\u200b\u200b\u200b, channel: {\u200b\u200b\u200b\u200b}\u200b\u200b\u200b\u200b&quot;.format(event.uuid, event.channel))\n \n    def status(self, pubnub, event):\n            if event.category == PNStatusCategory.PNConnectedCategory:\n                    print(&quot;[STATUS: PNConnectedCategory]&quot;)\n                    print(&quot;connected to channels: &quot; + CHANNEL)\n \n\ncursor.execute(&quot;INSERT INTO IoTProject(FrameID,SerieNummer,isGeladen,Longitude,Latitude,Datum) VALUES(%s, %s, %s, %s, %s, %s)&quot;,(FrameID,SerieNummer,isGeladen,Longitude,Latitude,Datum))\ndatabase.commit()\n \nprint('Listening...')\n \npubnub.add_listener(MySubscribeCallbackITF())\npubnub.subscribe().channels(CHANNEL).execute()\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/NstOH.jpg\" rel=\"nofollow noreferrer\">Data that gets placed in the database so far.</a></p>\n"
    }, {
        "tags": ["node.js", "parsing", "iot", "accelerometer"],
        "is_answered": false,
        "view_count": 90,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1606033537,
        "creation_date": 1605954308,
        "last_edit_date": 1606033537,
        "question_id": 64942020,
        "link": "https://stackoverflow.com/questions/64942020/how-to-retrieve-human-readable-data-from-mma8451-accelerometer-using-nodejs",
        "title": "How to retrieve human readable data from MMA8451 accelerometer using nodejs",
        "body": "<p>I receive via serial port data from an accelerometer module MMA8451.\nI'm using nodejs to capture data from serial and do the parsing work.\nThe payload I get seems to be an hex</p>\n<pre><code>d40 14fc 88c0\n540 800 c8c0\n840 340 20c0\nb0fc c80 d8c0\n200 700 68c0\n800 480 acc0\n100 c0 c0c0\n</code></pre>\n<p>Which I suppose are the three axis values\nIf I simply try to convert in binary and the decimal using hex2bin and parseint I get values that are ranging from 0 to 256 but they don't make sense.</p>\n<pre><code>XYZ 248 16 184\nXYZ 252 64 192\nXYZ 128 64 192\nXYZ 0 192 192\nXYZ 252 64 192\nXYZ 0 192 192\nXYZ 64 0 192\nXYZ 0 128 192\nXYZ 128 64 192\nXYZ 0 0 192\n</code></pre>\n<p>How I can get human readable values from this data?</p>\n<p><strong>UPDATE:</strong></p>\n<p>As NikaTheEngineer pointed out I've looked at the accelerometer datasheet <a href=\"https://www.nxp.com/docs/en/data-sheet/MMA8451Q.pdf\" rel=\"nofollow noreferrer\">https://www.nxp.com/docs/en/data-sheet/MMA8451Q.pdf</a> (see chapter 5.2) and the data I'm receiving seems to be the raw data from those registers OUT_X_MSB, OUT_X_LSB, OUT_Y_MSB, OUT_Y_LSB, OUT_Z_MSB</p>\n<p>Those are 14bit so this imply some sort of data manipulation with by bites shift am I correct?</p>\n<p>If I print the stream directly from the serialport (removing the hex conversion) I receive this kind of payload</p>\n<pre><code>&lt;Buffer 65 33 38 30 20 36 38 66 63 20 34 38 30 20 61 38 63 30 20 31 30 38 33 0d 0a 65 33 38 30 20 37 34 66 63 20 39 38 30 20 61 38 63 30 20 31 30 38 34 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 38 66 63 20 35 63 30 20 37 30 63 30 20 31 30 38 35 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 61 63 66 63 20 63 34 30 20 63 38 63 30 20 31 30 38 36 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 37 30 66 63 20 37 38 30 20 37 30 63 30 20 31 30 38 37 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 36 30 66 63 20 36 38 66 63 20 66 34 63 30 20 31 30 38 38 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 63 38 66 63 20 61 30 30 20 37 30 63 30&gt;\n&lt;Buffer 20 31 30 38 39 0d 0a 65 33 38 30 20 30 66 63 20 37 38 30 20 62 63 63 30 20 31 30 39 30 0d 0a 65 33 38 30 20 37 34 66 63 20 34 30 30 20 61 38 63 30 20 ... 6 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 35 30 66 63 20 34 63 30 20 35 38 63 30 20 31 30 39 32 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 38 63 66 63 20 37 38 30 20 37 38 63 30 20 31 30 39 33 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 36 30 66 63 20 38 30 30 20 62 30 63 30 20 31 30 39 34 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 32 38 66 63 20 33 30 30 20 37 38 63 30 20 31 30 39 35 0d 0a 65 33 38 30 20 64 38 66 63 20 37 30 30 20 37 30 63 30 20 31 30 39 36 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 34 30 66 63 20 61 30 30 20 64 30 63 30 20 31 30 39 37 0d 0a 65 33 38 30 20 39 63 66 63 20 37 38 30 20 37 30 63 30 20 31 30 39 38 0d 0a ... 25 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 62 63 66 63 20 36 34 30 20 39 38 63 30&gt;\n&lt;Buffer 20 31 31 30 30 0d 0a 65 33 38 30 20 34 38 66 63 20 36 38 30 20 38 30 63 30 20 31 31 30 31 0d 0a 65 33 38 30 20 34 66 63 20 32 63 30 20 61 30 63 30 20 ... 6 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 34 38 66 63 20 37 38 30 20 36 38 63 30 20 31 31 30 33 0d 0a 65 33 38 30 20 32 38 66 63 20 61 30 30 20 61 30 63 30 20 31 31 30 34 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 35 30 66 63 20 39 38 30 20 38 30 63 30 20 31 31 30 35 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 36 34 66 63 20 31 63 30 20 37 30 63 30 20 31 31 30 36 0d 0a 65 33 38 30 20 33 30 66 63 20 38 38 30 20 61 30 63 30 20 31 31 30 37 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 38 66 63 20 62 38 30 20 35 34 63 30 20 31 31 30 38 0d 0a 65 33 38 30 20 64 34 66 63 20 63 30 30 20 64 30 63 30 20 31 31 30 39 0d 0a 65 ... 48 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 66 38 66 63 20 37 38 30 20 34 34 63 30 20 31 31 31 32 0d 0a 65 33 38 30 20 31 30 66 63 20 38 30 30 20 38 38 63 30 20 31 31 31 33 0d 0a ... 49 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 66 30 66 63 20 35 30 30 20 38 38 63 30 20 31 31 31 36 0d 0a 65 33 38 30 20 34 38 66 63 20 34 34 30 20 61 38 63 30 20 31 31 31 37 0d 0a ... 25 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 32 38 66 63 20 38 63 30 20 62 38 63 30 20 31 31 31 39 0d 0a 65 33 38 30 20 32 38 66 63 20 36 38 30 20 39 30 63 30 20 31 31 32 30 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 65 38 66 63 20 66 38 30 20 32 38 63 30 20 31 31 32 31 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 63 38 66 63 20 39 30 30 20 64 34 63 30 20 31 31 32 32 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 35 34 66 63 20 36 34 30 20 66 38 63 30 20 31 31 32 33 0d 0a 65 33 38 30 20 38 30 66 63 20 37 30 30 20 33 38 63 30 20 31 31 32 34 0d 0a ... 50 more bytes&gt;\n&lt;Buffer 65 33 38 30 20 35 63 66 63 20 32 30 30 20 63 63 63 30 20 31 31 32 37 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 64 38 66 63 20 35 38 30 20 36 30 63 30 20 31 31 32 38 0d 0a 65 33 38 30 20 66 30 66 63 20 38 30 30 20 61 38 63 30 20 31 31 32 39 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 65 30 66 63 20 64 63 30 20 62 30 63&gt;\n&lt;Buffer 30 20 31 31 33 30 0d 0a 65 33 38 30 20 36 30 66 63 20 36 63 30 20 39 38 63 30 20 31 31 33 31 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 33 30 66 63 20 35 30 30 20 36 30 63 30 20 31 31 33 32 0d 0a&gt;\n&lt;Buffer 65 33 38 30 20 62 30 66 63 20 64 30 30 20 63 34 63 30 20 31 31 33 33 0d 0a&gt;\n</code></pre>\n<p>I guess this is the stream of raw data in bytes.</p>\n<p>I suppose the first step is to distinguish every single chunk samples composed by xmsb-xlsb ymsb-ylsb zmsb-zlsb, but at this point I have no idea how to do it, there should be some kind of delimiter?</p>\n<p>I need to work blindly on the buffer just trusting the datastructure pointed in the datasheet?</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion", "lwm2m"],
        "is_answered": false,
        "view_count": 161,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1605797532,
        "creation_date": 1537789501,
        "last_edit_date": 1605797532,
        "question_id": 52478674,
        "link": "https://stackoverflow.com/questions/52478674/device-not-sending-data-to-lwm2m-agent",
        "title": "Device not sending data to LWM2M Agent",
        "body": "<p>I'm having trouble with LWM2M device sending data to the IOT Agent. The device connects to the server successfully.</p>\n<p>However, it seems the device isn't sending data to the IOT Agent, with no helpful tip, sending the command:</p>\n<pre><code>curl --request POST \\\n   --header 'Content-Type: text/plain' \\\n   --header 'Fiware-Service: workshop' \\\n   --header 'Fiware-ServicePath: /' \\\n   --header 'X-Auth-Token: NULL' \\\n   --data 't|30' \\\n   -v \\\n     'http://localhost:4041/iot/d?k=workshop-devices&amp;i=robot1'\n</code></pre>\n<p>It returns the message:</p>\n<pre><code>* About to connect() to localhost port 4041 (#0)\n*   Trying 127.0.0.1...\n* Connected to localhost (127.0.0.1) port 4041 (#0)\n&gt; POST /iot/d?k=workshop-devices&amp;i=robot1 HTTP/1.1\n&gt; User-Agent: curl/7.29.0\n&gt; Host: localhost:4041\n&gt; Accept: */*\n&gt; Content-Type: text/plain\n&gt; Fiware-Service: workshop\n&gt; Fiware-ServicePath: /\n&gt; X-Auth-Token: NULL\n&gt; Content-Length: 4\n&gt; \n* upload completely sent off: 4 out of 4 bytes\n&lt; HTTP/1.1 404 Not Found\n&lt; X-Powered-By: Express\n&lt; Fiware-Correlator: 32da2092-8032-427a-86f2-19ae81a1ab47\n&lt; Content-Security-Policy: default-src 'self'\n&lt; X-Content-Type-Options: nosniff\n&lt; Content-Type: text/html; charset=utf-8\n&lt; Content-Length: 145\n&lt; Date: Mon, 24 Sep 2018 10:30:25 GMT\n&lt; Connection: keep-alive\n&lt;\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;utf-8&quot;&gt;\n&lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;pre&gt;Cannot POST /iot/d&lt;/pre&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n* Connection #0 to host localhost left intact\n</code></pre>\n<p>Not sure if anyone understands what's going here please.</p>\n"
    }, {
        "tags": ["android", "azure", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 1063,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1605546802,
        "creation_date": 1484564248,
        "last_edit_date": 1486834268,
        "question_id": 41674782,
        "link": "https://stackoverflow.com/questions/41674782/android-studio-reading-data-from-azure-iot-hub",
        "title": "Android studio, reading data from Azure IoT Hub",
        "body": "<p>I am using the java android_sample taken from azure-iot-hub\n<a href=\"https://github.com/Azure/azure-iot-sdk-java/tree/95f8f4e80b3ec8b6fbbbc8e577e70d00c01e7a64/device/samples/android-sample\" rel=\"nofollow noreferrer\">android sample</a></p>\n\n<p>Basically i have a Raspberry pi that sends data with a python script to the Azure iot hub.</p>\n\n<p><a href=\"https://i.stack.imgur.com/p1aPb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p1aPb.png\" alt=\"Picture off device explorer(PI data)\"></a></p>\n\n<p>As you can see from the picture, the IoT hub is receiving the data.</p>\n\n<p>In Android studio, as said, I am using the android_sample code.\nI added a button and textview etc... To show the data.</p>\n\n<p>Now, when I go to the \"Messages to Device\" tab and send data everything works. My phone is receiving that data, and displaying it.</p>\n\n<p>The problem is that I want the data from the \"data\" tab. When I start the Pi script, and then the android app, it's not receiving the data that the pi is sending.</p>\n\n<p>When I \"send\" something from the device explorer, it is receiving that data.</p>\n\n<p>if you need some code I will post it, but i'm basically using the example code, just modified a bit.</p>\n"
    }, {
        "tags": ["aws-lambda", "amazon-dynamodb", "iot", "amazon-sns", "aws-iot-core"],
        "is_answered": false,
        "view_count": 40,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1605238795,
        "creation_date": 1605238795,
        "question_id": 64815155,
        "link": "https://stackoverflow.com/questions/64815155/how-to-send-the-amazon-sns-push-notification-only-when-first-time-get-temperatur",
        "title": "How to send the Amazon SNS Push Notification Only when first time get Temperature above required level of tempearture?",
        "body": "<p>I want to send the SNS push notification to my email when temperature goes high above 30 degrees. I have used a IoT Core Rule to send SNS Push. How i do that to send that SNS push only first time when IoT Core receives  temperature value above 30 degrees at hourly basis. other wise if there are multiple values within hour multiple SNS Push will be send. How to solve this issue? I want to send 1 SNS push for 1 hour if Temperature goes high above 30 degrees.</p>\n"
    }, {
        "tags": ["java", "iot", "esper", "event-stream-processing"],
        "is_answered": false,
        "view_count": 49,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1605011728,
        "creation_date": 1564388353,
        "last_edit_date": 1605011728,
        "question_id": 57249740,
        "link": "https://stackoverflow.com/questions/57249740/ordering-event-with-esper-java",
        "title": "Ordering event with Esper java",
        "body": "<p>I'm developing IoT Platform and what i need to do is preserve the events order. \nFor example, Sometimes slow network may causes the problem that previous events reached after newer events. In this case, I need to reorder the events with timestamp before excute some logics.</p>\n\n<p>I think i can use Esper for my project but not sure yet.\nI'm really new to Esper.</p>\n\n<p>So i want to know whether Esper is suitable for my projects.\nAnd Is there any example for ordering events with esper using java? </p>\n\n<p>Thank you.</p>\n"
    }, {
        "tags": ["python", "iot", "amqp", "eclipse-hono"],
        "is_answered": true,
        "view_count": 74,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1604925819,
        "creation_date": 1604583064,
        "question_id": 64698271,
        "link": "https://stackoverflow.com/questions/64698271/difficulty-in-sending-amqp-1-0-message",
        "title": "Difficulty in Sending AMQP 1.0 Message",
        "body": "<p>I am using Eclipse Hono as an IoT Platform which is running locally in my private Kubernetes cluster. I have registered a device to receive commands through MQTT.\nIn Hono it is mandatory to send commands through Qpid Network which uses AMQP 1.0 protocol for sending messages.</p>\n<p>I have a Python code for the purpose of sending msg to my registered device which has subscribed to the specified topic for receiving commands (which the topic is &quot;command/+/+/req/#&quot;):</p>\n<p>here is the code:</p>\n<pre><code>import Tkinter as tkinter\nimport proton\nfrom cli_proton_python import sender\nimport ssl\nimport uuid\nimport json\nfrom proton._reactor import _generate_uuid\n#imports end\n\n\n# mosquitto_sub -v -h 192.168.1.154 -u rover10@rover -P roversecret -t control/+/+/req/#\n\n\n\n#const\nscheme = &quot;amqp://&quot;\nusername = &quot;consumer@HONO&quot;\npassword = &quot;verysecret&quot;\nhostAndPort = &quot;192.168.1.150:15672&quot;\ntenant = &quot;rover&quot;\ndevice = &quot;rover1&quot;\ntopic_to_publish = &quot;command/&quot;+tenant #+&quot;/&quot;+device\nspeed = 380\n\n\ndef sendControlMsg( msg ):\n    print (&quot;sending control msg &quot; + str(msg))\n    parser = sender.options.SenderOptions()\n    opts, _= parser.parse_args()\n        opts.broker_url = scheme + username + &quot;:&quot; + password +&quot;@&quot;+ hostAndPort +&quot;/&quot;+ topic_to_publish\n    opts.msg_id = &quot;0&quot; # will be generated automatically\n    opts.msg_subject = &quot;RoverDriving&quot;\n        opts.msg_content = str(msg)\n    opts.msg_reply_to = &quot;command_response/&quot;+tenant+&quot;/&quot;+str(_generate_uuid())\n    opts.msg_correlation_id = &quot;null&quot;\n    opts.msg_content_type = &quot;application/json&quot;\n    opts.log_lib = &quot;TRANSPORT_DRV&quot;\n#   opts.log_msgs = 'dict'\n    opts.msg_address = &quot;command/&quot;+tenant+&quot;/&quot;+device    \n\n    container = proton.reactor.Container(sender.Send(opts))\n    container.run()\n\n#funcs\n\ndef turn_right():\n    sendControlMsg( &quot;{\\&quot;command\\&quot;:\\&quot;E\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot; )\n    print(&quot;turn right clicked&quot;)\n\ndef turn_right_back():\n    sendControlMsg( &quot;{\\&quot;command\\&quot;:\\&quot;D\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot; )\n    print(&quot;turn right back clicked&quot;)\n\ndef turn_left():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;Q\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;turn left clicked&quot;)\n\ndef turn_left_back():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;A\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;turn left back clicked&quot;)\n\ndef move_forward():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;W\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;move forward clicked&quot;)\n\ndef move_back():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;S\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;move back clicked&quot;)\n\ndef spot_right():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;K\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;move spot right clicked&quot;)\n\ndef spot_left():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;J\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;move spot left clicked&quot;)\n\ndef stop_move():\n    sendControlMsg(&quot;{\\&quot;command\\&quot;:\\&quot;F\\&quot;,\\&quot;speed\\&quot;: &quot;+ str(speed_var.get() + 360) +&quot; }&quot;)\n    print(&quot;Stop clicked&quot;)\n\ndef set_speed(event):\n    speed = speed_var.get() + 360\n    print(&quot;set speed to&quot;, speed)\n     \ndef showPosEvent(event):\n    print(&quot;posevt&quot;)\n     \ndef onArrowUp(event):\n    move_forward() \n    print(&quot;Arrow up&quot;)\n\ndef onArrowDown(event):\n    move_back()\n    print(&quot;Arrow down&quot;)\n\ndef onArrowLeft(event):\n    turn_left()\n    print(&quot;Arrow left&quot;)\n\ndef onArrowRight(event):\n    turn_right()\n    print(&quot;Arrow right&quot;)\n\ndef onSpaceBar(event):\n    stop_move()\n    print(&quot;Spacebar pressed&quot;)\n\n\nif __name__==&quot;__main__&quot;:\n    \n    tkroot = tkinter.Tk()\n    tkroot.title(&quot;Rover Controller&quot;)\n    speed_var = tkinter.DoubleVar() #tkinter.DoubleVar()\n    labelfont = ('arial', 15, 'bold')     \n\n    #Keyboard Input           \n    tkroot.bind('&lt;Up&gt;',onArrowUp)\n    tkroot.bind('&lt;Down&gt;',onArrowDown)\n    tkroot.bind('&lt;Left&gt;',onArrowLeft)\n    tkroot.bind('&lt;Right&gt;',onArrowRight)\n    tkroot.bind('&lt;space&gt;',onSpaceBar)\n    tkroot.focus()\n    #Keyboard Input End\n\n    #Buttons\n    B_right = tkinter.Button(tkroot, text =&quot;&gt;&quot; , command= turn_right)\n    B_right.place(x = 65, y= 25, height=25, width=25)\n   \n    B_right_back = tkinter.Button(tkroot, text =&quot;&gt;&quot; , command= turn_right_back)\n    B_right_back.place(x = 65, y= 55, height=25, width=25)\n\n    B_left  = tkinter.Button(tkroot, text =&quot;&lt;&quot;, command= turn_left)\n    B_left.place(x= 15,y = 25, height=25, width=25)\n\n    B_left_back  = tkinter.Button(tkroot, text =&quot;&lt;&quot;, command= turn_left_back)\n    B_left_back.place(x= 15,y = 55, height=25, width=25)\n\n    B_up = tkinter.Button(tkroot, text =&quot;^&quot;, command= move_forward)\n    B_up.place(x= 40, y = 10 ,  height=25, width=25)\n\n    B_down = tkinter.Button(tkroot, text =&quot;v&quot;, command= move_back)\n    B_down.place(x= 40, y = 70, height=25, width=25)\n\n    B_stop = tkinter.Button(tkroot, text =&quot;Stop&quot;, command= stop_move)\n    B_stop.place(x = 10,y = 160 , height = 30, width=85)\n\n    B_spot_left = tkinter.Button(tkroot, text =&quot;&lt;)&quot;, command= spot_left)\n    B_spot_left.place(x = 100,y = 160 , height = 30, width=35)\n\n    B_spot_right = tkinter.Button(tkroot, text =&quot;&gt;(&quot;, command= spot_right)\n    B_spot_right.place(x = 140,y = 160 , height = 30, width=35)\n\n    speed_label = tkinter.Label(tkroot , text = &quot;Speed&quot;)\n    speed_label.place(x= 10, y = 105, height=50, width=50)\n\n    speed_scale = tkinter.Scale(tkroot, variable = speed_var,orient = tkinter.HORIZONTAL)\n    speed_scale.bind(&quot;&lt;ButtonRelease-1&gt;&quot;, set_speed)\n    speed_scale.place(x= 60, y = 105, height=50, width=85)\n    #Buttons end\n\n    tkroot.mainloop()\n</code></pre>\n<p>when I'm trying to send commands nothing happens at the other side and it does not deliver the msg!\nthen I tried to sniff the packets and it turned out that there is an error in my msg which the broker responses with 'Bad Request' error.</p>\n<p><a href=\"https://i.stack.imgur.com/NcWJ6.png\" rel=\"nofollow noreferrer\">Sniffed packets stream</a></p>\n<p>I'm wondering what's wrong with the message? is it the type or is it missing something!?</p>\n"
    }, {
        "tags": ["web-services", "http", "iot", "platform", "data-collection"],
        "is_answered": true,
        "view_count": 189,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1604812445,
        "creation_date": 1482508512,
        "question_id": 41304406,
        "link": "https://stackoverflow.com/questions/41304406/possibilities-of-an-thingspeak-channel",
        "title": "Possibilities of an ThingSpeak Channel",
        "body": "<p>I am new to ThingSpeak and after a few hours of researching I wonder if it is possible to post pictures or data from various web pages(for example weather data from the google weather api) to a thingspeak channel? </p>\n\n<p>All I found was that I would be able to visualize charts or something like that.\nWhat I wanted to do is to collect data from various webservices(News, weather data, stock market data,..) and summarize them into the 8 channels of ThingSpeak. Is this possible? Or is there an alternative IoT platform I can use to accomplish my goal?</p>\n\n<p>Thank you in advance for your answers and have a nice evening :)</p>\n"
    }, {
        "tags": ["python", "raspberry-pi", "multiprocessing", "iot", "influxdb"],
        "is_answered": false,
        "view_count": 62,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1604166373,
        "creation_date": 1604166373,
        "question_id": 64624746,
        "link": "https://stackoverflow.com/questions/64624746/why-my-multiprocessing-could-pause-for-a-while",
        "title": "Why my multiprocessing could pause for a while?",
        "body": "<p>I'm doing my iot work by using raspberry pi and influxdb.</p>\n<p>I want to collect data and write to influxdb. My pi is 4B, Influxdb version is 1.8.Using python script.\nBy Chronograf, I find that there are breakpoints in the data I write in.</p>\n<p>Like this\uff0cthe sudden polyline is the breakpoints.\n<a href=\"https://i.stack.imgur.com/ImMPC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ImMPC.png\" alt=\"The begin of breakpoints\" /></a>\n<a href=\"https://i.stack.imgur.com/Bkz4g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bkz4g.png\" alt=\"the end of breakpoints\" /></a></p>\n<p>I use multiprocessing with producer and consumer method.</p>\n<p>Producers collect the data, write it in JS format, and put it in queues.</p>\n<p>Consumer make a list and append the queue's data. Send to influxdb when the list's length is 10000.</p>\n<p>I have checked by using logging.info, and find the producer will pause for a while so there will be breakpoints. But I do not know why this could happened?</p>\n<p>Here is the related code:</p>\n<pre><code>def producer(q):\n    while True:\n        timeNow=datetime.utcnow()  \n        adc = spi.transfer(device_0, data_out)\n        val = (adc[1]*256 + adc[2]-412)/512  #read data\n        js = {\n                &quot;measurement&quot;: &quot;mydb&quot;,\n                &quot;time&quot;: timeNow,\n                &quot;tags&quot;: {\n                },\n                &quot;fields&quot;: {\n                    &quot;sensor&quot;: val\n                }\n        }\n        q.put(js) #put in queue\n\ndef consumer(q):\n    body=[]\n    i=0\n    while True:\n        while i&lt;10000:\n            body.append(q.get()) #get js from queue\n            i+=1\n        i=0\n        res = client.write_points(body) #send data\n        body.clear()\n\nif __name__ == &quot;__main__&quot;:\n    q=Queue(maxsize = 10000000) #set queue length\n    device_0 =  spi.openSPI(device=&quot;/dev/spidev0.0&quot;,\n                            mode=0,\n                            speed=1000000) #set spi sampling rate 1000000\n    data_out = (1,128,0)\n    adc=(0,0,0) \n    client = InfluxDBClient(host='localhost', port=8086, username='admin', password='admin', database= 'mydb',ssl=False, verify_ssl=False) #set influxDB\n    p1 = Process(target=producer,args=(q,))\n    c1 = Process(target=consumer,args=(q,))\n    p1.start()  \n    c1.start()\n</code></pre>\n<p>The data volume is about 10k per second. I know my program is rudimentary. I'm new to coding.\u3002</p>\n<p>How could my program improve? How do I solve the breakpoint problem?</p>\n<p>I will appreciate for any useful advice.</p>\n<p>Thanks!</p>\n"
    }, {
        "tags": ["arduino", "iot", "esp32", "lora"],
        "is_answered": false,
        "view_count": 1573,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1603232128,
        "creation_date": 1591546362,
        "last_edit_date": 1591732531,
        "question_id": 62248154,
        "link": "https://stackoverflow.com/questions/62248154/lilygo-ttgo-t-beam-and-lora-problem-on-sending-or-receiving",
        "title": "Lilygo ttgo t-beam and Lora problem on sending or receiving",
        "body": "<p>is it possible to send a lora payload from a T-Beam and receive it from a LoRa32 SX1276 OLED (v2) ? I if follow those two tutorials:\n<a href=\"https://randomnerdtutorials.com/ttgo-lora32-sx1276-arduino-ide/\" rel=\"nofollow noreferrer\">https://randomnerdtutorials.com/ttgo-lora32-sx1276-arduino-ide/</a> or <a href=\"https://randomnerdtutorials.com/esp32-lora-rfm95-transceiver-arduino-ide/\" rel=\"nofollow noreferrer\">https://randomnerdtutorials.com/esp32-lora-rfm95-transceiver-arduino-ide/</a>, i can send and receive without problem from two LoRa32 devices.</p>\n\n<p>But if i let the LoRa32 receiver ON and tries to send from a T-Beam T22V1.0, nothing seems to happen.</p>\n\n<p>T-beam code: (some gps related vars are set but i removed gps code for clarity. GPS does work fine.)</p>\n\n<p>What am i doing wrong ?</p>\n\n<p>(if i am not in the good place for that kind of beginner issue, please tell me and i'll try to find a more suitable place for this..)</p>\n\n<pre><code>#include &lt;TinyGPS++.h&gt;\n#include &lt;axp20x.h&gt;\n#include &lt;SPI.h&gt;\n#include &lt;LoRa.h&gt;\n\n#define SCK     5    // GPIO5  -- SX1278's SCK\n#define MISO    19   // GPIO19 -- SX1278's MISnO\n#define MOSI    27   // GPIO27 -- SX1278's MOSI\n#define SS      18   // GPIO18 -- SX1278's CS\n#define RST     23   // GPIO14 -- SX1278's RESET\n#define DI0     26   // GPIO26 -- SX1278's IRQ(Interrupt Request)\n#define BAND  868E6\n\nTinyGPSPlus gps;\nHardwareSerial GPS(1);\nAXP20X_Class axp;\n\nvoid setup()\n{\n  Serial.begin(115200);\n  Wire.begin(21, 22);\n  if (!axp.begin(Wire, AXP192_SLAVE_ADDRESS)) {\n    Serial.println(\"AXP192 Begin PASS\");\n  } else {\n    Serial.println(\"AXP192 Begin FAIL\");\n  }\n  axp.setPowerOutPut(AXP192_LDO2, AXP202_ON); //lora\n  axp.setPowerOutPut(AXP192_LDO3, AXP202_ON); //gps\n  axp.setPowerOutPut(AXP192_DCDC2, AXP202_ON); \n  axp.setPowerOutPut(AXP192_EXTEN, AXP202_ON);\n  axp.setPowerOutPut(AXP192_DCDC1, AXP202_ON); //oled\n  GPS.begin(9600, SERIAL_8N1, 34, 12);   //17-TX 18-RX\n\n  SPI.begin(SCK,MISO,MOSI,SS);\n  LoRa.setPins(SS,RST,DI0);\n  if (!LoRa.begin(BAND)) {\n    Serial.println(\"Starting LoRa failed!\");\n    while (1);\n  }else{\n    Serial.println(\"Starting LoRa succeed!\");\n  }\n\n  axp.setChgLEDMode(AXP20X_LED_BLINK_1HZ);\n\n}\n\nvoid loop()\n{\n  LoRa.beginPacket();\n  LoRa.print(\"Hello\");  \n  LoRa.endPacket();\n  Serial.println(\"sent..\");\n\n  delay(1000);\n}\n</code></pre>\n\n<p>Thanks :)</p>\n\n<p>[EDIT]</p>\n\n<p>I tried to use <a href=\"https://github.com/Extentsoftware/TBeamPower\" rel=\"nofollow noreferrer\">https://github.com/Extentsoftware/TBeamPower</a>.</p>\n\n<p>Still nothing.\nHere is the code:</p>\n\n<pre><code>\n#include &lt;Arduino.h&gt;\n#include &lt;SPI.h&gt;\n#include &lt;LoRa.h&gt;         // https://github.com/sandeepmistry/arduino-LoRa/blob/master/API.md\n#include \"gps.h\"\n#include \"TBeamPower.h\"\n\nTBeamPower power(PWRSDA, PWRSCL); //21 22\n\nvoid setupSerial() { \n  Serial.println();\n  power.print_wakeup_reason();\n}\n\nvoid setup() {\n\n  Serial.begin(115200);\n  while (!Serial);\n\n  Serial.println(\"Power begin\");\n  power.begin();\n\n  Serial.println(\"All sensors off\");\n  power.power_sensors(false);\n\n  Serial.println(\"All peripherals off\");\n  power.power_peripherals(false);\n\n  Serial.println(\"Powering LoRa\");\n  power.power_LoRa(true);\n\n  SPI.begin(SCK,MISO,MOSI,SS); //5 19 27 18\n  LoRa.setPins(SS,RST,DI0); //18 14 26\n\n  if (!LoRa.begin(BAND)) { //868E6 (France)\n    Serial.println(\"Starting LoRa failed!\");\n    while (1);\n  }else{\n    Serial.println(\"Starting LoRa succeed!\");\n  }\n\n  Serial.println();\n}\n\nvoid loop() {\n  power.led_onoff(true);\n  delay(500);\n  power.led_onoff(false);\n\n  LoRa.beginPacket();\n  LoRa.print(\"hello\");  \n  LoRa.endPacket();\n  Serial.println(\"sent..\");\n  power.print_status();\n  Serial.println();\n  delay(2000);  \n}\n</code></pre>\n\n<p>And here is the output i get</p>\n\n<pre><code>Power begin\nAXP192 Begin PASS\nAll sensors off\nAll peripherals off\nPowering LoRa\nStarting LoRa succeed!\n\nsent..\nVoltages:\n         DCDC1: 3.30v\n         DCDC2: 1.25v\n         DCDC3: 3.30v\n         LDO2: 3.30v\n         LDO3: 2.80v\nChargeCurrent:   0.70A\nIPSOUTVoltage:   3.57v\nTemp:            15.94\u00b0C\nTSTemp:          800.00\nVbusCurrent:     0.00\nVbusVoltage:     0.00\nBattery:\n         Connected: false\n         Charging:  false\n         ChargEN :  true\n         Voltage:   0.00v\n         Inpower:   0.00\n         DischgCur: 0.00\n         ChargeCur: 0.00\n</code></pre>\n\n<p>I even tried to change the antenna.\nI also tried to make the TBeam as receiver, and nothing arrived.</p>\n"
    }, {
        "tags": ["azure", "iot", "azureservicebus", "azure-logic-apps", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 82,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1603068558,
        "creation_date": 1581088398,
        "question_id": 60116179,
        "link": "https://stackoverflow.com/questions/60116179/iot-monitoring-how-to-send-only-one-e-mail-in-a-certain-timeframe-using-logic-a",
        "title": "IoT Monitoring: How to send only one e-mail in a certain timeframe using logic app?",
        "body": "<p>I'm trying to set up an IoT scenario with Azure. \nFor demo purpose I've used this temperature monitoring scenario:\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-monitoring-notifications-with-azure-logic-apps\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-monitoring-notifications-with-azure-logic-apps</a></p>\n\n<ol>\n<li>An IoT device is sending temperature data to IoT Hub</li>\n<li>IoT Hub is routing messages with a temperature > 30 to a service bus</li>\n<li>A logic app is reading that service bus and sends a warning e-mail</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/WK4do.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WK4do.png\" alt=\"Current logic app\"></a></p>\n\n<p>Now I have the problem that the logic app sends an e-mail for every message that exceeds the temperature limit (every message that is in my service bus). So my inbox will be spammed as soon as I heat up my IoT device.</p>\n\n<p>In reality I would only want to receive one e-mail if my IoT Device overheats, then wait a certain time. How would I handle that in my logic app?</p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": false,
        "view_count": 53,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1601149162,
        "creation_date": 1601149162,
        "question_id": 64081819,
        "link": "https://stackoverflow.com/questions/64081819/show-a-custom-list-of-events-in-thingsboard",
        "title": "Show a custom list of events in thingsboard",
        "body": "<p>Inside thingsboard, I have a custom widget that triggers an RPC call on click (with a bunch of parameters from the widget form), that part is working fine.</p>\n<p>What I want is to have a list widget where it shows all those events dynamically.</p>\n<p>I tried using alarms, but the problem is that if an uncleared  alarm already exists the following event will update it, which is not what I am looking for....I want both event 1 and event 2 to show up.</p>\n"
    }, {
        "tags": ["python", "logging", "google-sheets", "iot"],
        "is_answered": false,
        "view_count": 290,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1600687639,
        "creation_date": 1600404857,
        "last_edit_date": 1600424670,
        "question_id": 63949537,
        "link": "https://stackoverflow.com/questions/63949537/how-to-send-data-from-a-serial-device-to-google-sheets-for-data-logging",
        "title": "How to send data from a serial device to Google Sheets for data logging",
        "body": "<p>I am trying to send data from my Esmart MPPT Solar Charge Controller to my raspberry pi which will then be sent to Google Sheets for data logging purposes. I have successfully managed to get the required data from my Solar Charge Controller by using the following library and code that I have found on GitHub.</p>\n<p><a href=\"https://github.com/skagmo/esmart_mppt\" rel=\"nofollow noreferrer\">https://github.com/skagmo/esmart_mppt</a></p>\n<pre><code>#!/usr/bin/python3\n# -*- coding: utf-8 -*-\n\nimport esmart\nimport time\n\ndef handle_data(d):\n    \n    pv_volt = d['pv_volt']\n    bat_volt = d['bat_volt']\n    chg_mode = d['chg_mode']\n    chg_cur = d['chg_cur']\n    load_volt = d['load_volt']\n    load_cur = d['load_cur']\n    load_power = d['load_power']\n    chg_power = d['chg_power']\n    bat_temp = d['bat_temp']\n    int_temp = d['int_temp']\n    soc = d['soc']\n    co2_gram = d['co2_gram']\n    \n    # Correct error in readings\n    d['bat_volt'] *= 1.107\n    d['load_volt'] *= 1.09\n    # Only correct if reading is not zero\n    if d['chg_cur']:\n        d['chg_cur'] += 1.5\n\n    # chg_power uses uncorrected voltage/current, so recalculate\n    actual_power = d['bat_volt']*d['chg_cur']\n\n    print(&quot;PV Voltage: %.1f V&quot; % (d['pv_volt']))\n    print(&quot;Battery: %.1f V&quot; % (d['bat_volt']))\n    print(&quot;Charging (status: %s): %.1f A, %.1f W&quot; % (esmart.DEVICE_MODE[d['chg_mode']], d['chg_cur'], \n    actual_power))\n    print(&quot;Discharging: %.1f V, %.1f A, %.1f W&quot; % (d['load_volt'], d['load_cur'], d['load_power']))\n    print(&quot;Load Voltage: %.1f V&quot; %(d['load_volt']))\n    print(&quot;Load Current: %.1f A&quot; %(d['load_cur']))\n    print(&quot;Charge Power: %.1f W&quot; %(d['chg_power']))\n    print(&quot;Load Power: %.1f W&quot; %(d['load_power']))\n    print(&quot;Battery Temperature: %.1f \u00b0C&quot; %(d['bat_temp']))\n    print(&quot;Internal Temperature: %.1f \u00b0C&quot; %(d['int_temp']))\n    print(&quot;State of Charge: %.1f %%&quot; %(d['soc']))\n    print(&quot;CO2 Reduction: %.1f g&quot; %(d['co2_gram']))\n\ne = esmart.esmart()\ne.open(&quot;/dev/ttyUSB0&quot;)\ne.set_callback(handle_data)\n\nwhile 1:\n    e.tick()\n    time.sleep(0.001)\n\n\n</code></pre>\n<p>The output of the code:</p>\n<pre><code>PV Voltage: 0.1 V\nBattery: 13.6 V\nCharging (status: IDLE): 0.0 A, 0.0 W\nDischarging: 0.0 V, 0.0 A, 0.0 W\nLoad Voltage: 0.0 V\nLoad Current: 0.0 A\nCharge Power: 0.0 W\nLoad Power: 0.0 W\nBattery Temperature: 0.0 \u00b0C\nInternal Temperature: 32.0 \u00b0C\nState of Charge: 68.0 %\nCO2 Reduction: 0.0 g\n\n</code></pre>\n<p>This is the code that I use to send data from my sensors to Google Sheets:</p>\n<pre><code>#import libraries\nfrom __future__ import print_function  \nfrom googleapiclient.discovery import build  \nfrom httplib2 import Http  \nfrom oauth2client import file, client, tools  \nfrom oauth2client.service_account import ServiceAccountCredentials  \nimport datetime\nimport RPi.GPIO as GPIO,time\nimport Adafruit_DHT\n\n\n&quot;&quot;&quot;acquire spreadsheet ID at the URL of the spreadsheet\nwhich are enclosed in *//* e.g https://docs.google.com\n/spreadsheets/d/1KqWlsVCJgGjLFb7YKfrOnqHpl3n3BWGblOXsV22IGOQ/\nedit#gid=0&quot;&quot;&quot;\n\n#declaring spreadsheet ID\nMY_SPREADSHEET_ID = '1KqWlsVCJgGjLFb7YKfrOnqHpl3n3BWGblOXsV22IGOQ'\n\n#defining update_sheet function\ndef update_sheet(sheetname, humidity1, temperature1, humidity2, temperature2, humidity3, temperature3):\n    \n    \n    &quot;&quot;&quot;acquire .json file from setting up credentials by following\n    this tutorial: https://gspread.readthedocs.io/en/latest/oauth2.html#service-account&quot;&quot;&quot;\n    \n    #authentication \n    SCOPES = 'https://www.googleapis.com/auth/spreadsheets',\n    'https://www.googleapis.com/auth/drive'\n    \n    &quot;&quot;&quot;for the next line of code, enter the path of the file where the .json file was acquired from the above linked\n       tutorial e.g /home/pi/gspread/Hydroponics-0b1b25110de8.json *note: the .json file\n       can be placed anywhere as long as the path is declared as shown below*&quot;&quot;&quot;\n    \n    creds = ServiceAccountCredentials.from_json_keyfile_name('/home/pi/hydroponicsmonitoring/Hydroponics-0b1b25110de8.json',SCOPES)\n    \n    #authorization\n    service = build('sheets','v4', http=creds.authorize(Http()))\n    \n    #call the sheets API, append the next row of sensor data\n    &quot;&quot;&quot;values&quot; is the array of rows that we are updating, it is a single row&quot;&quot;&quot;\n    \n    values = [[ str(datetime.datetime.now()), 'Humidity at Level 1', humidity1, 'Temperature at Level 1', temperature1,\n                'Humidity at Level 2', humidity2, 'Temperature at Level 2', temperature2,\n                'Humidity at Level 3', humidity3, 'Temperature at Level 3', temperature3]]\n    body = {'values':values}\n    \n    result = service.spreadsheets().values().append(\n        spreadsheetId=MY_SPREADSHEET_ID,\n        range=sheetname + '!A1:G1',\n        valueInputOption='USER_ENTERED',\n        insertDataOption='INSERT_ROWS',\n        body=body).execute()\n   \ndef humidtemp1():\n    humidity1, temperature1 = Adafruit_DHT.read_retry(Adafruit_DHT.DHT22,4)\n    return ((humidity1),(temperature1))\n\nhumidity1, temperature1 = humidtemp1()\nprint ('Humidity at Level 1: %.2f %%rH' % humidity1)\nprint ('Temperature at Level 1: %.2f Celcius' % temperature1)\n\ndef humidtemp2():\n    humidity2, temperature2 = Adafruit_DHT.read_retry(Adafruit_DHT.DHT22,26)\n    return ((humidity2),(temperature2))\n\nhumidity2, temperature2 = humidtemp2()\nprint ('Humidity at Level 2: %.2f %%rH' % humidity2)\nprint ('Temperature at Level 2: %.2f Celcius' % temperature2)\n\ndef humidtemp3():\n    humidity3, temperature3 = Adafruit_DHT.read_retry(Adafruit_DHT.DHT22,19)\n    return ((humidity2),(temperature2))\n\nhumidity3, temperature3 = humidtemp3()\nprint ('Humidity at Level 3: %.2f %%rH' % humidity3)\nprint ('Temperature at Level 3: %.2f Celcius' % temperature3)\n\nupdate_sheet(&quot;Sheet1&quot;, humidity1, temperature1, humidity2, temperature2, humidity3, temperature3)\ntime.sleep(0.5)\n</code></pre>\n<p>However, when i try to integrate the code above with the code I use for Google Sheets data logging I get an error that I don't know how to resolve.</p>\n<pre><code>#import libraries\n#!/usr/bin/python3\n# -*- coding: utf-8 -*-\nfrom __future__ import print_function  \nfrom googleapiclient.discovery import build  \nfrom httplib2 import Http  \nfrom oauth2client import file, client, tools  \nfrom oauth2client.service_account import ServiceAccountCredentials  \nimport datetime\nimport RPi.GPIO as GPIO,time\nimport Adafruit_DHT\nimport struct, time, serial, socket, requests\nimport json\n#library for the MPPT Solar Charge Controller that was found on GitHub\nimport esmart\n\n\n&quot;&quot;&quot;acquire spreadsheet ID at the URL of the spreadsheet\nwhich are enclosed in *//* e.g https://docs.google.com\n/spreadsheets/d/1KqWlsVCJgGjLFb7YKfrOnqHpl3n3BWGblOXsV22IGOQ/\nedit#gid=0&quot;&quot;&quot;\n\n#declaring spreadsheet ID\nMY_SPREADSHEET_ID = '1KqWlsVCJgGjLFb7YKfrOnqHpl3n3BWGblOXsV22IGOQ'\n\n\n\n#defining update_sheet function\ndef update_sheet(sheetname, pv_volt):\n    \n    \n    &quot;&quot;&quot;acquire .json file from setting up credentials by following\n    this tutorial: https://gspread.readthedocs.io/en/latest/oauth2.html#service-account&quot;&quot;&quot;\n    \n    #authentication \n    SCOPES = 'https://www.googleapis.com/auth/spreadsheets',\n    'https://www.googleapis.com/auth/drive'\n    \n    &quot;&quot;&quot;for the next line of code, enter the path of the file where the .json file was acquired from the above linked\n       tutorial e.g /home/pi/gspread/Hydroponics-0b1b25110de8.json *note: the .json file\n       can be placed anywhere as long as the path is declared as shown below*&quot;&quot;&quot;\n    \n    creds = ServiceAccountCredentials.from_json_keyfile_name('/home/pi/hydroponicsmonitoring/Hydroponics-0b1b25110de8.json',SCOPES)\n    \n    #authorization\n    service = build('sheets','v4', http=creds.authorize(Http()))\n    \n    #call the sheets API, append the next row of sensor data\n    &quot;&quot;&quot;values&quot; is the array of rows that we are updating, it is a single row&quot;&quot;&quot;\n    \n    values = [[ str(datetime.datetime.now()), 'PV Voltage', pv_volt]]\n    \n    body = {'values':values}\n    \n    result = service.spreadsheets().values().append(\n        spreadsheetId=MY_SPREADSHEET_ID,\n        range=sheetname + '!A1:G1',\n        valueInputOption='USER_ENTERED',\n        insertDataOption='INSERT_ROWS',\n        body=body).execute()\n\n  \nSTATE_START = 0\nSTATE_DATA = 1\n\nREQUEST_MSG0 = b&quot;\\xaa\\x01\\x01\\x01\\x00\\x03\\x00\\x00\\x1e\\x32&quot;\nLOAD_OFF = b&quot;\\xaa\\x01\\x01\\x02\\x04\\x04\\x01\\x00\\xfe\\x13\\x38&quot;\nLOAD_ON = b&quot;\\xaa\\x01\\x01\\x02\\x04\\x04\\x01\\x00\\xfd\\x13\\x39&quot;\n\nDEVICE_MODE = [&quot;IDLE&quot;, &quot;CC&quot;, &quot;CV&quot;, &quot;FLOAT&quot;, &quot;STARTING&quot;]\n\n\n\ndef __init__(self):\n    self.state = STATE_START\n    self.data = []\n    self.callback = False\n    self.port = &quot;&quot;\n    self.timeout = 0\n\ndef __del__(self):\n    self.close()\n\ndef set_callback(self, function):\n    self.callback = function\n\ndef open(self, port):\n    self.ser = serial.Serial(port,9600,timeout=0.1)\n    self.port = port\n\n\ndef send(self, pl):\n    self.ser.write(self.pack(pl))\n\ndef parse(self, data):\n    for c in data:\n        if (self.state == STATE_START):\n            if (c == 0xaa):\n                # Start character detected\n                self.state = STATE_DATA\n                self.data = []\n                self.target_len = 255\n                #else:\n                #print c\n                \n        elif (self.state == STATE_DATA):\n            self.data.append(c)\n            \n            # Received enough of the packet to determine length\n            if (len(self.data) == 5):\n                self.target_len = 6 + self.data[4]\n                \n                # Received whole packet\n                if (len(self.data) == self.target_len):\n                    self.state = STATE_START\n                    #print &quot; &quot;.join(&quot;{:02x}&quot;.format(ord(c)) for c in self.data)\n                    \n                    # Source 3 is MPPT device\n                    if (self.data[2] == 3):\n                        msg_type = self.data[3]\n                        \n                        # Type 0 packet contains most data\n                        if (self.data[3] == 0):\n                                    fields = {}\n                                    fields['chg_mode'] = int.from_bytes(self.data[7:9], byteorder='little')\n                                    fields['pv_volt'] = int.from_bytes(self.data[9:11], byteorder='little') / 10.0\n                                    fields['bat_volt'] = int.from_bytes(self.data[11:13], byteorder='little') / 10.0\n                                    fields['chg_cur'] = int.from_bytes(self.data[13:15], byteorder='little') / 10.0\n                                    fields['load_volt'] = int.from_bytes(self.data[17:19], byteorder='little') / 10.0\n                                    fields['load_cur'] = int.from_bytes(self.data[19:21], byteorder='little') / 10.0\n                                    fields['chg_power'] = int.from_bytes(self.data[21:23], byteorder='little')\n                                    fields['load_power'] = int.from_bytes(self.data[23:25], byteorder='little')\n                                    fields['bat_temp'] = self.data[25]\n                                    fields['int_temp'] = self.data[27]\n                                    fields['soc'] = self.data[29]\n                                    fields['co2_gram'] = int.from_bytes(self.data[33:35], byteorder='little')\n                                    \n                                    self.callback(fields)\n\ndef tick(self):\n    try:\n        while (self.ser.inWaiting()):\n            self.parse(self.ser.read(100))\n            \n            # Send poll packet to request data every 5 seconds\n            \n            if (time.time() - self.timeout) &gt; 5:\n                self.ser.write(REQUEST_MSG0)\n                self.timeout = time.time()\n                #time.sleep(0.5)\n                #self.ser.write(LOAD_OFF)\n                \n    except IOError:\n        print(&quot;Serial port error, fixing&quot;)\n        self.ser.close()\n        opened = 0\n        while not opened:\n            try:\n                self.ser = serial.Serial(self.port,38400,timeout=0)\n                time.sleep(0.5)\n                if self.ser.read(100):\n                    opened = 1\n                \n                else:\n                    self.ser.close()\n            \n            except serial.serialutil.SerialException:\n                time.sleep(0.5)\n                self.ser.close()\n                print(&quot;Error fixed&quot;)\n\n\npv_volt = parse\n\ndef handle_data(d):\n    \n    pv_volt = d['pv_volt']\n    bat_volt = d['bat_volt']\n    chg_mode = d['chg_mode']\n    chg_cur = d['chg_cur']\n    load_volt = d['load_volt']\n    load_cur = d['load_cur']\n    load_power = d['load_power']\n    chg_power = d['chg_power']\n    bat_temp = d['bat_temp']\n    int_temp = d['int_temp']\n    soc = d['soc']\n    co2_gram = d['co2_gram']\n    \n    # Correct error in readings\n    d['bat_volt'] *= 1.107\n    d['load_volt'] *= 1.09\n    # Only correct if reading is not zero\n    if d['chg_cur']:\n        d['chg_cur'] += 1.5\n\n    # chg_power uses uncorrected voltage/current, so recalculate\n    actual_power = d['bat_volt']*d['chg_cur']\n    \n    print(&quot;PV Voltage: %.1f V&quot; % (d['pv_volt']))\n    print(&quot;Battery Voltage: %.1f V&quot; % (d['bat_volt']))\n    print(&quot;Charging (status: %s): %.1f A, %.1f W&quot; % (esmart.DEVICE_MODE[d['chg_mode']], d['chg_cur'], actual_power))\n    print(&quot;Discharging: %.1f V, %.1f A, %.1f W&quot; % (d['load_volt'], d['load_cur'], d['load_power']))\n    print(&quot;Load Voltage: %.1f V&quot; %(d['load_volt']))\n    print(&quot;Load Current: %.1f A&quot; %(d['load_cur']))\n    print(&quot;Charge Power: %.1f W&quot; %(d['chg_power']))\n    print(&quot;Load Power: %.1f W&quot; %(d['load_power']))\n    print(&quot;External Temperature: %.1f \u00b0C&quot; %(d['bat_temp']))\n    print(&quot;Internal Temperature: %.1f \u00b0C&quot; %(d['int_temp']))\n    print(&quot;State of Charge: %.1f %%&quot; %(d['soc']))\n    print(&quot;CO2 Reduction: %.1f g&quot; %(d['co2_gram']))\n\n\n\n\ne = esmart.esmart()\ne.open(&quot;/dev/ttyUSB0&quot;)\ne.set_callback(handle_data)\n\nupdate_sheet(&quot;Sheet1&quot;, pv_volt)\ntime.sleep(0.5)\n\n</code></pre>\n<p>*note: In this code, I am only trying to get the value of the pv_volt to be sent to Google Sheets</p>\n<p>The error that I get from running the code:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;/home/pi/hydroponicsmonitoring/esmarttest2.py&quot;, line 220, in &lt;module&gt;\n    update_sheet(&quot;Sheet1&quot;, pv_volt)\n  File &quot;/home/pi/hydroponicsmonitoring/esmarttest2.py&quot;, line 60, in update_sheet\n    body=body).execute()\n  File &quot;/usr/local/lib/python3.7/dist-packages/googleapiclient/discovery.py&quot;, line 1022, in method\n    headers, actual_path_params, actual_query_params, body_value\n  File &quot;/usr/local/lib/python3.7/dist-packages/googleapiclient/model.py&quot;, line 162, in request\n    body_value = self.serialize(body_value)\n  File &quot;/usr/local/lib/python3.7/dist-packages/googleapiclient/model.py&quot;, line 275, in serialize\n    return json.dumps(body_value)\n  File &quot;/usr/lib/python3.7/json/__init__.py&quot;, line 231, in dumps\n    return _default_encoder.encode(obj)\n  File &quot;/usr/lib/python3.7/json/encoder.py&quot;, line 199, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File &quot;/usr/lib/python3.7/json/encoder.py&quot;, line 257, in iterencode\n    return _iterencode(o, 0)\n  File &quot;/usr/lib/python3.7/json/encoder.py&quot;, line 179, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\nTypeError: Object of type function is not JSON serializable\n\n</code></pre>\n"
    }, {
        "tags": ["c", "sockets", "post", "https", "iot"],
        "is_answered": false,
        "view_count": 57,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1600208204,
        "creation_date": 1600189638,
        "question_id": 63906751,
        "link": "https://stackoverflow.com/questions/63906751/https-post-request-in-c",
        "title": "HTTPS Post request in C",
        "body": "<p>I am working on sending data to our server from our IoT device using an HTTPS POST request, and I am wondering if there is a better way to send the payload. We are sending a good amount of data in JSON format such as voltage, state of charge, current, etc.. and I believe what I am doing is inefficient.</p>\n<p>Here is my POST header:</p>\n<pre><code>char send_buf[] = &quot;POST /api? HTTP/1.1\\r\\nHost: my-server.com\\r\\nConnection: keep-alive\\r\\nContent-type: application/json\\r\\nContent-length: 15\\r\\n\\r\\n{\\&quot;key\\&quot;: \\&quot;value\\&quot;}&quot;;\n</code></pre>\n<p>I have seen examples using snprintf to build up the string, doing something like this:</p>\n<pre><code>#define POST_TEMPLATE &quot;POST %s? HTTP/1.1\\r\\n&quot;\\\n        &quot;Host: %s\\r\\n&quot;\\\n        &quot;Connection: keep-alive\\r\\n&quot;\\\n        &quot;Content-type: application/json\\r\\n&quot;\\\n        &quot;Content-length: %d\\r\\n\\r\\n&quot;\\\n        &quot;%s\n\n    int send_data_len_post = snprintf(send_buf,\n                         500, /*total length should not exceed MTU size*/\n                         POST_TEMPLATE, HTTP_PATH,\n                         HTTP_HOST, strlen(PostString),\n                         PostString);\n</code></pre>\n<p>where PostString is the webserver I am trying to access, but I am unable to get this to work.</p>\n<p>It is important to note that my logic for creating and sending a socket and making a simple GET request from the server works fine, but I have been having trouble with a more complex post request. Any ideas and help would be great, thanks!</p>\n"
    }, {
        "tags": ["android", "azure", "xamarin", "iot", "azure-eventhub"],
        "is_answered": true,
        "view_count": 178,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1598837220,
        "creation_date": 1500895806,
        "last_edit_date": 1500916287,
        "question_id": 45279480,
        "link": "https://stackoverflow.com/questions/45279480/receive-telmetry-from-iot-hub-on-android-with-event-hub-for-particular-device-i",
        "title": "Receive telmetry from IoT hub on Android with Event Hub .for particular Device in IOT HUB",
        "body": "<p>On Xamarin Android, I am using Event Hub for receiving data from IoT Hub. How can we receive data from a particular device?</p>\n\n<p>For example, if we have <code>device001</code> and <code>device002</code>, I want to receive telemetry from IoT hub for only <code>device001</code> and telemetry from IoT hub for only <code>device002</code> using Event Hub, or is there any other way?</p>\n"
    }, {
        "tags": ["networking", "routes", "iot", "sensors", "wireless"],
        "is_answered": false,
        "view_count": 15,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1598345639,
        "creation_date": 1598345639,
        "question_id": 63575322,
        "link": "https://stackoverflow.com/questions/63575322/does-the-intermediate-node-need-to-be-resourceful-while-a-node-sends-data-packet",
        "title": "Does the intermediate node need to be resourceful while a node sends data packets to the sink through it in a multi hop wireless sensor network?",
        "body": "<p>I am working on a project on a multi hop wireless sensor network. I know in multi hop routing, devices send data to the sink through some intermediate nodes. But my question is whether a resource constrained sensor node can work as an intermediate node or the intermediate node needs to be resourceful to forward data packets through it?</p>\n"
    }, {
        "tags": ["bluetooth", "iot", "com-port"],
        "is_answered": false,
        "view_count": 31,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1598304395,
        "creation_date": 1598304395,
        "question_id": 63568909,
        "link": "https://stackoverflow.com/questions/63568909/how-can-i-change-pc-standard-com-port-baud-rate",
        "title": "How can i change PC standard COM port Baud rate?",
        "body": "<p>I need to receive data via Com port at 921600bps. But as you can see in the figure <a href=\"https://i.stack.imgur.com/ONRx6.png\" rel=\"nofollow noreferrer\">Standard Serial over bluetooth link Properties</a>, there is no more than 115200bps as standard. How can this problem be solved?(I want to receive data via the hc05 bluetooth module)</p>\n"
    }, {
        "tags": ["node.js", "nginx", "meteor", "iot"],
        "is_answered": true,
        "view_count": 48,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1598274386,
        "creation_date": 1597933248,
        "last_edit_date": 1597991168,
        "question_id": 63507150,
        "link": "https://stackoverflow.com/questions/63507150/how-can-i-read-a-packet-with-on-my-nginx-server-i-am-sending-the-packages-with",
        "title": "How can I read a packet with on my nginx server, I am sending the packages with packet sender",
        "body": "<p>I am sending TCP packets with packet sender. I need to process those packets on my Nginx web server.</p>\n<p>I am going to store the data on my database and present it on the front-end later on with MeteorJS. Can I do the packet receiving with node.js and how?</p>\n<p>I'll be appreciated if you can help me, thanks.</p>\n"
    }, {
        "tags": ["ios", "swift", "xcode", "networking", "iot"],
        "is_answered": false,
        "view_count": 269,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1597670845,
        "creation_date": 1597662968,
        "last_edit_date": 1597670845,
        "question_id": 63449729,
        "link": "https://stackoverflow.com/questions/63449729/how-to-send-broadcast-udp-packet-in-swift-to-all-clients",
        "title": "How to send broadcast UDP packet in swift? &quot;To all clients&quot;",
        "body": "<p>I faced up with a new issue in swift!\nwanna send UDP packet from my app to all clients &quot;so I wanna broadcast it&quot;.\nWhen I run this code because I'm sending broadcast UDP I have an error.\nDoes any one know how to fix it?</p>\n<pre><code>import UIKit\nimport Network\n\nclass ViewController: UIViewController {\n    \n    let data = &quot;Hello&quot;.data(using: .utf8)\n    let queue = DispatchQueue(label: &quot;connection&quot;)\n    var client = NWConnection(host: NWEndpoint.Host(&quot;192.168.43.255&quot;), port: NWEndpoint.Port(integerLiteral: 4000), using: NWParameters.udp)\n    \n    \n    func test()  {\n        \n        self.client.start(queue: queue)\n        self.client.send(content: data, completion: .idempotent)\n\n    }\n\n    var buttonOnOff: UIButton!\n\n  override func viewDidLoad() {\n        super.viewDidLoad()\n        view.backgroundColor = .white\n        buttonOnOff = UIButton(type: .system)\n        buttonOnOff.setTitle(&quot;ON/OFF&quot;, for: .normal)\n        buttonOnOff.backgroundColor = .black\n        buttonOnOff.translatesAutoresizingMaskIntoConstraints = false\n        view.addSubview(buttonOnOff)\n        constraintsInit()\n        buttonOnOff.addTarget(self, action: #selector(onOffTouched), for: .touchUpInside)\n\n    }\n func constraintsInit() {\n        NSLayoutConstraint.activate([\n            buttonOnOff.centerXAnchor.constraint(equalTo: view.centerXAnchor),\n            buttonOnOff.centerYAnchor.constraint(equalTo: view.centerYAnchor)])\n    }\n\n\n   @objc func onOffTouched() {\n        test()\n    }\n</code></pre>\n"
    }, {
        "tags": ["android", "google-app-engine", "google-cloud-platform", "iot"],
        "is_answered": false,
        "view_count": 85,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1596834011,
        "creation_date": 1588079604,
        "last_edit_date": 1594862225,
        "question_id": 61481036,
        "link": "https://stackoverflow.com/questions/61481036/google-cloud-iot-core-end-to-end-prototype-example-question-reading-sensor-data",
        "title": "Google Cloud IoT Core end-to-end prototype example question (reading sensor data from phone to Cloud IoT Core)",
        "body": "<p>Google gives a nice example on how to implement an end-to-end IoT prototype using their cloud platform and a phone as a sensor device at <a href=\"https://cloud.google.com/iot/docs/resources/building-an-end-to-end-iot-prototype\" rel=\"nofollow noreferrer\">https://cloud.google.com/iot/docs/resources/building-an-end-to-end-iot-prototype</a>.\nUsing the instructions it is possible to read phone sensor data using a webapp which will then relay it to the Google IoT Core. The example/documentation does not give any information about the webapp. I am trying to understand how the webapp works and tried searching for examples, but could not find any.\nThe question is: How can I create a similar webapp that can read sensor data from a phone and then send it to the Google IoT Core? I do not need detailed instructions, but I would like to know where to start the search.</p>\n"
    }, {
        "tags": ["ibm-cloud", "mqtt", "iot", "ibm-watson", "gateway"],
        "is_answered": true,
        "view_count": 30,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1596816550,
        "creation_date": 1596626167,
        "question_id": 63264028,
        "link": "https://stackoverflow.com/questions/63264028/can-i-recover-any-data-from-a-device-and-send-it-to-the-ibm-watson-iot-platform",
        "title": "can I recover any data from a device and send it to the ibm watson iot platform cloud?",
        "body": "<p>Good morning everyone,</p>\n<p>I am currently working on a project which I use <strong>IBM Watson IoT Platform</strong> which will be linked with a Gateway,</p>\n<p>Can I retrieve any parameter from the Gateway (ex: SSID, Password ...) and send it to the IBM Watson IoT Platform or I can only send an event triggered by the Gateway</p>\n<p><strong>Knowing that I use the MQTT protocol to send events to the IBM Watson IoT Platform</strong></p>\n"
    }, {
        "tags": ["java", "iot", "thingsboard"],
        "is_answered": false,
        "view_count": 216,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1596554185,
        "creation_date": 1596554185,
        "question_id": 63249950,
        "link": "https://stackoverflow.com/questions/63249950/deque-full-exception-thingsboard",
        "title": "Deque Full Exception - Thingsboard",
        "body": "<p>Im having trouble using Thingsboard platform (IoT) when simulating 7.5K devices sending data to the platform. I have the following error in the logs as soon as I start sending data (over MQTT):</p>\n<pre><code>2020-08-01 01:17:06,946 [ForkJoinPool-12-worker-0] ERROR c.g.c.u.concurrent.AggregateFuture - Got more than one input Future failure. Logging failures after the first\njava.lang.IllegalStateException: Deque full\n    at java.util.concurrent.LinkedBlockingDeque.addLast(LinkedBlockingDeque.java:335)\n    at java.util.concurrent.LinkedBlockingDeque.add(LinkedBlockingDeque.java:633)\n    at org.thingsboard.server.dao.util.AbstractBufferedRateExecutor.submit(AbstractBufferedRateExecutor.java:109)\n    at org.thingsboard.server.dao.nosql.CassandraAbstractDao.executeAsync(CassandraAbstractDao.java:93)\n    at org.thingsboard.server.dao.nosql.CassandraAbstractDao.executeAsyncWrite(CassandraAbstractDao.java:76)\n    at org.thingsboard.server.dao.timeseries.CassandraBaseTimeseriesDao.savePartition(CassandraBaseTimeseriesDao.java:434)\n    at org.thingsboard.server.dao.timeseries.BaseTimeseriesService.saveAndRegisterFutures(BaseTimeseriesService.java:153)\n    at org.thingsboard.server.dao.timeseries.BaseTimeseriesService.save(BaseTimeseriesService.java:144)\n    at org.thingsboard.server.service.telemetry.DefaultTelemetrySubscriptionService.saveAndNotify(DefaultTelemetrySubscriptionService.java:124)\n    at org.thingsboard.rule.engine.telemetry.TbMsgTimeseriesNode.onMsg(TbMsgTimeseriesNode.java:89)\n    at org.thingsboard.server.actors.ruleChain.RuleNodeActorMessageProcessor.onRuleChainToRuleNodeMsg(RuleNodeActorMessageProcessor.java:107)\n    at org.thingsboard.server.actors.ruleChain.RuleNodeActor.onRuleChainToRuleNodeMsg(RuleNodeActor.java:97)\n    at org.thingsboard.server.actors.ruleChain.RuleNodeActor.doProcess(RuleNodeActor.java:60)\n    at org.thingsboard.server.actors.service.ContextAwareActor.process(ContextAwareActor.java:45)\n    at org.thingsboard.server.actors.TbActorMailbox.processMailbox(TbActorMailbox.java:121)\n    at java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1402)\n    at java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\n    at java.util.concurrent.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1056)\n    at java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1692)\n    at java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:157)\n</code></pre>\n<p>I have try to google and see the reason behind it, but i havent found anything.</p>\n<p>While simulating with 5K devices, this error came like 3 times each day (over a 4 day period), but it stopped showing that error eventually. However, when increasing the number of devices, the error is constant. Im using Kafka as the broker, but I dont see any Kafka related error. I just want to know why the error appears, is it related to memory, or any other limit?</p>\n<p>Thanks in advance</p>\n<p>Francisco P</p>\n"
    }, {
        "tags": ["encryption", "aes", "iot"],
        "is_answered": false,
        "view_count": 65,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1596207487,
        "creation_date": 1596177305,
        "last_edit_date": 1596207487,
        "question_id": 63186886,
        "link": "https://stackoverflow.com/questions/63186886/aes-encryption-for-repetitive-small-data-packets",
        "title": "AES encryption for repetitive small data packets",
        "body": "<p>I'm trying to implement simple AES encryption for small data packets (8bytes, fixed length) being sent from nodes with very little computational resources.</p>\n<p>Ideally the encrypted data would be a single 16byte packet. The data being sent is very repetitive (for an example, wind velocity packet &quot;S011D023&quot;, where S and D would always be in the same place, length would always be 8). The nodes may not have the ability to hold runtime variables (e.g. a frame counter, nonce etc.) but could be implemented if essential.</p>\n<p>How do I make the solution &quot;reasonably&quot; secure against replay, brute force, any other well known attack? Does adding new random padding bytes to each new packet help in anyway?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-central"],
        "is_answered": true,
        "view_count": 1013,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1595506193,
        "creation_date": 1595418948,
        "question_id": 63033615,
        "link": "https://stackoverflow.com/questions/63033615/connect-real-device-to-azure-iot-central-using-mqtt",
        "title": "Connect real device to Azure IoT Central using MQTT",
        "body": "<p>I'm fiddling around with Azure IoT central and I configured a device. Now I want to send data using MQTT from a real device (no code).\nI can't seemed to find information if this is possible for IoT central.</p>\n<p>For IoT hub I found: <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-mqtt-support#using-the-mqtt-protocol-directly-as-a-device\" rel=\"nofollow noreferrer\">Azure Iot Hub MQTT</a></p>\n<p>I want to use IoT Central because of the built-in dashboards. Those do not seem to exist for IoT hub.\nIf I can't send data directly to IoT central, is there a way to use the IoT hub devices in IoT central?</p>\n"
    }, {
        "tags": ["iot", "thingsboard", "thingsboard-gateway"],
        "is_answered": true,
        "view_count": 1177,
        "favorite_count": 1,
        "score": 3,
        "last_activity_date": 1594463257,
        "creation_date": 1594429871,
        "question_id": 62844153,
        "link": "https://stackoverflow.com/questions/62844153/export-telemetry-data-of-a-device-in-thingsboard",
        "title": "export telemetry data of a device in ThingsBoard",
        "body": "<p>im using thingsboard community edition.</p>\n<p>i want to know if there is a way to export all time series data of a device into csv or any other file format. i need all the data to analyse it.</p>\n<p>thingsboard Professional edition has this feature. but how about Community Edition?</p>\n"
    }, {
        "tags": ["automation", "iot", "google-assistant-sdk", "google-home", "ifttt"],
        "is_answered": false,
        "view_count": 45,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1594057587,
        "creation_date": 1594051863,
        "question_id": 62760088,
        "link": "https://stackoverflow.com/questions/62760088/how-to-hook-into-hey-google",
        "title": "How to hook into &quot;Hey Google&quot;",
        "body": "<p>Is it possible to hook or add a trigger for when Google assistant is activated upon saying &quot;Hey Google&quot;?</p>\n<p>Here's a scenario, I have a smart light and I want it to give feedback when google assistant is triggered by changing it into red for few seconds upon invocation of the phrase &quot;Hey Google&quot;.</p>\n"
    }, {
        "tags": ["azure", "google-cloud-platform", "stream", "cloud", "iot"],
        "is_answered": false,
        "view_count": 93,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1594040549,
        "creation_date": 1594036198,
        "question_id": 62755449,
        "link": "https://stackoverflow.com/questions/62755449/is-there-a-way-to-stream-data-from-google-cloud-platform-to-microsoft-azure",
        "title": "Is there a way to &quot;stream&quot; data from Google Cloud Platform to Microsoft Azure?",
        "body": "<p>I am using GCP to manage IOT devices using IOT Core. The incoming telemetry triggers a cloud function which stores the data in Firestore.</p>\n<p>I have been asked to send the telemetry to an Azure SQL database. I am not familiar with Azure but, with the products that both GCP and Azure provide, there must be a way to get this right.</p>\n<p>The device sends an update to GCP once per minute.</p>\n<p>My initial thought was to use a cloud function to &quot;pass&quot; the data on to Azure when it is received in GCP.</p>\n<p>Thanks in advance</p>\n"
    }, {
        "tags": ["jmeter", "performance-testing", "iot", "data-ingestion"],
        "is_answered": false,
        "view_count": 164,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1593033489,
        "creation_date": 1592978210,
        "last_edit_date": 1593033489,
        "question_id": 62548590,
        "link": "https://stackoverflow.com/questions/62548590/what-functional-performance-testing-approach-should-i-take-during-data-ingestion",
        "title": "What functional/performance testing approach should I take during data ingestion testing using JMeter?",
        "body": "<h2>Project overview:</h2>\n<p>We are building a data ingestion backend platform. 3 major components of the backend system are: Listener (will ingest vehicle GPS tracker data and store in message queue) &gt;&gt; Adapter (will process the ingested data by Listener and store processed data in message queue) &gt;&gt; Datarouter (will route the processed data by Adapter to any 3rd party platform)</p>\n<h2>My Task:</h2>\n<p>In the above scenario, my task is to do the functional testing and performance testing of data ingestion backend platform using JMeter open source tool. We are using JMeter as a load generator tool, which is basically simulating the sending of vehicle GPS tracker data to the listener. In JMeter, we are using TCP sampler to send the data in the following format:</p>\n<pre><code>$$${data_identifier},${imei},AAA,35,${lat},${long},${__dateTimeConvert(${__time()},,yyMMddhhmmss)},\nA,8,15,60,274,0.9,25,34900,211818,404|30|7033|0BBF5744,0000,0000|0000|0000|0190|04B7,00000001,,1,0000*80\n</code></pre>\n<p>From functional point of view, we need to check the data ingested by listener and finally routed by datarouter after processing is all consistent.</p>\n<p>From performance point of view, we need to check that the backend system can handle load of say for ex. 100 vehicles sending data packets every 10 sec for continuous period of time lets say 15-20 days.\nCurrently I am testing all the functions locally. After testing is done, deployment will happen to dev env.</p>\n<p><strong>Note:</strong> Please note that we are <strong>not</strong> using any big data tool like HDFS, Apache Spark etc. As a message broker, we are considering Redis/Kafka.</p>\n<h2>My question:</h2>\n<p>Please let me know what kind of functional and performance test scenarios to execute?</p>\n<p>Any option to publish test results in statistical format/pictorial form directly from JMeter?</p>\n<p>How can I ensure performance bottleneck &amp; other performance aspects while testing in local environment setup?</p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": false,
        "view_count": 152,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1592672814,
        "creation_date": 1591657482,
        "question_id": 62272546,
        "link": "https://stackoverflow.com/questions/62272546/how-can-i-filter-alarm-data-in-thingsboard-alarm-widget",
        "title": "How can I filter alarm data in Thingsboard alarm widget?",
        "body": "<p>I have an alarm widget that shows list of alarms with their severity (CRITICAL, WARNING), I need to make it only shows specific severity without change the DataSource, for example only the 'CRITICAL' alarms, How can I do that? any help will be very helpful.\nRegards.</p>\n"
    }, {
        "tags": ["iot", "azure-logic-apps", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 363,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1592446102,
        "creation_date": 1591091457,
        "last_edit_date": 1591091984,
        "question_id": 62149278,
        "link": "https://stackoverflow.com/questions/62149278/azure-logic-app-read-telemetry-data-as-dynamic-content-from-iot-hub-message",
        "title": "Azure Logic App: Read telemetry data as dynamic content from IoT hub message",
        "body": "<p>I'm routing telemetry messages via IoT Events and event Grid to Logic Apps using a webhook. The logic app lets you input a sample JSON message and then use dynamic content to add information to an email alert I'm sending(O365: Send an Email V2) </p>\n\n<p>I can include System Properties like \"iothub-connection-device-id\" But when I try to pick temeletry data I get the following error: </p>\n\n<blockquote>\n  <p>InvalidTemplate. Unable to process template language expressions in action 'Send_an_email_(V2)' inputs at line '1' and column '1680': 'The template language expression 'items('For_each')?['data']?['body']?['windingTemp1']' cannot be evaluated because property 'windingTemp1' cannot be selected. Property selection is not supported on values of type 'String'. Please see <a href=\"https://aka.ms/logicexpressions\" rel=\"nofollow noreferrer\">https://aka.ms/logicexpressions</a> for usage details.'.</p>\n</blockquote>\n\n<p>When I look at the raw output of the webhook connector it shows the following message but the telemetry points are cleary not there. I'd expect to see them in the \"body\" property but instead there is just the string: \"eyJ3aW5kaW5nVGVtcDEiOjg2LjYzOTYxNzk4MjYxODMzLCJ3aW5kaW5nVGVtcDIiOjc4LjQ1MDc4NTgwMjQyMTUyLCJ3aW5kaW5nVGVtcDMiOjg1LjUzMDYxMDY5OTQ1MzY1LCJMb2FkQSI6MjAyOS44NDgyMTg4ODYxMTEsIkxvYWRCIjoyMDQwLjgxMDk4OTg0MDMzMzgsIkxvYWRWIjoyMDA0LjYxMTkzMjMyNTQ2MTgsIk9pbFRlbXAiOjk5LjA2MjMyNjU2MTY4ODU4fQ==\"</p>\n\n<p>Looking for help to determine what could be causing this and how to get the telemetry data passed through correctly so that I can inculde it dynamically in the email alert.</p>\n\n<p>Thanks!</p>\n\n<pre><code>{\n\"headers\": {\n    \"Connection\": \"Keep-Alive\",\n    \"Accept-Encoding\": \"gzip,deflate\",\n    \"Host\": \"prod-24.northeurope.logic.azure.com\",\n    \"aeg-subscription-name\": \"TEMPALERT\",\n    \"aeg-delivery-count\": \"1\",\n    \"aeg-data-version\": \"\",\n    \"aeg-metadata-version\": \"1\",\n    \"aeg-event-type\": \"Notification\",\n    \"Content-Length\": \"1017\",\n    \"Content-Type\": \"application/json; charset=utf-8\"\n},\n\"body\": [\n    {\n        \"id\": \"c767fb91-3806-324c-ec3c-XXXXXXXXXX\",\n        \"topic\": \"/SUBSCRIPTIONS/XXXXXXXXXXXX\",\n        \"subject\": \"devices/Device-001\",\n        \"eventType\": \"Microsoft.Devices.DeviceTelemetry\",\n        \"data\": {\n            \"properties\": {\n                \"TempAlarm\": \"true\"\n            },\n            \"systemProperties\": {\n                \"iothub-connection-device-id\": \"Device-001\",\n                \"iothub-connection-auth-method\": \"{\\\"scope\\\":\\\"device\\\",\\\"type\\\":\\\"sas\\\",\\\"issuer\\\":\\\"iothub\\\",\\\"acceptingIpFilterRule\\\":null}\",\n                \"iothub-connection-auth-generation-id\": \"637264713410XXXX\",\n                \"iothub-enqueuedtime\": \"2020-06-01T23:05:58.3130000Z\",\n                \"iothub-message-source\": \"Telemetry\"\n            },\n            \"body\": \"eyJ3aW5kaW5nVGVtcDEiOjg2LjYzOTYxNzk4MjYxODMzLCJ3aW5kaW5nVGVtcDIiOjc4LjQ1MDc4NTgwMjQyMTUyLCJ3aW5kaW5nVGVtcDMiOjg1LjUzMDYxMDY5OTQ1MzY1LCJMb2FkQSI6MjAyOS44NDgyMTg4ODYxMTEsIkxvYWRCIjoyMDQwLjgxMDk4OTg0MDMzMzgsIkxvYWRWIjoyMDA0LjYxMTkzMjMyNTQ2MTgsIk9pbFRlbXAiOjk5LjA2MjMyNjU2MTY4ODU4fQ==\"\n        },\n        \"dataVersion\": \"\",\n        \"metadataVersion\": \"1\",\n        \"eventTime\": \"2020-06-01T23:05:58.313Z\"\n    }\n]\n</code></pre>\n\n<p>}</p>\n\n<p>Here is the sample input I am using with the trigger:</p>\n\n<pre><code>[{\n  \"id\": \"9af86784-8d40-fe2g-8b2a-bab65e106785\",\n  \"topic\": \"/SUBSCRIPTIONS/&lt;subscription ID&gt;/RESOURCEGROUPS/&lt;resource group name&gt;/PROVIDERS/MICROSOFT.DEVICES/IOTHUBS/&lt;hub name&gt;\", \n  \"subject\": \"devices/LogicAppTestDevice\", \n  \"eventType\": \"Microsoft.Devices.DeviceTelemetry\",\n  \"eventTime\": \"2019-01-07T20:58:30.48Z\",\n  \"data\": {        \n      \"body\": {            \n          \"windingTemp1\": 95.62818310718433       \n      },\n        \"properties\": {            \n          \"Status\": \"Active\"        \n        },\n        \"systemProperties\": {            \n            \"iothub-content-type\": \"application/json\",\n            \"iothub-content-encoding\": \"utf-8\",\n            \"iothub-connection-device-id\": \"d1\",\n            \"iothub-connection-auth-method\": \"{\\\"scope\\\":\\\"device\\\",\\\"type\\\":\\\"sas\\\",\\\"issuer\\\":\\\"iothub\\\",\\\"acceptingIpFilterRule\\\":null}\",\n            \"iothub-connection-auth-generation-id\": \"123455432199234570\",\n            \"iothub-enqueuedtime\": \"2019-01-07T20:58:30.48Z\",\n            \"iothub-message-source\": \"Telemetry\"        \n        }    \n    },\n  \"dataVersion\": \"\",\n  \"metadataVersion\": \"1\"\n}]\n</code></pre>\n"
    }, {
        "tags": ["node.js", "mqtt", "iot", "mosquitto"],
        "is_answered": false,
        "view_count": 41,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1592003006,
        "creation_date": 1592003006,
        "question_id": 62353636,
        "link": "https://stackoverflow.com/questions/62353636/simulate-mqtt-connection",
        "title": "Simulate MQTT connection",
        "body": "<p>I'm doing a project in which I, alongside a partner, need to make an intelligent lock. The lock communicates with the broker, mosquitto in this case, and the broker communicates with the backend of the software. The backend sends the confirmation to the lock through the broker and a notification to the frontend through socket.io. Or, at least, thats whats its supposed to do. However, nor do I have the prototype lock to use, nor have I ever dealt with MQTT before. What I'm looking for is a way to \"simulate a connection\" where I can send data as the lock would. That way I'll be able to proceed on programming.</p>\n"
    }, {
        "tags": ["iot", "wireless", "zigbee"],
        "is_answered": true,
        "view_count": 195,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1589804909,
        "creation_date": 1589733738,
        "question_id": 61855321,
        "link": "https://stackoverflow.com/questions/61855321/what-is-the-header-size-of-a-packet-using-zigbee-protocol",
        "title": "What is the header size of a packet using Zigbee Protocol",
        "body": "<p>If I am sending data between two IoT devices communicating to each other using the Zigbee protocol</p>\n\n<p>Two temperature sensors talking to each other</p>\n\n<p>I would like to know the format of one packet and if there is any documentation you suggest I can read. that would describe in detail the packet details I would appreciate that!</p>\n"
    }, {
        "tags": ["javascript", "iot", "thingsboard"],
        "is_answered": false,
        "view_count": 511,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1588929969,
        "creation_date": 1583311753,
        "question_id": 60522133,
        "link": "https://stackoverflow.com/questions/60522133/thingsboard-widgets-library-javascript-not-working",
        "title": "Thingsboard Widgets Library Javascript not working",
        "body": "<p>I'm trying to make a custom widget on Thingsboard that would change the text when it's pressed. Like this:\n<a href=\"https://i.stack.imgur.com/XkvJn.png\" rel=\"nofollow noreferrer\">Custom Widget creation</a></p>\n\n<p>But it's not working at all. What am I doing wrong?</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": true,
        "view_count": 327,
        "favorite_count": 2,
        "closed_date": 1588367052,
        "score": 0,
        "last_activity_date": 1588255189,
        "creation_date": 1553702989,
        "question_id": 55381802,
        "link": "https://stackoverflow.com/questions/55381802/how-can-i-easily-visualize-my-data-sent-over-mqtt-with-aws-iot-core",
        "title": "How can I easily visualize my data sent over MQTT with AWS IoT Core",
        "body": "<p>I'm evaluating AWS IoT Services, and sending <code>cpu_usage</code> and <code>available_memory</code> for a Gateway.</p>\n\n<p>I would like to visualize the data on a graph.</p>\n\n<p>Using AWS IoT SDK, I can easy send data over MQTT to AWS IoT Core.</p>\n\n<p>But then, I have no idea how to visualize the data. </p>\n\n<p>I have seen <a href=\"https://aws.amazon.com/blogs/big-data/build-a-visualization-and-monitoring-dashboard-for-iot-data-with-amazon-kinesis-analytics-and-amazon-quicksight/\" rel=\"nofollow noreferrer\">this tuto</a> from AWS that use Kinesis Firehose/Analytics and QuickSight to visualize data, but it just seems too much (and too expensive) for my use case.</p>\n\n<p>I have also seen <a href=\"https://hub.packtpub.com/build-an-iot-application-with-aws-iot-tutorial/\" rel=\"nofollow noreferrer\">this tuto</a> that use ELK to visualize the data, but really, I have no money to spend on a dedicated ELK instance just to visualize little data.</p>\n\n<p>I tried to send data to CloudWatch using a Rule, but with query:</p>\n\n<pre><code>SELECT free_memory FROM topic_1\n</code></pre>\n\n<p>But I can't see this metric.</p>\n\n<p>I also asked for AWS IoT Graph preview access hoping it will resolve my issue, but I am right now a bit lost.</p>\n\n<p>Is there an easy / free tier compatible way to visualize data from IoT devices ?</p>\n"
    }, {
        "tags": ["azure", "azure-functions", "iot", "azure-iot-hub", "azure-blob-storage"],
        "is_answered": true,
        "view_count": 249,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1587885672,
        "creation_date": 1587839208,
        "question_id": 61430533,
        "link": "https://stackoverflow.com/questions/61430533/get-file-upload-notifications-from-iot-hub-to-event-hub",
        "title": "Get File Upload Notifications from IoT Hub to Event Hub",
        "body": "<p>I am building an IoT solution that has devices that periodically upload sound files to Azure through the IoT Hub. That is working alright and the file is being uploaded. But I immediately(after the upload) need to run some analysis on this file using Azure Functions. So I basically need a notification once the file upload is done, telling me the device id, the uri of the file etc. IoT Hub has the file notification feature but it seems this must be polled periodically to receive the notification, I don't want to set up another service just to poll for upload notification. </p>\n\n<p>I have thought of attaching the Function trigger to the blob storage used by the IoT Hub but the solution am building will have an IoT Hub (and consequently an accompanying Blob Storage) per region to reduce latency, so it would be inefficient to duplicate the Function logic for each blob. </p>\n\n<p>Is there a way to wire this setup up, so that I load all the notification from the multiple IoT Hubs to a single Event Hub, from where they can trigger a single Azure Function for processing ?</p>\n"
    }, {
        "tags": ["node.js", "json", "express", "http", "iot"],
        "is_answered": false,
        "view_count": 190,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1587832331,
        "creation_date": 1587831879,
        "question_id": 61428852,
        "link": "https://stackoverflow.com/questions/61428852/node-js-express-js-get-request-in-chunks",
        "title": "Node.js/Express.js GET request in Chunks",
        "body": "<p>I am making a GET request on a Node.js/Express.js back end which contains 80KB of data. However, the IoT board I am using, that makes the GET request, has a RAM of 32KB and lags when I try to parse this large amount of data. To go around this, dividing data into chunks (8KB) and making multiple GET requests for each chunk can fix my problem. I am not sure how should I make a method that allows the data to be chunked and send via multiple get methods. I'd appreciate if someone can share their take on this. Regards!</p>\n"
    }, {
        "tags": ["arduino", "mqtt", "iot", "adafruit"],
        "is_answered": true,
        "view_count": 408,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1587730823,
        "creation_date": 1587676858,
        "question_id": 61397189,
        "link": "https://stackoverflow.com/questions/61397189/adafruit-io-data-rate-limit",
        "title": "Adafruit IO data rate limit",
        "body": "<p>I'm trying to send data from multiple ESP-8266 to feeds on my Adafruit IO account.\nThe problem is that when I try to send new values, I'm faced with a ban from publishing because the 2 seconds time limit is violated when two or more of my MCUs happen to send data at the same time (I can't synchronize them to avoid this).\nis there any possible solution to this problem?</p>\n"
    }, {
        "tags": ["schema", "iot", "gateway"],
        "is_answered": false,
        "view_count": 46,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1587533241,
        "creation_date": 1587450397,
        "last_edit_date": 1587533241,
        "question_id": 61337216,
        "link": "https://stackoverflow.com/questions/61337216/brickschema-information",
        "title": "Brickschema Information",
        "body": "<p>I am working on an IoT gateway like raspberry pi. So I want to use <strong>Brickschema</strong> for data modelling and data normalisation of sensors data. I had gone through a paper <a href=\"https://par.nsf.gov/servlets/purl/10111028\" rel=\"nofollow noreferrer\">link</a> and find some theory about brickschema. There I didn't find the implementation thing. Could you tell me how can I start working with Brickschema using python libraries and what I need to integrate with brick to model the sensor data..? Please share me some example to implement Brickschema for my IoT gateway.Thanks in advance.</p>\n"
    }, {
        "tags": ["iot", "esp32", "adafruit"],
        "is_answered": false,
        "view_count": 710,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1587243783,
        "creation_date": 1559091946,
        "last_edit_date": 1559133611,
        "question_id": 56351819,
        "link": "https://stackoverflow.com/questions/56351819/sending-data-to-a-feed-of-io-adafruit-through-url",
        "title": "Sending Data to a Feed of io.Adafruit through URL",
        "body": "<p>I am <strong>stuck</strong> in a <strong>huge problem</strong> and i have very <strong>less time</strong> to complete my <strong>Final Year Project.</strong>\nMy Question is : I want to send some data or value to a feed of <strong>io.adafruit</strong> through <strong>URL</strong>, mean when i enter a URL in the Browser, it just send a value to the feed.\nFor Example: <a href=\"https://io.adafruit.com/SOME_Value\" rel=\"nofollow noreferrer\">https://io.adafruit.com/SOME_Value</a>      <strong>PLEASE HELP ME</strong></p>\n"
    }, {
        "tags": ["http", "tcp", "iot", "ifttt"],
        "is_answered": false,
        "view_count": 19,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1586734578,
        "creation_date": 1586734578,
        "question_id": 61179579,
        "link": "https://stackoverflow.com/questions/61179579/trying-to-use-ifttt-to-send-string-to-iot-module",
        "title": "Trying to use IFTTT to send string to IoT module",
        "body": "<p>Currently I am trying to use IFTTT to connect my google assistant to an IoT device I made.  The google assistant command is triggering a webhook to send the string and I have the IP address and port that it should be able to communicate to.  I have tried setting the URL to \"http://:\" (Itried it with https as well), but it is saying the request is timing out.  I know the IoT module works since it has worked with a .jar file that sent the data when provided with an IP address and port number.  Any advice on how to proceed would be appreciated.</p>\n"
    }, {
        "tags": ["python", "iot", "gateway"],
        "is_answered": true,
        "view_count": 31,
        "favorite_count": 0,
        "closed_date": 1586098081,
        "score": -1,
        "last_activity_date": 1586078980,
        "creation_date": 1586076857,
        "question_id": 61040148,
        "link": "https://stackoverflow.com/questions/61040148/efficient-way-to-store-received-data-if-no-internet-connection-available-and-pus",
        "title": "Efficient way to store received data if no internet connection available and push it when connection available in Raspberry Pi using Python",
        "body": "<p>I'm trying to make gateway using Raspberry Pi which needs to push data periodically but some times internet connection lost. Is there a way to store received data and push it when connection available?</p>\n"
    }, {
        "tags": ["tcp", "server", "iot", "stm32", "lwip"],
        "is_answered": false,
        "view_count": 64,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1585764507,
        "creation_date": 1585750640,
        "last_edit_date": 1585758384,
        "question_id": 60973002,
        "link": "https://stackoverflow.com/questions/60973002/why-did-tcp-bsd-server-stuck-in-read-even-data-receives",
        "title": "Why did TCP-BSD server stuck in read() even data receives?",
        "body": "<p>I've created a TCP server application using BSD sockets and NUCLEO-H743ZI2 development board with STM32CubeMX 5.6.0 &amp; LwIP 2.0.3 in Keil-MDKARM.</p>\n\n<p>I noticed that:</p>\n\n<ul>\n<li>If a client connects and sends 11 bytes or more at first, server\nreceives the data correctly and <code>read()</code> responds displaying the data.</li>\n<li>However, if client sends the first data lower than 11\nbytes, <code>read()</code> function blocks even next received data is higher than 11 bytes, until client disconnects. After the disconnection, all the data queued is displayed.</li>\n</ul>\n\n<p>Namely, if first data sent from a client to my server is lower than 11 bytes, event_callback for a rcvevent is not triggered until disconnection. </p>\n\n<p>My aim is to make the server available to one byte reception.</p>\n\n<p>I've pasted my Server task/thread below. Let me have your kind response at your earliest convenience and feel free to request other related files/libraries(lwip.h, lwipopts.h..).</p>\n\n<p>Kind Regards</p>\n\n<pre><code>void StartTask01(void const * argument)\n{\n    /* USER CODE BEGIN StartTask01 */\n    MX_LWIP_Init();\n\n    /*start a listening tcp server*/\n    int iServerSocket;\n    struct sockaddr_in address;\n\n    if ((iServerSocket = socket(AF_INET, SOCK_STREAM, 0)) &lt; 0) \n    {\n        printf(\"Socket could not be created\\n\");\n    }\n    else\n    {\n        address.sin_family = AF_INET;\n        address.sin_port = htons(80);\n        address.sin_addr.s_addr = INADDR_ANY;\n\n        if (bind(iServerSocket, (struct sockaddr *)&amp;address, sizeof (address)) &lt; 0)\n        {\n            printf(\"socket could not be bound\\n\");\n        }\n        else\n        {\n            listen(iServerSocket, MEMP_NUM_NETCONN);    \n        }\n    }\n    /*server started listening*/\n\n    struct sockaddr_in remoteHost;\n    int newconn;\n    char caReadBuffer[1500];\n    memset(caReadBuffer, 0, 1500);\n\n    for(;;)\n    {\n        /*block until accepting an incoming connection*/\n        newconn = accept(iServerSocket, (struct sockaddr *)&amp;remoteHost, (socklen_t *)(sizeof(remoteHost)));\n\n        if (newconn != -1)/*if accepted well*/\n        {   \n            /*block until data arrives*/\n            read(newconn, caReadBuffer, sizeof(caReadBuffer));\n            printf(\"data read: %s\\n\", caReadBuffer);\n            memset(caReadBuffer, 0, 1500);\n        }\n    }\n/* USER CODE END StartTask01 */\n}\n</code></pre>\n"
    }, {
        "tags": ["rest", "curl", "ibm-cloud", "iot", "python-cloudant"],
        "is_answered": false,
        "view_count": 57,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1585021897,
        "creation_date": 1584950603,
        "last_edit_date": 1585021897,
        "question_id": 60809779,
        "link": "https://stackoverflow.com/questions/60809779/how-to-upload-data-to-the-ibm-iot-platform-and-cloudant-database-using-http-apis",
        "title": "How to upload data to the IBM IoT Platform and Cloudant Database using HTTP APIs?",
        "body": "<p>I am trying to upload my sensor data to the IBM IoT Platform and Cloudant database using https API. \nThe command I use is </p>\n\n<pre><code>curl -X POST \"https://{orgId}.internetofthings.ibmcloud.com:8883/api/v0002/device/types/{deviceType}/devices/{deviceId}/events/{event_name}\" -H \"Content-Type: application/json\" -d \"EventPayload\" -u 'use-token-auth:{password}'\n</code></pre>\n\n<p>After I execute the command I am able to upload the data but the data I saw in IBM IoT Platform and Cloudant database is different from the data uploaded. \nFor example, I uploaded EventPayload \"{'temperature' : 24}\" </p>\n\n<p>I get this in my IoT Platform Event Payload </p>\n\n<pre><code>{\n    \"type\": \"Buffer\",\n    \"data\": [\n        123,\n        39,\n        116,\n        101,\n        109,\n        112,\n        101,\n        114,\n        97,\n        116,\n        117,\n        114,\n        101,\n        39,\n        32,\n        58,\n        32,\n        50,\n        52,\n        125\n    ]\n}\n</code></pre>\n\n<p>and <code>\"payload\": \"eyd0ZW1wZXJhdHVyZScgOiAyNH0=\"</code> at the Cloudant database. </p>\n\n<p>How to upload the data to the IoT Platform and Cloudant database without changing it to a different format?</p>\n"
    }, {
        "tags": ["amazon-web-services", "aws-lambda", "iot"],
        "is_answered": true,
        "view_count": 53,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1584645226,
        "creation_date": 1584644381,
        "last_edit_date": 1584644916,
        "question_id": 60763481,
        "link": "https://stackoverflow.com/questions/60763481/how-to-limit-the-number-of-times-an-aws-lambda-function-can-be-triggered-within",
        "title": "How to limit the number of times an AWS Lambda Function can be triggered within a specific timeframe",
        "body": "<p>I\u2019m working to build an automated process sends a PUT to a rest API when an object is detected by the DeepLens. </p>\n\n<p>DeepLens \u2192 IoT \u2192 SNS \u2192 Lambda \u2192 External Rest API</p>\n\n<p>DeepLens is performing object detection. I am running IoT Rules that sends a message to an SNS topic when specific objects are detected. The SNS topic sends an SMS, an Email and triggers a Lambda function. The Lambda function performs a PUT against an external rest API. </p>\n\n<p>I am trying to limit the number of times the lambda function can perform the PUT to once per 60 seconds. Example Lambda code below if</p>\n\n<pre><code>import http.client\nimport mimetypes\ndef lambda_handler(event, context):\n  conn = http.client.HTTPSConnection(\"api.who.what\")\n  payload = \" {\\\"id\\\" : \\\"SANITIZED\\\", \\\"duration\\\" : 60}\"\n  headers = {\n    'Authorization': 'Bearer SANITIZED',\n    'Content-Type': 'text/plain'\n  }\n  conn.request(\"PUT\", \"/1/get/going/start\", payload, headers)\n  res = conn.getresponse()\n  data = res.read()\n  print(data.decode(\"utf-8\"))\n</code></pre>\n"
    }, {
        "tags": ["sockets", "iot"],
        "is_answered": false,
        "view_count": 78,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1583444474,
        "creation_date": 1582023597,
        "last_edit_date": 1583444474,
        "question_id": 60279353,
        "link": "https://stackoverflow.com/questions/60279353/extract-per-example-datetime-from-iot-devices-without-command",
        "title": "extract per example datetime from IoT devices without command",
        "body": "<p>Good morning,\ni need create a project for university about iot, that need sends data from machine to api, and i did some research about it.</p>\n\n<p>But i still confused, because how i send data from machine to api?</p>\n\n<p>I need creat socket program which connect pc(server) to machine that receive their data for after send to api?</p>\n\n<p>I can get data from machine just connecting to her? because i create some socket's program's and i just write data and send, and i want like extract per example datetime from her without command.</p>\n"
    }, {
        "tags": ["apache-kafka", "iot", "kafka-producer-api"],
        "is_answered": false,
        "view_count": 257,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1583423267,
        "creation_date": 1583370454,
        "last_edit_date": 1583422186,
        "question_id": 60536862,
        "link": "https://stackoverflow.com/questions/60536862/how-to-save-in-local-storage-messages-when-kafka-producer-does-not-send-a-messag",
        "title": "How to save in local storage messages when Kafka Producer does not send a message?",
        "body": "<p>I have 120 data producers with Kakfa Producer, they send messages each second and some have sensible data (i mean, we have to send it yes or yes), also these producers sometimes could shutdown or lose internet connection, so I need fault tolerance in the producer. I know there are manners to do send it, syncronous and asyncronous and they persist trying to send data and keep it in memory when does not, but if i want to keep it in disk instead of buffer memory, how could we do it. How could we do to persist in disk the messages if they are not sent? How could we control when Kafka producer throw exceptions?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "cloudant", "watson-iot"],
        "is_answered": true,
        "view_count": 111,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1582223210,
        "creation_date": 1582014855,
        "last_edit_date": 1582223210,
        "question_id": 60276738,
        "link": "https://stackoverflow.com/questions/60276738/watson-iot-dashboard-graphs-cannot-retrieve-information-from-cloudant",
        "title": "Watson IoT: Dashboard graphs cannot retrieve information from cloudant",
        "body": "<p>Continuing with my Watson IoT journey (<a href=\"https://stackoverflow.com/questions/54275906/cant-connect-watson-iot-platform-to-cloudant\">previous episode</a>), I'm trying to add a line graph to my dashboard in order to view historical data in an easy way. But it seems that, with the recent <a href=\"https://developer.ibm.com/iotplatform/2019/11/04/advanced-notice-withdrawal-of-iot-platform-service-extensions/\" rel=\"nofollow noreferrer\">Extension service removal</a>, it is not possible to view historical information in a widget. This is the message I see in the widget configuration page:</p>\n\n<p><a href=\"https://i.stack.imgur.com/V3kP3.png\" rel=\"nofollow noreferrer\">Watson IoT Widget - Cloudant (Image)</a></p>\n\n<p>\"No se han configurado bases de datos en la p\u00e1gina de extensiones\" -> \"No databases have been configured on the extensions page\".</p>\n\n<p>I suppose that the configuration option needs to be modified to the new situation, right? Is there any workaround to solve this problem?</p>\n\n<p>Many thanks for your help and I'm sorry for my simple questions, please be patient with me</p>\n\n<p>Best regards,</p>\n\n<p>Aitor</p>\n"
    }, {
        "tags": ["c", "bluetooth-lowenergy", "iot", "beacon", "altbeacon"],
        "is_answered": true,
        "view_count": 92,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1581374988,
        "creation_date": 1581361206,
        "question_id": 60156739,
        "link": "https://stackoverflow.com/questions/60156739/altbeacon-create-from-custom-bytes-data",
        "title": "AltBeacon - create from custom bytes data",
        "body": "<p>I'm trying to create an AltBeacon using custom data. I saw the AltBeacon protocol format (<a href=\"https://github.com/AltBeacon/spec\" rel=\"nofollow noreferrer\">https://github.com/AltBeacon/spec</a>), but I don't know how to mock data in order to my device will transmit AltBeacon. </p>\n\n<pre><code>   #define ALT_BEACON_DATA_LEN (28)\n\n   static const uint8_t alt_beacon_data[ALT_BEACON_DATA_LEN] = {\n      [0] = 0x1B,          // AD Lenght\n      [1] = 0xFF,          // AD Type\n      [2 ... 3] = 0x0047,        // MGF ID\n      // Alt Beacon ID\n      [26] = 0x11,           // Ref RSSI\n      [27] = 0x05,           // MGF Reserved\n   };\n</code></pre>\n\n<p>Could you help me? How to set bytes in proper way</p>\n"
    }, {
        "tags": ["iot", "contiki"],
        "is_answered": true,
        "view_count": 244,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1579958404,
        "creation_date": 1579777217,
        "last_edit_date": 1592644375,
        "question_id": 59877024,
        "link": "https://stackoverflow.com/questions/59877024/how-to-access-data-packet-details-in-rpls-objective-function-mrhof-in-contikirp",
        "title": "How to access data packet details in rpl&#39;s objective function MRHOF in contikiRPL?",
        "body": "<p>I wants to implement DAG Metric Container objective types such as energy, throughput, latency, hop count in mrhrof objective function in contikirpl. I am trying to get data packet details packet like timestamp of packet send/receive, packets received by immediate parent mote etc.</p>\n<p><strong>Experimental setup:</strong> one sink (mote1) (udp-server.c), three source (mote2,3 &amp; 4) (udp-slient.c)       <em>(..../contiki-3.0/examples/ipv6/rpl-udp).</em></p>\n<p><em>mote1&lt;----&gt;mote2&lt;----&gt;mote3&lt;----&gt;mote4</em></p>\n<p>(1) For counting packets received, i tried very simple code in <strong>neighbor_link_callback()</strong> because this function receives link-layer neighbor information.\n(..contiki-3.0/core/net/rpl/rpl-mrhof.c)</p>\n<p><code> #include &quot;sys/node-id.h&quot;</code>          (included in file to access node-id)</p>\n<pre><code>\n static uint16_t pkt1=0,pkt2=0,pkt3=0;   /* pkt1,2 and 3 store incoming packets for mote2,3 and 4 respectively */  \n\nif(status == MAC_TX_OK)      // pkts transmission successfully \n    {\n      switch (node_id) {\n      case 2:\n         pkt1++;\n        break;\n      case 3:\n        pkt2++;\n        break;\n      case 4:\n        pkt3++;\n        break;\n      default:\n         PRINTF(&quot;Other::error outside of three mote  \\n&quot;); \n        break;\n      }\n     }\n</code></pre>\n<p>The problem with this code is i am getting more number of packets in these variable. i think because of it is storing all types of packets (control and data packets).\n<strong>How to get only data packets in these variable (pkt1,pkt2,pkt3).</strong></p>\n<p>(2) For calculating latency, i want to get send/receiving packet timestamp in mrhrof.c mote wise, but i am only able to get time in udp-server.c and udp-client.c<br />\n<em>(..../contiki-3.0/examples/ipv6/rpl-udp)</em></p>\n<p>For this i wrote following code:\n<strong>udp-client.c</strong></p>\n<p>static uint16_t pkt1_s=0,pkt2_s=0,pkt3_s=0;</p>\n<p>Inside &quot;static void\nsend_packet(void *ptr)&quot;</p>\n<pre><code> pkt_send_time = clock_seconds(); \n\nswitch (node_id) {\n      case 2:\n        PRINTF(&quot;::No of pkt_send::  %u by \\t mote %d at \\t pkt_send_time:: %u  \\n&quot;,++pkt1_s,node_id,pkt_send_time); \n        break;\n      case 3:\n        PRINTF(&quot;::#pkt_send::  %u  \\t  by mote %d at \\t pkt_send_time:: %u  \\n&quot;,++pkt2_s,node_id,pkt_send_time); \n        break;\n      case 4:\n        PRINTF(&quot;::#pkt_send::  %u  \\t by mote %d at \\t pkt_send_time:: %u  \\n&quot;,++pkt3_s,node_id,pkt_send_time); \n        break;\n      default:\n         PRINTF(&quot;::error send pkt outside range  \\n&quot;); \n        break;\n      }\n</code></pre>\n<p>i wrote same type of code for <strong>udp-server.c</strong>.</p>\n<p>Here, i am facing following problems:</p>\n<ol>\n<li>Function clock_seconds() is providing time in second, but i need time in miiliseconds.</li>\n<li>How to get exact timestamp of sending/receiving data packets in rpl-mhrof.c</li>\n</ol>\n"
    }, {
        "tags": ["gps", "iot", "thingsboard", "teltonika"],
        "is_answered": false,
        "view_count": 269,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1579849882,
        "creation_date": 1578482759,
        "question_id": 59644838,
        "link": "https://stackoverflow.com/questions/59644838/connect-a-teltonika-device-to-thingsboard",
        "title": "Connect a Teltonika device to Thingsboard",
        "body": "<p>Currently we are evaluating Thingsboard CE. We have a requirement to connect a Teltonika device (GPS enabled devices) to connect to Thingsboard IoT platform and push the data to it.</p>\n\n<p>Any ideas would be of great help.</p>\n"
    }, {
        "tags": ["networking", "iot", "thingsboard", "thingsboard-gateway"],
        "is_answered": true,
        "view_count": 604,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1579615590,
        "creation_date": 1579180579,
        "last_edit_date": 1579351511,
        "question_id": 59770506,
        "link": "https://stackoverflow.com/questions/59770506/why-do-i-get-error-status405-errormethod-not-allowed-upon-sending-data",
        "title": "Why do I get error (&quot;status&quot;:405,&quot;error&quot;:&quot;Method Not Allowed&quot;) upon sending data to Thingsboard device via command line",
        "body": "<p>I was just sending some data to my device in thingsboard by writing this command on command line</p>\n\n<pre><code>curl -v -X POST -d \"{\\\"temperature\\\": 25}\" http://demo.thingsboard.io/devices/api/v1/IG4XXXXXXXXXCQM/telemetry\n--header \"Content-Type:application/json\"\n</code></pre>\n\n<p>but I get this error message at the last</p>\n\n<pre><code>{\"timestamp\":\"2020-01-16T13:09:05.031+0000\",\"status\":405,\"error\":\"Method Not Allowed\",\"message\":\"Request method 'POST' not supported\",\"path\":\"/devices/api/v1/IG4Dxxxxxxxxxxxxxxxxs6CCQM/telemetry\"}* Connection #0 to host demo.thingsboard.io left intact\n</code></pre>\n\n<p>what's it I am not doing right?\nAll the efforts are appreciated\nFollowing are the documentation and whole error message</p>\n\n<p><a href=\"https://thingsboard.io/docs/getting-started-guides/helloworld/\" rel=\"nofollow noreferrer\">Thingsboard</a></p>\n\n<pre><code>Note: Unnecessary use of -X or --request, POST is already inferred.\n*   Trying 104.196.24.70:80...\n* TCP_NODELAY set\n* Connected to demo.thingsboard.io (104.196.24.70) port 80 (#0)\n&gt; POST /devices/api/v1/IGxxxxxxxs6CCQM/telemetry HTTP/1.1\n&gt; Host: demo.thingsboard.io\n&gt; User-Agent: curl/7.65.1\n&gt; Accept: */*\n&gt; Content-Type:application/json\n&gt; Content-Length: 19\n&gt;\n* upload completely sent off: 19 out of 19 bytes\n* Mark bundle as not supporting multiuse\n&lt; HTTP/1.1 405\n&lt; Allow: GET, HEAD\n&lt; X-Content-Type-Options: nosniff\n&lt; X-XSS-Protection: 1; mode=block\n&lt; Cache-Control: no-cache, no-store, max-age=0, must-revalidate\n&lt; Pragma: no-cache\n&lt; Expires: 0\n&lt; Content-Type: application/json;charset=UTF-8\n&lt; Content-Language: en\n&lt; Transfer-Encoding: chunked\n&lt; Date: Thu, 16 Jan 2020 13:09:04 GMT\n&lt;\n{\"timestamp\":\"2020-01-16T13:09:05.031+0000\",\"status\":405,\"error\":\"Method Not Allowed\",\"message\":\"Request method 'POST' not supported\",\"path\":\"/devices/api/v1/IGxxxxxxxxxxxs6CCQM/telemetry\"}* Connection #0 to host demo.thingsboard.io left intact\n</code></pre>\n"
    }, {
        "tags": ["apache-kafka", "streaming", "iot", "data-ingestion"],
        "is_answered": false,
        "view_count": 44,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1579106697,
        "creation_date": 1579106697,
        "question_id": 59755991,
        "link": "https://stackoverflow.com/questions/59755991/best-tools-technologies-to-ingest-data-from-millions-of-iot-devices-to-kafka-top",
        "title": "Best tools/technologies to ingest data from millions of IOT devices to kafka topic",
        "body": "<p>Could any one suggest best way to ingest millions of messages from IOT devices (sensors/mobile etc) to a kafka topic in my server? Best w.r.t cost, scalability &amp; throughput.\nKafka cluster is hosted in AWS.</p>\n\n<p>We tried devices -> ALB -> NiFi -> Kafka , devices -> ALB -> GO Lang -> Kafka</p>\n\n<p>Any other better architecture?</p>\n\n<p>Thanks\nMH</p>\n"
    }, {
        "tags": ["http", "arduino", "iot", "sim900"],
        "is_answered": false,
        "view_count": 41,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1578833714,
        "creation_date": 1576217464,
        "question_id": 59317054,
        "link": "https://stackoverflow.com/questions/59317054/send-message-from-website-to-sim900-without-sim900-http-request",
        "title": "Send message from website to SIM900 without SIM900 HTTP REQUEST",
        "body": "<p>At the moment I'm working with the Arduino and SIM900, well, I could say I'm intermediate with the SIM, I could accomplish sending data to my website and receiving data from another phone. But now I would need that when I press a toggle button on my website it will send a message to the SIM900, for example, If I check the button it will send 1 if uncheck it, it will send 0. The problem is, I don't know how to start, I already searched up how to send data to the SIM900, But what I always get is the SIM making a request to the server, I would need the server to send the message whenever it is pressed, without the need of the SIM to keep making requests. Will I need an API for this? Please Help</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 308,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1577994101,
        "creation_date": 1577994101,
        "question_id": 59569090,
        "link": "https://stackoverflow.com/questions/59569090/how-to-connect-node-red-flow-to-the-iot-platform-in-ibm-cloud",
        "title": "How to connect Node-RED flow to the IoT Platform in IBM Cloud?",
        "body": "<p>How to connect Node-RED flow to the IoT Platform in IBM Cloud now, since the ibmiot nodes from Node-RED are gone? Almost all Node-RED based IoT tutorials for IBM Cloud referred to IoT Platform starter and those nodes. When running Node-Red in the IBM Cloud, there used to be \"IBM IoT in\" and \"IBM IoT out\" nodes which allowed to easily connect to the IBM Watson IoT platform. But now, they are no longer available. </p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-central"],
        "is_answered": true,
        "view_count": 127,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1576817966,
        "creation_date": 1543074113,
        "last_edit_date": 1576817966,
        "question_id": 53459749,
        "link": "https://stackoverflow.com/questions/53459749/azure-iot-central-complex-rules",
        "title": "Azure IOT Central Complex Rules",
        "body": "<p>I have to create some rules on Azure IOTCentral with some complexity. These device sensors have connectivity issues so some metrics need to be calculated in a time window using statistical methods to get the count of telemetry events that trigger an alert.</p>\n\n<p><strong>Example:</strong> </p>\n\n<p>Agregation window 1 hour, rules will be like taking the mode of sensors values and counting if the reach 10. Other rules should launch the alert with a bigger aggregation window like 12hs</p>\n\n<p>Is there any way to accomplish this?</p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": false,
        "view_count": 1580,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1576628837,
        "creation_date": 1575550011,
        "question_id": 59195537,
        "link": "https://stackoverflow.com/questions/59195537/thingsboards-control-widgets-claim-that-device-is-offline",
        "title": "Thingsboard&#39;s control widgets claim that &quot;Device is offline.&quot;",
        "body": "<p>I got a python program on Raspberry Pi 3B sending data on Thingsboard. The device in Thingsboard is connected as a single entity to the dashboard. When running the program, showing the data on dashboard's charts and cards works, and server-side RPC commands can be sent trough the rule chain. But the control widgets claim that \"Device is offline.\"</p>\n\n<p>Here's the Raspberry's code:</p>\n\n<pre><code>import paho.mqtt.client as mqtt\nimport time\nimport json\nimport random\n\ndef on_message(client, data, message):\n  print json.loads(message.payload)\n\ndef main():\n  client = mqtt.Client(\"python1\")\n\n  client.connected_flag=False\n  client.suppress_puback_flag=False\n\n  client.on_message = on_message\n\n  token=[DEVICE ID]\n  if token !=\"\":\n     pass\n  client.username_pw_set(token, \"\")\n\n  client.connect([MY THINGSBOARD HOST'S IP], 1883)\n  client.subscribe(\"v1/devices/me/attributes\", 1)\n  client.subscribe(\"v1/devices/me/rpc/request/+\", 1)\n  time.sleep(2)\n\n  while not client.connected_flag:\n     client.loop()\n\n  while True:\n      message = {\"number\": random.randint(0, 100)};\n      message_json = json.parse(message)\n\n      client.publish(\"v1/devices/me/telemetry\", message_json, 1)\n      client.loop_start()\n      time.sleep(3)\n      client.loop_stop()\n\nif __name__== '__main__':\n    main()\n</code></pre>\n\n<p>How can I get the control widgets to realize that device is online?</p>\n"
    }, {
        "tags": ["operating-system", "embedded", "iot"],
        "is_answered": true,
        "view_count": 58,
        "favorite_count": 0,
        "closed_date": 1575659427,
        "score": -2,
        "last_activity_date": 1575653409,
        "creation_date": 1575638555,
        "question_id": 59214058,
        "link": "https://stackoverflow.com/questions/59214058/how-to-build-a-system-that-gets-gps-data-from-4000-embedded-devices-and-process",
        "title": "How to build a system that gets GPS data from 4000+ embedded devices and processes it in real time",
        "body": "<p>I want to develop a system that has 4000 embedded devices that send their GPS data every 10 second to the system and this system is expected to handle this amount of data flow and required to perform mathematical operations on these data. I want this system to be open for upgrades so it should handle adding more devices. What kind of devices should I use and what kind of software should they run?\nShould the devices have OS'es or not? If they should what OS should they run? Thank you for your time in advance.</p>\n"
    }, {
        "tags": ["gps", "arm", "iot"],
        "is_answered": false,
        "view_count": 44,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1575354608,
        "creation_date": 1575354608,
        "question_id": 59151316,
        "link": "https://stackoverflow.com/questions/59151316/write-code-in-arm7ej-s-processor-with-rxd-and-txd-pin-possible",
        "title": "Write code in ARM7EJ-S processor with RXD and TXD pin possible?",
        "body": "<p>Currently, I'm working on a Chinese tracking device that has GPS and it tracks my bike and it sends data to an IP address xx.xx.xx.xx now I need to send all data to my own server so that I can track my dog and send push notification to the android phone. RxD pin and TxD pin both can be connected with a jumper wire. Now, how I can program to it myself. At least a start point or a guideline will help a lot. </p>\n\n<p><strong>(This project is only for education purpose only)</strong></p>\n\n<p><a href=\"https://drive.google.com/open?id=1kFXeoE-X--kU7WnW463P6CH5ui0NDXJo\" rel=\"nofollow noreferrer\">a picture of a similar circuit is to have a better idea given here</a></p>\n"
    }, {
        "tags": ["port", "iot", "apache-nifi", "httphandler", "processor"],
        "is_answered": true,
        "view_count": 176,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1574841391,
        "creation_date": 1574179018,
        "last_edit_date": 1574249092,
        "question_id": 58938098,
        "link": "https://stackoverflow.com/questions/58938098/problem-receiving-data-on-handlehttprequest-not-working-properly",
        "title": "problem receiving Data on HandleHTTPRequest not working properly",
        "body": "<p>I have a problem with the HandleHTTPRequest Processor, I'm using it to receive Data from Sensors via a path and a port, the problem is that even If sensors send Data and when using wireshark I see Data coming from sensors to my Integration server in the port assigned  , but the processor doesn't show anything until I restart NIFI , Data reach the processor for some minutes or sometime for 2 days and after it stop again , don't know what is the problem , because restarting Nifi every time is not a good solution for me , someone can help me on that ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/33xbW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33xbW.png\" alt=\"NIFI FLOW\"></a></p>\n"
    }, {
        "tags": ["amazon-web-services", "iot", "amazon-ses", "rules"],
        "is_answered": false,
        "view_count": 100,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1573938652,
        "creation_date": 1567505863,
        "last_edit_date": 1573938652,
        "question_id": 57769652,
        "link": "https://stackoverflow.com/questions/57769652/iot-rule-is-sending-the-messages-to-sns-but-sns-is-unable-to-send-notifications",
        "title": "Iot Rule is sending the messages to SNS but SNS is unable to send notifications",
        "body": "<p>I am writing a rule in IoT core which sends messages to SNS and SQS. In SQS the data is being stored in queue successfully. But SNS is not sending an email. I have followed the same AWS documentation but of no use. I am tried in different accounts and also different email addresses. Can anyone solve this issue</p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": false,
        "view_count": 323,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1573736507,
        "creation_date": 1522852100,
        "last_edit_date": 1522910110,
        "question_id": 49653663,
        "link": "https://stackoverflow.com/questions/49653663/thingsboard-use-case-with-virtual-devices",
        "title": "ThingsBoard use case with virtual devices",
        "body": "<p>I have devices. And the devices are sending raw sensor values to a data collection service. The data collection service persists all sensor events grouped by sensor id and set id.</p>\n\n<p>Now I want to use ThingsBoard to visualize the data. </p>\n\n<p>Is it possible to create virtual devices in ThingsBoard? Each virtual device should represent a sensor and get the data from the existing persistent storage. And I dont want to get all sensor values for all devices. But I want to select a device and a set and then visualize only these values. The data should not be stored in the embedded Cassandra database. Is it possible to load the selected data only in memory? Everytime I select any data, ThingsBoard should pull the selected data again. Or an extra servcie should push the data again. </p>\n"
    }, {
        "tags": ["tomcat", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 139,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1573563231,
        "creation_date": 1573469210,
        "question_id": 58799880,
        "link": "https://stackoverflow.com/questions/58799880/can-i-use-a-tomcat-server-and-mqtt",
        "title": "Can I use a Tomcat Server and MQTT?",
        "body": "<p>A question on style of coding an IoT application.\nI have an IoT app that uses a server side app (Tomcat based) for some validation of data collected. </p>\n\n<p>The client reads some data from a sensor, and sends it to a Tomcat server to validate and get extra data, then publishes the result to an MQTT topic. The Tomcat server does not use MQTT.</p>\n\n<p>I realise it is technically possible for the Tomcat server app to do the MQTT publishing itself, but is it good practice? What are the pitfalls (if any) of this approach?</p>\n\n<p>Similarly, can the Tomcat Server App be a subscriber?</p>\n\n<p>I have a bad gut feeling about doing it this way, but a colleague thinks it will be OK.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "node-red", "watson-iot"],
        "is_answered": true,
        "view_count": 52,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1573119179,
        "creation_date": 1572278596,
        "last_edit_date": 1572278967,
        "question_id": 58594340,
        "link": "https://stackoverflow.com/questions/58594340/unable-to-recieve-data-from-device-in-ibmiotin",
        "title": "Unable to recieve data from device in ibmiotin",
        "body": "<p>I'm using my mobile phone as an IoT device and it does appears in the \"Browse Devices\" section in IBM Watson IoT platform. The events of this device are also getting recorded like below, </p>\n\n<p><code>{\n    \"d\": {\n        \"id\": \"iotdemodev\",\n        \"ts\": 1572278167346,\n        \"lat\": 12.921498,\n        \"lng\": 80.1854588,\n        \"ax\": -0.01,\n        \"ay\": -0.03,\n        \"az\": 0,\n        \"oa\": 0,\n        \"ob\": 0,\n        \"og\": 0\n    }\n}</code></p>\n\n<p>Now in Node-RED I have used like below , the deployment has been successful however there is no message display in the debug. \n<a href=\"https://i.stack.imgur.com/4J3Gv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4J3Gv.png\" alt=\"Node-red configuration\"></a></p>\n"
    }, {
        "tags": ["rest", "iot", "contiki", "coap"],
        "is_answered": false,
        "view_count": 236,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1573073864,
        "creation_date": 1573048575,
        "question_id": 58731799,
        "link": "https://stackoverflow.com/questions/58731799/how-to-implement-coap-observer-with-block2-in-contiki-os",
        "title": "How to implement coap observer with block2 in Contiki OS",
        "body": "<p>I will explain setup first; </p>\n\n<p>Setup: I have a microcontroller board running a Coap rest server (using Contiki OS) with an observable resource and a client (using Coapthon - python library for the Coap) observing that resource running on a Linux SOM. I am successfully able to observe a small amount of data (64 bytes)from the server (microcontroller) to the client (Linux SOM). I will add code at the end after describing everything.     </p>\n\n<p>Question: I need help in sending a big chunk of data (suppose 1024 bytes) from the Coap server to the client observer. How can I do that (thanks in advance for any kind of help, I will appreciate for any help I can get regarding this)?</p>\n\n<p>I am posting Contiki observable resource code and the coapthon client code (I am posting the code which not sending big data). \nContiki Code:</p>\n\n<pre><code>char * temp_payload = \"Behold empty data\";\n\nPERIODIC_RESOURCE(res_periodic_ext_temp_data,\n         \"title=\\\"Temperature\\\";rt=\\\"Temperature\\\";obs\",\n         res_get_handler_of_periodic_ext_temp_data,\n         NULL,\n         NULL,\n         res_delete_handler_ext_temp_data,\n         (15*CLOCK_SECOND),\n         res_periodic_handler_of_ext_temp_data);\n\nstatic void\nres_get_handler_of_periodic_ext_temp_data(void *request, void *response, uint8_t *buffer, uint16_t preferred_size, int32_t *offset)\n{\n    /*\n     * For minimal complexity, request query and options should be ignored for GET on observable resources.\n     * Otherwise the requests must be stored with the observer list and passed by REST.notify_subscribers().\n     * This would be a TODO in the corresponding files in contiki/apps/erbium/!\n     */\n    /* Check the offset for boundaries of the resource data. */\n    if(*offset &gt;= 1024) {\n        REST.set_response_status(response, REST.status.BAD_OPTION);\n        /* A block error message should not exceed the minimum block size (16). */\n        const char *error_msg = \"BlockOutOfScope\";\n        REST.set_response_payload(response, error_msg, strlen(error_msg));\n        return;\n    }\n    REST.set_header_content_type(response, REST.type.TEXT_PLAIN);\n    REST.set_response_payload(response,(temp_payload + *offset), MIN( (int32_t)strlen(temp_payload) - *offset, preferred_size));\n    REST.set_response_status(response, REST.status.OK);\n    /* IMPORTANT for chunk-wise resources: Signal chunk awareness to REST engine. */\n    *offset += preferred_size;\n    /* Signal end of resource representation. */\n    if(*offset &gt;= (int32_t)strlen( temp_payload) + 1) {\n        *offset = -1;\n    }\n    REST.set_header_max_age(response, MAX_AGE);\n}\n</code></pre>\n\n<p>I am not adding code for periodic handler, get handler is getting notified from periodic handler periodically.\nCoapthon code:</p>\n\n<pre><code>def ext_temp_data_callback_observe(response):  \n    print response.pretty_print()\n\ndef observe_ext_temp_data(host, callback):\n    client = HelperClient(server=(host, port))\n    request = Request()\n    request.code = defines.Codes.GET.number\n    request.type = defines.Types[\"CON\"]\n    request.destination = (host, port)\n    request.uri_path = \"data/res_periodic_ext_temp_data\"\n    request.content_type = defines.Content_types[\"text/plain\"]\n    request.observe = 0\n    request.block2 = (0, 0, 64)\n    try:\n        response = client.send_request(request, callback)\n        print response.pretty_print()\n    except Empty as e:\n        print(\"listener_post_observer_rate_of_change({0}) timed out\". format(host))\n</code></pre>\n\n<p>Again, I need help in implementing observer with coap block wise transfer (<a href=\"https://tools.ietf.org/html/rfc7959#page-26\" rel=\"nofollow noreferrer\">https://tools.ietf.org/html/rfc7959#page-26</a>).</p>\n"
    }, {
        "tags": ["iot", "node-red", "cloudant"],
        "is_answered": false,
        "view_count": 24,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1572436299,
        "creation_date": 1572436009,
        "last_edit_date": 1572436299,
        "question_id": 58624683,
        "link": "https://stackoverflow.com/questions/58624683/unable-to-establish-connection-between-cloud-foundary-app-and-cloud-foundary-ser",
        "title": "unable to establish connection between Cloud foundary app and Cloud foundary service in IoT Platform",
        "body": "<p>I have created a node-red and its started. On navigating to the connections section I see the DB is connected and its running however when I navigate to the DB the node connection does not appear over there hence I try to manually create connection and the below error appears, I'm not sure what is it that I'm missing out. I need to connect the node red and my mobile app with this DB only then the data would be flowed into node-red. \n<a href=\"https://i.stack.imgur.com/VC1Hv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VC1Hv.jpg\" alt=\"node-red\"></a></p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": false,
        "view_count": 321,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1571709780,
        "creation_date": 1541475956,
        "last_edit_date": 1541483202,
        "question_id": 53165479,
        "link": "https://stackoverflow.com/questions/53165479/thingsboard-widget-graph-unable-to-show-data-beyond-6-7hours",
        "title": "thingsboard widget graph unable to show data beyond 6-7hours",
        "body": "<p>i've created a custom widget on thingsboard but it's unable to show data beyond 6-7hours. Refer screenshot below.</p>\n\n<p>Tried searching the postgre db tables but unsure where the device telemetry data are stored.. perhaps there is a data capped somewhere..</p>\n\n<p>Any advise please?</p>\n\n<p>Thanks!</p>\n\n<p>screenshot of widget:\n<img src=\"https://i.stack.imgur.com/vL52j.png\" alt=\"screenshot of widget\"></p>\n"
    }, {
        "tags": ["amazon-web-services", "mqtt", "iot", "freertos"],
        "is_answered": false,
        "view_count": 93,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1569792894,
        "creation_date": 1569737523,
        "question_id": 58152760,
        "link": "https://stackoverflow.com/questions/58152760/is-it-possible-to-connect-amazon-freertos-windows-simulator-to-local-machine-bro",
        "title": "Is it possible to connect Amazon FreeRTOS Windows Simulator to local machine broker?",
        "body": "<p>It is easy to send data from amazon FreeRTOS windows simulator to aws MQTT broker.\nBut I want to send data from amazon FreeRTOS windows simulator to local machine broker.\nIs there any way to do that?</p>\n"
    }, {
        "tags": ["iot", "node-red"],
        "is_answered": true,
        "view_count": 1442,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1568076234,
        "creation_date": 1551184626,
        "last_edit_date": 1551185909,
        "question_id": 54885757,
        "link": "https://stackoverflow.com/questions/54885757/how-to-change-path-to-node-red-dashboard",
        "title": "How to change path to Node-RED Dashboard",
        "body": "<p>By default the Node-RED Dashboard UI lives on the <a href=\"http://example.com:1880/ui\" rel=\"nofollow noreferrer\">http://example.com:1880/ui</a> route and the Node-RED editor lives on <a href=\"http://example.com/\" rel=\"nofollow noreferrer\">http://example.com/</a>.</p>\n\n<p>I would like to move the Dashboard UI to <a href=\"http://example.com/\" rel=\"nofollow noreferrer\">http://example.com/</a> and the editor to another path.</p>\n"
    }, {
        "tags": ["sql", "azure", "iot", "sensors", "azure-logic-apps"],
        "is_answered": false,
        "view_count": 288,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1567758661,
        "creation_date": 1567756943,
        "last_edit_date": 1567758661,
        "question_id": 57817981,
        "link": "https://stackoverflow.com/questions/57817981/after-running-my-logic-app-it-shows-some-error-message-as-we-couldnt-convert",
        "title": "After running my logic app, it shows some error message as&quot; &quot;We couldn&#39;t convert to Number.\\r\\n &quot;",
        "body": "<p>I am collecting data from sensors and upload to AZURE cosmo. My logic app on AZURE keep failing and show the following message</p>\n\n<pre><code>{\n  \"status\": 400,\n  \"message\": \"We couldn't convert to Number.\\r\\n     inner exception: We \n  couldn't convert to Number.\\r\\nclientRequestId:xxxxxxx\",\n  \"source\": \"sql-ea.azconn-ea.p.azurewebsites.net\"\n}\n</code></pre>\n\n<p>Below are the input data from cosmo. I saw that the input data has shown \"ovf\" and \"inf\". I have tried convert the data type of that column to other data type like bigiant and numeric and resubmitted. Still did not fixed that. </p>\n\n<pre><code>{\n  \"Device\": \"DL084\",\n  \"Device_Group\": \"DLL\",\n  \"Time\": \"2019-09-04T11:45:20.0000000\",\n  \"acc_x_avg\": \"ovf\",\n  \"acc_x_stdev\": \"inf\",\n  \"acc_y_avg\": \"3832.88\",\n  \"acc_y_stdev\": \"2850.45\",\n  \"acc_z_avg\": \"13304.38\",\n  \"acc_z_stdev\": \"2289.86\",\n  \"cc_volt\": \"3.900293\",\n  \"cp_volt\": \"1.940371\",\n  \"fp_volt\": \"0.718475\",\n  \"id\": \"xxxxxxxxxxxxxxxxxxxx\",\n  \"ls_volt\": \"4.882698\",\n  \"millis\": \"1073760.00\",\n  \"rs_rpm\": \"0.00\",\n  \"smp_volt\": \"1.070381\"\n}\n</code></pre>\n\n<p>I have also tried to convert the data to string. And it will show </p>\n\n<pre><code>\"Failed to execute query. Error: Operand type clash: numeric is \nincompatible with ntext\"\n</code></pre>\n\n<p>The question is how can I eliminate this error? How can I know the error is definitely due to the \"inf\" and \"ovf\" error?</p>\n\n<p>The logic app code is as below</p>\n\n<pre><code>    \"definition\": {\n        \"$schema\": \"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#\",\n        \"actions\": {\n            \"For_each\": {\n                \"actions\": {\n                    \"Delete_a_document\": {\n                        \"inputs\": {\n                            \"host\": {\n                                \"connection\": {\n                                    \"name\": \"@parameters('$connections')['documentdb']['connectionId']\"\n                                }\n                            },\n                            \"method\": \"delete\",\n                            \"path\": \"/dbs/@{encodeURIComponent('iot')}/colls/@{encodeURIComponent('messages')}/docs/@{encodeURIComponent(items('For_each')['id'])}\"\n                        },\n                        \"runAfter\": {\n                            \"Insert_row\": [\n                                \"Succeeded\"\n                            ]\n                        },\n                        \"type\": \"ApiConnection\"\n                    },\n                    \"Insert_row\": {\n                        \"inputs\": {\n                            \"body\": {\n                                \"Device\": \"@{item()['device']}\",\n                                \"Device_Group\": \"@{items('For_each')['devicegroup']}\",\n                                \"Time\": \"@{addHours(addSeconds('1970-01-01 00:00:00', int(items('For_each')['time'])), 8)}\",\n                                \"acc_x_avg\": \"@items('For_each')['acc_x_avg']\",\n                                \"acc_x_stdev\": \"@items('For_each')['acc_x_stdev']\",\n                                \"acc_y_avg\": \"@items('For_each')['acc_y_avg']\",\n                                \"acc_y_stdev\": \"@items('For_each')['acc_y_stdev']\",\n                                \"acc_z_avg\": \"@items('For_each')['acc_z_avg']\",\n                                \"acc_z_stdev\": \"@items('For_each')['acc_z_stdev']\",\n                                \"cc_volt\": \"@items('For_each')['cc_volt']\",\n                                \"cp_volt\": \"@items('For_each')['cp_volt']\",\n                                \"fp_volt\": \"@items('For_each')['fp_volt']\",\n                                \"id\": \"@{guid()}\",\n                                \"ls_volt\": \"@items('For_each')['ls_volt']\",\n                                \"millis\": \"@items('For_each')['millis']\",\n                                \"rs_rpm\": \"@items('For_each')['rs_rpm']\",\n                                \"smp_volt\": \"@items('For_each')['smp_volt']\"\n                            },\n                            \"host\": {\n                                \"connection\": {\n                                    \"name\": \"@parameters('$connections')['sql']['connectionId']\"\n                                }\n                            },\n                            \"method\": \"post\",\n                            \"path\": \"/datasets/default/tables/@{encodeURIComponent(encodeURIComponent('[dbo].[RCD]'))}/items\"\n                        },\n                        \"runAfter\": {},\n                        \"type\": \"ApiConnection\"\n                    }\n                },\n                \"foreach\": \"@body('Query_documents')?['Documents']\",\n                \"runAfter\": {\n                    \"Query_documents\": [\n                        \"Succeeded\"\n                    ]\n                },\n                \"type\": \"Foreach\"\n            },\n            \"Query_documents\": {\n                \"inputs\": {\n                    \"body\": {\n                        \"query\": \"SELECT \\t\\t    * \\nFROM \\t\\t\\tc \\nWHERE \\t\\t\\tc.devicegroup = 'DLL' ORDER BY c._ts\"\n                    },\n                    \"headers\": {\n                        \"x-ms-max-item-count\": 1000\n                    },\n                    \"host\": {\n                        \"connection\": {\n                            \"name\": \"@parameters('$connections')['documentdb']['connectionId']\"\n                        }\n                    },\n                    \"method\": \"post\",\n                    \"path\": \"/dbs/@{encodeURIComponent('iot')}/colls/@{encodeURIComponent('messages')}/query\"\n                },\n                \"runAfter\": {},\n                \"type\": \"ApiConnection\"\n            }\n        },\n        \"contentVersion\": \"1.0.0.0\",\n        \"outputs\": {},\n        \"parameters\": {\n            \"$connections\": {\n                \"defaultValue\": {},\n                \"type\": \"Object\"\n            }\n        },\n        \"triggers\": {\n            \"Recurrence\": {\n                \"recurrence\": {\n                    \"frequency\": \"Minute\",\n                    \"interval\": 30\n                },\n                \"type\": \"Recurrence\"\n            }\n        }\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot", "ibm-watson", "watson-iot"],
        "is_answered": false,
        "view_count": 50,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1566216622,
        "creation_date": 1565863749,
        "last_edit_date": 1566216622,
        "question_id": 57508087,
        "link": "https://stackoverflow.com/questions/57508087/cannot-visualize-data-in-ibm-watson-iot-platform",
        "title": "Cannot visualize data in IBM Watson IoT Platform",
        "body": "<p>I have a TI sensortag CC2650 connected to a Raspberry Pi using Node-Red and I have connected them to IBM Watson IoT output.</p>\n\n<p>I am trying to create a card in a board in IBM Watson IoT Platform in order to see the data but when I click on <em>\"boards\" => \"Usage overview\"</em> I get the following error:  </p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'alert' of undefined at <a href=\"https://orgID.internetofthings.ibmcloud.com/bundle.main.4dd68f5c0fb0629c2282.js:4:599791\" rel=\"nofollow noreferrer\">https://orgID.internetofthings.ibmcloud.com/bundle.main.4dd68f5c0fb0629c2282.js:4:599791</a></p>\n</blockquote>\n\n<p>(orgID is my organization ID)</p>\n"
    }, {
        "tags": ["python", "python-3.x", "iot", "scapy", "pyshark"],
        "is_answered": false,
        "view_count": 465,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1565846418,
        "creation_date": 1564745843,
        "last_edit_date": 1565846418,
        "question_id": 57325755,
        "link": "https://stackoverflow.com/questions/57325755/how-to-extract-raw-data-from-pcap-file-which-of-6lowpan-or-ieee-802-15-4-using-p",
        "title": "How to extract RAW data from PCAP file which of 6LoWPAN or IEEE 802.15.4 using python/ scapy?",
        "body": "<p>I am trying to extract the data from 6LoWPAN support device type. Able to retrieve raw data only. </p>\n\n<p>I tried using Scapy and pypcapkit. Both are providing src, dst, type and raw data only.</p>\n\n<pre><code>&gt;&gt;from scapy.all import *\n&gt;&gt;pcap = rdpcap(\"/content/sample.pcap\")\n\n&gt;&gt;pcap\noutput as: &lt;sample.pcap: TCP:0 UDP:0 ICMP:0 Other:252&gt;\n\n&gt;&gt;pcap[0]\noutput as:&lt;Ether  dst=xx:xx:xx:xx:xx:xx src=xx:xx:xx:xx:xx:xx type=0x809a |&lt;Raw  load='A\\xd8\\xbdxV\\xff\\xff\\x8bRk\\x02ece.......\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/j5cFa.png\" rel=\"nofollow noreferrer\">code snap shot</a></p>\n\n<p>expecting extracted data as <a href=\"https://i.stack.imgur.com/A3gll.png\" rel=\"nofollow noreferrer\">Wireshark data</a></p>\n\n<hr>\n\n<h2>Update 1:</h2>\n\n<p>I tried jNetPcap, pcap4j. But nothing helped out.\nWhen i tried pyshark. It is able to project the data.\nBut there is problem i am facing now packet.6lowpan is not allowing by python parser, variable should not start with integer.</p>\n\n<p>Ex: <code>pcap = pyshark.FileCapture(\"xxxx//xx//xxxx.pcapng\")\n    for pkt in pcap:\n        print(pkt.6lowpan)</code></p>\n\n<p>syntax error...</p>\n\n<hr>\n\n<h2>Update 2:</h2>\n\n<p>pkt.6lowpan issue resolved by using pkt[\"6lowpan\"]... Ref <a href=\"https://github.com/KimiNewt/pyshark/issues/361\" rel=\"nofollow noreferrer\">solution by pyshark Team</a></p>\n\n<p>Updating the content, may help some other.</p>\n"
    }, {
        "tags": ["google-cloud-platform", "raspberry-pi3", "iot", "google-cloud-pubsub", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 512,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1565822895,
        "creation_date": 1563755570,
        "question_id": 57137995,
        "link": "https://stackoverflow.com/questions/57137995/how-to-send-sensor-data-like-temperature-data-from-dht11-sensor-to-google-clou",
        "title": "How to send sensor data (like temperature data from DHT11 sensor) to Google Cloud IoT Core and store it",
        "body": "<p>I am working on connecting a Raspberry Pi (3B+) to Google Cloud and send sensor's data to Google IoT Core. But I couldn't find any content in this matter. I will be so thankful, if anyone would help me, in dealing with the same.</p>\n\n<p>PS: I have already followed the interactive tutorial from Google Cloud itself and connected a simulated virtual device to Cloud and sent data. I am really looking for a tutorial, that helps me in connecting physical Raspberry Pi. </p>\n\n<p>Thank you</p>\n"
    }, {
        "tags": ["c#", "azure", "iot"],
        "is_answered": false,
        "view_count": 53,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1565028290,
        "creation_date": 1565017024,
        "last_edit_date": 1565028290,
        "question_id": 57361187,
        "link": "https://stackoverflow.com/questions/57361187/cloud-message-does-not-receive-on-console",
        "title": "Cloud message does not receive on console?",
        "body": "<pre><code>using System;\nusing System.Text;\nusing System.Threading.Tasks;\n\nnamespace eNtsaIOTMqttApp\n{\n    class Program\n    {\n\n        // you can get DeviceConnectionString from your IoT hub\n\n        private const string DeviceConnection = \"HostName=eNstaIot.azure-devices.net;DeviceId=GcobaniTesting1;SharedAccessKey=*********\";\n        static ServiceClient serviceClient;\n        static void Main(string[] args)\n        {\n            serviceClient = serviceClient.CreateFromConnectionString(DeviceConnectionString);\n            Program prog = new Program();\n        }\n\n        public Program() {\n            DeviceClient deviceClient = DeviceClient.CreateFromConnectionString(DeviceConnectionString);\n            SendEvent().Wait();\n            ReceiveCommands(deviceClient).Wait();\n        }\n\n        // This method is responsible for sending Event to Iot Hub.\n\n        static async Task SendEvent()\n        {\n            string dataBuffer = \"IOT in 90 seconds\";\n            Microsoft.Azure.Devices.Message eventMessage = new Microsoft.Azure.Devices.Messages(Encoding.ASCII);\n            await serviceClient.SendAysnc(\"GcobaniTesting1\", eventMessage);\n\n        }\n\n        // this method is responbile for receive message on the IOT hub.\n        async TaskReceiveCommands(DeviceClient deviceClient)\n        {\n            Console.WriteLine(\"\\nDevice waiting for IoT hub command...\\n\");\n            Microsoft.Azure.Devices.Client.Message receiveMessage;\n            string messageData;\n            while (true)\n            {\n                receiveMessage = await deviceClient.ReceiveAsync(TimeSpan.FromSeconds(1));\n                if(receiveMessage != null)\n                {\n                    messageData = Encoding.ASCII.GetString(receiveMessage.GetBytes());\n                    Console.WriteLine(\"\\t{0}&gt; Message received: {1}\", DateTime.Now.ToLocalTime(),messageData);\n                    await deviceClient.CompleteAsync(receiveMessage);\n                }\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>Why am i not receive the message on my console when i am running this console application? I do get iot device, but when i send message from iot hub i dont get on visual studio.\nis there some useful link to this rule?</p>\n"
    }, {
        "tags": ["uwp", "iot", "windows-10-iot-core"],
        "is_answered": false,
        "view_count": 436,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1565021470,
        "creation_date": 1565006161,
        "last_edit_date": 1565021470,
        "question_id": 57358125,
        "link": "https://stackoverflow.com/questions/57358125/windows-iot-core-send-recieve-data-to-umwatson-trafficmanager-net",
        "title": "Windows IOT core send recieve data to \u201cumwatson.trafficmanager.net\u201d",
        "body": "<p>I wrote a program to transfer data from a Windows IOT core device to my server via 4G router (a sim card in it). at first I find the network costs nearly 10m per day, which is far more than I send. I close some services including autoupdate service, push message service, and the network costs reduce to 400+k a day. But I still can see the IOT device send receive data from \"umwatson.traffic.net\", some data packages are nearly 5000 bytes long. My question is what that site is for, and how can I set the system to avoid send receive data from that address?</p>\n\n<p><a href=\"https://i.stack.imgur.com/dSVUP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dSVUP.png\" alt=\"Message analyzer screen shot\"></a></p>\n"
    }, {
        "tags": ["iot", "thingsboard", "thingsboard-gateway"],
        "is_answered": false,
        "view_count": 57,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1564741561,
        "creation_date": 1564741561,
        "question_id": 57324602,
        "link": "https://stackoverflow.com/questions/57324602/how-thingsboard-servers-in-a-cluster-communicates-with-each-other",
        "title": "How ThingsBoard servers in a cluster communicates with each other?",
        "body": "<p>Currently, I am doing some R&amp;D on Thingsboard IOT platform. I am planning to deploy it in cluster mode. </p>\n\n<p>When it is deployed, how two Thingsboard servers communicate with each other?</p>\n\n<p>I got this problem in my mind because a particular device can send a message to one Thingsboard server (A) but actually, the message might need to be transferred to another server (B) since a node in the B server is processing that particular device's messages (As I know Thingsboard nodes uses a device hash to handle messages). </p>\n\n<p>How Kafka stream forward that message accordingly when in a cluster?</p>\n\n<p>I read the official documentation and did some googling. But couldn't find exact answers.</p>\n"
    }, {
        "tags": ["python", "raspberry-pi", "sandbox", "iot", "kaa"],
        "is_answered": false,
        "view_count": 479,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1563191260,
        "creation_date": 1508659158,
        "question_id": 46871792,
        "link": "https://stackoverflow.com/questions/46871792/how-to-connect-a-programmed-raspberry-pi-to-a-kaa-platform",
        "title": "how to connect a programmed raspberry pi to a Kaa platform?",
        "body": "<p>I have some sensor nodes. they are connected to a Raspberry Pi 2 and send data on it. the data on Raspberry Pi is sending the data to Thingspeak.com and it shows the data from sensor nodes. \nnow I am developing a Kaa server and wanna see my data (from Raspberry Pi) on Kaa. is there any chance to connect the current programmed Raspberry Pi(in Python) to Kaa? \nMany thanks, \nShid </p>\n"
    }, {
        "tags": ["iot", "raspberry-pi2", "thingsboard"],
        "is_answered": true,
        "view_count": 305,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1562327202,
        "creation_date": 1528991950,
        "last_edit_date": 1529033215,
        "question_id": 50861607,
        "link": "https://stackoverflow.com/questions/50861607/does-raspberry-pi-2-support-thingsboard-iot-platform",
        "title": "does raspberry pi 2 support thingsboard IOT platform?",
        "body": "<p>I want to know whether Raspberry Pi 2 support ThingsBoard platform? Can I just follow the steps of installing ThingsBoard for RPi3 and will it work for RPi2 also?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-central"],
        "is_answered": true,
        "view_count": 248,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1561977947,
        "creation_date": 1558459457,
        "last_edit_date": 1558462190,
        "question_id": 56243501,
        "link": "https://stackoverflow.com/questions/56243501/rule-to-check-when-device-stops-sending-messages-to-iot-central",
        "title": "Rule to check when device stops sending messages to IoT Central",
        "body": "<p>I want to create a rule to check when my device stops sending messages to IoT Central. </p>\n\n<p>For example, when I have a power outage and my device stops working I want to be able to fire an action: send email, run an Azure Function, etc.</p>\n\n<p>I was thinking of creating a command to send a message to my device and then try to read it back. Then I would create a job to run this command but this doesn't seem to be right way to deal with this.</p>\n\n<p>Is that possible? What should I do?</p>\n\n<p><strong>EDIT</strong>\nI already have some telemetry information being sent from my device to the cloud. If I was able to calculate the time past since the last message, I could create a rule (ex.: When time is greater than X) to fire an action.</p>\n"
    }, {
        "tags": ["python", "pandas", "iot"],
        "is_answered": false,
        "view_count": 273,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1561291863,
        "creation_date": 1561277167,
        "question_id": 56722091,
        "link": "https://stackoverflow.com/questions/56722091/mask-function-doesnt-get-rid-of-unwanted-data",
        "title": "mask function doesn&#39;t get rid of unwanted data",
        "body": "<p>I'm working on a data frame taken from Adafruit IO and sadly some of my data is from a time when my project malfunctioned so some of the values are just equal NaN.</p>\n\n<p>I tried to remove it by typing this code lines:</p>\n\n<pre><code>    onlyValidData=temp_data.mask(temp_data['value'] =='NaN')\n    onlyValidData\n</code></pre>\n\n<p>This is data retreived from Adafruit IO Feed, getting analyzed by pandas, I tried using 'where' function too but it didn't work</p>\n\n<p>my entire code is</p>\n\n<pre><code>import pandas as pd\n\ntemp_data = pd.read_json('https://io.adafruit.com/api/(...)')\nlight_data = pd.read_json('https://io.adafruit.com/api/(...)')\ntemp_data['created_at'] =  pd.to_datetime(temp_data['created_at'], infer_datetime_format=True)\n\ntemp_data = temp_data.set_index('created_at')\n\nlight_data['created_at'] =  pd.to_datetime(light_data['created_at'], infer_datetime_format=True)\nlight_data = light_data.set_index('created_at')\n\ntempVals = pd.Series(temp_data['value'])\nlightVals = pd.Series(light_data['value'])\n\nonlyValidData=temp_data.mask(temp_data['value'] =='NaN')\nonlyValidData\n</code></pre>\n\n<p>The output is all of my data for some reason, but it should be only the valid values.</p>\n"
    }, {
        "tags": ["http", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 224,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1557223008,
        "creation_date": 1557219351,
        "last_edit_date": 1557223008,
        "question_id": 56018936,
        "link": "https://stackoverflow.com/questions/56018936/sim5320e-post-request-with-large-data-is-slow",
        "title": "SIM5320E - POST request with large data is slow",
        "body": "<p>I have built a prototype using a raspberry and a sim5320E module. The goal is to send a large amount of data (~100Kb) through HTTP using this 3G module.</p>\n\n<p>I have followed the instructions specified in section 16.5 (HTTPS) of the AT Command set for the SIM5320:\n<a href=\"http://AT%20command%20set\" rel=\"nofollow noreferrer\">https://cdn-shop.adafruit.com/datasheets/SIMCOM_SIM5320_ATC_EN_V2.02.pdf</a></p>\n\n<p>And it worked fine, except that it is slow.</p>\n\n<p>From what I understand from the documentation (and seen from my tests), the data to be sent must be divided in chunks of max 4096 bytes.</p>\n\n<p>Every chunk must be sent to what is called the \"sending buffer\" using the command AT+CHTTPSSEND.</p>\n\n<p>Every now and then, we must check that the sending buffer does not have too much data in cache using the AT+CHTTPSSEND? command.</p>\n\n<p>The last AT+CHTTPSSEND command commits all sending data.</p>\n\n<p>My problem is that every AT+CHTTPSSEND takes around 10 seconds to complete, which means that my HTTP request will take around 250 seconds to complete. </p>\n\n<p>Anybody knows what might cause this slowness?</p>\n\n<p>Here is some code to illustrate the issue:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    def send_chunk(self, chunk):\n\n        # Send chunk\n        self._send('CHTTPSSEND={}'.format(len(chunk)), wait_for=\"&gt;\")\n        self._send_raw(chunk.encode())\n\n        # Check how much data is left in the sending buffer\n        # Wait for this data to be under 3Kb\n        data_left = 3001\n        while data_left &gt; 3000:\n            response = self._send('CHTTPSSEND?', wait_for=\"+CHTTPSSEND:\")\n            data_left = int(response.strip().split(\" \")[1])\n            time.sleep(2)\n\n</code></pre>\n\n<p>And here are the logs I get:</p>\n\n<pre><code>&gt;&gt; AT+CHTTPSSEND=4096     -&gt; This commands takes ~10 seconds\n&lt;&lt; &gt;\n&gt;&gt; Sending chunk of data\n&lt;&lt; OK\n&gt;&gt; AT+CHTTPSSEND?\n&lt;&lt; +CHTTPSSEND: 0\n</code></pre>\n"
    }, {
        "tags": ["c#", ".net", "azure", "iot"],
        "is_answered": false,
        "view_count": 21,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1556623563,
        "creation_date": 1551821289,
        "question_id": 55011873,
        "link": "https://stackoverflow.com/questions/55011873/azure-iot-logic-component",
        "title": "Azure Iot Logic Component",
        "body": "<p>I have a sensor that collects temperature data and sends it to my Iot Hub. This data must be evaluated. In some cases, the data must be sent to another device. Currently, I have a C# console application that does the job. It subscribes to my Iot Hub and reads the data from my partitions. As far as I understood, there must be an Azure component that should be used instead of a console application. My question is, what component can be used in order to receive data from an IoT device in order to process the data?</p>\n\n<p>Thanks in advance!</p>\n"
    }, {
        "tags": ["arduino", "iot", "webhooks", "esp8266"],
        "is_answered": false,
        "view_count": 339,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1555494190,
        "creation_date": 1554799998,
        "last_edit_date": 1555494190,
        "question_id": 55588751,
        "link": "https://stackoverflow.com/questions/55588751/how-to-post-to-a-ms-teams-webhook-from-esp8266",
        "title": "How to post to a MS-teams webhook from Esp8266?",
        "body": "<p>I have an ESP8266 and want to send messages to a MS-Teams channel. In the future I want to send temperature data but for now I am okay with whatever.\nRight now I can connect to the host but it will not send any data to the team and it gives no error.\nIt works without any problems from Postman and the webhook also works from Python. </p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include \"ESP8266HTTPClient.h\"\n#include \"ESP8266WiFi.h\"\n#include &lt;ArduinoJson.h&gt;\n#include &lt;WiFiClientSecure.h&gt;\n\nvoid setup() {\n  Serial.begin(9600);                                  //Serial connection\n  WiFi.begin(\"\", \"\"); //WiFi connection\n  while (WiFi.status() != WL_CONNECTED) { //Wait for the WiFI connection completion \n    delay(500);\n    Serial.println(\"Waiting for connection\");\n  }\n}\n\nvoid MicrosoftTeams() {\n  char host[] = \"outlook.office.com\"; //Specify request destination\";\n  WiFiClient client;\n  if (client.connect(host, 443)) {\n    Serial.println(\"connected\");\n\n    String url = \"/webhook/Webhookcode\";\n    char json[] = \"{  \\\"@context\\\": \n \\\"https://schema.org/extensions\\\",\\\"@type\\\": \n \\\"MessageCard\\\",\\\"themeColor\\\": \\\"0072C6\\\",\\\"title\\\": \n \\\"meddelande\\\",\\\"text\\\": \\\"Hello!!\\\"}\";\n    int len = strlen(json);\n\n    String Output = \"POST \" + url + \" HTTP/1.1\\r\\n\" +\n                    \"Host: \" + host + \"\\r\\n\" +\n                    \"Content-Type: application/json\\r\\n\" +\n                    \"User-Agent: arduino/1.0\\r\\n\" +\n                    \"Content-Length: \" + len + \"\\r\\n\" +\n                    \"\\r\\n\" +\n                    json + \"\\n\";\n\n    client.print(Output);\n    while (client.available()) {\n      String line = client.readStringUntil('\\r');\n      Serial.print(line);\n    }\n  }\n}\n\nvoid loop() {\n  if (WiFi.status() == WL_CONNECTED) { //Check WiFi connection status\n    MicrosoftTeams();\n  } else {\n    Serial.println(\"Error in WiFi connection\");\n  }\n  delay(30000); //Send a request every 30 seconds\n}\n</code></pre>\n\n<p><strong>Update:</strong>\nIve tested the following function and it works in this test example but not the real case. If i change the WiFiClient to WiFiClientSecure everything stops working.</p>\n\n<pre><code>void WifiCliwaySecure()\n{\n  //Work\n      WiFiClient  client;\n  const int httpPort = 80;\n  // //Doenst work\n  //   WiFiClientSecure  client;\n  // const int httpPort = 443;\n  char host[] = \"ptsv2.com\";\n  if (!client.connect(host, httpPort)) {\n    Serial.println(\"connection failed\");\n    return;\n  }\n\n    String url = \"/t/erzs7-1555484154/post\";\n   Serial.print(\"Requesting POST: \");\n   // Send request to the server:\n String data = \"{ \\\"title\\\": \\\"meddelande\\\",\\\"text\\\": \\\"Hall\u00e5 alla bk!!\\\"}\";\n  client.print(String(\"POST \") + url + \" HTTP/1.1\\r\\n\" +\n               \"Host: \" + host + \"\\r\\n\" +\n               \"User-Agent: BuildFailureDetectorESP8266\\r\\n\" +\n               \"Content-Length: \" + data.length() + \"\\r\\n\" +\n               \"Content-Type: application/json\\r\\n\" +\n               \"\\r\\n\" + \n               data +\n               \"\\r\\n\");\nSerial.print(\"url Send\");\n\n   delay(500); // Can be changed\n  if (client.connected()) { \n    client.stop();  // DISCONNECT FROM THE SERVER\n  }\n  Serial.println();\n  Serial.println(\"closing connection\");\n}\n</code></pre>\n"
    }, {
        "tags": ["arduino", "apache-kafka", "iot"],
        "is_answered": true,
        "view_count": 6494,
        "favorite_count": 3,
        "closed_date": 1555428812,
        "score": 8,
        "last_activity_date": 1555426852,
        "creation_date": 1442912901,
        "question_id": 32712910,
        "link": "https://stackoverflow.com/questions/32712910/push-sensor-data-from-arduino-to-apache-kafka-server-directly",
        "title": "Push sensor data from arduino to apache kafka server directly.",
        "body": "<p>I am new to Internet Of things. I have pushed temperature data to mosquito server and successfully consumed all data. Now I want to push data from arduino to kafka server and consume from kafka. Is there any kafka library for arduino?\nWhat architecture will be suitable for scaling mqqt using apache kafka?</p>\n\n<p>Thanks </p>\n"
    }, {
        "tags": ["ibm-cloud", "mqtt", "iot", "mendix"],
        "is_answered": true,
        "view_count": 199,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1555349554,
        "creation_date": 1555315640,
        "last_edit_date": 1555326082,
        "question_id": 55684883,
        "link": "https://stackoverflow.com/questions/55684883/how-to-subscribe-for-device-events-in-mendix",
        "title": "How to subscribe for device events in Mendix?",
        "body": "<p>I have a device on IBM cloud IoT platform and I want to subscribe mendix to its events... I am using <a href=\"https://appstore.home.mendix.com/link/app/3066/\" rel=\"nofollow noreferrer\">MQTT client</a> form mendix app store for subscribing to device events.</p>\n\n<p><strong>Project Explorer:</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/IGRAr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IGRAr.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Micro Flow</strong>\n<a href=\"https://i.stack.imgur.com/lBnVs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lBnVs.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>MQTT Subscription</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/6Vg5e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Vg5e.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have also debug the micro-flow it is giving me value of output variable named <code>variable</code> = <code>false</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/uYAGy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uYAGy.png\" alt=\"enter image description here\"></a></p>\n\n<p>and I have noticed that whenever app is started it is logs </p>\n\n<blockquote>\n  <p>subscribe: iot-2/type/TemperatureSensorSimulator/id/TemperatureSensorSimulator_1/mon\n  as highlighted in micro-flow screenshot.</p>\n</blockquote>\n\n<p>All I want is my mendix app to be subscribed to a device on IBM watson IoT platform and show me events sent by device to IBM IoT platform. Can Anyone tell me how can I do this in mendix?</p>\n\n<p>I have already subscribed to events in nodejs app everything is fine. App is showing me events in log. I think I am doing something wrong in mendix micro-flow. I have pasted all the screenshots here. Any help in this regard will be highly appreciated</p>\n\n<p>Thanks in Advance. </p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "mxchip"],
        "is_answered": true,
        "view_count": 88,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1554901293,
        "creation_date": 1554445009,
        "question_id": 55529280,
        "link": "https://stackoverflow.com/questions/55529280/mxchip-iot-dev-kit-receiving-data-from-iot-hub",
        "title": "Mxchip IOT dev kit receiving data from IOT hub",
        "body": "<p>I just started playing with the mxchip. I want my device to trigger an alarm when receiving some command. It seems to me all examples I found are device collecting info and send to iot hub. Can mxchip receive data from iothub or azure function? And maybe some guidance on getting started?</p>\n"
    }, {
        "tags": ["javascript", "node.js", "mongodb", "socket.io", "iot"],
        "is_answered": true,
        "view_count": 2556,
        "favorite_count": 0,
        "score": 5,
        "last_activity_date": 1554668800,
        "creation_date": 1542297760,
        "last_edit_date": 1554668800,
        "question_id": 53323371,
        "link": "https://stackoverflow.com/questions/53323371/how-many-events-can-socket-io-handle",
        "title": "How many events can socket.io handle?",
        "body": "<p>I was trying Socket.io (server and client) for my personal project. As it is my first try with node.js even javascript and mongodb I am bit confused about performance of my server.</p>\n\n<p>I have created a complex real time system with many events and many rooms. Server have very limited events but clients have too many events. These events are distributed under rooms. </p>\n\n<p>For example - </p>\n\n<ul>\n<li><p>Room R1 >>\nEvent R1E1,\nEvent R1E2,\nEvent R1E3....\nEvent R1EN</p></li>\n<li><p>Room R2 >>\nEvent R2E1,\nEvent R2E2,\nEvent R2E3....\nEvent R2EN</p></li>\n</ul>\n\n<p>All the data is stored in mongodb. Working awesome.</p>\n\n<p>But issue arise when few clients (5-8) with 10-15 events registered start sending data. Server initially works fine but after couple of minutes it stops responding. Clients stay connected even server is not responding.  Requests are pile up. Sometime server receive last sessions request.</p>\n\n<p>It all start when the ultimate device start registering events. <strong>So I want to know how many events a socket.io can handle ?</strong></p>\n\n<p><strong>P.S.</strong> Here what I think \"event\" is -</p>\n\n<pre><code>io.on('event', function(msg){\n    console.log( msg);\n});\n</code></pre>\n\n<p><strong>Edit 2</strong></p>\n\n<p>As I studied about node.js, a node is basically a process which runs on a single thread, if it requires to process other things it starts another node (an async thread), leaves new thread alone doing it's process and return to main thread running. If we want to process some sequences of process we use \"async/await\". </p>\n\n<p>In my case I am using async at only one place when client first connect. Here I query 3 different collections of mongodb and return the data on an event.</p>\n\n<p>My server is currently running on a MacBook pro (16 GB RAM, i7 6th gen quad core). It should handle at least 4-6 concurrent threads.</p>\n\n<p>I have created a load test, 100000 different events distributed under 1000 rooms with 5 request per second querying db. It was working fine. Almost 40% RAM and 250% CPU was max laod.</p>\n\n<p>My connection to db is persistent mean I connect to db as soon as server starts and keep that connection reference alive.</p>\n\n<p><strong>So what is the issue?</strong></p>\n"
    }, {
        "tags": ["iot", "gprs"],
        "is_answered": false,
        "view_count": 11,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1553976965,
        "creation_date": 1553976965,
        "question_id": 55435324,
        "link": "https://stackoverflow.com/questions/55435324/iot-gprs-sends-event-to-ggogle-assistant-and-triggers-a-pushed-intent-to-initiat",
        "title": "iot gprs sends event to ggogle assistant and triggers a pushed intent to initiate a full dialog -&gt; general guidance",
        "body": "<p>A gprs initiated event from an IOT device shall invoke a dialog on google assistant without the users having to start the dialog themselves. IOW. the begin of the dialog is externally triggered by an event and this event and not the user starts a dialog. Can this be done?</p>\n\n<p>I am a NodeJs convert from one of the two other dialog management systems and know how to write a dialog and have limited know-how on google assistant to react to events.</p>\n\n<p>There is an IOT device that sends GPRS messages to a google assistant device in case of a status change. This should trigger a push event on the assistant's host device which speaks a message about the event and allows the recipient to control further actions through a predefined dialog.</p>\n\n<p>An 'alarm' on 'google home' fulfills the first requirement: Not the user but an external event (timer) triggers the dialog without there being a permanent connection during the timer countdown. \nThis alarm, however, does not seem to be a dialog as it only allows to 'stop' it. </p>\n\n<p>As far as I found does it seem hard -and was impossible some time ago- to barge into a device without prior activation by a user. I do not know if it is possible to emulate a user request action to initiate a dialog or if there are better ways to push an event to initiate an intent that starts -without having been activated by the user- a dialog. (Those dialogs are approved and expected by the user)</p>\n"
    }, {
        "tags": ["cloud", "iot", "latency", "fog"],
        "is_answered": false,
        "view_count": 216,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1553800392,
        "creation_date": 1553768801,
        "question_id": 55395296,
        "link": "https://stackoverflow.com/questions/55395296/processing-latency",
        "title": "Processing Latency",
        "body": "<p>Hello Everybody please help me , </p>\n\n<p>I would like to compute the processing latency over different layer in the network , especialy on the cloud server. I want a mathematical function to compute the processing latency , I looked for the solution but I found nothing</p>\n"
    }, {
        "tags": ["php", "json", "curl", "iot"],
        "is_answered": true,
        "view_count": 115,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1553096711,
        "creation_date": 1553096393,
        "question_id": 55264714,
        "link": "https://stackoverflow.com/questions/55264714/trying-to-get-data-from-iot-using-php",
        "title": "Trying to get data from IOT using PHP",
        "body": "<p>I'm trying to get JSON from my IOT application. I can post data to my IOT application so my connection is ok but cant get a response. I only get a not allowed error.</p>\n\n<p>I use this code:</p>\n\n<pre><code>$ch = curl_init();\ncurl_setopt($ch, CURLOPT_VERBOSE, true);\n\n$verbose = fopen('php://temp', 'w+');\ncurl_setopt($ch, CURLOPT_STDERR, $verbose);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($ch, CURLOPT_URL,$endpoint_url);\n$result = curl_exec($ch);\n\nif ($result === FALSE) {\n    printf(\"cUrl error (#%d): %s&lt;br&gt;\\n\", curl_errno($ch),\n        htmlspecialchars(curl_error($ch)));\n}\ncurl_close($ch);\n\nrewind($verbose);\n$verboseLog = stream_get_contents($verbose);\n\necho \"Verbose information:\\n&lt;pre&gt;\", htmlspecialchars($verboseLog), \"&lt;/pre&gt;\\n\";\n</code></pre>\n\n<p>But all I get back is the following:</p>\n\n<pre><code>Verbose information:\n* Hostname integrations.thethingsnetwork.org was found in DNS cache\n*   Trying 13.69.184.129...\n* Connected to integrations.thethingsnetwork.org (13.69.184.129) port 443 \n(#0)\n* ALPN, offering http/1.1\n* Cipher selection: \nALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH\n* successfully set certificate verify locations:\n*   CAfile: /etc/ssl/certs/ca-certificates.crt\nCApath: /etc/ssl/certs\n* SSL connection using TLSv1.2 / ECDHE-RSA-AES256-GCM-SHA384\n* ALPN, server accepted to use http/1.1\n* Server certificate:\n*    subject: CN=integrations.thethingsnetwork.org\n*    start date: Jan 31 12:04:08 2019 GMT\n*    expire date: May  1 12:04:08 2019 GMT\n*    subjectAltName: integrations.thethingsnetwork.org matched\n*    issuer: C=US; O=Let's Encrypt; CN=Let's Encrypt Authority X3\n*    SSL certificate verify ok.\n&gt; GET /ttn-eu/api/v2/down/secret/test?key=secret HTTP/1.1\nHost: integrations.thethingsnetwork.org\nAccept: */*\n\n&lt; HTTP/1.1 405 Method Not Allowed\n&lt; Server: nginx/1.13.7\n&lt; Date: Wed, 20 Mar 2019 15:33:10 GMT\n&lt; Content-Type: text/plain; charset=utf-8\n&lt; Content-Length: 0\n&lt; Connection: keep-alive\n&lt; \n* Connection #0 to host integrations.thethingsnetwork.org left intact\n</code></pre>\n\n<p>How can I get the data?</p>\n"
    }, {
        "tags": ["iot", "cumulocity"],
        "is_answered": true,
        "view_count": 166,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1551946544,
        "creation_date": 1551916454,
        "question_id": 55034013,
        "link": "https://stackoverflow.com/questions/55034013/cumulocity-send-measurement-alarm-event-using-external-id-via-http",
        "title": "Cumulocity - Send Measurement/Alarm/Event using external ID via HTTP",
        "body": "<p>I've been recently exploring Cumulocity and managed to use the external ID to send data (measurements/alarms/events) via MQTT. Its well documented and pretty straight forward.\nBut I cant find how to send data (measurement/alarm/event) using ExternalID instead of source.</p>\n\n<p>For example, here is how POST of a measurement looks like if you know ClientID of device:</p>\n\n<pre><code> curl -X POST \\\n  https://myTenant.cumulocity.com/measurement/measurements \\\n  -H 'Accept: application/vnd.com.nsn.cumulocity.measurement+json' \\\n  -H 'Authorization: Basic mytoken' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n    \"c8y_TemperatureMeasurement\": {\n        \"T\": { \n            \"value\": 25,\n            \"unit\": \"C\" }\n        },\n    \"time\":\"2019-03-07T10:03:14.000+11:00\", \n    \"source\": {\n        \"id\":\"1234567\" }, \n    \"type\": \"c8y_TemperatureMeasurement\"\n}'\n</code></pre>\n\n<p>Is there a way to replace that \"source\": {\"id\":\"1234567\" }, with external ID?\nWhat would the request look like?</p>\n"
    }, {
        "tags": ["apache-kafka", "publish-subscribe", "iot", "pubnub"],
        "is_answered": true,
        "view_count": 2764,
        "favorite_count": 5,
        "score": 6,
        "last_activity_date": 1551933742,
        "creation_date": 1493367968,
        "question_id": 43675519,
        "link": "https://stackoverflow.com/questions/43675519/iot-data-system-design-google-pub-sub-vs-kafka-vs-kinesis-vs-pubnub-for-iot-dat",
        "title": "IoT data system design: Google Pub/Sub vs Kafka vs Kinesis vs PubNub for IoT data ingestion?",
        "body": "<p>I'm trying to build an IoT + data analytics system and I'm having trouble deciding on what technology or service to use for ingestion.</p>\n\n<p>A high level description of the end goal is:</p>\n\n<ol>\n<li>IoT devices push data to an IoT gateway (using Zigbee, Z-wave, Bluetooth, etc)</li>\n<li>IoT gateway (which is connected to the internet) pushes data to a pub/sub system</li>\n<li>Backend services process the data coming out of the pub/sub system, updates dashboards and sends out alerts</li>\n</ol>\n\n<p>My question is what kind of pubsub system should we use if we only need ~10 second response time? (E.g. The following is acceptable: IoT device senses event and then about 10 seconds later it shows up on a user's dashboard or sets off an alert)</p>\n\n<p>Below are some questions I have:</p>\n\n<ol>\n<li>I see PubNub advertised a lot for use in IoT. My understanding is that PubNub is basically a very fast pubsub system that guarantees less than 1/4 second delivery- is this a correct understanding of it? But PubNub is a bit expensive compared to using Google's Pub/Sub or maintaining our own Kafka.</li>\n<li>Is Google Pub/Sub in a sense similar to PubNub, because unlike being a single self-managed Kafka cluster running in a single data center, Google Pub/Sub has its own network because it's a part of Google? (similar to how PubNub is a \"data-streams-network\"?)</li>\n<li>If I use Kafka, should the producer be in the gateway devices?\n\n<ol>\n<li>If the producer isn't in the gateway devices, then should the Kafka producers be on our servers and have a REST API to accept messages from the gateway devices?</li>\n<li>If the Kafka producer IS in the gateway devices, does there need to be anything special in front of the Kafka brokers for them to accept messages from the gateway devices?</li>\n</ol></li>\n<li>PubNub can be used to send commands back to the IoT devices. Can this also be done with Google Pub/Sub or Kafka?\n\n<ol>\n<li>To push commands out to the IoT devices With Kafka, would every Gateway device need a consumer that is waiting for messages from the topics it's subscribed to? (e.g. the commands)</li>\n</ol></li>\n</ol>\n\n<p>Also, not sure if it's worth mentioning, but currently, the team is just me and maybe 2 other full stack developers. We've read up on Kafka and Zookeeper but none of us have gone past rolling out a tutorial example of it.</p>\n"
    }, {
        "tags": ["iot", "telemetry", "thingsboard"],
        "is_answered": false,
        "view_count": 1143,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1551281127,
        "creation_date": 1519813108,
        "question_id": 49027077,
        "link": "https://stackoverflow.com/questions/49027077/thingsboard-can-we-process-the-recieved-telemetry-data-and-again-store-computed",
        "title": "Thingsboard Can we process the recieved telemetry data and again store computed value",
        "body": "<p>Thingsboard Can we process the recieved telemetry data and again store computed value?</p>\n\n<p>Example if some kind of sensors sending me a x,y,z value as telemetry data and using x,y,z  I have to calculte p=x+y/z and again save p as telemetrey data.</p>\n\n<p>How can i achive this in thingsboard?</p>\n"
    }, {
        "tags": ["apache-kafka", "iot", "esp32"],
        "is_answered": true,
        "view_count": 860,
        "favorite_count": 2,
        "closed_date": 1550799475,
        "score": 0,
        "last_activity_date": 1550825959,
        "creation_date": 1550741412,
        "last_edit_date": 1550825959,
        "question_id": 54803586,
        "link": "https://stackoverflow.com/questions/54803586/running-a-kafka-producer-on-micro-controllers",
        "title": "Running a Kafka producer on micro controllers",
        "body": "<p>I am currently playing around with Apache Kafka and wanted to see if it is feasible to use it for managing data streams from sensors. I have come to understand that most micro controllers you would use for sensor deployment (for example ESP32-run boards) are simply not powerful enough to run java let alone Kafka.</p>\n\n<p>Has anyone made experiences with Kafka in the internet of things? Is Kafka even the right way to go? \nI am currently thinking about either:</p>\n\n<ul>\n<li>Setting up some sort of intermediate computer that handles input streams from multiple sensor boards and runs Kafka producers with them, or</li>\n<li>Finding a way to somehow run a \"reduced\" Kafka producer on my ESP32-kit by wrapping this functionality. (so far I have no idea how and if this is possible)</li>\n</ul>\n\n<p>Coming to the actual question:<br>\nIs it possible to use micro controllers that don't run Java as Kafka producers? If not, is there a feasible workaround or does it not make sense to use Kafka at sensor level?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-logic-apps"],
        "is_answered": true,
        "view_count": 483,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1550504568,
        "creation_date": 1543509405,
        "last_edit_date": 1550504568,
        "question_id": 53543647,
        "link": "https://stackoverflow.com/questions/53543647/how-to-parse-a-message-in-azure-iot-hub-logic-app",
        "title": "How to parse a message in Azure IOT hub logic app",
        "body": "<p>I am trying to understand how to get content into a logic app email (or into the conditioning search in the logic app).</p>\n\n<p>I have an IOT device sending a standard message to the hub (the demo temperature app). This works fine.</p>\n\n<p>I have added a service bus and routing and again all ok.</p>\n\n<p>I then want a logic app to send an email either using some of the content of the message, or even to use the conditional processing in the logic app.</p>\n\n<p>I am using the connector in the logic app to the service bus. </p>\n\n<p>When I try emailing dependant on the conditional \"Content contains Startup\" the email goes successfully but only down the false route. </p>\n\n<p>When I try to put a JSON parse step in is returns invalid as the content isn't in JSON format. </p>\n\n<p>The Error message:</p>\n\n<blockquote>\n  <p>InvalidJSON. The 'content' property of actions of type 'ParseJson'\n  must be valid JSON. The provided value\n  'e3sid2ZNZXNzYWdlVHlwZSI6IFN0YXJ0dXAsInRlbXBlcmF0dXJlIjogMzcuMzMsImh1bWlkaXR5IjogNjEuMjV9'\n  cannot be parsed: 'Unexpected character encountered while parsing\n  value: e. Path '', line 0, position 0.'.</p>\n</blockquote>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": false,
        "view_count": 117,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1549457429,
        "creation_date": 1548544328,
        "question_id": 54383671,
        "link": "https://stackoverflow.com/questions/54383671/how-to-increase-plotting-intervall-in-thingsboard-dashboard",
        "title": "How to increase plotting intervall in ThingsBoard Dashboard",
        "body": "<p>I have successfully managed to install ThingsBoard on a Ubuntu 18.04. In my application I want to send large data packages from a few (&lt;20) devices via MQTT. I also want to display the incoming data packets in real time. </p>\n\n<p>For testing purposes I now play with the chart dashboard of ThingsBoard. Unfortunately I am not able to set the plotting interval on the dashboard to less than 1 second.  </p>\n\n<p>This is the current situation and I try to increase the speed of the plot:\n<a href=\"https://giphy.com/gifs/fs6rozG1u6lqYTtVfz\" rel=\"nofollow noreferrer\">Dashboard GIF</a></p>\n\n<p>Are there any other settings that would meet my needs? </p>\n\n<p>Thank you very much.</p>\n"
    }, {
        "tags": ["iot", "ibm-watson", "labview", "watson-iot", "httpapi"],
        "is_answered": true,
        "view_count": 274,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1549220524,
        "creation_date": 1548699862,
        "last_edit_date": 1548885994,
        "question_id": 54408118,
        "link": "https://stackoverflow.com/questions/54408118/how-to-extract-the-event-data-using-http-api-from-ibm-watson-device",
        "title": "How to extract the event data using HTTP API from IBM watson device",
        "body": "<p>I have the ibm Watson account and connected my labview device to the IBM cloud. I need to extract the data which I sent from labivew in order to view the data in MIT app inventor. I am able to get the location, timestamp and other information like events, but not able to get the raw event data.</p>\n\n<p>URL used for location: <code>https://&lt;org_id&gt;.internetofthings.ibmcloud.com/api/v0002/device/types/&lt;devicetype&gt;/devices/&lt;deviceid&gt;/location</code></p>\n\n<p>Result: </p>\n\n<pre><code>{  \n   \"longitude\":0.0,\n   \"latitude\":0.0,\n   \"elevation\":0.0,\n   \"accuracy\":0.0,\n   \"measuredDateTime\":\"2016-08-24T16:47:42.393Z\",\n   \"updatedDateTime\":\"2019-01-28T18:17:07+00:00\"\n}\n</code></pre>\n\n<p>Similarly how to get the data which is posted via event. When I trying to access the data, an Access denied error is displayed. I am not sure how to enter my api-key for authentication and other access.</p>\n"
    }, {
        "tags": ["c", "simulation", "iot", "cooja"],
        "is_answered": false,
        "view_count": 122,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1548953669,
        "creation_date": 1548953669,
        "question_id": 54465554,
        "link": "https://stackoverflow.com/questions/54465554/modify-the-file-udp-sink-c-cooja-for-refuse-msg-from-all-mots-except-one",
        "title": "modify the file udp-sink.c cooja for refuse msg from all mots except one",
        "body": "<p>in my homework with cooja simulator i have 5 nodes ( 1 sink and 4 sender )\ni want to do a modification in the file UDP-sink.c for refuse all the \"Hello world\" messages of the mote 3 and 4 and accept only from the mote 2 (UDP-sender.c) finely saturate the Mote 2 by receiving the \"Hello world\" messages of the mote 3, by modifying in the UDP_sink.c file .. </p>\n"
    }, {
        "tags": ["java", "mongodb", "sensors", "iot", "kaa"],
        "is_answered": false,
        "view_count": 392,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1548950327,
        "creation_date": 1517382027,
        "last_edit_date": 1517387375,
        "question_id": 48536298,
        "link": "https://stackoverflow.com/questions/48536298/how-to-get-realtime-data-from-hardware-sensors-and-see-the-results-in-kaa-platfo",
        "title": "How to get realtime data from hardware sensors and see the results in Kaa platform?",
        "body": "<p>I have made a single node of Kaa platform. on the other side, I have some sensors, like temperature, humidity and so on.</p>\n\n<p>Now I want to connect these sensors to the single node of Kaa and receive data from them and see the recorded data in my application. How can I do it? \nI know I should use a log appender and I also installed MongoDB Compass. but I don't know how to get real data from them in Java application, and save them into the database and then see the results in whether Java Application or  MongoDB Compass. </p>\n\n<p>I am a little  confused with the usage of this platform. </p>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": true,
        "view_count": 883,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1548713649,
        "creation_date": 1481900315,
        "question_id": 41187078,
        "link": "https://stackoverflow.com/questions/41187078/aws-iot-dynamo-insert-record-failed",
        "title": "AWS IoT - Dynamo Insert record failed",
        "body": "<p>I am trying to update DynamoDB and I send JSON data from Rasperry PI or MQTT Client, but when I look to CloudWatch I see below error message.</p>\n\n<p><em>EVENT:DynamoActionFailure TOPICNAME:iotbutton/test CLIENTID:MQTT_FX_Client MESSAGE:Dynamo Insert record failed. The error received was Attribute name must not be null or empty. Message arrived on: iotbutton/test, Action: dynamo, Table: myTable_IoT, HashKeyField: SerialNumber, HashKeyValue: ABCDEFG12345, RangeKeyField: Some(ClickType), RangeKeyValue: SINGLE</em></p>\n\n<p>I am using the AWS IoT Tutorial (<a href=\"http://docs.aws.amazon.com/iot/latest/developerguide/iot-dg.pdf\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/iot/latest/developerguide/iot-dg.pdf</a>),  The Seccion: Creating a DynamoDB Rule. </p>\n\n<p>The data I send to the IoT platform is:</p>\n\n<pre><code>{\n \"serialNumber\" : \"ABCDEFG12345\",\n \"clickType\" : \"SINGLE\",\n \"batteryVoltage\" : \"5v USB\"\n}\n</code></pre>\n\n<p>topic: <em>iotbutton/ABCDEFG12345</em></p>\n\n<p>Does anyone come across this error and aware of any solution?</p>\n\n<p>Thanks, regards.</p>\n"
    }, {
        "tags": ["javascript", "embedded", "cordova-plugins", "iot", "hybrid-mobile-app"],
        "is_answered": true,
        "view_count": 33,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1548443539,
        "creation_date": 1548017878,
        "last_edit_date": 1548261813,
        "question_id": 54280913,
        "link": "https://stackoverflow.com/questions/54280913/storing-data-in-any-file-using-only-javascript",
        "title": "Storing data in any file using only JavaScript?",
        "body": "<p>I have written a mobile application to fetch Accelerometer data from TI CC2650STK in evothings. I am thinking of storing the data in some text file if I am offline and then when I come online the app will forward that data to my server. \n<strong>Is it possible? If yes How???</strong></p>\n"
    }, {
        "tags": ["java", "sql", "json", "quartz-scheduler", "iot"],
        "is_answered": true,
        "view_count": 58,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1547289231,
        "creation_date": 1547263395,
        "last_edit_date": 1547264018,
        "question_id": 54156530,
        "link": "https://stackoverflow.com/questions/54156530/same-column-edition-from-different-scheduling-jobs",
        "title": "Same column edition from different scheduling jobs",
        "body": "<p>I have a JSON object stored on a <code>table &gt; column</code>. Example of that JSON object is:</p>\n\n<pre><code>{\n  a :{\n    data: [1, 2, 3]\n  },\n  b :{\n    data: [4, 5, 6]\n  }\n}\n</code></pre>\n\n<p>And I have the schedulers for appending values on <code>a.data (named scheduler A)</code>, and <code>b.data (named scheduler B)</code>. The schedulers are working on a fashion of getting that JSON value from <code>table &gt; column</code> and appending the content.</p>\n\n<p>Problem:</p>\n\n<p>Here, <code>scheduler A</code> and <code>scheduler B</code> doesn't have any synchronization mechanism. And hence when <code>scheduler A</code> and <code>scheduler B</code> event of appending values occur at same time, <code>scheduler A</code> output will get override by <code>scheduler B</code> output or vice-versa.</p>\n\n<p>What will be the mechanism to handle that synchronization? Since the JSON value will be dynamic in its behavior, I can't able to split that JSON objects on columns too, so I must should work on that JSON format.</p>\n"
    }, {
        "tags": ["firebase", "arduino", "iot", "esp8266", "nodemcu"],
        "is_answered": false,
        "view_count": 383,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1546260052,
        "creation_date": 1546260052,
        "question_id": 53987650,
        "link": "https://stackoverflow.com/questions/53987650/esp8266-stopped-receiving-data-from-firebase",
        "title": "ESP8266 stopped receiving data from firebase",
        "body": "<p>I am trying to receive data from firebase to my ESP8266 so that I can send a mail using received data on button press. But the ESP stops receiving data after a couple of minutes. Can anyone tell the reason behind it?</p>\n\n<p>Here's the code.</p>\n\n<pre><code>#include &lt;ESP8266WiFi.h&gt;\n#include \"Gsender.h\"\n#include &lt;FirebaseArduino.h&gt;\n#define FIREBASE_HOST \"iotapp11.firebaseio.com\"   \nint button = 0;\nconst char* ssid = \"Redmi 3s\";\nconst char* password = \"alohomora\";\n\nvoid setup()\n{\n    pinMode(button,INPUT);\n    Serial.begin(115200);\n  Serial.printf(\"Connecting to %s \", ssid);\n  WiFi.begin(ssid, password);\n  while (WiFi.status() != WL_CONNECTED)\n  {\n    delay(500);\n    Serial.print(\".\");}\n  Serial.println(\" connected\");\n  Serial.println(WiFi.localIP());\n  Firebase.begin(FIREBASE_HOST);                  \n}\n\nvoid loop(){\n  Firebase.get(FIREBASE_HOST);    //Tried putting it in void setup and even removed it but nothing worked.\n\nint but_val = digitalRead(button);\nGsender *gsender = Gsender::Instance();   \n\nString emailid =Firebase.getString(\"Email\");\nString subject =Firebase.getString(\"Subject\");\nString content =Firebase.getString(\"Content\");\nSerial.println(emailid);\nSerial.println(subject);\nSerial.println(content);\n\nif ( but_val == LOW){\n      Serial.println(\"Button pressed\");\n      delay(1000);\n      gsender-&gt;Subject(subject)-&gt;Send(emailid, content) ;\n      Serial.println(\"Message sent.\");\n      delay(1000);\n} else {\n      Serial.println(\"Button Not pressed\");\n      delay(1000);   \n  } \n  }\n</code></pre>\n"
    }, {
        "tags": ["security", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 105,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1546009309,
        "creation_date": 1545999589,
        "question_id": 53958523,
        "link": "https://stackoverflow.com/questions/53958523/ibm-cloud-side-menu-cannot-retrieve-connection-security-nor-devices",
        "title": "ibm cloud side menu: cannot retrieve &#39;Connection Security&#39; nor &#39;Devices&#39;",
        "body": "<p>I'm configuring the IoT solution as explained via <a href=\"https://console.bluemix.net/docs/tutorials/gather-visualize-analyze-iot-data.html#gather-visualize-and-analyze-iot-data\" rel=\"nofollow noreferrer\">https://console.bluemix.net/docs/tutorials/gather-visualize-analyze-iot-data.html#gather-visualize-and-analyze-iot-data</a>. At step 3 of section 'Create IoT Platform' I should go to menu Security and then Connection Security to choose TLS option. However, I am not able to retrieve 'Connection Security' (and also 'Devices' I'm not able to find). Is there anyone who could give me an indication where to retrieve this option?</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot", "amazon-sns", "node-red", "aws-iot"],
        "is_answered": false,
        "view_count": 217,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1544494512,
        "creation_date": 1544494512,
        "question_id": 53716433,
        "link": "https://stackoverflow.com/questions/53716433/how-to-set-email-subject-of-aws-sns-email-through-node-red-mqtt",
        "title": "How to set email subject of AWS SNS email through node-red MQTT?",
        "body": "<p>I am trying to create a simple IoT system with a temperature sensor using node-red and AWS IoT. When the temperature reaches a certain point, it will send an email through AWS SNS.\nI have managed to make the system works as intended. However, the email I am receiving has the subject \"AWS Notification Message\". How to customize this title?</p>\n\n<p>Some more detail: the rule is created in node-red, so node-red will only publish a warning message to AWS IoT when the temperature limit has been reached. AWS IoT only forward the content of the message to AWS SNS.</p>\n\n<p>What I have tried so far: \nSetting the SNS email as JSON and RAW. In the case of RAW, there seems no way to set the subject. When I tried JSON, I used the following content as the message published through MQTT:</p>\n\n<pre><code>{\n    \"subject\" : \"Warning message\",\n    \"message\" : \"The temperature has reached 30deg\"\n}\n</code></pre>\n\n<p>However, when I set it as JSON the email never arrives.</p>\n\n<p>Thank you.</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion", "complex-event-processing", "fiware-perseo"],
        "is_answered": true,
        "view_count": 101,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1544443102,
        "creation_date": 1526067904,
        "last_edit_date": 1544443102,
        "question_id": 50299243,
        "link": "https://stackoverflow.com/questions/50299243/fiware-detecting-when-a-sensor-is-not-sending-data-to-orion-cb",
        "title": "FiWARE: Detecting when a sensor is not sending data to Orion CB",
        "body": "<p>I'm wondering if there is any way of detecting that a specific sensor, in a specific path, has stopped sending data to the Orion Context Broker. Then, if that happens, be able to execute some kind of alarm. \nI've been studying FiWARE for some months now, but I really don't know a GE that is able to do this.</p>\n\n<p>Does anybody know how can I solve this problem? Thanks in advance.</p>\n"
    }, {
        "tags": ["azure", "iot", "azureservicebus", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 187,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1543990107,
        "creation_date": 1543959318,
        "question_id": 53621781,
        "link": "https://stackoverflow.com/questions/53621781/azure-iot-hub-message-routing",
        "title": "Azure IoT Hub message routing",
        "body": "<p>I am trying to send data coming in from the IoT hub into Service Bus when the routing criteria is met. For example, if temp level reaches a certain level. My device would send a JSON format \"alert\": true.</p>\n\n<p>When I set the routing query to $body.alert = true. It does nothing and it won't route to the Service Bus for notifications. </p>\n\n<p>Any help would be much appreciated. </p>\n\n<p>Thank you </p>\n"
    }, {
        "tags": ["c#", "uwp", "iot", "btle"],
        "is_answered": true,
        "view_count": 158,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1543978397,
        "creation_date": 1543944213,
        "last_edit_date": 1543951922,
        "question_id": 53618391,
        "link": "https://stackoverflow.com/questions/53618391/c-converting-a-byte-array-from-bt-le-device",
        "title": "C# Converting a byte array from BT LE device",
        "body": "<p>I am using a Nordic Thingy:52 to record environmental data in a UWP app and have followed the example in the Windows Universal Sample apps to connect to BT LE devices. </p>\n\n<p>So far I have been able to connect to the device to retrieve service and characteristic information but when receiving the actual data from the sensors I can't manage to convert the byte array into usable data.</p>\n\n<pre><code>async void Characteristic_ValueChanged(GattCharacteristic sender, GattValueChangedEventArgs args)\n{\n    // An Indicate or Notify reported that the value has changed.\n    var reader = DataReader.FromBuffer(args.CharacteristicValue);\n    byte[] input = new byte[reader.UnconsumedBufferLength];\n    reader.ReadBytes(input);\n}\n</code></pre>\n\n<p>When checking the contents of the byte array you can see that something has been received but I'm stuck when it comes to knowing how to convert this array to useful data.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qX7gu.png\" rel=\"nofollow noreferrer\">Code to read the byte array</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/P4HGM.png\" rel=\"nofollow noreferrer\">Data specification for data sent by the device</a></p>\n"
    }, {
        "tags": ["networking", "iot", "contiki"],
        "is_answered": true,
        "view_count": 453,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1543524759,
        "creation_date": 1543264635,
        "question_id": 53488676,
        "link": "https://stackoverflow.com/questions/53488676/contiki-node-a-sending-data-to-another-node-b-i-want-node-a-and-b-to-send-data",
        "title": "Contiki node A sending data to another node B, I want node A and B to send data through border router to a server running on Linux",
        "body": "<p>I am able to send data from node to a server code running on Linux through border router. I achieved that using <a href=\"https://github.com/contiki-os/contiki/blob/master/examples/udp-ipv6/udp-client.c\" rel=\"nofollow noreferrer\">https://github.com/contiki-os/contiki/blob/master/examples/udp-ipv6/udp-client.c</a> example code from Contiki. I am running a python code to receive those data on Linux board, see this <a href=\"https://stackoverflow.com/questions/52900177/linux-userspace-code-to-communicate-between-linux-board-and-each-node-running-co\">Linux userspace code to communicate between Linux board and each node running contiki udp sender example code</a>. Let's call a node NODE_A, the second node NODE_B, and the Linux board as the NODE_C. NODE_A and NODE_B data are reaching to NODE_C, I also want NODE_A and NODE_B to talk to each other. How can I make NODE_A and NODE_B talk to each other? Thanks!</p>\n"
    }, {
        "tags": ["php", "amazon-web-services", "aws-sdk", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 420,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1542897818,
        "creation_date": 1542803628,
        "question_id": 53412137,
        "link": "https://stackoverflow.com/questions/53412137/aws-iot-receive-message",
        "title": "AWS IoT receive message",
        "body": "<p>Hello I try receive message from AWS IoT. For publishing I use php-sdk</p>\n\n<pre><code>use Aws\\IotDataPlane\\IotDataPlaneClient\n\n$connectionParams = [\n            'version' =&gt; 'latest',\n            'region'  =&gt; $region,\n            'credentials' =&gt; [\n                'key' =&gt; $key,\n                'secret' =&gt; $secret,\n            ]\n];\n\n$this-&gt;client = new IotDataPlaneClient($connectionParams);\n$this-&gt;client-&gt;publish([\n                \"payload\" =&gt; $message,\n                'qos' =&gt; 1,\n                'topic' =&gt; $topic,\n            ]);\n</code></pre>\n\n<p>But I it is no any method for receiving. Anyone knows how connect and receive messages?</p>\n"
    }, {
        "tags": ["javascript", "json", "iot"],
        "is_answered": false,
        "view_count": 68,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1542809563,
        "creation_date": 1542807330,
        "last_edit_date": 1542809563,
        "question_id": 53413261,
        "link": "https://stackoverflow.com/questions/53413261/how-to-save-json-data-in-a-file-using-writefilesync",
        "title": "How to save JSON data in a file using writeFileSync?",
        "body": "<p>I'm working on a home-automation project (IoT) where my websocket server is a subscriber to a MQTT broker. It gets temperature and light intensity data from microcontroller. In a nutshell, the data are saved as JSON data, then I'll have to save the log of all the received data in a file. I used <code>.writeFileSync()</code> but it only resulted in <code>[object Object]</code> and I have to edit the data.JSON manually before I can run my program because it'll give an error if I don't.</p>\n\n<p>This is the script:</p>\n\n<pre><code>var config = require('./data.json');\n\nfunction writeData() {\n    fs.writeFileSync('data.json', config);\n}\n</code></pre>\n\n<p>Then I tried changing it into</p>\n\n<pre><code>var config = require('./data.json');\nlet data2 = JSON.stringify(config);\nfunction writeData() {\n   fs.writeFileSync('data-2.json', data2);\n}\n</code></pre>\n\n<p>but I can't find the file named <code>data-2.json</code>.</p>\n\n<p>Please help.</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>I've called the writeData() function on this part:</p>\n\n<pre><code>    s.on('dev:on', function (id) {\n    if (id == 'lamp1') {\n        config.lamp1 = true;\n    } else if (id == 'fan1') {\n        config.fan1 = true;\n    }\n    client.publish(id, \"true\");\n    writeData();\n    console.log('Device ON RECEIVED for ' + id);\n});\n</code></pre>\n\n<p>And the rest of the codes which follow are similar to this.</p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": true,
        "view_count": 538,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1542681120,
        "creation_date": 1539948864,
        "question_id": 52891565,
        "link": "https://stackoverflow.com/questions/52891565/thingsboard-rule-chains-rpc-call-request",
        "title": "ThingsBoard Rule Chains RPC Call Request",
        "body": "<p>After give a try of ThingsBoard <a href=\"https://thingsboard.io/docs/user-guide/rule-engine-2-0/tutorials/rpc-request-tutorial/\" rel=\"nofollow noreferrer\">RPC Call Sample</a>, I found that \"ROTATING SYSTEM\" device can get message from v1/devices/me/rpc/request after it publish a message to v1/devices/me/telemetry by itself;   </p>\n\n<p>If Rule Chains transform messages from other device, for example, update metadata.deviceName and metadata.deviceType from others to \"ROTATING SYSTEM\", \"ROTATING SYSTEM\" device cannot get any message.</p>\n\n<p><a href=\"https://thingsboard.io/docs/user-guide/rule-engine-2-0/tutorials/rpc-request-tutorial/\" rel=\"nofollow noreferrer\">RPC Call Sample</a> mentioned that \"WIND DIRECTION SENSOR\" device send messages to ThingsBoard Server, after Rule Chains magic, \"ROTATING SYSTEM\" device can get RPC messages; but according to my experiment, it can't, \"ROTATING SYSTEM\" only get trigged after it send messages by itself to ThingsBoard.</p>\n\n<p>So, my questions is, what is the best practice of Rule Chains on ThingsBoard Server to implement \"deviceA trig deviceB\"?</p>\n"
    }, {
        "tags": ["python", "iot", "mosquitto"],
        "is_answered": false,
        "view_count": 135,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1542273761,
        "creation_date": 1542252912,
        "last_edit_date": 1542273761,
        "question_id": 53312055,
        "link": "https://stackoverflow.com/questions/53312055/find-best-sequence-diagram-solution",
        "title": "Find best sequence diagram solution",
        "body": "<p><img src=\"https://i.stack.imgur.com/QP1zY.png\" alt=\"Complex Diagram\"></p>\n\n<p>How can CLIENT continuously receive data from SERVER? I think my sequence diagram is complex solution. I just want Client set connect with  Server 1 time then Server  continuously send data to Client anyway. Here I use API-Restful + Mosquitto</p>\n"
    }, {
        "tags": ["iot", "thingsboard"],
        "is_answered": true,
        "view_count": 1584,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1539877424,
        "creation_date": 1539863777,
        "question_id": 52873430,
        "link": "https://stackoverflow.com/questions/52873430/thingsboard-rule-chains-to-re-publish-telemetry-to-a-new-topic",
        "title": "ThingsBoard Rule Chains to re-publish telemetry to a new topic",
        "body": "<ul>\n<li><p>we rely on <a href=\"https://github.com/thingsboard/thingsboard\" rel=\"nofollow noreferrer\">ThingsBoard Server</a> and <a href=\"https://github.com/thingsboard/thingsboard-gateway\" rel=\"nofollow noreferrer\">ThingsBoard Gateway</a> to manage IoT devices, and we have such a demand:</p>\n\n<ol>\n<li>IoT devices devicesOfTypeA publish messages to v1/devices/me/telemetry</li>\n<li>ThingsBoard Server transfers specific messages, and then publish the new messages to a new topic, etc v1/devices/devTypeB/request</li>\n<li>IoT devices devicesOfTypeB subscribed to v1/devices/devTypeB/# will get the newly generated messages</li>\n</ol></li>\n<li><p>we're wondering if we can implement the demand by configuring ThingsBoard Rule Chains, it seems like the Rule Chains is really an amazing tool and can do everything :)</p></li>\n</ul>\n\n<p>Does anyone happens to have any clue? We're new to ThingsBoard, after reading most of the document, especially \"Data Processing &amp; Actions\" sections on <a href=\"https://thingsboard.io/docs/guides/\" rel=\"nofollow noreferrer\">ThingsBoard Guide Doc</a>, we didn't find out if the Rule Chains solution is possible.</p>\n"
    }, {
        "tags": ["java", "http", "tcp", "iot", "teltonika"],
        "is_answered": true,
        "view_count": 264,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1539516590,
        "creation_date": 1538395648,
        "last_edit_date": 1538397273,
        "question_id": 52590765,
        "link": "https://stackoverflow.com/questions/52590765/tcp-to-http-communication",
        "title": "TCP to HTTP communication",
        "body": "<p>I have an IOT device which is sending data continuously to a configured server using TCP protocol.</p>\n\n<p>Can i receive the data using HTTP protocol and any java http services application like spring-boot application?</p>\n\n<p>Device details : <a href=\"https://teltonika.lt/product/fmb920/\" rel=\"nofollow noreferrer\">https://teltonika.lt/product/fmb920/</a></p>\n"
    }, {
        "tags": ["android", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 40,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1538851964,
        "creation_date": 1538848783,
        "last_edit_date": 1538851964,
        "question_id": 52681869,
        "link": "https://stackoverflow.com/questions/52681869/about-background-services",
        "title": "about background services",
        "body": "<p>I'm developing an app for Android that should receive some notifications via a protocol similar to MQTT from an Arduino device. This notification will be a sort of   alarm and will not be continuous but it will be rare. The service will do a lite job: receive single notification, it registry in a sqlite database and sends a notification to system bar. What kind of background service I should use for API level 26 or higher. I know thet the system imposes restrictions on running background services\nthanks\nLuigi</p>\n"
    }, {
        "tags": ["alert", "monitoring", "iot", "sensors"],
        "is_answered": true,
        "view_count": 111,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1538450721,
        "creation_date": 1538383267,
        "last_edit_date": 1538450721,
        "question_id": 52587381,
        "link": "https://stackoverflow.com/questions/52587381/what-would-be-the-approaches-to-handle-real-time-rule-based-events-generated-by",
        "title": "what would be the approaches to handle real time rule based events generated by iot devices?",
        "body": "<p>I am working on iot project in which i need to send alerts to users based on rules which already defined by user like if Temperature value matches certain condition then send alerts to users and their are multiple conditions.\nI achieved to send the alerts to users when condition matches by using following\nsteps</p>\n\n<pre><code>1)store threshold values,condition of a device in mysql.\n2)when the device data comes to server i checked the current value with given condition with threshold value and send the alert.\n3)And also their are multiple conditions associated with devices so i need to check each and every condition.\n</code></pre>\n\n<p>So what i need is like,is their any technology that i can use in my project.</p>\n"
    }, {
        "tags": ["iot", "node-red"],
        "is_answered": false,
        "view_count": 109,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1538138471,
        "creation_date": 1538137140,
        "last_edit_date": 1538138022,
        "question_id": 52555182,
        "link": "https://stackoverflow.com/questions/52555182/iot-node-red-autostart",
        "title": "Iot Node-red AutoStart",
        "body": "<p>I have a Siemens IoT where I installed Node-RED. I'm following a project that is based on receiving data and save them in a db via Node-RED and must be active 24h every day.</p>\n\n<p>I wanted to know if there was an auto-run in case the IoT went off to start everything automatically.</p>\n"
    }, {
        "tags": ["iot", "lora", "lorawan"],
        "is_answered": false,
        "view_count": 114,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1537775804,
        "creation_date": 1537557439,
        "question_id": 52449899,
        "link": "https://stackoverflow.com/questions/52449899/lora-application-layer-receiving-fragmented-packets-for-each-received-transmiss",
        "title": "LoRa: application layer receiving fragmented packets for each received transmission?",
        "body": "<p>I am using Ebyte ttl-1w-433 RF module attached with a raspberry pi. When I send a packet, the receiver receives it but in my program(application layer) it prints the data in two fragments. I am using pySerial for my program. Below is the scenario that I am facing problem with-</p>\n\n<ol>\n<li>sender sending 2 packets of 58 bytes each.</li>\n<li>receiver receives two transmissions, and two only (receiver LED light blinks only twice)</li>\n<li>receiver pushes the data in the application layer as 48, 10, 48, 10 fashion, instead of 58, 58 bytes fashion.\n4.application layer(python script) prints four print statements (instead of two)</li>\n</ol>\n\n<p>I am not loosing any data, I am just curious why data arriving app layer fragmented.  tried with different serial baud rate and air data rate combination, but I always see the same pattern.</p>\n"
    }, {
        "tags": ["https", "iot", "gsm", "tcp-ip", "sim800"],
        "is_answered": false,
        "view_count": 246,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1536726075,
        "creation_date": 1535959077,
        "last_edit_date": 1536726075,
        "question_id": 52144852,
        "link": "https://stackoverflow.com/questions/52144852/couldnt-send-data-to-thingspeak-via-sim-800",
        "title": "Couldn&#39;t send data to thingspeak via Sim 800",
        "body": "<p>I have connected the sim800L to my PC via TTL connector. Using \"putty\" I tried to send data to thingspeak through sim 800 GSM module by using following AT commands.</p>\n\n<pre><code>AT\nAT+CPIN?\nAT+CREG?\nAT+CGATT?\nAT+CIPSHUT\nAT+CIPSTATUS\nAT+CIPMUX=0\nAT+CSTT=\"www\"\nAT+CIICR\nAT+CIFSR\nAT+CIPSTART=\"TCP\",\"184.106.153.149\",\"80\"\n     //AT+CIPSTART=\"TCP\",\"api.thingspeak.com\",\"80\"\nAT+CIPSEND=73\nGET https://184.106.153.149/update?api_key=JMKR1***********&amp;field1=5 \nHTTP/1.1\\r\\n\\r\\n\n</code></pre>\n\n<p>By end of this code the GSM module returns SEND OK But I couldn't get data on my thingspeak channel. What can I do for this? kindly, help me out.</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": false,
        "view_count": 24,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1535963525,
        "creation_date": 1534762741,
        "last_edit_date": 1535963525,
        "question_id": 51929283,
        "link": "https://stackoverflow.com/questions/51929283/how-to-connect-a-socket-test-with-aws-ec2-by-destination-ip-and-port-no",
        "title": "How to connect a Socket test with aws ec2 by Destination Ip and Port no",
        "body": "<p>I am trying to send the data I receive to my computer into AWS; I use a socket to test for communication. How can I configure the EC2 and make the data received in AWS?</p>\n"
    }, {
        "tags": ["node.js", "http", "iot"],
        "is_answered": false,
        "view_count": 267,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1535409541,
        "creation_date": 1535409541,
        "question_id": 52047810,
        "link": "https://stackoverflow.com/questions/52047810/how-to-trigger-http-request-with-a-button",
        "title": "How to trigger HTTP request with a button?",
        "body": "<p>Literally, with a physical button. Say I had a Node.js/Express server and I wanted to trigger HTTP requests by pressing a physical button; how would I go about doing that?</p>\n"
    }, {
        "tags": ["c#", "azure", "azure-storage-blobs", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 796,
        "favorite_count": 1,
        "score": 4,
        "last_activity_date": 1535208020,
        "creation_date": 1535204667,
        "last_edit_date": 1535204995,
        "question_id": 52017897,
        "link": "https://stackoverflow.com/questions/52017897/reading-parsing-azure-iot-hub-telemetry-from-a-storage-account-blob",
        "title": "Reading &amp; parsing Azure IoT Hub Telemetry from a storage account blob",
        "body": "<p>I have a IoT Hub with 2 IoT devices both sending environmental data (Temperature and Humidity) I created a custom endpoint and route to my Azure Storage Account, it gets saved there so I can look back. The problem is it sends raw telemetry data including weird characters and stuff like that. I figured out it was in a CSV format but I still can't parse it.</p>\n\n<p>My question is,\nI want to take the raw telemetry data directly from the blob and parse it into a SensorResult class using C#.\nI figured out how to read the blob data I just need to parse the telemetry data. But I can't figure that part out.</p>\n\n<p>Snippet of raw telemetry data:</p>\n\n<pre><code>Objavro.codecnullavro.schema\u00d0{\"type\":\"record\",\"name\":\"Message\",\"namespace\":\"Microsoft.Azure.Devices\",\"fields\":[{\"name\":\"EnqueuedTimeUtc\",\"type\":\"string\"},{\"name\":\"Properties\",\"type\":{\"type\":\"map\",\"values\":\"string\"}},{\"name\":\"SystemProperties\",\"type\":{\"type\":\"map\",\"values\":\"string\"}},{\"name\":\"Body\",\"type\":[\"null\",\"bytes\"]}]}\u00b0\u00c8F\u00ac\u00eaY\u00e2S:\u00e1\u2026\u00f082018-06-29T18:34:10.4320000Z temperatureAlert\nfalsemessageIdmessage_0correlationIdcorrelation_0$connectionDeviceIdraspi(connectionAuthMethod\u0153{\"scope\":\"device\",\"type\":\"sas\",\"issuer\":\"iothub\",\"acceptingIpFilterRule\":null}8connectionDeviceGenerationId$0enqueuedTime82018-06-29T18:34:10.4320000Z\u00a8{\"deviceId\": \"Raspberry Pi - Python\",\"temperature\": 28.801060,\"humidity\": 40.097196}82018-06-29T18:34:12.3400000Z temperatureAlert\n</code></pre>\n\n<p>First line being the header of the telemetry, all lines below that are just messages from the IoT devices.</p>\n\n<p>Thanks.</p>\n"
    }, {
        "tags": ["c++", "json", "linux", "cloud", "iot"],
        "is_answered": false,
        "view_count": 731,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1534476594,
        "creation_date": 1477493183,
        "question_id": 40265379,
        "link": "https://stackoverflow.com/questions/40265379/how-to-publish-json-to-a-web-server",
        "title": "How to publish JSON to a web server?",
        "body": "<p>I am playing around with freeboard.io and trying to make a widget that pulls JSON data from a URL [TBD].  My original data source is from an iMX6-based Wandboard running Linux that is connected to the internet.  I want to write a C++ program on the Wandboard that opens a socket to [TBD] and sends UDP packets, for example, containing my sensor data.  My JSON data structure is like this:</p>\n\n<pre><code>{\n  \"sensor_a\": 1100,\n  \"sensor_b\": 247,\n  \"sensor_c\": 0\n}\n</code></pre>\n\n<p>Can you help me put my JSON data structure into an IP packet using C++ on Ubuntu Linux?  I know how to just serialize the data structure in ascii for example and build a buffer to stuff an IP packet but I'm wondering if there is a standard way to do this for cloud services, or will it be different for Azure vs AWS?  Is some type of header info needed to \"put\" the data?</p>\n"
    }, {
        "tags": ["curl", "iot"],
        "is_answered": false,
        "view_count": 76,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1534255990,
        "creation_date": 1532090855,
        "last_edit_date": 1532091993,
        "question_id": 51442891,
        "link": "https://stackoverflow.com/questions/51442891/error-with-curl",
        "title": "Error with curl",
        "body": "<p>I am trying to send some data to the internet of things service using curl.</p>\n\n<p>I have configured the PATH and curl is accessible.</p>\n\n<p>But when i try to pus a data (Measure) using the below link,i get a message:</p>\n\n<pre><code>curl -v -H \"Content-Type: application/json\" -d \"{ \\\"capabilityAlternateId\\\": \\\"201\\\", \\\"sensorTypeAlternateId\\\": \\\"857\\\", \\\"measures\\\": [{\\\"Inctemp\\\": \\\"25\\\"}] }\"http://127.0.0.1:8699/measures/1c2639b9c113ef54\n\ncurl: no URL specified!\ncurl: try 'curl --help' or 'curl --manual' for more information\n</code></pre>\n\n<p>Can you please help.</p>\n"
    }, {
        "tags": ["c", "embedded", "iot", "contiki"],
        "is_answered": true,
        "view_count": 232,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1534094582,
        "creation_date": 1533946789,
        "last_edit_date": 1533971051,
        "question_id": 51795401,
        "link": "https://stackoverflow.com/questions/51795401/how-does-packetbuf-work-in-contikios-if-theres-an-incoming-packet-during-a-pend",
        "title": "How does packetbuf work in ContikiOS if there&#39;s an incoming packet during a pending send?",
        "body": "<p>I have trouble understanding how to write asynchronous sending/receiving in Contiki. Suppose I am using the xmac layer, or any layer that is based on <code>packetbuf</code>. I am sending a message, or a list of packets. I start sending a message using <code>void(*send)(mac_callback_t sent_callback, void *ptr)</code>. This takes the message that is in the <code>global</code> buffer <code>packetbuf</code>, and tries to send it. Meanwhile while the send is pending (for example waiting for the other device to wake up or acknowledge the transmission), the device receives a packet from a third device.</p>\n\n<p>Will this packet overwrite the packet waiting to be sent that is in the <code>packetbuf</code>? How should I handle this? </p>\n\n<p>I thought that maybe you can't be trying to send a packets and listen for incoming packets, but then there is an obvious deadlock: 2 devices sending messages to each other at the same time. </p>\n\n<p>I am porting a higher-level routing layer to Contiki. This is the second OS I am porting it to, but the previous OS didn't use a single buffer for both incoming and outgoing packets.</p>\n"
    }, {
        "tags": ["iot", "thingsboard", "lora"],
        "is_answered": false,
        "view_count": 863,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1533744593,
        "creation_date": 1533711569,
        "question_id": 51740371,
        "link": "https://stackoverflow.com/questions/51740371/how-to-integrate-lora-server-with-thingsboard-iot-platorm",
        "title": "How to integrate Lora server with Thingsboard IOT platorm?",
        "body": "<p>I'm a newbie in working with the Thingsboard IOT platform.</p>\n\n<p>How to integrate Lora server with the Thingsboard platform?</p>\n\n<p>Give me step by step instructions, please.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "ibm-watson", "watson-iot"],
        "is_answered": false,
        "view_count": 113,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1530743187,
        "creation_date": 1471942089,
        "last_edit_date": 1530743187,
        "question_id": 39096489,
        "link": "https://stackoverflow.com/questions/39096489/ibm-watson-iot-platform-what-is-the-best-way-to-send-heartbeat-from-ip-capable",
        "title": "IBM Watson IoT Platform: What is the best way to send heartbeat from IP capable device to IBM Watson IoT Platform for device tracking",
        "body": "<p>I know we can send heartbeat payload through device monitoring topic. But do we have any another way where any IP capable device can send heartbeat to IBM Watson Platform through any IBM services or database for device tracking?</p>\n"
    }, {
        "tags": ["eclipse", "h2", "iot", "kura"],
        "is_answered": true,
        "view_count": 80,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1529660072,
        "creation_date": 1510573523,
        "last_edit_date": 1510573780,
        "question_id": 47263564,
        "link": "https://stackoverflow.com/questions/47263564/triggering-an-email-from-an-h2-database",
        "title": "Triggering an email from an H2 database",
        "body": "<p>Currently I am working with the Eclipse kapua (for IOT). I am unable to find the  procedure for triggering an email from an H2 database.  In the sandbox (eurotech trail version) there are options like email and sms, but in kapua there are no options like that.  What is the procedure for sending emails in kapua?</p>\n"
    }, {
        "tags": ["raspberry-pi", "iot", "wireless", "z-wave"],
        "is_answered": true,
        "view_count": 314,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1528913356,
        "creation_date": 1528801104,
        "question_id": 50815521,
        "link": "https://stackoverflow.com/questions/50815521/sending-temperature-sensors-data-to-kaa-iot-platform-via-z-wave-protocol",
        "title": "Sending temperature sensor&#39;s data to Kaa-IOT platform via Z-wave protocol",
        "body": "<p>I want to set up some sensors in different places, which are wire connected to my Raspberry PI.</p>\n\n<p>I want to send the collected data's wireless but without using Wifi protocol, The best option for low range IoT projects is Z-wave protocol.\nmy next target would be using Kaa-IoT Platform as a Cloud Service, which makes my data available regardless of where I am.</p>\n\n<p>I want to implement a circuit like <a href=\"https://pimylifeup.com/raspberry-pi-temperature-sensor/\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>The Question is, Is there any way to use Z-wave protocol without utilizing any z-wave devices? using z-wave is possible in my scenario?</p>\n\n<p>Buying RaZberry shield would be enough for that?, Which modem should I use to receive signals that send by Razberry? </p>\n"
    }, {
        "tags": ["amazon-web-services", "monitoring", "iot", "rule-engine", "aws-iot"],
        "is_answered": false,
        "view_count": 31,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1528383066,
        "creation_date": 1528021450,
        "last_edit_date": 1528383066,
        "question_id": 50665342,
        "link": "https://stackoverflow.com/questions/50665342/how-can-i-monitor-usage-of-each-iot-device-separately-on-aws-using-rules-engine",
        "title": "How can i monitor usage of each iot device separately on aws using rules engine? Is there any other way to do the same?",
        "body": "<p>we are currently using aws iot messaging and shadow service, and the total usage can be monitored using cloudwatch, but i want to monitor usage per device.i am new to aws so the only way i can think of is to make a rule which gets triggered every time message is published, extract the thing id from the topic and increase the counter for that thing in dynamodb. How can i do it step by step? i have followed <a href=\"https://docs.aws.amazon.com/iot/latest/developerguide/iot-ddb-rule.html\" rel=\"nofollow noreferrer\" title=\"this\">this</a> tutorial but it doesn't work. is there any better way  to do the same.</p>\n"
    }, {
        "tags": ["http", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 15925,
        "favorite_count": 6,
        "score": 10,
        "last_activity_date": 1527072526,
        "creation_date": 1495211365,
        "question_id": 44074864,
        "link": "https://stackoverflow.com/questions/44074864/iot-do-i-need-to-use-mqtt-or-http",
        "title": "IoT: do I need to use MQTT or HTTP?",
        "body": "<p>I'm working on a device that sense and collect information from the environment such as temperature, humidity, etc.</p>\n\n<p>The device is not connected to any power source, but it has a battery, and a solar panel to charge it.</p>\n\n<p>It's almost in a deep sleep state most of the time, and it only wake up when it need to sense and transfer data. This operation takes about 1-2 minutes, and then it goes to sleep again.</p>\n\n<p>I'm not an expert in this area, but I think MQTT should be a good option if the device need to be accessible to receive messages from a topic all the time, but in my scenario it only read sensors, and send data to a server periodically.</p>\n\n<p>Currently I'm sending the data through HTTP, but I'm wondering if it makes sense to implement MQTT? Should I get any advantage over HTTP for this scenario?</p>\n"
    }, {
        "tags": ["node.js", "iot", "temperature"],
        "is_answered": false,
        "view_count": 43,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1527059706,
        "creation_date": 1527059706,
        "question_id": 50482077,
        "link": "https://stackoverflow.com/questions/50482077/how-to-send-the-warning-message-one-time-only-when-the-device-temperature-was-gr",
        "title": "How to send the warning message one time only when the device temperature was greater than 25 or less than 19 using node js",
        "body": "<p>Here is the code but I still can't figure out how to do it can send one time message only:</p>\n\n<pre><code>if(temperature&gt;25){\n      //for sending the message to the email\n      var mailOptions = {\n        from: 'sender@gmail.com',\n        to: 'receiver@tssb.com.my',\n        subject: 'Sending Email using Node.js',\n        text: 'The device with topic ' + topic + ' was higher than the temperature of 25 which is ' + temperature \n      };\n\n      transporter.sendMail(mailOptions, function(error, info){\n        if(error){\n          console.log(error);\n        } else {\n          console.log('Email sent: ' + info.response);\n        }\n      });          \n\n    }else if(temperature&lt;19){\n      var mailOptions = {\n        from: 'sender@gmail.com',\n        to: 'receiver@tssb.com.my',\n        subject: 'Sending Email using Node.js',\n        text: 'The device with topic ' + topic + ' was smaller than the temperature of 19 which is ' + temperature \n      };\n\n      transporter.sendMail(mailOptions, function(error, info){\n        if(error){\n          console.log(error);\n        } else {\n          console.log('Email sent: ' + info.response);\n        }\n      });    \n\n      const from = 'Nexmo';\n      const to = 'phone number';\n      const text = 'The device with topic ' + topic + ' was smaller than the temperature of 19 which is ' + temperature;\n\n      nexmo.message.sendSms(from, to, text, (error, response) =&gt; {\n        if(error) {\n          throw error;\n        } else if(response.messages[0].status != '0') {\n          console.error(response);\n          throw 'Nexmo returned back a non-zero status';\n        } else {\n          console.log(response);\n        }\n      });\n\n    }\n</code></pre>\n\n<p>The situation is that when mqtt publish the topic with temperature which is more than 25 it will send a notification message to the email or phone number but it only occurred one time which mean the temperature next time publish to the mqtt broker if is more than 25 it will not send again the message until the temperature is less than 19 then it will send again the notification email message and the same it only occurred one time.\nPlease help, thank you.</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot", "node-red", "watson-iot"],
        "is_answered": true,
        "view_count": 168,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1526892455,
        "creation_date": 1526748936,
        "question_id": 50427550,
        "link": "https://stackoverflow.com/questions/50427550/watson-iot-out-node-on-raspberry-pi-repeatedly-disconnecting",
        "title": "Watson IOT Out node on Raspberry Pi repeatedly disconnecting",
        "body": "<p>I am using a Watson IOT Output (wiotp out) in a Node-RED flow on my Raspberry PI and am having issues with the connection repeatedly disconnecting and then re-connecting. </p>\n\n<p>Here is a screenshot of my <a href=\"https://i.stack.imgur.com/x6Oi7.png\" rel=\"nofollow noreferrer\">Credentials Node</a> and one of my <a href=\"https://i.stack.imgur.com/J0PWB.png\" rel=\"nofollow noreferrer\">IOT Out Node</a>.</p>\n\n<p>The connection is configured so that I can send messages to the cloud and successfully have them trigger a flow in my cloud Node-RED instance. </p>\n\n<p>The problem I'm having is that when I attempt to send a string array as my payload, very items in the array actually make it through before the service disconnects. I am limited to around 3-5 strings at a time, which is frustrating because I am losing 195-197 of the 200 items I am trying to send to the IOT platform.</p>\n\n<p>How can I keep a persistent connection and make sure my entire payload makes it through to the IOT service?</p>\n"
    }, {
        "tags": ["iot", "zigbee", "z-wave", "wink"],
        "is_answered": false,
        "view_count": 103,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1525203498,
        "creation_date": 1525203498,
        "question_id": 50122721,
        "link": "https://stackoverflow.com/questions/50122721/wink-api-subscriptions-stop-sending-overnight",
        "title": "Wink API Subscriptions Stop Sending Overnight",
        "body": "<p>I'm using the Wink API to control lights and thermostats etc. In the API you can subscribe to device topics to receive events such as when a light is turned on or off. This is handled through PubNub. I have this all working except that the events stop being sent if I leave the system overnight. </p>\n\n<p>If I try to \"manually\" toggle a light by tapping the physical switch then normally an event is fired and received by my application via PubNub. Restarting my application and thus reconnecting to PubNub does NOT resolve the issue. The only way I've found to resolve the issue is to open the Wink app itself. Nothing else needs to be done but to open the Wink app. Then if I manually toggle the switch the event will show up and be received by my application. This solution works even if I don't restart my application. </p>\n\n<p>There appears to be some sort of wake or keep-alive going on. Although I don't see anything in the Wink API docs that state such. There is also nothing sent from PubNub during this downtime. I have logging being sent out for the status(), message(), and presence() callbacks and nothing is logged from these overnight. Therefore taking all the above into account I believe the issue resides on the Wink side of things.</p>\n\n<p>Unfortunately, Wink does not provide developer support. The Wink app is obviously doing something but because the transactions are encrypted it is unknown what it is doing. Also my test cycle is 8 hours long currently so it is difficult to debug this by trial and error. I'm working to see if this \"timeout\" is shorter than the overnight 8 hours I've experienced so far. i've also tried power cycling my Wink Hub yesterday but that did not resolve the issue.</p>\n\n<p>Anyone else run into this issue? How do you keep subscriptions alive so that they are always sent?</p>\n"
    }, {
        "tags": ["iot", "contiki", "promiscuous-mode"],
        "is_answered": true,
        "view_count": 283,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1524779068,
        "creation_date": 1524747181,
        "last_edit_date": 1524756730,
        "question_id": 50043517,
        "link": "https://stackoverflow.com/questions/50043517/contiki-os-set-promiscuous-mode-and-receive-all-udp-packets",
        "title": "Contiki OS: Set Promiscuous Mode and receive all UDP Packets",
        "body": "<p>i'm trying to do the following:</p>\n\n<p>a) Set Contiki in Promiscuous Mode.</p>\n\n<p>b) Then retrieve all UDP and RPL packets send, not only to current node but also between two other nodes within communication range.</p>\n\n<p>I have the following code:</p>\n\n<pre><code>NETSTACK_RADIO.set_value(RADIO_PARAM_RX_MODE, 0);   \nsimple_udp_register(&amp;unicast_connection, 3001,\n                  NULL, 3000, receiver);\n</code></pre>\n\n<p>where receiver is an appropriate callback function. I am able to collect UDP packets send to the current node, but still unable to receive packets send between other nodes in my communication range.</p>\n"
    }, {
        "tags": ["python", "amazon-web-services", "amazon-s3", "iot", "boto3"],
        "is_answered": true,
        "view_count": 477,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1523855507,
        "creation_date": 1523543701,
        "last_edit_date": 1523544560,
        "question_id": 49799318,
        "link": "https://stackoverflow.com/questions/49799318/how-to-handle-internet-not-avaialble-while-uploading-the-file-to-s3",
        "title": "how to handle internet not avaialble while uploading the file to s3?",
        "body": "<p>I have written scheduler program in python to uploading file to AWS S3 at a particular time(using scheduler).</p>\n\n<p>if internet connection is not available at that time , I'm getting <strong><code>socket.gaierror: [Errno -3] Temporary failure in name resolution</code></strong> exception.</p>\n\n<p>This breaks the total flow, so that i need to restart the program.</p>\n\n<p>How to handle this situation in a graceful way, so that when internet resumes my file get upload process starts.</p>\n\n<p>Below is my scheduler job code:</p>\n\n<pre><code>def job():\n    serialNo = getserial()\n    print('schedule working.......')\n    yesterday_date=date.today() - timedelta(1)\n\n    # one day file path \n    file_path=\"/home/pi/Desktop/bme280_elf_new/reading/\"+str(yesterday_date)+\".csv\" \n\n    # file move are upload file from cloud here\n    AWS_ACCESS_KEY_ID = 'AWS_ACCESS_KEY_ID'\n    AWS_SECRET_ACCESS_KEY = 'AWS_SECRET_ACCESS_KEY'\n    Bucketname = 'Bucketname' \n\n    conn = boto.s3.connect_to_region('us-east-1',\n       aws_access_key_id=AWS_ACCESS_KEY_ID,\n       aws_secret_access_key=AWS_SECRET_ACCESS_KEY,\n       is_secure=True,               # uncomment if you are not using ssl\n       calling_format = boto.s3.connection.OrdinaryCallingFormat(),\n       )\n\n    bucket = conn.get_bucket(Bucketname)\n\n    print ('Uploading %s to Amazon S3 bucket %s' %\n           (file_path, Bucketname))\n\n    def percent_cb(complete, total):\n        sys.stdout.write('.')\n        sys.stdout.flush()\n\n    k = Key(bucket)\n    k.key = str(serialNo)+'-'+str(yesterday_date)+'.csv'\n    k.set_contents_from_filename(file_path,\n    cb=percent_cb, num_cb=10)\n</code></pre>\n\n<p>Initiating scheduler by ,</p>\n\n<pre><code>schedule.every().day.at(\"00:10\").do(job) # run at midnight 00:10\n</code></pre>\n\n<p>Thanks in advance. </p>\n"
    }, {
        "tags": ["aws-lambda", "iot", "alexa", "ifttt", "amazon-echo"],
        "is_answered": true,
        "view_count": 721,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1523813294,
        "creation_date": 1522272546,
        "question_id": 49544478,
        "link": "https://stackoverflow.com/questions/49544478/create-a-toggle-between-two-actions-in-ifttt",
        "title": "Create a toggle between two actions in IFTTT",
        "body": "<p>I have a simple device (<a href=\"https://www.nordicsemi.com/eng/Products/Nordic-Thingy-52\" rel=\"nofollow noreferrer\">Nordic Thingy 52</a>) with a push button which can trigger the <a href=\"https://ifttt.com/maker_webhooks\" rel=\"nofollow noreferrer\">Maker Webhooks</a> service in order to pass an event (<code>button_press</code>), which I am currently using to then trigger the Smart Life service's \"Turn Off\" or \"Turn On\" action. </p>\n\n<p>The problem is that, since I can only pass the one event (<code>button_press</code>), I have to choose whether that event triggers either \"Turn Off\" or \"Turn On\". But what I want is to add some logic to say, \"If the previous request was to turn off the Smart Life device, make the next one turn on the smart life device.\"</p>\n\n<p>Wasn't sure how to do this. An AWS Lambda function? Chaining some other preexisting service? A filter that utilizes local storage or somehow handles state logic?</p>\n\n<p>Any pointers for where to start searching would be appreciated.</p>\n\n<p><a href=\"https://i.stack.imgur.com/YtZnZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YtZnZ.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["apache-storm", "iot", "coap", "heron"],
        "is_answered": true,
        "view_count": 41,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1523307326,
        "creation_date": 1505839496,
        "last_edit_date": 1523307326,
        "question_id": 46305767,
        "link": "https://stackoverflow.com/questions/46305767/coap-support-for-twitter-heron",
        "title": "CoAP support for twitter heron",
        "body": "<p>I'm working on IoT project where I receive datastream in CoAP protocol.\nI want to process the data in Heron by doing some transformations on top of it.\nIs it possible to integrate CoAP protocol objects to heron?</p>\n"
    }, {
        "tags": ["nginx", "iot", "puma", "ruby-on-rails-5.1"],
        "is_answered": false,
        "view_count": 117,
        "favorite_count": 1,
        "score": 4,
        "last_activity_date": 1522989497,
        "creation_date": 1522845698,
        "last_edit_date": 1522989497,
        "question_id": 49651314,
        "link": "https://stackoverflow.com/questions/49651314/communication-of-iot-device-with-server",
        "title": "Communication of IoT device with server",
        "body": "<p>I am using Rails 5.1.5. I have used nginx and puma for deployment of my app.Basically, I want to record all data sent by IoT device and store that data in one table.IoT device is using TCP for communication with server. so I have used <code>stream</code> directive of nginx to communicate with device and I want to transfer the tcp request to puma for processing purpose. Puma is only accepting http requests, so it raises following error.</p>\n\n<pre><code> HTTP parse error, malformed request : #&lt;Puma::HttpParserError: Invalid HTTP format, parsing fails.&gt;\n</code></pre>\n\n<p>I have confiured nginx.conf file like below</p>\n\n<pre><code>    stream {\n    log_format  main  '$time_iso8601 $remote_addr'\n                      '$protocol  $status $bytes_sent $bytes_received '\n                      '$session_time $upstream_addr '\n                      '\"$upstream_bytes_sent\" \"$upstream_bytes_received\" \"$upstream_connect_time\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    server {\n        listen port;\n        proxy_pass app;\n    }\n\n    upstream app {\n        server path of puma.sock;\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["android", "arduino", "gps", "iot"],
        "is_answered": false,
        "view_count": 602,
        "favorite_count": 0,
        "score": -3,
        "last_activity_date": 1522485187,
        "creation_date": 1522470215,
        "last_edit_date": 1522485187,
        "question_id": 49584219,
        "link": "https://stackoverflow.com/questions/49584219/realtime-tracking-of-gps-arduino-module-in-google-maps",
        "title": "Realtime tracking of GPS arduino module in Google Maps",
        "body": "<p>How to directly get GPS arduino module data to Android application to track the GPS arduino module realtime location in Google Maps?. Can we track the GPS module's position using its physical address and since GPS module does not require Internet so how to get the realtime location of the GPS module?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": true,
        "view_count": 364,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1522399401,
        "creation_date": 1464086548,
        "last_edit_date": 1464703311,
        "question_id": 37411251,
        "link": "https://stackoverflow.com/questions/37411251/ibm-watson-iot-platform-historical-data-is-empty",
        "title": "IBM Watson IoT platform : historical data is empty",
        "body": "<p>I try to do the POC on IBM Watson IoT platform. I have followed the document in this link for creating the device simulator.\n<a href=\"https://console.ng.bluemix.net/docs/services/IoT/nodereddevice_sample.html#devices\" rel=\"nofollow\">https://console.ng.bluemix.net/docs/services/IoT/nodereddevice_sample.html#devices</a></p>\n\n<p>It can connect and send the MQTT message event to IoT platform but when I try to get the historical data from REST API, it always returns empty.\n<a href=\"https://os9c6l.internetofthings.ibmcloud.com/api/v0002/historian\" rel=\"nofollow\">https://os9c6l.internetofthings.ibmcloud.com/api/v0002/historian</a></p>\n\n<p>Not sure what when wrong.</p>\n"
    }, {
        "tags": ["amazon-web-services", "mqtt", "iot", "amazon-cloudwatch", "aws-iot"],
        "is_answered": false,
        "view_count": 176,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1521816249,
        "creation_date": 1521711815,
        "last_edit_date": 1521712333,
        "question_id": 49425242,
        "link": "https://stackoverflow.com/questions/49425242/count-aws-iot-successfull-connection",
        "title": "Count AWS IoT successfull connection",
        "body": "<p>I want to count number of successful IoT connection and messages at a time , based upon that I want to apply a notification if it increases by some threshold.</p>\n\n<p>I could not see any cloudwatch matrices/event for the same.</p>\n\n<p>Please guide</p>\n"
    }, {
        "tags": ["c#", ".net", "iot", "kaa"],
        "is_answered": true,
        "view_count": 156,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1520832820,
        "creation_date": 1520288212,
        "question_id": 49120419,
        "link": "https://stackoverflow.com/questions/49120419/kaa-sdk-api-for-c-net",
        "title": "Kaa SDK API for C#/.Net",
        "body": "<p>Is there a Kaa SDK for C# out-there?\nThe kaaproject.com don't seem to support C#(.Net, but maybe there is someone alternative that allows me to build something in .Net that can behave like a device (kaa endpoint); Meaning  sending messages (kaa data collections) and received messages (kaa configuration)?</p>\n\n<p>Reading about the Kaa REST api, it don't seem to support sending/receiving messages. its more for administration.</p>\n\n<p>Or maybe there is some other way that can be used to accomplish the same thing.</p>\n"
    }, {
        "tags": ["python", "mqtt", "iot", "paho"],
        "is_answered": true,
        "view_count": 103,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1519717124,
        "creation_date": 1519698729,
        "last_edit_date": 1519717124,
        "question_id": 49000207,
        "link": "https://stackoverflow.com/questions/49000207/paho-mqtt-module-not-returning-full-message-from-subscribed-topic",
        "title": "Paho MQTT module not returning full message from subscribed topic",
        "body": "<p>i'm currently working with a sensor that sends bytes through MQTT and i'm using Paho MQTT module to make a testing environment so i can learn the back-end process of it.\nHere is my code just to continuously print the messages that the topic sends. </p>\n\n<pre><code>def on_message(sensorclt, userdata, msg):\n    print(msg.payload)\n\ndef on_connect(sensorclt, userdata, flags, rc):\n    if rc == 0:\n        print('Connected')\n        sensorclt.subscribe([(Topics[0], 0), (Topics[1], 0), (Topics[2], 0)])\n    else:\n        print(\"Failed to connect\")\nsensorclt = mqtt.Client()\nsensorclt.connect(host='iot.eclipse.org', port=1883)\nsensorclt.on_connect = on_connect\nsensorclt.on_message = on_message\nsensorclt.loop_forever()\n</code></pre>\n\n<p>Here is the output of a few seconds working: </p>\n\n<pre><code>b'\\x01\\x01\\x00\\x1f\\xa4\\x94Z\\xe3\\x03\\x00'\nb'\\x01\\x01\\x01\\x1f\\xa4\\x94Z\\n\\x00\\x80'\nb'\\x01\\x01\\x02\\x1f\\xa4\\x94Z\\x06\\x00\\x00'\nb'\\x01\\x01\\x00 \\xa4\\x94Z\\xe4\\x03\\x00'\nb'\\x01\\x01\\x01 \\xa4\\x94Z\\n\\x00\\x80'\nb'\\x01\\x01\\x02 \\xa4\\x94Z\\x06\\x00\\x00'\nb'\\x01\\x01\\x00!\\xa4\\x94Z\\xe3\\x03\\x00'\nb'\\x01\\x01\\x01!\\xa4\\x94Z\\t\\x00\\x80'\n</code></pre>\n\n<p>The thing is that the sensor manufacturer tutorial says that there should be 10 bytes, not 8 or even sometimes 7 as the output is pointing. I can prove that information using a simple node-red environment to show that the topic is really sending 10 bytes and never less then that and node-red always receives 10, and again, nothing less .</p>\n\n<p><a href=\"https://i.stack.imgur.com/WkYhJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WkYhJ.png\" alt=\"Node-red Debug node with &quot;Complete Message Object&quot; as Output\"></a></p>\n\n<p>Why is this happening? How can i counter it?</p>\n"
    }, {
        "tags": ["iot", "kaa"],
        "is_answered": true,
        "view_count": 74,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1517313041,
        "creation_date": 1478598619,
        "question_id": 40483707,
        "link": "https://stackoverflow.com/questions/40483707/use-generated-java-sdk-for-web-portal",
        "title": "Use generated java sdk for web portal?",
        "body": "<p>I am creating a web portal that controls the devices (like switching it on/off), visualize the data sent by those devices(endpoints). I have generated a java sdk. Do i use that sdk in my web portal or is it just for a device that sends telemetry data?</p>\n"
    }, {
        "tags": ["push-notification", "arduino", "iot"],
        "is_answered": true,
        "view_count": 5702,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1516711063,
        "creation_date": 1431412973,
        "question_id": 30183617,
        "link": "https://stackoverflow.com/questions/30183617/how-to-send-push-notification-to-arduino",
        "title": "how to send push notification to arduino",
        "body": "<p>I would like to know if there is anything like GCM for arduino.</p>\n\n<p>I'm working on a project where I need to send push notifications to the arduino connected with WiFi shield. Arduino then will do some action based on the notification it gets or sync up with the server data.\nAny advice on how I need to proceed would be helpful.</p>\n\n<p>Thank you. </p>\n"
    }, {
        "tags": ["apache-kafka", "streaming", "sensors", "iot"],
        "is_answered": false,
        "view_count": 1078,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1513799382,
        "creation_date": 1509967534,
        "last_edit_date": 1510125590,
        "question_id": 47135886,
        "link": "https://stackoverflow.com/questions/47135886/sending-sensor-data-to-apache-kafka-using-udp",
        "title": "Sending sensor data to apache Kafka using UDP",
        "body": "<p>In my system, there are many sensors generating data. I want they send generated data to Kafka, directly without interfering network programming. </p>\n\n<p>As I know, Kafka(Confluent version) support HTTP for such situations, but my sensors don't send data using Http protocol and they have their own protocol. </p>\n\n<p>Now my questions are:</p>\n\n<ol>\n<li>Kafka received(understand) in which network layout data abstraction?\nI mean it can receive data in binary(Physical network layout data)\nor higher data abstraction layout like Datalink layout, network layout, ...</li>\n<li>Is that any way to send data to Kafka directly?</li>\n<li>If not, is it possible to customize Kafka source code to fit the\nsituation?</li>\n</ol>\n\n<p><strong>Generally</strong>, is it possible to send data from sensors to Kafka using UDP protocol?</p>\n"
    }, {
        "tags": ["sandbox", "iot", "kaa"],
        "is_answered": true,
        "view_count": 86,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1512674722,
        "creation_date": 1504898147,
        "last_edit_date": 1504951814,
        "question_id": 46123217,
        "link": "https://stackoverflow.com/questions/46123217/kaa-sandbox-building-failed-with-binary-demo-application",
        "title": "Kaa sandbox building failed with binary demo application",
        "body": "<p>I try download binary demo application from Kaa sandbox.</p>\n\n<p>Eventually, I am faced with: \u200cBUILD FAILED</p>\n\n<p>This is a \"<strong>build exception</strong>\" from Kaa sandbox:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dPEkd.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dPEkd.jpg\" alt=\"enter image description here\"></a>\nIs this problem fixed with the Kaa 1.0.0 Banana Beach ?!</p>\n\n<p>Thanks, Kaa IoT team.</p>\n"
    }, {
        "tags": ["matlab", "raspberry-pi3", "iot"],
        "is_answered": true,
        "view_count": 341,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1511536380,
        "creation_date": 1511523314,
        "last_edit_date": 1511525042,
        "question_id": 47472475,
        "link": "https://stackoverflow.com/questions/47472475/thingspeak-matlab-analysis",
        "title": "Thingspeak MATLAB analysis",
        "body": "<p>I am using <code>thingspeak</code> platform with my <code>pi3</code> for home automation. I have successfully sent and received data from my board to the channel. However, I am not able to properly understand the MATLAB analysis tutorial supported on the site.</p>\n\n<p><a href=\"https://in.mathworks.com/help/thingspeak/analyze-your-data.html\" rel=\"nofollow noreferrer\">https://in.mathworks.com/help/thingspeak/analyze-your-data.html</a></p>\n\n<ol>\n<li>I am unable to understand what and why <code>readchId</code> should be given here and \nwhat is the job of MATLAB analysis.</li>\n<li>if the MATLAB analysis is to write my received data to channel and then use MATLAB visualize to display it using readchId. what purpose does the <code>readchId</code> in MATLAB analysis part solve?</li>\n</ol>\n"
    }, {
        "tags": ["eclipse", "mqtt", "iot", "paho", "onem2m"],
        "is_answered": true,
        "view_count": 313,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1507548652,
        "creation_date": 1482938829,
        "last_edit_date": 1507548652,
        "question_id": 41365024,
        "link": "https://stackoverflow.com/questions/41365024/sample-messages-from-iot-sensors-for-mqtt-communications",
        "title": "Sample messages from IOT sensors for MQTT communications",
        "body": "<p>There is an M2M Application which wants to talk to the temperature sensors on the field, i.e. send/receive messages using MQTT pub/sub protocol. </p>\n\n<p>I have setup both IOTDM as well as one with eclipse OneM2M using Mosquito. But, I am looking for some sample APIs/commands through which a M2M application can send a message to the MQTT client and vice versa. </p>\n\n<p>Or if any of you could point me to the appropriate call flows that would be helpful.</p>\n\n<p>Any help would be highly appreciated.</p>\n"
    }, {
        "tags": ["mqtt", "ibm-cloud", "iot", "node-red"],
        "is_answered": true,
        "view_count": 1240,
        "favorite_count": 2,
        "score": 3,
        "last_activity_date": 1507217981,
        "creation_date": 1434490534,
        "last_edit_date": 1434736787,
        "question_id": 30878659,
        "link": "https://stackoverflow.com/questions/30878659/node-red-iot-foundation-out-node-not-sending-commands",
        "title": "Node-RED, IOT Foundation Out Node Not Sending Commands",
        "body": "<p>I have a Node-RED application that is bound to an IOT Foundation (iotf) service. I can receive events from devices and handle them appropriately.</p>\n\n<p>However, I am now interested in sending commands back to my devices and am having some problems. Nothing is showing up at the device, but by creating an IOTF in node, I can confirm that the command is passing through iotf.</p>\n\n<p>I can definitely get commands to pass through iotf using pure python, as the follow code works well:</p>\n\n<p><strong>Client code:</strong></p>\n\n<pre><code>#!/usr/bin/python\n\nimport ibmiotf.device\nfrom time import sleep\n\noptions = {\n  \"org\": \"cgmncc\",\n  \"type\": \"table\",\n  \"id\": \"b827eb764b7a\",\n  \"auth-method\": \"token\",\n  \"auth-token\": \"redacted\"\n}\n\ndef myCommandCallback(cmd):\n  print('inside command callback')\n  print cmd\n\ndef main():\n  client = ibmiotf.device.Client(options)\n  client.connect()\n  client.commandCallback = myCommandCallback\n  while True:\n    sleep(1)\n\nif __name__ == \"__main__\":\n  main()\n</code></pre>\n\n<p><strong>Application code:</strong></p>\n\n<pre><code>#!/usr/bin/python\n\nimport ibmiotf.application\n\noptions = {\n  \"org\": \"redacted\",\n  \"id\": \"python app\",\n  \"auth-method\": \"apikey\",\n  \"auth-key\": \"redacted\",\n  \"auth-token\": \"redacted\"\n}\n\ntry:\n  client = ibmiotf.application.Client(options)\n  client.connect()\n  client.publishCommand('table', 'b827eb764b7a', 'test')\n  client.disconnect()\nexcept ibmiotf.ConnectionException as e:\n  print e\n</code></pre>\n\n<p>Whenever I run the application code, I see the following output:</p>\n\n<pre><code>root@raspberrypi ~ # ./app.py \ninside command callback\n&lt;ibmiotf.device.Command instance at 0x14e8490&gt;\n</code></pre>\n\n<p>I have a Node-RED iotf output node configured as shown below, but when I trigger the flow, the command callback function doesn't trigger!</p>\n\n<p><img src=\"https://i.stack.imgur.com/77h87.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/2V7Ve.png\" alt=\"enter image description here\"></p>\n\n<p>I'm thinking there maybe something wrong either with trying to use a timestamp trigger to fire the command, or with the way I've configured the output node itself -- any suggestions or advice would be appreciated!</p>\n"
    }, {
        "tags": ["raspberry-pi", "iot", "thingsboard"],
        "is_answered": false,
        "view_count": 1096,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1506700075,
        "creation_date": 1506700075,
        "question_id": 46492544,
        "link": "https://stackoverflow.com/questions/46492544/thingsboard-push-button-to-device-from-dashboard",
        "title": "Thingsboard push button to device from dashboard",
        "body": "<p>I'm using Thingsboard on cloud and thingsboard gateway on my raspberry pi.</p>\n\n<p>How can i send and receive push of a button from the dashboard to a device connected, and read it's status?</p>\n\n<p><code>\n| tb | tb-gw | device |\n| ---------------&gt; ?? |\n| ?? &lt;--------------- |\n</code></p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["iot", "aws-iot"],
        "is_answered": true,
        "view_count": 322,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1504227510,
        "creation_date": 1497968191,
        "last_edit_date": 1497968538,
        "question_id": 44655568,
        "link": "https://stackoverflow.com/questions/44655568/duplicate-lifecycle-events",
        "title": "Duplicate Lifecycle Events",
        "body": "<p>I am building a web app that uses AWS IoT lifecycle events and logs device connection/disconnection.\nUsing AWS IoT rules, I am sending all events to a lambda and after some validation I'm saving all lifecycle events to a DynamoDB table. I'm aware that messages may be delayed, out of order and duplicates may happen.\nI am validating for all these scenarios, so my connection log is as accurate as possible.</p>\n\n<p>My question is: Is it possible for duplicate messages to come with a distinct timestamp? Such as a disconnection being sent twice with the same <code>sessionIdentifier</code> but a different timestamp?</p>\n"
    }, {
        "tags": ["iot", "predix"],
        "is_answered": true,
        "view_count": 180,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1503145512,
        "creation_date": 1499667745,
        "question_id": 45005000,
        "link": "https://stackoverflow.com/questions/45005000/how-to-stream-data-that-is-generated-by-an-iot-gateway-application-to-predix-clo",
        "title": "How to stream data that is generated by an IoT gateway application to predix cloud?",
        "body": "<p>I've devices configured with IoT gateway application(built with MEAN.JS), these devices send data to IoT gateway where i can access data now i wish to do some analytics on same data how can i send this data to <a href=\"https://www.predix.io/\" rel=\"nofollow noreferrer\">predix cloud</a> so that i can use predix services for analytics</p>\n"
    }, {
        "tags": ["ibm-mobilefirst", "ibm-cloud", "iot", "node-red", "ibm-cloud-tools"],
        "is_answered": false,
        "view_count": 360,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1503003663,
        "creation_date": 1502998447,
        "last_edit_date": 1503003663,
        "question_id": 45743614,
        "link": "https://stackoverflow.com/questions/45743614/node-red-error-error-stopping-node-error-baseclientdisconnect-client-is-n",
        "title": "node-red error: &quot;Error stopping node: Error: [BaseClient:disconnect] Client is not connected&quot; AND &quot;Error: Connection refused: Not authorized&quot;",
        "body": "<p>I am following this tutorial on how to send a picture taken from the pi camera to the CLoudant NoSQL database on Bluemix. </p>\n\n<p>\"There are 3 node-red flows in total. The Process Doorbell flow (on the raspberry pi) should send an IBM IoT visitorAlert event message to Node-RED on Bluemix which should, in turn, send an IBM IoT sendPicture command message back to Node-RED on Raspberry Pi.  This will eventually create a Base64 encoded image string, package it up with the filename, length and status into a payload that gets sent to Cloudant in Bluemix by the insertPicture node.  See if it worked by going to the Bluemix Cloudant dashboard.\"</p>\n\n<p>I created the flows on node-Red, but am getting this error on the node-red in the pi: </p>\n\n<blockquote>\n  <p>\"Error stopping node: Error: [BaseClient:disconnect] Client is not\n  connected\"</p>\n</blockquote>\n\n<p>I am getting this error on the node-red in Bluemix: </p>\n\n<blockquote>\n  <p>\"Error: Connection refused: Not authorized\"</p>\n</blockquote>\n\n<p>What could be the issue?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "ibm-cloud-plugin"],
        "is_answered": false,
        "view_count": 103,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1502379575,
        "creation_date": 1455035414,
        "last_edit_date": 1502379575,
        "question_id": 35297183,
        "link": "https://stackoverflow.com/questions/35297183/visual-analytics-on-bluemix",
        "title": "Visual analytics on bluemix",
        "body": "<p>How can I run visual analytics on historical IoT data on #Bluemix?\nThere are services like Real-time Insights and Streaming analytics for real-time data analytics, but is there a service for historical data analytics and visualization?</p>\n"
    }, {
        "tags": ["iot", "dashboard", "opc"],
        "is_answered": false,
        "view_count": 152,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1502369720,
        "creation_date": 1498740525,
        "last_edit_date": 1502369720,
        "question_id": 44825603,
        "link": "https://stackoverflow.com/questions/44825603/communicate-opc-server",
        "title": "Communicate OPC Server",
        "body": "<p>Is there any dashboard solutions available to communicate OPC Server directly (OLE for Process Control + Used in Industrial Standards)? \nIf so please suggest the dashboard vendor name.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "openwhisk"],
        "is_answered": true,
        "view_count": 106,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1501774640,
        "creation_date": 1501246477,
        "last_edit_date": 1501774640,
        "question_id": 45374128,
        "link": "https://stackoverflow.com/questions/45374128/how-to-invoke-an-openwhisk-action-from-iot-platform-in-bluemix",
        "title": "How to invoke an OpenWhisk action from IoT Platform in Bluemix",
        "body": "<p>We would like to know how to invoke an OpenWhisk action from IoT Platform in Bluemix. What we want to accomplish is: </p>\n\n<ol>\n<li>Send an event data from a device to IoT Platform</li>\n<li>Subscribe the event</li>\n<li>Call an OpenWhisk action. </li>\n</ol>\n\n<p>We are assuming the event data is JSON format. We know we can develop an application that subscribes to an event on the IoT Platform like: <a href=\"https://console.bluemix.net/docs/services/IoT/applications/libraries/java.html#java\" rel=\"nofollow noreferrer\">https://console.bluemix.net/docs/services/IoT/applications/libraries/java.html#java</a>. However, we believe that there must be a more simpler way. </p>\n\n<p>If we look at IoT Platform, we can create an action such as IFTTT, Webhook action, Forward event to cloud, etc. Generally speaking, which way do you recommend to invoke an OpenWhisk action from IoT Platform? </p>\n\n<p>Any comments or suggestions must be appreciated. Thank you.</p>\n"
    }, {
        "tags": ["events", "event-handling", "iot", "kaa"],
        "is_answered": false,
        "view_count": 127,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1501517678,
        "creation_date": 1499167780,
        "last_edit_date": 1499230513,
        "question_id": 44904788,
        "link": "https://stackoverflow.com/questions/44904788/kaa-event-subsystem-not-working",
        "title": "Kaa event subsystem not working",
        "body": "<p>I am experimenting with Kaa event subsystem for one of my IoT application. I created a event class family and added the same to one of the projects keeping the property as \"Both\" as I want to send/receive both. My event triggering code looks something like: </p>\n\n<pre><code>    DesktopKaaPlatformContext desktopKaaPlatformContext = new DesktopKaaPlatformContext();\n    kaaClient = Kaa.newClient(desktopKaaPlatformContext, new SimpleKaaClientStateListener() {\n        @Override\n        public void onStarted() {\n            System.out.println(\"--= Kaa client started =--\");\n        }\n\n        @Override\n        public void onStopped() {\n            System.out.println(\"--= Kaa client stopped =--\");\n        }\n    }, true);\n\n    // Obtain the event family factory.\n    final EventFamilyFactory eventFamilyFactory = kaaClient.getEventFamilyFactory();\n\n    Random rnRandom = new Random();\n    event1 = eventFamilyFactory.getEventClassFamilyDemo();\n\n    DemoEventsCTL event = new DemoEventsCTL(rnRandom.nextBoolean());\n    kaaClient.start();\n    event.setMachineOn(rnRandom.nextBoolean());\n    event1.sendEventToAll(event);\n    System.out.println(\"Hello : Event : \" + event.getMachineOn() + \"has been addded\");\n\n    }\n\n}\n</code></pre>\n\n<p>And My Event handler looks like : \n    DesktopKaaPlatformContext desktopKaaPlatformContext = new DesktopKaaPlatformContext();</p>\n\n<pre><code>    kaaClient = Kaa.newClient(desktopKaaPlatformContext, new SimpleKaaClientStateListener() {\n        @Override\n        public void onStarted() {\n            LOG.info(\"--= Kaa client started =--\");\n        }\n\n        @Override\n        public void onStopped() {\n            LOG.info(\"--= Kaa client stopped =--\");\n        }\n    }, true);\n    final EventFamilyFactory eventFamilyFactory = kaaClient.getEventFamilyFactory();\n    event1 = eventFamilyFactory.getEventClassFamilyDemo();\n    event1.addListener(new EventClassFamilyDemo.Listener() {\n        @Override\n        public void onEvent(DemoEventsCTL event, String source) {\n              System.out.println(kaaClient.isAttachedToUser());\n            System.out.println(\"The event received is :\" + event.getMachineOn());\n\n    });\n    // Start the Kaa client and connect it to the Kaa server.\n    kaaClient.start();\n}\n</code></pre>\n\n<p>When I execute these applications separately, both run without any error logs, I see the connection to server successful. However, I do not see the sent events being received.\nWill proxies be creating any issues? If anyone has tried before, can you tell me if I am missing anything?  </p>\n"
    }, {
        "tags": ["iot", "contiki"],
        "is_answered": true,
        "view_count": 166,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1500905730,
        "creation_date": 1500822530,
        "question_id": 45266612,
        "link": "https://stackoverflow.com/questions/45266612/how-to-understand-which-runicast-message-you-have-succesfully-transmitted-in-con",
        "title": "How to understand which runicast message you have succesfully transmitted in Contiki (Rime)?",
        "body": "<p>After that I send different runicast messages with the function <code>runicast_send</code>,  how can I understand which message was acknowledged when the callback <code>sent_runicast</code> is triggered?</p>\n\n<p>The <a href=\"https://github.com/contiki-os/contiki/blob/master/core/net/rime/runicast.h\" rel=\"nofollow noreferrer\">runicast.h</a> file states: </p>\n\n<blockquote>\n  <p>The runicast primitive adds two packet attributes: the single-hop\n   packet type and the single-hop packet ID.  The runicast primitive\n   uses the packet ID attribute as a sequence number for matching\n   acknowledgement packets to the corresponding data packets.</p>\n</blockquote>\n\n<p>but I didn't understand how to do it in practice. Can somebody provide an example?</p>\n"
    }, {
        "tags": ["apache-kafka", "scalability", "iot"],
        "is_answered": true,
        "view_count": 276,
        "favorite_count": 0,
        "closed_date": 1500898762,
        "score": 0,
        "last_activity_date": 1500891301,
        "creation_date": 1473397390,
        "question_id": 39404173,
        "link": "https://stackoverflow.com/questions/39404173/heartbeat-monitoring-system-for-iot-need-some-suggestion-with-architecture",
        "title": "Heartbeat monitoring system for IoT, need some suggestion with architecture",
        "body": "<p>First of sorry for such an open ended question, but i did not know any other platform for posting such questions.</p>\n\n<p>So basically i am working on an IoT platform where in field close to 2 million devices are supposed to be connected with few gateways. Now i have a requirement where i need to monitor heartbeat (periodic) of each device and on the basis of some missed heartbeats i want to add/remove the device from the network console.</p>\n\n<p>I am planning to put a kafka queue between the devices and the gateways so that the periodic data can be queued and stored some where, however my problem starts when at a gateway level i have to monitor every heartbeat and decide which device has missed beats for a given soak period. I can't maintain a large data structure to keep the mapping, DB is going to be costly for a NRT or RT system, any suggestion how the design should be made for this.</p>\n\n<p>My platform is Java driven, so any suggestions if some other Open Source platform can fit the bill or any design approach.</p>\n\n<p>Thanks.</p>\n"
    }, {
        "tags": ["iot", "aws-iot", "stream-processing", "event-stream-processing"],
        "is_answered": true,
        "view_count": 300,
        "favorite_count": 3,
        "score": 1,
        "last_activity_date": 1500519867,
        "creation_date": 1500449746,
        "question_id": 45183872,
        "link": "https://stackoverflow.com/questions/45183872/approaches-on-ingesting-iot-data-from-cloud-gateway",
        "title": "Approaches on ingesting IoT data from cloud gateway",
        "body": "<p>I would like to hear your insights about an IoT data ingesting case. In AWS IoT hub, thing shadows are virtual representation of physical ones. What i understood from the figure below is whenever a thing sends a data to platform via a message broker, thing shadows and rule engine portions get the same sensor data concurrently and process it. </p>\n\n<p>Are my conclusions correct ?</p>\n\n<ul>\n<li>Things shadow system is subscribed to message broker and gets sensor data, updates their shadow actors. Shadow side is also responsible for storing sensor data such an event sourcing mechanism.</li>\n<li>The thing shadow system does not perform any rules, it is just for performing event sourcing and keeping last known state in virtual thing actors.</li>\n<li>The same sensor data also is an inbound data to rules engine. Rules engine is just and ECA (event condition action) type system that handle streaming data and decides what it will do with them. This means every incoming data eventually will be processed in rules engine portion. </li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/lfepK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lfepK.png\" alt=\"https://paolopatierno.wordpress.com/2015/10/13/an-iot-platforms-match-microsoft-azure-iot-vs-amazon-aws-iot/\"></a> </p>\n"
    }, {
        "tags": ["iot", "kaa"],
        "is_answered": true,
        "view_count": 286,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1499783179,
        "creation_date": 1498552372,
        "question_id": 44775622,
        "link": "https://stackoverflow.com/questions/44775622/getting-data-from-kaa-server-without-using-log-apender",
        "title": "Getting Data from Kaa server without using Log Apender",
        "body": "<p>I am using Kaa client to pump data to Kaa server. \nI want to fetch this data in order to showcase on a client application. With the use of Log Appenders, I am able to do so.\nHowever, is it possible to do the same without adding any external db? I read in Kaa documentation that by default, Kaa stores data to MySQL (MaraidB / PostGre). \nHowever, when I tried to access Mysql (which is part of Kaa Sandbox), I was unable to do so.\nCan anyone tell how can we do this?</p>\n"
    }, {
        "tags": ["node.js", "iot", "coap", "cbor"],
        "is_answered": true,
        "view_count": 132,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1496242835,
        "creation_date": 1496200971,
        "question_id": 44275080,
        "link": "https://stackoverflow.com/questions/44275080/can-coap-be-used-when-preserving-data-order-is-required",
        "title": "Can CoAP be used when preserving data order is required?",
        "body": "<p>I am trying to transmit sensor data from an IoT device via CoAP using <a href=\"https://github.com/mcollina/node-coap\" rel=\"nofollow noreferrer\">node-coap</a>. The order of the data, as it arrives to the CoAP server, is important to me. I can not find a way to preserve the sequence of data, even when using the <code>confirmable</code> request option.</p>\n\n<p>I have a small program below that shows what I mean. </p>\n\n<p><strong>Can CoAP not be used if order/sequence of data is important?  If it can, what am I doing wrong?</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>'use strict';\n\nconst coap = require('coap'),\n  cbor = require('cbor'),\n  server = coap.createServer();\n\nconst sequentialData = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];\nlet incomingData = [];\nlet numResponses = sequentialData.length;\n\nserver.on('request', (req, res) =&gt; {\n  const obj = cbor.decodeFirstSync(req.payload);\n  incomingData.push(obj.data);\n  res.end();\n});\n\nserver.listen(() =&gt; {\n  const reqOpts = {\n    hostname: 'localhost',\n    method: 'POST',\n    pathname: '/sequential',\n    options: {\n      Accept: 'application/cbor'\n    }\n  };\n\n  sequentialData.forEach((item) =&gt; {\n    const req = coap.request(reqOpts);\n    req.write(cbor.encode({\n      data: item\n    }));\n\n    req\n      .on('response', (res) =&gt; {\n        res.pipe(process.stdout);\n        res.on('end', () =&gt; {\n          if (--numResponses === 0) {\n            console.log(`got data in this order`, incomingData);\n            process.exit();\n          }\n        })\n      });\n\n    req.end();\n  });\n});\n</code></pre>\n\n<p>Node Program above will output a different order each time ran.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-web-app-service"],
        "is_answered": true,
        "view_count": 353,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1494904038,
        "creation_date": 1494537456,
        "question_id": 43925703,
        "link": "https://stackoverflow.com/questions/43925703/data-visualization-with-azure-web-app-filtering",
        "title": "Data visualization with Azure Web App filtering",
        "body": "<p>I'm following the documentation <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-live-data-visualization-in-web-apps\" rel=\"nofollow noreferrer\">here</a> to visualize data from IoT hub. In my use case, I have multiple devices sending data to the IoT hub. I'd like to know if it's possible to use single web app to visualize data from a specific device, which parameter is sent through HTTP GET method. The current workaround simply ignores data from other devices, which is not ideal. I wonder if there is a right way to do this.</p>\n\n<p>Thanks,</p>\n"
    }, {
        "tags": ["azure", "iot", "azureservicebus", "azure-logic-apps", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 227,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1492910080,
        "creation_date": 1492822715,
        "question_id": 43554066,
        "link": "https://stackoverflow.com/questions/43554066/logic-app-not-receiving-messages",
        "title": "Logic App Not Receiving Messages",
        "body": "<p>I posted this question a couple of days ago <a href=\"https://stackoverflow.com/questions/43505441/sms-messaging-from-azure-iot-hub\">SMS Messaging from Azure IOT Hub</a></p>\n\n<p>I have attempted to implement the logic app that had been suggested, my problem is no messages are being received by logic app through the service bus, in fact no messages are reaching the service bus. When I try to run the trigger in the logic app it gives me a pop-up saying \"When_a_message_is_received_in_a_queue\". When I run the logic app it says the work flow has timed out after a couple of minute.</p>\n\n<p>I copied what this guy done except when he sends the emails I added a twilio connector. </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-monitoring-notifications-with-azure-logic-apps\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-monitoring-notifications-with-azure-logic-apps</a></p>\n\n<p>The messages that I am sending from my device to my IOT hub are being received by stream analytics, is it possible that stream analytics is stopping the messages from being fed to the service bus? The input to stream analytics is a data stream. </p>\n\n<p>Thanks for any help and sorry if this is a silly question.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": true,
        "view_count": 270,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1492024042,
        "creation_date": 1491147971,
        "last_edit_date": 1491844039,
        "question_id": 43170270,
        "link": "https://stackoverflow.com/questions/43170270/ibm-bluemix-iot-dashboard-line-graph-not-using-database-only-works-in-realtime",
        "title": "IBM/BlueMix iOT dashboard line graph not using database (only works in realtime)?",
        "body": "<p>(See picture)</p>\n\n<ol>\n<li>I have successfully connected my iOT device to the BlueMix IoT platform</li>\n<li>I can see all the events nicely flowing into the dashboard</li>\n<li>I now enabled the extension in BlueMix IoT to store all data in \"Historical Data Storage\" (refer to <a href=\"https://developer.ibm.com/recipes/tutorials/cloudant-nosql-db-as-historian-data-storage-for-ibm-watson-iot-parti/#r_step3\" rel=\"nofollow noreferrer\">https://developer.ibm.com/recipes/tutorials/cloudant-nosql-db-as-historian-data-storage-for-ibm-watson-iot-parti/#r_step3</a>)</li>\n<li>I can see the data correctly being written in the database</li>\n<li>When I put a line graph on the dashboard in BlueMix IoT it does show a graph but only for the realtime data, it seams its not using the historical data now stored in the database. (refer to <a href=\"https://developer.ibm.com/recipes/tutorials/cloudant-nosql-db-as-historian-data-storage-for-ibm-watson-iot-partiii/\" rel=\"nofollow noreferrer\">https://developer.ibm.com/recipes/tutorials/cloudant-nosql-db-as-historian-data-storage-for-ibm-watson-iot-partiii/</a>)</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/pK4pB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pK4pB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1HsoO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1HsoO.jpg\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": true,
        "view_count": 70,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1492011065,
        "creation_date": 1492008217,
        "last_edit_date": 1492011065,
        "question_id": 43372802,
        "link": "https://stackoverflow.com/questions/43372802/defining-datapoints-for-iot-devices-in-ibm-bluemix",
        "title": "Defining datapoints for IoT devices in IBM Bluemix",
        "body": "<p>I've followed the tutorial steps for adding a new device (registered device type, added device, set up connectivity parameters on the device side, etc.), but I don't see any data posted from the device.</p>\n\n<p>In device logs I see successful connection attempts, authentication is OK, but any topics posted are rejected:</p>\n\n<pre><code>Token auth succeeded: ClientID='d:0mbsfg:iot-testbed-c027:89262000001000000000000000001000', ClientIP=XXXXX Apr 12, 2017 5:31:29 PM\n\nClosed connection from XXXX. The topic is not valid: iot-v2/evt/sensors/fmt/json The topic does not match an allowed rule   Apr 12, 2017 5:31:01 PM\n</code></pre>\n\n<p>When I look at my device dashboard, I see that both the Sensor Data and Recent Events sections are empty. The former also says \"There are no datapoints\".</p>\n\n<p>In older tutorials, I've seen datapoints being defined in the context of IoT Realtime Insights, but AFAIK, that piece of software is now a part of the IoT core functionality. </p>\n\n<p>So, how can I finally get some data from the device? Should I define the datapoints? If yes, where?</p>\n\n<p>Any help is highly appreciated! </p>\n"
    }, {
        "tags": ["email", "amazon-web-services", "iot", "rule-engine"],
        "is_answered": true,
        "view_count": 315,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1491840429,
        "creation_date": 1484056337,
        "last_edit_date": 1484056535,
        "question_id": 41570491,
        "link": "https://stackoverflow.com/questions/41570491/rule-to-send-mail-when-device-thing-is-disconnected-from-aws-iot",
        "title": "Rule to send mail when device (thing) is disconnected from AWS IoT",
        "body": "<p>I am working on an IoT based project, where I get data from raspberryPi and send it to AWS IoT cloud. </p>\n\n<p>I have created a couple of rules to save data in DynamoDB and send emails on certain conditions. But I am struggling with <strong>how to send an email if the device gets DISCONNECTED</strong>. </p>\n\n<p>Basically I was wondering if there is any way to get the <strong>eventType: disconnected</strong><br>\nScreenshot and perform an action upon this event.</p>\n\n<p><a href=\"https://i.stack.imgur.com/m89Ih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m89Ih.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any kind of help would be greatly appreciated. </p>\n\n<p>Thank you !</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 62,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1491335751,
        "creation_date": 1491335377,
        "last_edit_date": 1491335751,
        "question_id": 43216413,
        "link": "https://stackoverflow.com/questions/43216413/how-do-i-fire-an-aws-iot-rule-on-two-different-groups-of-iot-buttons-in-the-same",
        "title": "How do I fire an AWS IOT rule on two different groups of IOT Buttons in the same account?",
        "body": "<p>I'm new to AWS IOT and have a use case where I have two groups of AWS IOT buttons that I would like to have a rule fired for.  </p>\n\n<p>I know that I can fire a rule for all buttons with the query statement:</p>\n\n<pre><code>    SELECT * FROM 'iotbutton/#'\n</code></pre>\n\n<p>I know that I can fire a rule for one button with the query statment:</p>\n\n<pre><code>    SELECT * FROM 'iotbutton/G030MD023024ABCD'      \n</code></pre>\n\n<p>What I am looking to be able to do is fire a rule for the two different groups of buttons or possibly Thing Types.  Something possibly like this, but I'm not sure how to set this up.</p>\n\n<pre><code>    SELECT * FROM 'iotbutton/groupA/#'   or    SELECT * FROM 'iotbutton/groupB/#'\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/fHqhl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fHqhl.jpg\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["amazon-web-services", "amazon-s3", "aws-lambda", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 44,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1489770257,
        "creation_date": 1489770257,
        "question_id": 42863324,
        "link": "https://stackoverflow.com/questions/42863324/aws-mqtt-packet-reconstruction",
        "title": "AWS MQTT Packet Reconstruction",
        "body": "<p>I'm sending files via MQTT to AWS IoT and need to break the file into several MQTT messages because of payload limits. I have that part working, but struggling to figure out the best way to reconstruct the packets on the Amazon side. The file needs to be reconstructed then saved to S3 bucket. What is the best approach to accomplish this?</p>\n"
    }, {
        "tags": ["iot", "fiware", "node-red"],
        "is_answered": false,
        "view_count": 127,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1488960365,
        "creation_date": 1488792940,
        "last_edit_date": 1488848052,
        "question_id": 42622048,
        "link": "https://stackoverflow.com/questions/42622048/fiware-suitable-components",
        "title": "Fiware suitable Components",
        "body": "<p>Could someone suggest me suitable components to build a full path using fiware components?In the path i would like to register mobile devices  to a broker (also Node-RED for getting info from broker).Above the broker i want to have a Complex Event Processing engine for  the complex events.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "node-red"],
        "is_answered": true,
        "view_count": 56,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1488356257,
        "creation_date": 1488108468,
        "question_id": 42467882,
        "link": "https://stackoverflow.com/questions/42467882/how-can-i-increase-the-data-rate-of-ibmiot-input-node",
        "title": "How can i increase the data rate of ibmiot input node?",
        "body": "<p>I am sending data from my sensortag 2650 to the Node-RED platform through my smartphone. I am sending at the speed of 10 Hz. But the node is spitting out data at 1 Hz. How can I increase the data rate of the Node ibmiot?</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 91,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1487655163,
        "creation_date": 1487625027,
        "question_id": 42354267,
        "link": "https://stackoverflow.com/questions/42354267/sending-data-to-iot-device-from-user-input",
        "title": "Sending data to IoT device from user input",
        "body": "<p>I would like to send the data entered in a textbox to the IoT device instead of sending \"on\" which is already predefined. How can I do this?      </p>\n\n<pre><code>&lt;form action=\"/light/on\" method=\"POST\"&gt;\n  &lt;input type=\"submit\" value=\"Turn me on\"&gt;\n &lt;/form&gt;\n</code></pre>\n"
    }, {
        "tags": ["python", "node.js", "ibm-cloud", "device", "iot"],
        "is_answered": false,
        "view_count": 244,
        "favorite_count": 0,
        "score": -2,
        "last_activity_date": 1486368868,
        "creation_date": 1486135502,
        "last_edit_date": 1486205441,
        "question_id": 42027577,
        "link": "https://stackoverflow.com/questions/42027577/getting-data-from-ibm-bluemix-into-python-code",
        "title": "getting data from ibm bluemix into python code",
        "body": "<p>I need code for getting data from bluemix which is sent by this code</p>\n\n<pre><code>import RPi.GPIO as GPIO\nimport dht11\nimport time\nimport datetime\nimport ibmiotf.device\n\n# initialize GPIO\nGPIO.setwarnings(False)\nGPIO.setmode(GPIO.BCM)\nGPIO.cleanup()\n\n1\nclient.connect()\n\n\n\n# read data using pin GPIO4\ninstance = dht11.DHT11(pin=4)\n\nwhile True:\n    result = instance.read()\n    if result.is_valid():\n        print(\"Last valid input: \" + str(datetime.datetime.now()))\n        temp=(\" %d C\" % result.temperature)\n        print(\"temperature:\" +temp)\n        humid=(\"%d %%\" % result.humidity)\n    print(\"Humidity:\" +humid)\n       # print(\"Temperature: %d C\" % result.temperature)\n       # print(\"Humidity: %d %%\" % result.humidity)\n        print(\"Data is published into the cloued\")\n        Data={'Temperature' :temp, 'Humidity' :humid }\n        client.publishEvent(\"status\", \"json\", Data)\n\n    time.sleep(1)\n</code></pre>\n"
    }, {
        "tags": ["node.js", "mongodb", "iot"],
        "is_answered": true,
        "view_count": 433,
        "favorite_count": 0,
        "closed_date": 1488209665,
        "score": -1,
        "last_activity_date": 1486105037,
        "creation_date": 1486045172,
        "last_edit_date": 1486051240,
        "question_id": 42004579,
        "link": "https://stackoverflow.com/questions/42004579/how-connect-node-and-mongodb-with-web-app",
        "title": "How connect Node and MongoDB with web app",
        "body": "<p>I am using Node.js to get data from a MQTT broker (<a href=\"https://www.npmjs.com/package/ttn\" rel=\"nofollow noreferrer\">with this</a>) and store in a MongoDB database. Now I want to visualize this data in a web app (possibly) in real time.\nThe data comes from different Internet Of Things node, so every time a node send data, I would that a button in HTMl become green or blink.</p>\n\n<p>I am not an expert backend programmer, so what could be the best way, in terms of complexity? There are some intuitive libraries?\nAPI ? Socket.io ? Moongose ?</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot", "node-red", "watson-iot"],
        "is_answered": true,
        "view_count": 1366,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1485843701,
        "creation_date": 1485775128,
        "last_edit_date": 1485843533,
        "question_id": 41934590,
        "link": "https://stackoverflow.com/questions/41934590/sending-commands-back-to-raspberry-pi-from-bluemix-node-red",
        "title": "Sending commands back to raspberry pi from bluemix node red",
        "body": "<p>I am reading sensor values from Raspberry Pi 2 and sending it to bluemix IoT platform using node-red application on the Pi. After monitoring the values, I would like to send the command back to raspberry pi from the node red starter in the bluemix to control the GPIO on the Pi using node red application on the Pi.</p>\n\n<p>I am able to send the data from the raspberry pi to the Bluemix using Node Red, and the data is also displayed on the node red starter in Bluemix (ibmiotin node). But the command from the bluemix to the Pi is not being sent.</p>\n\n<p>When I try to send command by using the inject node to the PI, then the command is sent perfectly, but when I use the sensor input node to send the command, the command is not sent to the device.</p>\n\n<p>Is there any criteria in the Bluemix that the same device can't be used for sending and receiving the data simultaneously?</p>\n\n<p>How can I send the data back to the raspberry pi using the bluemix node-red starter?</p>\n\n<p>P.S. Both the devices(sensor and Pi) are shown as connected in the IoT dashboard and also in node-red.</p>\n\n<p>The image of my node red in bluemix is as shown below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GEMXw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GEMXw.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["ibm-cloud", "mqtt", "iot", "watson-iot"],
        "is_answered": false,
        "view_count": 174,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1485814787,
        "creation_date": 1472650599,
        "question_id": 39251193,
        "link": "https://stackoverflow.com/questions/39251193/ibm-watson-iot-rules-delayed-triggering-of-actions",
        "title": "IBM Watson IoT Rules: delayed triggering of actions",
        "body": "<p>I have a simple rule setup which checks the temperature sensor value in the event data to be greater than 30 Celsius and trigger a NodeRed flow as an action. I see that there is delay in triggering the action. The delay I saw was around a minute to half an hour. Is this something to do with the QoS level of the event data messages being sent?</p>\n"
    }, {
        "tags": ["algorithm", "architecture", "timestamp", "theory", "iot"],
        "is_answered": true,
        "view_count": 257,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1485272646,
        "creation_date": 1485268135,
        "question_id": 41830732,
        "link": "https://stackoverflow.com/questions/41830732/theoretical-model-for-iot-timestamp-based-algorithm",
        "title": "Theoretical model for IoT timestamp-based algorithm",
        "body": "<p>I am implementing an IoT gate control system that recieves packets which have two parameters, a value and a timestamp. All messages are recieved and processed in my system in a strict chronological order due to a message broker system.</p>\n\n<p>My program then needs to process the messages according to several rules according to a \"best-information\" scheme and then correct eventual mistakes that timers can introduce. The goal is to log exact times of when the gate was opened/closed in a manner that is prone to network lag. The purpose of timers is that they predict the outcome to the worker before actually knowing the real outcome, and most times the timer is correct. For instance, the following sequence occour:</p>\n\n<p>Timestamp is the left column, value is the right</p>\n\n<ol>\n<li><p>RECIEVED MESSAGE</p>\n\n<p>2017-01-24 10:00:00 - TRUE(1) (this means the gate is open, a log file writes that the gate was opened at this timestamp)</p></li>\n<li><p>TIMER</p>\n\n<p>2017-01-24 10:00:30 - After 30(configurable constant value) seconds the timer indicates that the gate should be closed. This triggers the program to write in a log that between 2017-01-24 10:00:00 - 2017-01-24 10:00:30 the gate was opened for 30 seconds.</p></li>\n<li><p>RECIEVED MESSAGE</p>\n\n<p>2017-01-24 10:00:15 - FALSE(0) (this means that the gate actually was closed at 10:00:15, this means that the program needs to adjust the log so the entry of opening was 2017-01-24 10:00:00 - 2017-01-24 10:00:15.</p></li>\n</ol>\n\n<p>Another problem is also for instance that in the more advanced cases, delays shall be supported. For instance: the gate shall ONLY be logged opened if there was a solid TRUE signal for 10 seconds. This means that when the true signal appear, first an entry is written to the log temporarly saying that the gate is open to show the worker it happened, secondly a timer is started, counting to 10. When the timer reaches 10 seconds, the system writes that the gate was opened 10 seconds. However, 5 minutes after (due to for instance network breakdown), the system recieves a message that the gate actually recieved a FALSE signal 5 seconds after the TRUE signal appeared, meaning that no OPEN entry should be written at all (because it was only 5 seconds between TRUE and FALSE signal). Observe that no other messages was sent between those two so they are still in strict in chronological order. Which is an important factor always assumed here.</p>\n\n<p>I am sure there are other algorithms, patterns and theoretical models for this type of problems when handling time events and rollbacks due to \"best-information\" errors. But I do not know what they are called and where to find them, can you please direct me to relevant theories, examples and what to look up in order to have a solid model for this type of problem and in turn make a good implementation. Due to its many rules (the gate can also send a combination of pulses and true/false where the combination is used to determine the status) and rollbacks, the implementation very easily ends up a big blob with if-statements, impossible to maintain, extend and support.</p>\n"
    }, {
        "tags": ["c#", "asp.net", "azure", "model-view-controller", "iot"],
        "is_answered": false,
        "view_count": 722,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1485233753,
        "creation_date": 1485233753,
        "question_id": 41820277,
        "link": "https://stackoverflow.com/questions/41820277/receive-data-from-iot-hub-in-c",
        "title": "Receive data from IoT Hub in C#",
        "body": "<p><strong>My Query</strong></p>\n\n<p>I am having issues on receiving data continuously from IoT Hub. </p>\n\n<p>I have used <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted\" rel=\"nofollow noreferrer\">iot-hub-csharp-csharp-getstarted</a> as reference to create my ASPNet MVC app</p>\n\n<p>Below is the function to receive data from IoT Hub</p>\n\n<pre><code>private static async Task ReceiveMessagesFromDeviceAsync(string partition, CancellationToken ct)\n    {\n        var eventHubReceiver = eventHubClient.GetDefaultConsumerGroup().CreateReceiver(partition, DateTime.UtcNow);\n        while (true)\n        {\n            if (ct.IsCancellationRequested) break;\n            EventData eventData = await eventHubReceiver.ReceiveAsync();\n            if (eventData == null) continue;\n\n            string data = Encoding.UTF8.GetString(eventData.GetBytes());\n\n            //Console.WriteLine(\"Message received. Partition: {0} Data: '{1}'\", partition, data);\n\n        }\n    }\n</code></pre>\n\n<p>The value is getting received in <em>var</em>  <strong><em>string data</em></strong>\nBut it comes out of the loop after some time (<em>whereas in the Console app which sends data to IoT hub, it keeps continuously sending data</em> )</p>\n\n<p>The above function is called via the below one</p>\n\n<pre><code>private void SetHubs()\n        {\n            eventHubClient = EventHubClient.CreateFromConnectionString(connectionString, iotHubD2cEndpoint);\n            var d2cPartitions = eventHubClient.GetRuntimeInformation().PartitionIds;\n            CancellationTokenSource cts = new CancellationTokenSource();\n\n            var tasks = new List&lt;Task&gt;();\n            foreach (string partition in d2cPartitions)\n            {\n                tasks.Add(ReceiveMessagesFromDeviceAsync(partition, cts.Token));\n            }\n            //Task.WaitAll(tasks.ToArray());\n\n\n        }\n</code></pre>\n\n<p><strong>My problem</strong></p>\n\n<p>So in the receiving MVC app (using the above method <em>ReceiveMessagesFromDeviceAsync</em>, it comes out of the loop  (though it is inside while loop  ==><em>while(true)</em>)\nOnly some 50 - 70 message are received after which it exists the while loop,\nWhat is that I am missing here? </p>\n"
    }, {
        "tags": ["node.js", "iot", "pubnub", "node-red"],
        "is_answered": false,
        "view_count": 98,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1485096789,
        "creation_date": 1485080228,
        "last_edit_date": 1485096789,
        "question_id": 41789713,
        "link": "https://stackoverflow.com/questions/41789713/not-able-to-access-pubnub-on-node-red",
        "title": "Not able to access PubNub on Node-Red",
        "body": "<p><a href=\"https://i.stack.imgur.com/zftij.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zftij.jpg\" alt=\"enter image description here\"></a>\nAfter installing Node-Red and PubNub thorugh NPM Local, I am not able to find PubNub on Node-Red.</p>\n\n<p>Kindly Help.</p>\n"
    }, {
        "tags": ["mqtt", "iot"],
        "is_answered": true,
        "view_count": 231,
        "favorite_count": 0,
        "score": -4,
        "last_activity_date": 1482428551,
        "creation_date": 1482347821,
        "question_id": 41270330,
        "link": "https://stackoverflow.com/questions/41270330/why-mqtt-sends-more-packets-than-tcp",
        "title": "Why MQTT sends more packets than TCP?",
        "body": "<p>I have run some traffic from one server to another. In the first scenario, the packets were sent through TCP protocol. In the another scenario, the packets were sent through MQTT protocol (which also runs over TCP). Through the MQTT exchange scenario, the packets sent from server1 to server2 are 3 times more than the packets sent from servier1 to server2 when I used just the TCP.</p>\n"
    }, {
        "tags": ["cassandra", "raspberry-pi", "sandbox", "iot", "kaa"],
        "is_answered": true,
        "view_count": 133,
        "favorite_count": 2,
        "score": 0,
        "last_activity_date": 1482340446,
        "creation_date": 1481882774,
        "last_edit_date": 1481887395,
        "question_id": 41181849,
        "link": "https://stackoverflow.com/questions/41181849/controller-on-kaa-server",
        "title": "Controller on Kaa Server",
        "body": "<p>I am using AWS for running Kaa-Sandbox instance &amp; RaspberryPi as end point.</p>\n\n<p>RaspberryPi is connected to multiple sensors. Sensors sending continuously data to RaspberryPi.</p>\n\n<p>So I just wanted to analyse the data on Kaa Server like a controller, each time I will send data to this controller before pushing data directly into database I want to analyze the data.</p>\n\n<p>For example: if sensed value of temperature is more then the allowed limit then it will send a command to RaspberryPi or some other controller to turn on or off heater or cooler according to their need.</p>\n\n<p>Does it is possible to implement a controller like this on Kaa server side.</p>\n"
    }, {
        "tags": ["load-balancing", "scalability", "mqtt", "iot", "mosquitto"],
        "is_answered": true,
        "view_count": 535,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1481367356,
        "creation_date": 1481364926,
        "question_id": 41074381,
        "link": "https://stackoverflow.com/questions/41074381/mqtt-backend-scaling",
        "title": "MQTT backend scaling",
        "body": "<p>I am currently developing a typical IoT service. At the moment multiple devices connect to one MQTT broker (mosquitto) and my java backend also connects to the broker (Paho). </p>\n\n<p>The problem i see is the following:\nWhen i am going to have multiple instances of my java backend every backend will receive and process every message received. That`s a big issue. I just want to deliver a message to only one java backend. Anybody an idea how to deal with this problem? </p>\n\n<p>Btw: Java backends will be added or removed depending on the load. </p>\n"
    }, {
        "tags": ["csv", "microcontroller", "communication", "semantics", "iot"],
        "is_answered": true,
        "view_count": 743,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1481327547,
        "creation_date": 1481241405,
        "question_id": 41050941,
        "link": "https://stackoverflow.com/questions/41050941/extra-light-data-format-for-iot",
        "title": "extra light data format for IoT",
        "body": "<p>I'm looking at how to design a data format to send sensor data (temperature,gps,accelerometer and others) from a device with microcontroller to a backend service through GSM. </p>\n\n<p>I created a simple JSON HTTP API, but the payload is really heavy and I want something as light as possible to basically improve my device's battery life: save processing time on the device to create the data, reduce the amount of data submitted and the time needed to send those data, etc. </p>\n\n<p>I would send text messages in binary format with MQTT, but how to format the text message? \nI could for example use a CSV format or use fixed amounts of bytes for each sensor.\nI could only send sensor data that changed (like if GPS coordinates are the same, I don't send them again. for the date/time, I only send the seconds if rest hasn't moved since previous sensor data).</p>\n\n<p>I was expecting to find a protocol that answers all those needs. <a href=\"http://www.postscapes.com/internet-of-things-protocols/\" rel=\"nofollow noreferrer\">BUT only standards I found are xml/json based</a>. </p>\n\n<p>There is this <a href=\"http://www.multiwii.com/wiki/index.php?title=Multiwii_Serial_Protocol\" rel=\"nofollow noreferrer\">specific protocol used for drones to exchange commands</a>, that we could rework on but my needs are slightly different: I just want to send groups (10x / 100x) of sensor data (taken every few seconds).</p>\n\n<p>Would you know anything that could answer this, so that we don't reinvent the wheel?</p>\n"
    }, {
        "tags": ["architecture", "azure-web-app-service", "iot", "azure-eventhub", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 494,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1480671843,
        "creation_date": 1480493462,
        "question_id": 40883254,
        "link": "https://stackoverflow.com/questions/40883254/azure-solution-for-remote-monitoring",
        "title": "Azure Solution for Remote monitoring",
        "body": "<p>I have build a test application for some demo purposes which is based on IoT and Industry 4.0 concept. Following are important points.</p>\n\n<ol>\n<li>I have build a background application on Windows IoT (on Raspberry\nPi 3) to collect sensors data and push to MS Azure cloud. There\ncould be many simultaneous IoT devices.</li>\n<li>On Azure side IoT Hub receives device to cloud messages.</li>\n<li>Then Data is passed to stream analytics job which passes on the data to Event hub.</li>\n<li>Event hub has 2 consumer groups in my configuration, which both are used by Azure web app.</li>\n<li>Default Consumer group is used by WebJob to store historical data, while Custom consumer group named as Consumer group 1 in image is used by MVC 5 app.</li>\n<li>MVC 5 app uses <code>SignalR</code> to pass on data to connected user to update dashboard.</li>\n<li>For demo purpose this scenario seems to be working fine, where we have 5 or 10 simultaneous connection to cloud webapp.</li>\n</ol>\n\n<p>Following is the Architecture diagram of setup</p>\n\n<p><a href=\"https://i.stack.imgur.com/1GWmQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1GWmQ.png\" alt=\"IoT solution Architecture diagram\"></a></p>\n\n<p><strong>Problem</strong></p>\n\n<p>Now for real scenarios there could be many simultaneous users to cloud application and there is the point when cloud comes into play, and it can horizontally scale-up the webapp to many instances, It could create problem while directly reading events from Event Hub in that case and not all web-app instances will receive all events <strong>Which is wrong</strong>, and I think this is the reason in <a href=\"https://docs.microsoft.com/en-us/azure/iot-suite/iot-suite-remote-monitoring-sample-walkthrough\" rel=\"nofollow noreferrer\">MS Azure remote monitoring Architecture diagram</a>, that webapp is not reading messages from Event Hub directly.</p>\n\n<p><strong>Question</strong></p>\n\n<p>What could be best/qucik changes to above architecture to resolve the problem and still show realtime events to clients?</p>\n"
    }, {
        "tags": ["iot", "kaa"],
        "is_answered": false,
        "view_count": 152,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1480357560,
        "creation_date": 1480151513,
        "question_id": 40816744,
        "link": "https://stackoverflow.com/questions/40816744/trigger-events-using-a-webapp-in-kaa",
        "title": "Trigger events using a Webapp in Kaa",
        "body": "<p>I am working on a iot application using kaa. My goal is to implement a communication from my dashboard to the endpoints.</p>\n\n<ol>\n<li>I have generated events using event class families and successfully\ntriggered events using that.</li>\n<li>I have generated events using android.</li>\n<li>Is it possible to trigger events to the end points using a web app??? or a Dashboard?? </li>\n<li>Is it possible with Kaa or i have to some external API to use that??? Can Someone help me?? and thanks in Advance.</li>\n</ol>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": false,
        "view_count": 103,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1480197297,
        "creation_date": 1471858184,
        "last_edit_date": 1478224630,
        "question_id": 39075892,
        "link": "https://stackoverflow.com/questions/39075892/is-there-a-way-to-create-rules-actions-message-schemas-programatically-in-ibm",
        "title": "Is there a way to create rules, actions, message schemas programatically in IBM Watson IoT platform?",
        "body": "<p>Is there a way to create rules, actions, message schemas from a program using REST APIs?\nI want a simple rule to be configured like <code>eventData.temperature &gt; 50 C</code> do some action. Can this be done programatically?</p>\n\n<p>Also, Can this value <code>50 C</code> be configured somewhere instead of hard-coding in the rule?</p>\n"
    }, {
        "tags": ["android", "mysql", "sockets", "azure", "iot"],
        "is_answered": true,
        "view_count": 478,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1480065865,
        "creation_date": 1480019436,
        "last_edit_date": 1480020264,
        "question_id": 40794117,
        "link": "https://stackoverflow.com/questions/40794117/sending-push-notification-to-android-based-on-a-trigger-in-azure",
        "title": "Sending push notification to Android based on a trigger in Azure",
        "body": "<p><strong>Scenario:</strong></p>\n\n<p>We've migrating our backend to Azure, as part of an assigment, and we must develop a push notification to an Android app (that we also develop from scratch). Basically, we have a electronic sensor that collect data from the environment and send (via socket, at the moment) a call to our backend, which stores this data in a mysql database.</p>\n\n<p>The same backend is also responsible for receiving calls to the Android app (also via socket, at the moment). The app then shows the info on the screen (among other features).</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>When the backend receives a specific data from the sensor (set point would be stored in the database through a user input in the app), we would like to send a push notification to the Android app. We believe this could be achieve in Azure using triggers and the push notification hub. The part we cannot figure it out is how/where to trigger this push event. First, we thought a timer trigger would be a solution. It seems to take care of the job, but not so efficient, and we do not know if it is possible (or any good) to make a query to the db in this trigger function. Then, we thought to implement a trigger when an input is being done in the database, which seems a better solution.</p>\n\n<p><strong>Question:</strong></p>\n\n<p>Is this the correct approach to do it? Is it achievable? We are new to the Azure platform.</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot", "node-red"],
        "is_answered": true,
        "view_count": 951,
        "favorite_count": 2,
        "score": 1,
        "last_activity_date": 1479442260,
        "creation_date": 1431602479,
        "last_edit_date": 1431606457,
        "question_id": 30236079,
        "link": "https://stackoverflow.com/questions/30236079/registering-raspberry-pi-with-ibm-bluemix",
        "title": "Registering Raspberry Pi with IBM Bluemix",
        "body": "<p>I registered my Raspberry Pi with IBM Bluemix successfully . It has dht22 temp and humidity sensor connected to it and running. </p>\n\n<p><strong>Question:</strong> While building Internet of things starter app , do i need to code anything on Rpi to push that sensor data into Bluemix or simply providing the MAC address and the API will do the trick?</p>\n\n<p><strong>Note:</strong> I followed a recipe to configure my Raspberry Pi , registered with the MAC address. It is connected and sending messages when i check in the device.</p>\n\n<p>Kindly let me know if i need to do any other configuration or coding   to send specifically my dht22 sensor data to visualize in Bluemix and use it in Node-red.</p>\n"
    }, {
        "tags": ["api", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 61,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1478603946,
        "creation_date": 1478580206,
        "question_id": 40479134,
        "link": "https://stackoverflow.com/questions/40479134/pricing-megabyte-exchanged-analyzed-and-analyzed-at-edge",
        "title": "Pricing - Megabyte exchanged, analyzed and analyzed at edge",
        "body": "<p>Looking at the <a href=\"https://www.ibm.com/cloud-computing/bluemix/pricing\" rel=\"nofollow noreferrer\">IBM Bluemix Pricing Calculator</a> - specifically for Internet of Things - I noticed that, the pricing is driven by the data traffic. In terms of the calculator, it is the number of <strong>megabytes (MiB ?) exchanged, analyzed and analyzed at edge</strong>. Can you please let me know the definition of these terms and help me apply the same for the following scenarios?</p>\n\n<p><strong>Scenario 1</strong> </p>\n\n<p>I have multiple devices and multiple rules registered on to the platform, where the rules send out emails. I am able to see the devices and its alerts on a board with some basic cards. Is this an example of message exchanged?</p>\n\n<p><strong>Scenario 2</strong></p>\n\n<p>I have multiple devices and multiple rules registered on to the platform, where the rules invoke a Node-RED flow. The Node-RED flow may possibly invoke other Bluemix services, 3rd party API, etc. Is this an example of message exchanged and analyzed?</p>\n\n<p><strong>Scenario 3</strong></p>\n\n<p>I have multiple devices and actions defined on to the platform for device management. The only interaction expected here is the push of some packages (configuration files, firmware patches, etc.) from Bluemix to device. Is this an example of message exchanged (and, possibly message analyzed at edge)?</p>\n\n<p><strong>Scenario 4</strong></p>\n\n<p>A particular device is set-up to acquire data every <em>n</em> number of seconds and per acquisition around 500 KiB of data is acquired. An edge agent is installed such that, only certain acquisitions that meet some criteria, is pushed to Bluemix. So, is this an example of message analyzed at edge?</p>\n"
    }, {
        "tags": ["azure", "amazon-web-services", "cloud", "send", "iot"],
        "is_answered": true,
        "view_count": 485,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1478561038,
        "creation_date": 1478502115,
        "last_edit_date": 1478560856,
        "question_id": 40459478,
        "link": "https://stackoverflow.com/questions/40459478/how-do-i-send-data-from-data-loggers-to-azure-iot-hub-or-aws-iot",
        "title": "How do I send data from Data Loggers to Azure IoT Hub or AWS IoT?",
        "body": "<p>I want to send my data to either MS Azure or AWS IoT platform through my Data Logger.\nHow do I do it?</p>\n"
    }, {
        "tags": ["json", "amazon-web-services", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 90,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1477132368,
        "creation_date": 1475601333,
        "last_edit_date": 1475602297,
        "question_id": 39858167,
        "link": "https://stackoverflow.com/questions/39858167/receive-only-one-parameter-from-aws-iot-rules-json-data",
        "title": "Receive only one parameter from aws IoT rule&#39;s json data",
        "body": "<p>I am receiveing data from AWS IoT and the incomming data looks like:</p>\n\n<pre><code>{\n  \"desired\": {\n    \"status\": \"ON\",\n    \"Temperature\": 4,\n  },\n  \"reported\": {\n    \"status\": \"ON\",\n    \"Temperature\": 4\n  }\n} \n</code></pre>\n\n<p>I have set up a text message alert every time that new data comes in. With the text message I only want to receive the temperature. The current query string is:</p>\n\n<pre><code>SELECT * FROM '$aws/things/MyDashButton/shadow/update'\n</code></pre>\n\n<p>I am assuming that I have to change the star to Temperature, but when I do the text message I receive is blank. I tried looking through the documentation, but cannot find an answer for this.</p>\n\n<p>EDIT:</p>\n\n<p>If I use </p>\n\n<pre><code>SELECT state.desired.Temperature FROM '$aws/things/MyDashButton/shadow/update'\n</code></pre>\n\n<p>I get {\"Temperature\": 4} is there a way just to get the value?</p>\n"
    }, {
        "tags": ["c++", "iot", "arduino-uno", "kaa"],
        "is_answered": false,
        "view_count": 549,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1476899373,
        "creation_date": 1475655823,
        "question_id": 39868871,
        "link": "https://stackoverflow.com/questions/39868871/how-i-can-make-kaaproject-as-gateway-for-arduino",
        "title": "How i can make kaaproject as gateway for arduino",
        "body": "<p>Hi guys I am using Kaaserver for our IoT project and now i faced with one problem \nI would like to ask you how i can send data with arduino to Kaaserver I read some where is possible to configure kaa as gateway and i wanna to know how ?</p>\n"
    }, {
        "tags": ["hadoop", "apache-spark", "iot", "kaa"],
        "is_answered": true,
        "view_count": 505,
        "favorite_count": 2,
        "score": -1,
        "last_activity_date": 1476735619,
        "creation_date": 1474958914,
        "question_id": 39717849,
        "link": "https://stackoverflow.com/questions/39717849/rule-engine-in-kaa-iot",
        "title": "Rule engine in KAA IOT",
        "body": "<p>How can I implement conditional rule engine in KAA server without integrating third party data analysis tool like Spark , Hadoop?\nIs it possible to analyze and filter configuration/event schemas in server side and only send notification if condition matches?</p>\n\n<p>I found some link regarding this problem but not the exact solution.\n<a href=\"https://groups.google.com/forum/#!searchin/kaaproject/rules%7Csort:relevance/kaaproject/B56e8Hsf_5I/FsWoSzTEFwAJ\" rel=\"nofollow\">https://groups.google.com/forum/#!searchin/kaaproject/rules%7Csort:relevance/kaaproject/B56e8Hsf_5I/FsWoSzTEFwAJ</a></p>\n\n<p><a href=\"https://groups.google.com/forum/#!searchin/kaaproject/rules/kaaproject/u5L8zEQvKNU/p-vKXuCLDgAJ\" rel=\"nofollow\">https://groups.google.com/forum/#!searchin/kaaproject/rules/kaaproject/u5L8zEQvKNU/p-vKXuCLDgAJ</a></p>\n"
    }, {
        "tags": ["amazon-web-services", "amazon", "amazon-dynamodb", "iot"],
        "is_answered": true,
        "view_count": 312,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1476213152,
        "creation_date": 1476041589,
        "last_edit_date": 1476087148,
        "question_id": 39947704,
        "link": "https://stackoverflow.com/questions/39947704/amazon-aws-iot-dynamo-db-insert",
        "title": "Amazon Aws iot dynamo db insert",
        "body": "<p>I am trying to update DynamoDB and I send JSON data from Rasperry PI 2, but when I look to CloudWatch I see below error message.</p>\n\n<p>Does anyone come across this error and aware of any solution?</p>\n\n<pre><code>2016-10-09 19:19:56.162 TRACEID:d898d574-2181-e999-4354-1d086e66ba32 PRINCIPALID:bf0e71506eb955a89d3a1cf7caecd33a3af27c13a4e560c5fa852f1d5d89a8e0 [ERROR] EVENT:DynamoActionFailure TOPICNAME:easyprk/sensorData CLIENTID:easyprk MESSAGE:Dynamo Insert record failed. The error received was One or more parameter values were invalid: An AttributeValue may not contain a null or empty binary type. (Service: AmazonDynamoDBv2; Status Code: 400; Error Code: ValidationException; Request ID: 0PNKCG5DO7SRFP49SOJIDSKD7RVV4KQNSO5AEMVJF66Q9ASUAAJG). Message arrived on: easyprk/sensorData, Action: dynamo, Table: sensorData, HashKeyField: serialKey, HashKeyValue: , RangeKeyField: None, RangeKeyValue: 1476040796073\n</code></pre>\n"
    }, {
        "tags": ["c#", "azure", "xamarin", "cloud", "iot"],
        "is_answered": true,
        "view_count": 527,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1475649936,
        "creation_date": 1475586934,
        "question_id": 39853388,
        "link": "https://stackoverflow.com/questions/39853388/diffrerence-between-azure-service-client-and-device-client",
        "title": "Diffrerence between: Azure service client and device client",
        "body": "<p>I am little confuse about service client &amp; device client library. Can anyone clear my doubt on this.</p>\n\n<p>Issue: I am not able to receive data when i send it through deviceClient but same code works when i send it using service client. Now, serviceClient library is not support on xamarin platform. </p>\n\n<p>Also, Is there any different between sending <em>data and message</em> to iot hub. Or both are same.</p>\n\n<p>Data = telemetry data</p>\n\n<p>Message = message to device</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot", "historian"],
        "is_answered": true,
        "view_count": 240,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1473260233,
        "creation_date": 1473260049,
        "question_id": 39373209,
        "link": "https://stackoverflow.com/questions/39373209/why-cant-i-retrieve-data-from-historian-in-bluemix-watson-iot-platform",
        "title": "Why can&#39;t I retrieve data from historian in Bluemix Watson IoT Platform ?",
        "body": "<p>For the past week, I get error message http 503 when trying to query historical data one for one of my devices. Previously this was working and the application has not been modified. The device has not been changed. The data is correctly supplied (according to dashboard).</p>\n\n<p>Has IBM changed the interface or the service has been disabled? The solution worked for over a month without error. </p>\n\n<p>What can cause historical data in Bluemix Watson IoT Platform to not be accessible?</p>\n"
    }, {
        "tags": ["curl", "urllib2", "iot", "kaa"],
        "is_answered": false,
        "view_count": 96,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1473168440,
        "creation_date": 1472988790,
        "question_id": 39316462,
        "link": "https://stackoverflow.com/questions/39316462/convert-curl-notification-command-to-urllib2-kaaproject",
        "title": "convert curl notification command to urllib2 -kaaproject",
        "body": "<p>I am trying to convert following curl command to send notification via urllib2</p>\n\n<pre><code>curl -v -S -u devuser:devuser123 -F'notification={\"applicationId\":\"4\",\"schemaId\":\"14\",\"topicId\":\"3\",\"type\":\"USER\"};type=application/json' -F'endpointKeyHash=lsXnYUbE31aCgN5NSsbcRMAZTgM=;type=text/plain' -F file={\"message\" : \"Hello world!\"} \"http://localhost:8080/kaaAdmin/rest/api/sendUnicastNotification\" | python -mjson.tool\n</code></pre>\n\n<p>and i write this code for send notification</p>\n\n<pre><code>import urllib2, base64\ndata = 'notification={\"applicationId\":\"4\",\"schemaId\":\"14\",\"topicId\":\"3\",\"type\":\"USER\"};type=application/json&amp;endpointKeyHash=xQXJ7OzFX4M6W5tl4sVTuWLTuzc=;type=text/plain&amp;file={\"message\":\"Hello world!\"}'\n\nurl=\"http://localhost:8080/kaaAdmin/rest/api/sendUnicastNotification\"\n\nrequest = urllib2.Request(url, data)\n#authentication part\nbase64string = base64.encodestring('%s:%s' % ('devuser', 'devuser123')).replace('\\n', '')\nrequest.add_header(\"Authorization\", \"Basic %s\" % base64string)   \nresult = urllib2.urlopen(request)\nthe_page = result.read()\n</code></pre>\n\n<p>but when i run this code i encourage the following error</p>\n\n<pre><code>line 527, in http_error_default\nraise HTTPError(req.get_full_url(), code, msg, hdrs, fp)\nHTTPError: HTTP Error 415: Unsupported Media Type\n</code></pre>\n\n<p>problem probably is about send multiple data through urllib2 but how can i send that parameters to kaa server via urllib2?\nthank you!</p>\n"
    }, {
        "tags": ["webview", "uwp", "iot", "windows-10-iot-core"],
        "is_answered": true,
        "view_count": 661,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1469154853,
        "creation_date": 1469098787,
        "question_id": 38502453,
        "link": "https://stackoverflow.com/questions/38502453/windows-10-iot-core-virtual-keyboard",
        "title": "Windows 10 IOT core virtual keyboard?",
        "body": "<p>I working on IOT device, my touchscreen monitor does not have virtual keyboard. and my machine does not allow physical keyboard. </p>\n\n<p>i already try code from 'digital signage', at first it only work single textfield.\nwith some little tweak on the code, i can use it for all my textbox.</p>\n\n<p>my real problem is that now i'm using webview, and i need to input some data. in the webview i can't use the virtual keyboard from 'digital signage'.</p>\n\n<p>is there anyone who have solution for this virtual keyboard that can be used on webview?  </p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "iot-for-automotive"],
        "is_answered": true,
        "view_count": 58,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1467127111,
        "creation_date": 1466977065,
        "last_edit_date": 1467127111,
        "question_id": 38043430,
        "link": "https://stackoverflow.com/questions/38043430/ibm-iot-for-automotive-what-does-value-1000-returned-from-some-vehicle-apis",
        "title": "IBM IoT for Automotive: What does value &#39;-1000&#39; returned from some Vehicle APIs as &#39;heading&#39;, &#39;altitude&#39;, etc.?",
        "body": "<p>Why does the value <code>-1000</code> get returned from some Vehicle APIs as  <code>heading</code>, <code>altitude</code>, etc.?</p>\n\n<p>For example:</p>\n\n<p>The following parameters/values are returned after sending <code>get event information (/event)</code> from the REST API. </p>\n\n<p>The value of <code>altitude</code> and 'heading' is <code>-1000</code>.  What does <code>-1000</code> mean?</p>\n\n<pre><code>   {\"contents\":[{\"event_time\":.....,\"e_altitude\":-1000.0,.....,\"heading\":-1000.0,...}]}\n</code></pre>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot", "node-red", "watson-iot"],
        "is_answered": true,
        "view_count": 182,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1467055009,
        "creation_date": 1466877432,
        "last_edit_date": 1467039214,
        "question_id": 38031366,
        "link": "https://stackoverflow.com/questions/38031366/trouble-getting-rpi-device-data-in-ibm-iot-input-node",
        "title": "Trouble getting RPi device data in IBM IoT input node",
        "body": "<p>I'm having trouble getting \"device\" data from a Raspberry Pi to show up via an IBM IoT input node in Node-RED.  I know the data is making it into the Watson IoT cloud, since I can see it under \"recent events\" in the device panel.  However, I'm getting an \"Imported Unrecognized Type: wiotp-credentials\" error when I refresh Node-RED.  </p>\n\n<p>Any idea where I'm going wrong?</p>\n"
    }, {
        "tags": ["java", "azure", "cloud", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 639,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1466668707,
        "creation_date": 1466436754,
        "last_edit_date": 1466668707,
        "question_id": 37926382,
        "link": "https://stackoverflow.com/questions/37926382/accses-to-data-from-iot-hub-azure-with-java",
        "title": "Accses to data from IoT Hub Azure with Java",
        "body": "<p>I send data to the IoT Hub and receive it, it works, but i dont know how i can work with the received Data: here is my Code to receive data:</p>\n\n<pre><code>public void accept(PartitionReceiver receiver)\n            {\n                System.out.println(\"** Created receiver on partition \" + partitionId);\n                try {\n                    while (true) {\n                        Iterable&lt;EventData&gt; receivedEvents = receiver.receive(10).get();\n                        int batchSize = 0;\n                        if (receivedEvents != null)\n                        {\n                            for(EventData receivedEvent: receivedEvents)\n                            {                                    \n                                System.out.println(String.format(\"| Time: %s\", receivedEvent.getSystemProperties().getEnqueuedTime()));\n                                System.out.println(String.format(\"| Device ID: %s\", receivedEvent.getProperties().get(\"iothub-connection-device-id\")));\n                                System.out.println(String.format(\"| Message Payload: %s\", new String(receivedEvent.getBody(), Charset.defaultCharset())));\n                                batchSize++;\n                            }\n                        }\n                    }\n                }\n                catch (Exception e)\n                {\n                    System.out.println(\"Failed to receive messages: \" + e.getMessage());\n                }\n            }\n</code></pre>\n\n<p>I would like to work with the received data, here I become the data as JSON String:</p>\n\n<pre><code>System.out.println(String.format(\"| Message Payload: %s\", new String(receivedEvent.getBody(), Charset.defaultCharset())));\n</code></pre>\n\n<p>The dataoutput is: product: xy, price: 2.3.\nI would like take the data to :</p>\n\n<pre><code>String product= product;\ndouble price= price;\n</code></pre>\n\n<p>How can I the received Payload save in the variable?</p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["macos", "networking", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 442,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1466460147,
        "creation_date": 1466447891,
        "last_edit_date": 1466460147,
        "question_id": 37929555,
        "link": "https://stackoverflow.com/questions/37929555/mqtt-packet-loss-simulator-in-terminal",
        "title": "MQTT Packet Loss Simulator in terminal",
        "body": "<p>How can I simulate packet loss in mac os? \nI want test the different scenarios for MQTT QoS Levels. \nAre there any frameworks for this approaches or simple terminal\nprograms?</p>\n"
    }, {
        "tags": ["bluetooth", "core-bluetooth", "iot", "bluetooth-lowenergy"],
        "is_answered": false,
        "view_count": 606,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1466209423,
        "creation_date": 1465989482,
        "question_id": 37833933,
        "link": "https://stackoverflow.com/questions/37833933/implementing-ble-custom-service-to-transfer-files-from-watch-to-smartphone",
        "title": "Implementing BLE custom service to transfer files from watch to smartphone",
        "body": "<p>I want to create a ble custom service so that I  can send and receive some small files(~220 bytes) from my smartwatch(  bluetooth 4.0) to ios phone  using Bluetooth low energy.</p>\n\n<p>Can I get any reference on how to create custom service (as standard services are not used for this) to transfer file?</p>\n\n<p>I am expecting that once connection is established, both peripheral and central are able to receive and send data. Is it right?</p>\n\n<p>Here I want to make watch as central and smartphone as peripheral is it possible?(I cant make watch as peripheral because it will be always connected to some other peripherals as a central, so it cannot be a central and peripheral at the same time )</p>\n\n<p>And the final question is  that  my assumption to make smartphone as a peripheral and watch as central  is correct or not?\n(  1.)more data has to be sent from watch to phone.\n2.) watch will be already connected other ble devices as a central.)</p>\n\n<p>I am using bluetopia 4.0 stack in watch.</p>\n"
    }, {
        "tags": ["windows-phone-8", "xamarin", "iot"],
        "is_answered": true,
        "view_count": 79,
        "favorite_count": 0,
        "score": -2,
        "last_activity_date": 1465501046,
        "creation_date": 1465291054,
        "question_id": 37675231,
        "link": "https://stackoverflow.com/questions/37675231/use-temperature-sensor-for-realtime-data-sync",
        "title": "Use temperature sensor for realtime data sync",
        "body": "<p>I am planning to build an app that uses my device's temperature sensor to send realtime data inputs to cloud, bu tI am not able to find useful resources  regarding the same.\nCan anyone help me on this?</p>\n"
    }, {
        "tags": ["api", "naming-conventions", "naming", "api-design", "iot"],
        "is_answered": false,
        "view_count": 46,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1465234005,
        "creation_date": 1442864777,
        "question_id": 32703330,
        "link": "https://stackoverflow.com/questions/32703330/parameter-naming-for-time-since-this-happened",
        "title": "Parameter naming for &quot;time since this happened&quot;",
        "body": "<p>I'm working on building a simple API to consume data sent from small network-connected sensors/devices (think arduino, raspberry pi, etc). I want to log a reasonably accurate timestamp of when an event occurred on this remote device. Due to potential connectivity issues, the event might not always get sent back to the server right away. I don't want to rely on synchronizing a clock on the device if I can avoid it, so I'm going to try sending back a parameter that just contains the number of seconds since the event occurred. So, for example, an event is detected on the device, but for some reason it gets sent to the server 5 seconds later. The data would include a number \"5\" signifying that this happened 5 seconds ago based on the device's internal clock. The server then would take it's own clock-time, and subtract 5 seconds to generate the timestamp.</p>\n\n<p>I'd like to come up with a parameter name that describes this time span that makes sense. Some options may include:</p>\n\n<ul>\n<li>TimeSince</li>\n<li>TimeAgo</li>\n<li>DurationSince</li>\n</ul>\n\n<p>However since this is a simple numeric field, I want the name to include the unit of measure for extra clarity, such as:</p>\n\n<ul>\n<li>SecondsSince</li>\n<li>SecondsAgo</li>\n<li>TimeAgoSeconds</li>\n</ul>\n\n<p>Has anyone come across common and/or sensible naming conventions for this kind of thing? Time since an event, and additionally, where and how to indicate units in a parameter name? None of my naming ideas really feel \"right\" but perhaps some discussion here might help identify one approach as being better than another.</p>\n\n<p>Thanks.</p>\n"
    }, {
        "tags": ["java", "azure", "iot", "azure-iot-hub", "azure-iot-suite"],
        "is_answered": false,
        "view_count": 150,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1464763360,
        "creation_date": 1464763360,
        "question_id": 37561243,
        "link": "https://stackoverflow.com/questions/37561243/azure-iot-send-command-feedback-reciever-shows-null-pointer-at-times-when-feed",
        "title": "Azure Iot Send Command : Feedback Reciever shows null pointer at times when feedback not recieved",
        "body": "<p>I am working on the Azure Iot Platform, using Java for coding , and facing an issue while sending command to a device. I recieve a null pointer exception at my feedbackReceiver.receiveAsync() method when I dont recieve the feedback for the command I sent. Below is my code snippet.</p>\n\n<pre><code>   public void sendCommandToDevice(String data, String deviceId, boolean gladiusChildFlag) throws Exception {\n        LOGGER.info(\"********* Starting ServiceClient sample...\");\n\n        openServiceClient();\n        openFeedbackReceiver(deviceId);\n\n        // String commandMessage = data;\n        CommandData commandData = new CommandData();\n        commandData.setName(\"ChangeLEDState\");\n        commandData.setMessageId(\"123223\");\n        commandData.setCreatedTime(new Date().toString());\n        if(gladiusChildFlag==false)\n        {\n        HashMap&lt;String, Object&gt; parameter = new HashMap&lt;String, Object&gt;();\n        parameter.put(\"LEDState\", data);\n        commandData.setParameters(parameter);\n        }\n        else\n        {\n        commandData.setGladiusParameters(data); \n        }\n        LOGGER.info(commandData.serialize());\n        LOGGER.info(\"********* Sending message to device...\");\n        Message messageToSend = new Message(commandData.serialize());\n        messageToSend.setDeliveryAcknowledgement(DeliveryAcknowledgement.Full);\n\n        // Setting standard properties\n        messageToSend.setMessageId(java.util.UUID.randomUUID().toString());\n        Date now = new Date();\n        messageToSend.setExpiryTimeUtc(new Date(now.getTime() + 60 * 1000));\n        messageToSend.setCorrelationId(java.util.UUID.randomUUID().toString());\n        messageToSend.setUserId(java.util.UUID.randomUUID().toString());\n        messageToSend.clearCustomProperties();\n\n        // Setting user properties\n        Map&lt;String, String&gt; propertiesToSend = new HashMap&lt;String, String&gt;();\n        propertiesToSend.put(\"mycustomKey1\", \"mycustomValue1\");\n        propertiesToSend.put(\"mycustomKey2\", \"mycustomValue2\");\n        propertiesToSend.put(\"mycustomKey3\", \"mycustomValue3\");\n        propertiesToSend.put(\"mycustomKey4\", \"mycustomValue4\");\n        propertiesToSend.put(\"mycustomKey5\", \"mycustomValue5\");\n        messageToSend.setProperties(propertiesToSend);\n\n        CompletableFuture&lt;Void&gt; completableFuture = serviceClient.sendAsync(deviceId, messageToSend);\n        completableFuture.get();\n\n        LOGGER.info(\"********* Waiting for feedback...\");\n//recieving null pointer in the line below\n        CompletableFuture&lt;FeedbackBatch&gt; future = feedbackReceiver.receiveAsync();\n        FeedbackBatch feedbackBatch = future.get();\n        LOGGER.info(\n                \"********* Feedback received, feedback time: \" + feedbackBatch.getEnqueuedTimeUtc().toString());\n\n        closeFeedbackReceiver();\n        closeServiceClient();\n\n        LOGGER.info(\"********* Shutting down ServiceClient sample...\");\n        // System.exit(0);\n\n    }\n\n    protected static void openServiceClient() throws Exception {\n        LOGGER.info(\"Creating ServiceClient...\");\n        serviceClient = ServiceClient.createFromConnectionString(connectionString, protocol_Service);\n\n        CompletableFuture&lt;Void&gt; future = serviceClient.openAsync();\n        future.get();\n        LOGGER.info(\"********* Successfully created an ServiceClient.\");\n    }\n\n    protected static void closeServiceClient() throws ExecutionException, InterruptedException, IOException {\n        serviceClient.close();\n\n        CompletableFuture&lt;Void&gt; future = serviceClient.closeAsync();\n        future.get();\n        serviceClient = null;\n        System.out.println(\"********* Successfully closed ServiceClient.\");\n    }\n\n    protected static void openFeedbackReceiver(String deviceId) throws ExecutionException, InterruptedException {\n        if (serviceClient != null) {\n            feedbackReceiver = serviceClient.getFeedbackReceiver(deviceId);\n            if (feedbackReceiver != null) {\n                CompletableFuture&lt;Void&gt; future = feedbackReceiver.openAsync();\n                future.get();\n                LOGGER.info(\"********* Successfully opened FeedbackReceiver...\");\n            }\n        }\n    }\n\n    protected static void closeFeedbackReceiver() throws ExecutionException, InterruptedException {\n        CompletableFuture&lt;Void&gt; future = feedbackReceiver.closeAsync();\n        future.get();\n        feedbackReceiver = null;\n        LOGGER.info(\"********* Successfully closed FeedbackReceiver.\");\n    }\n</code></pre>\n\n<p>Thanks in advance for some help in this issue :)</p>\n"
    }, {
        "tags": ["java", "http", "networking", "iot"],
        "is_answered": true,
        "view_count": 9705,
        "favorite_count": 0,
        "score": 4,
        "last_activity_date": 1464631860,
        "creation_date": 1464630693,
        "last_edit_date": 1464631860,
        "question_id": 37531287,
        "link": "https://stackoverflow.com/questions/37531287/http-requests-without-waiting-for-response",
        "title": "HTTP requests without waiting for response",
        "body": "<p>Is it possible to send an HTTP request without waiting for a response?</p>\n\n<p>I'm working on an IoT project that requires logging of data from sensors. In every setup, there are many sensors, and one central coordinator (Will mostly be implemented with Raspberry Pi) which gathers data from the sensors and sends the data to the server via the internet.</p>\n\n<p>This logging happens every second. Therefore, the sending of data should happen quickly so that the queue does not become too large. If the request doesn't wait for a response (like UDP), it would be much faster.</p>\n\n<p>It is okay if few packets are dropped every now and then.</p>\n\n<p>Also, please do tell me the best way to implement this. Preferably in Java.</p>\n\n<p>The server side is implemented using PHP.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT:\nThe sensors are wireless, but the tech they use has very little (or no) latency in sending to the coordinator. This coordinator has to send the data over the internet. But, just assume the internet connection is bad. As this is going to be implemented in a remote part of India.</p>\n"
    }, {
        "tags": ["iot", "mosquitto"],
        "is_answered": true,
        "view_count": 164,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1464569686,
        "creation_date": 1464248765,
        "last_edit_date": 1464569686,
        "question_id": 37454611,
        "link": "https://stackoverflow.com/questions/37454611/mosquitto-and-ibm-iot-foundation",
        "title": "Mosquitto and IBM Iot Foundation",
        "body": "<p>I hava used the mosquitto as a mqtt client to connect to IBM Iot Foundation(<a href=\"http://quickstart.messaging.internetofthings.ibmcloud.com\" rel=\"nofollow\">quickstart.messaging.internetofthings.ibmcloud.com</a>) and I can successfully send an event to the IotF. I start a terminal to publish the event:</p>\n\n<pre><code>mosquitto_pub -h 184.172.124.189 -p 1883 -u \"use-token-auth\" -P \"token\" -i d:quickstart:typeid:deviceid -t iot-2/evt/status/fmt/json -m \" {\\\"d\\\": {\\\"temp\\\":34}}\"\n</code></pre>\n\n<p>then I start another terminal to subscribe the event:</p>\n\n<pre><code>mosquitto_sub -h 184.172.124.189 -p 1883 -u \"use-token-auth\" -P \"token\" -i d:quickstart:type:id -t iot-2/type/typeid/id/deviceid/evt/status/fmt/json\n</code></pre>\n\n<p>but the terminal which subscribed event can't receive the event published by the other terminal. </p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "node-red"],
        "is_answered": true,
        "view_count": 556,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1464177886,
        "creation_date": 1454717768,
        "last_edit_date": 1456642233,
        "question_id": 35235677,
        "link": "https://stackoverflow.com/questions/35235677/iot-node-red-ibm-bluemix-state-machine-store-old-data",
        "title": "IOT Node Red IBM Bluemix: State Machine/Store Old Data",
        "body": "<p>I have built a simple application which connects to my IoT temp sensor device and sends an email based on the temp--warm, just right, and cold.  To do this I've used the IBM IoT node for connecting to my IoT device, and then processed the data with case statements to fall into the three buckets: warm, just right, and cold.  From there I generate an email and send the temp category to my email address.</p>\n\n<p>However, my temp sensor is measuring and sending data every 1 second so my app is sending an email every 1 second--which is too often.  Instead I'd like to only send an email when there is a transition between the three temperature states.  Naturally, I'd like to implement this with a state machine or the case statement processing block.  This requires that I have both data points: the current temp measurement and the last recorded measurement.  What is the best way to go about storing the last recorded temp measurement and are there any tips on the node flow I should use?</p>\n\n<p><a href=\"http://i.stack.imgur.com/IQhJz.png\" rel=\"nofollow\">Email IoT Application Nodes</a></p>\n"
    }, {
        "tags": ["java", "sockets", "networking", "udp", "iot"],
        "is_answered": false,
        "view_count": 219,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1464047667,
        "creation_date": 1464038036,
        "question_id": 37400666,
        "link": "https://stackoverflow.com/questions/37400666/how-to-set-override-source-port-for-an-outbound-datagram-packet",
        "title": "How to set/override source port for an outbound Datagram packet?",
        "body": "<p>I have a device configured with a public static IP that reports vehicle GPS data over UDP. The device can send events, receive commands and send command acknowledgements. </p>\n\n<p>I have an app which opens a Datagram socket and listens for inbound device events on, let's say, port X. </p>\n\n<p>When the device sends an event, my app receives and processes the message no problem. The issue I'm having is sending ACK'd commands. For scalability/performance reasons, I'm processing device ACKs as regular events. (i.e. ACKs should be sent on port X) When my apps sends a command, I need the response acknowledgement to be redirected back to my apps event listener. Right now, the device is replying back to the source ip/port of the originating packet and not on port X so my app is never receiving command acknowledgement.</p>\n\n<p>I guess my question here is, is there a way to overload the outgoing UDP header to use port X even though that port is already bound to a socket? Is there some trick that I could do at a lower level such as iptables to port forward? Do I need some proxy or forwarding agent to sit in front of my app that will manage packet routing? Is it possible to send commands and receive events over the same socket connection?</p>\n\n<p>What is the best way to solve this issue? My app is build on Apache Camel and uses 2 routes.. one for events and the other for commands. If there is a workaround for this in Camel maybe?</p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "node-red"],
        "is_answered": true,
        "view_count": 463,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1463766850,
        "creation_date": 1463740023,
        "last_edit_date": 1463766850,
        "question_id": 37344269,
        "link": "https://stackoverflow.com/questions/37344269/how-do-i-include-ibmiot-input-node-to-my-local-installation-of-node-red",
        "title": "How do I include &quot;ibmiot&quot; input node to my local installation of Node-RED",
        "body": "<p>I want to include the \"ibmiot\" Input node into my local installation of Node-RED ?</p>\n\n<p>Can I do it ? and if so - how ?</p>\n\n<p>The Node-RED flow editor that shows up when I start the Bluemix IoT Starter, shows the node that exactly - fits into what I want to do.</p>\n\n<p>It has the API Keys, device Type, ID and so on as seen below. I'm trying to add this to my local install of Node-RED.</p>\n\n<p>Any help is appreciated.\n<a href=\"https://i.stack.imgur.com/YfKkv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YfKkv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below - I want to add the same node ( or import ) into my Laptop where I have the Node-RED installed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pIwUZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pIwUZ.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["real-time", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 72,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1462190976,
        "creation_date": 1461983465,
        "question_id": 36950048,
        "link": "https://stackoverflow.com/questions/36950048/ibm-iot-real-time-insights-virtual-data-point",
        "title": "IBM IoT Real-Time Insights Virtual Data Point?",
        "body": "<p>In IBM Real-Time Insights, I have a device for which I am creating a schema with a Virtual Data Point that derives its value from one of the device's data points (pressure divided by 100). However, when trying to visualize the data on a dashboard it shows up as \"Not available\". Is there anything in addition to the schema definition that I need to do in order for a Virtual Data Point to work?</p>\n"
    }, {
        "tags": ["c++", "iot", "xbee", "mbed"],
        "is_answered": true,
        "view_count": 55,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1461611298,
        "creation_date": 1461610912,
        "question_id": 36848967,
        "link": "https://stackoverflow.com/questions/36848967/how-to-read-data-only-when-a-value-is-above-or-under-a-certain-threshold",
        "title": "How to read data only when a value is above or under a certain threshold",
        "body": "<p>This may sound a little vague but I will try my best to clarify. Basically I am using an mbed (FRDM k64f) device which sends data to another device via XBee. My question is, </p>\n\n<p>How do I get it to send data only when float mX,mY or mZ(see code below) are above or under a certain threshold, so the rest of the time it is asleep. \nIs this possible?</p>\n\n<p>So currently it is sending data every 5 seconds but I would like to change that.</p>\n\n<p>Here is my current code</p>\n\n<pre><code>#include \"mbed.h\"\n#include \"C12832.h\" //for LCD\n#include \"FXOS8700Q.h\"// for magnetometer\n\nTicker timer;\nDigitalOut gpo(D0);\nDigitalOut led(LED_RED);\nSerial xbee(D1, D0);\nC12832 shld_lcd (D11, D13, D12, D7, D10);\nFXOS8700Q_mag mSensor(PTE25, PTE24, FXOS8700CQ_SLAVE_ADDR1);\nMotionSensorDataUnits mData;\n\n//int tick = 0;\n\nvoid setup() {\n    xbee.baud(9600);\n}\n\n/*\n void attime() {\n    tick++;\n }\n  */        \nint main()\n{\n    //timer.attach(&amp;attime, 1);\n    mSensor.enable();\n    setup();\n    while (1) {\n        wait(5);\n        mSensor.getAxis(mData);\n        float mX = mData.x;\n        float mY = mData.y;\n        float mZ = mData.z;\n        xbee.printf(\"%.2f,%.2f,%.2f \\r\\n\",mX,mY,mZ);\n\n\n\n\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["android", "ibm-cloud", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 93,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1461452395,
        "creation_date": 1461421784,
        "question_id": 36812080,
        "link": "https://stackoverflow.com/questions/36812080/ibmiotf-can-a-device-subscribe-to-an-event",
        "title": "IBMIOTF Can a device subscribe to an event?",
        "body": "<p>I have looked around and read through the documentation, but I cannot find any mention of a device subscribing to an event from a different device?</p>\n\n<p>My set up is that I have 2 devices, and 1 application. I would like one device to be able to receive events from the other, without having to use the application as a relay (in that the application receives the event, and re-emits it as a command).</p>\n\n<p>The device to receive the event is Android, and although I believe I can subscribe to the correct topic I will not receive any data. </p>\n"
    }, {
        "tags": ["mqtt", "network-protocols", "iot", "api-design", "coap"],
        "is_answered": true,
        "view_count": 68,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1460985703,
        "creation_date": 1460984744,
        "question_id": 36694878,
        "link": "https://stackoverflow.com/questions/36694878/is-it-possible-to-create-an-mqtt-api-to-serve-as-a-third-party-api-for-other-dev",
        "title": "Is it possible to create an MQTT API to serve as a third-party API for other developers?",
        "body": "<p>Is it possible to create an MQTT API service for being consumed by others? </p>\n\n<p>If yes, how can I do that and would that be of any use?</p>\n\n<p>If no, why? Maybe it is possible to set up an API using some other IoT-specific protocol (like CoAP or something else)?</p>\n\n<p>I thought that it would be useful to persist the sensors' data and the data generated by other IoT devices in some cloud for being processed and analyzed.</p>\n"
    }, {
        "tags": ["node.js", "email", "iot", "node-red", "dashdb"],
        "is_answered": false,
        "view_count": 632,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1459178312,
        "creation_date": 1459178312,
        "question_id": 36265267,
        "link": "https://stackoverflow.com/questions/36265267/how-to-send-email-with-query-results-from-node-red-using-yahoo-smtp",
        "title": "How to send email with query results from Node-Red using Yahoo smtp?",
        "body": "<p>I populated dashDB table with data from TI SensorTag and now I want to send myself an email with daily summary. I am trying to create a function on Node-Red to query the table and email the results but I can't figure out how to configure SMTP email node for Yahoo. All examples are for Gmail only. Should I use 'nodemailer' node or something else? Any suggestions or examples?\nThank you,\nMichael </p>\n"
    }, {
        "tags": ["real-time", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 110,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1457356729,
        "creation_date": 1455664744,
        "question_id": 35444939,
        "link": "https://stackoverflow.com/questions/35444939/ibm-iot-real-time-insights-and-raising-an-alert-on-first-occurrence",
        "title": "IBM IoT Real-Time insights and raising an alert on first occurrence",
        "body": "<p>When using IBM IoT Real-Time insights, we can define alerts that trigger when an event arrives that passes some rule condition.  This can trigger an action such as sending an email.  Is there a technique that will allow us to generate an alert the first time that a condition is true but will not generate an alert for subsequent events until the condition first evaluates to false?</p>\n\n<p>Imagine I am receiving temperature events from a pipeline sensor.  When the temperature passes 120oF, I want to receive an alert ... however it appears to me that the temperature event value will continue to be above this threshold temperature for each subsequent event which will result in the condition evaluating true many times.   If the action I want to have performed is to email me, then I believe I will receive a new email for each new event received which isn't what I am wanting.   What I really want to happen is to receive an email the first time the temperature passes a threshold and no more until the problem is corrected and it may happen again.</p>\n"
    }, {
        "tags": ["real-time", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 133,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1455893169,
        "creation_date": 1455589983,
        "last_edit_date": 1455642195,
        "question_id": 35422655,
        "link": "https://stackoverflow.com/questions/35422655/ibm-iot-real-time-insights-and-multiple-map-events",
        "title": "IBM IoT Real-Time Insights and multiple map events",
        "body": "<p>I am using IBM IoT Real-Time insights and sending in an event which contains:</p>\n\n<p><code>\n{\n    \"d\": {\n        \"speed\": 105,\n        \"lat\": 34.147543,\n        \"lng\": -99.300058\n    }\n}\n</code>\nWhen I send in an event, the map correctly updates with the correct marker as expected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/m2YHo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m2YHo.png\" alt=\"enter image description here\"></a></p>\n\n<p>However, when I send in a second event without changing any of its content, the map changes and shows the following marker position:</p>\n\n<p><a href=\"https://i.stack.imgur.com/HGtXV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HGtXV.png\" alt=\"enter image description here\"></a></p>\n\n<p>My gut is telling me that the second event is providing coordinates of 0, 0 ... but it is exactly the same event as the first.  If I select a new dashboard and go back to the first with the map, this pattern repeats.  The next event shows fine and the one after that shows me West Africa.  I am able to trivially recreate.</p>\n"
    }, {
        "tags": ["node.js", "websocket", "socket.io", "iot", "esp8266"],
        "is_answered": true,
        "view_count": 1337,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1455765114,
        "creation_date": 1455759855,
        "question_id": 35471248,
        "link": "https://stackoverflow.com/questions/35471248/would-socket-io-receive-data-sent-via-websockets",
        "title": "Would socket.io receive data sent via websockets?",
        "body": "<p>I have this IoT device that I am trying to connect to the server via wifi to send real time data. The server uses socket.io with node.js, but the wifi module (esp8266) I am using only has a websocket package. Would a socket.io connection be able to receive data sent via websocket? </p>\n"
    }, {
        "tags": ["real-time", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 56,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1455725215,
        "creation_date": 1455576431,
        "last_edit_date": 1455638595,
        "question_id": 35420527,
        "link": "https://stackoverflow.com/questions/35420527/how-to-supply-event-coordinates-for-real-time-insights-events",
        "title": "How to supply event coordinates for real-time insights events?",
        "body": "<p>When we look at the IoT Real-Time Insights service, we see that it provides a visual mapping capability.  Unfortunately, the current documentation on using this appears to be very light.  What should the JSON string structure of an incoming event contain to provide latitude and longitude data to the Map widget within a Real-Time Insights dashboard?</p>\n\n<p>References:</p>\n\n<ul>\n<li>Documentation consulted looking for mapping parameters: <a href=\"http://www.ng.bluemix.net/docs/services/iotrtinsights/dashboards.html\" rel=\"nofollow\">http://www.ng.bluemix.net/docs/services/iotrtinsights/dashboards.html</a></li>\n</ul>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 150,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1454463157,
        "creation_date": 1442582155,
        "question_id": 32652986,
        "link": "https://stackoverflow.com/questions/32652986/cant-visualize-sensor-data-using-bluemix-iot-foundation",
        "title": "Can&#39;t visualize sensor data using Bluemix IoT Foundation",
        "body": "<p>When trying to use the <a href=\"https://developer.ibm.com/recipes/tutorials/visualizing-your-data/\" rel=\"nofollow noreferrer\">recipe</a> to visualize data from my device which is registered to the IoT Foundation  I am not seeing any data on the graph. </p>\n\n<p>When I try and publish the following:</p>\n\n<pre><code>myData={'name' : 'RPi', 'temp' : temp, 'relh' : relh}\n</code></pre>\n\n<p>... I get a blank visualization \n<a href=\"https://i.stack.imgur.com/YsdVI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YsdVI.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["c#", "push-notification", "uwp", "iot"],
        "is_answered": true,
        "view_count": 373,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1454270481,
        "creation_date": 1454244664,
        "question_id": 35114041,
        "link": "https://stackoverflow.com/questions/35114041/push-notification-on-a-button-tap",
        "title": "Push Notification on a Button Tap",
        "body": "<p>I am working on Universal Windows Platform(IOT-UWP). I want to fire a push notification at a button tap event. Is there any way of doing it? or is it even possible? Also, if my IoT device receives a push notification, is there any way I can perform some actions as soon as a notification arrives assuming the IoT UWP application is running and the user has can't tap on the notification. Can I handle such an event? </p>\n"
    }, {
        "tags": ["security", "email", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 16,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1453111119,
        "creation_date": 1453107177,
        "question_id": 34850588,
        "link": "https://stackoverflow.com/questions/34850588/how-to-send-e-mail-from-consumer-device",
        "title": "How to send e-mail from consumer device?",
        "body": "<p>What is the right way to send e-mail from an consumer product?</p>\n\n<p>Say your are developing the \"forgot password\" functionality on an app, running on a micro computer - like the raspberrypi - that the user can buy of the shelf?</p>\n\n<p>On one hand, the consumer can't be bothered to enter its own SMTP credentials. On the other hand, storing the manufacturer's SMTP credentials is a security flaw, because the hardware with physical access can be easily hacked.</p>\n"
    }, {
        "tags": ["java", "apache-kafka", "iot", "kafka-producer-api"],
        "is_answered": true,
        "view_count": 753,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1452775505,
        "creation_date": 1452765784,
        "question_id": 34786612,
        "link": "https://stackoverflow.com/questions/34786612/apache-kafka-how-to-send-data-from-different-machine",
        "title": "Apache Kafka: How to send data from different machine",
        "body": "<p>I started recently studying Apache KAFKA, for IOT application I am working on. Right now, I am having devices which are already sending data to server using HTTP POST and GET. </p>\n\n<p>After struggling a lot for at-least 5-6 hours. I am not able to figure out how we can send data using HTTP POST to Kafka server. </p>\n\n<p>Also, are there any good real life examples present on web which shows detailed configuration of KAFKA cluster that will be really helpful for beginner like me.</p>\n"
    }, {
        "tags": ["javascript", "node.js", "iot", "node-red"],
        "is_answered": true,
        "view_count": 1573,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1451373314,
        "creation_date": 1450161664,
        "last_edit_date": 1450180239,
        "question_id": 34282595,
        "link": "https://stackoverflow.com/questions/34282595/how-to-do-sync-in-node-red",
        "title": "How to do Sync in Node-RED?",
        "body": "<p>In my current project, we are trying to develop a simple application \"Notify me when my room temperature goes beyond the certain limit\". The flow diagram of this application as follow: <a href=\"https://i.stack.imgur.com/PgH4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PgH4s.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here, temperature sensor is producing temperature data <strong>periodically</strong> and the sensed data is send to the <code>CalculateAvgTemp</code> component. The <code>CalculateAvgTemp</code> component waits for 5 samples and then pass the calculated value to the <code>DisplayTempController</code>. The code of <code>CalculateAvgTemp</code> component, written in <strong>node.js</strong> is as follows.</p>\n\n<pre><code>var mqtt=require('mqtt');\nvar client=mqtt.connect('mqtt://test.mosquitto.org:1883');\nvar NUM_SAMPLE_FOR_AVG=5;\nvar numSample=0;\nvar tempCelcius=0;\nvar currentAvg=0;\nclient.subscribe('sensorMeasurement');\nclient.on('message',function(topic,payload){\n\nsensorMeasurement=JSON.parse(payload);\nconsole.log(sensorMeasurement);\n\nif(numSample &lt;= NUM_SAMPLE_FOR_AVG){\n     numSample = numSample + 1;\n\n    if(sensorMeasurement.unitofMeasurement=='F'){\n        tempCelcius=((sensorMeasurement.tempValue-32)*(5/9));       \n    }\n    else{\n        tempCelcius=sensorMeasurement.tempValue;\n\n    }       \n\n    currentAvg=parseFloat(currentAvg)+parseFloat(tempCelcius);\n\n    if(numSample==NUM_SAMPLE_FOR_AVG){\n        //console.log(currentAvg);\n        currentAvg=currentAvg/NUM_SAMPLE_FOR_AVG;\n        var avgTemp={\"avgTemp\":parseFloat(currentAvg),\"unitofMeasurement\":sensorMeasurement.unitofMeasurement};\n        client.publish('roomAvgTemp',JSON.stringify(avgTemp));\n         numSample =0;\n         currentAvg=0;\n    }\n}       \n</code></pre>\n\n<p>});</p>\n\n<p>We are trying to implement the <code>calculateAvgTemp</code> component in <strong>Node-RED</strong>. Node-RED provide <strong>function node</strong> that allows developers to write custom function. Now, the real problem starts here --- Node-RED custom function does not implement the <code>calculateAvgTemp</code> functionality correctly. It does not wait for 5 temperature values and fires whenever the temperature arrives. My question is that - Is this Node-RED limitation OR should we implement the <code>calcuateAvgTemp</code> functionality differently in Node-RED, if yes then - how can we implement the functionality in Node-RED?\nThe code of <code>CalculateAvgTemp</code>written in <strong>Node-RED</strong> is as follows:</p>\n\n<pre><code>context.temps = context.temps || [];\nsensorMeasurement=JSON.parse(msg.payload);\nvar tempValue=parseFloat(sensorMeasurement.tempValue);\ncontext.temps.push(tempValue);\nif (context.temps.length &gt; 4) {\nif (context.temps.length == 6) {\n//throw last value away\ncontext.temps.shift();\n}\nvar avg=0;\nfor (var i=0; i&lt;=context.temps.length; i++) {\navg += context.temps[i];\n}\navg = avg/5;\nmsg.payload = parseFloat(avg);\nreturn msg;\n} else {\nreturn null;\n}\n</code></pre>\n"
    }, {
        "tags": ["javascript", "node.js", "iot", "node-red"],
        "is_answered": true,
        "view_count": 1105,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1451138461,
        "creation_date": 1451134131,
        "last_edit_date": 1451138461,
        "question_id": 34471472,
        "link": "https://stackoverflow.com/questions/34471472/implementing-real-time-sensor-dashboard",
        "title": "Implementing real-time Sensor Dashboard",
        "body": "<p>In my current project, we are trying to implement a dashboard that display different sensor values. The following shows functionality. Here, the functionality is -- <code>humidity</code> and <code>temperature</code> sensors periodically sending their values. <code>Displaycontroller</code> receives these values and send it to the dashboard for visualization. </p>\n\n<p><a href=\"https://i.stack.imgur.com/KvpQn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KvpQn.png\" alt=\"enter image description here\"></a> \nFor experiments purpose and exploring new technologies, We have been implementing the above four components using the following way:</p>\n\n<ul>\n<li><code>TemperatureSensor</code>  and <code>HumiditySensor</code> in <code>node.js</code> that publishes the value using MQTT publisher.</li>\n<li><code>DisplayController</code> in <code>Node-RED</code> that can receive both temperature and humidity sensor values through MQTT subscriber in <code>NODE-RED</code>.</li>\n<li><code>DashBoard</code> in <code>HTML</code> and <code>Javascript</code> </li>\n</ul>\n\n<p>Now, here is my question --- How can we connect <code>DisplayController</code> and <code>DashBoard</code> components? The problem could be complicated because <code>Displaycontroller</code> component is implemented in <code>Node-RED</code> and <code>DashBoard</code>is implemented in <code>HTML</code> and <code>JavaScript</code>. Is it possible to connect these components ? If yes, then How can we connect them? </p>\n\n<p>For further clarity, I am adding <code>Dashboard</code> component code. The dashborad component polls continuously <code>DisplayController</code> component (<strong>written in <code>Nodejs</code>, not in Node-RED</strong>) </p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;script\n    src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type=\"text/javascript\"\n    src=\"https://www.google.com/jsapi?autoload={\n    'modules':[{\n      'name':'visualization',\n      'version':'1',\n      'packages':['corechart']\n    }]\n  }\"&gt;\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"chart\" style=\"width: 1500px; height: 700px\"&gt;&lt;/div&gt;\n    &lt;script&gt;\n    $(document).ready(function () {\n        var maxDataPoints = 10;\n        var chart = new google.visualization.LineChart($('#chart')[0]); \n        var data = google.visualization.arrayToDataTable([ \n            ['Time', 'Temperature','Humidity'],\n            [getTime(), 0,0]\n        ]); \n        var options = { \n            title: 'Temperature',\n            hAxis: {title: 'Time', titleTextStyle: {color: '#333'}}, //Added hAxis and vAxis label\n            vAxis: {title: 'TempValue',  minValue: 0, titleTextStyle: {color: '#333'}},\n            curveType: 'function',\n            animation: {\n                duration: 1000,\n                easing: 'in'\n            },\n            legend: {position: 'bottom'}\n        };\n        function addDataPoint(dataPoint) { \n            if (data.getNumberOfRows() &gt; maxDataPoints) {\n                data.removeRow(0);\n            }\n            data.addRow([getTime(), dataPoint.value,dataPoint.value1]);\n            chart.draw(data, options); \n        }\n        function getTime() {\n            var d = new Date();\n            return d.toLocaleTimeString();\n        }\n        function doPoll() { \n            $.getJSON('http://localhost:8686/temperatureData',\n                        function (result) {\n                        addDataPoint(result); \n                        setTimeout(doPoll,5000);\n                    });\n            }\n        doPoll();\n    });\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"
    }, {
        "tags": ["ibm-cloud", "mqtt", "iot", "node-red"],
        "is_answered": true,
        "view_count": 494,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1449692108,
        "creation_date": 1449683327,
        "last_edit_date": 1449690121,
        "question_id": 34185586,
        "link": "https://stackoverflow.com/questions/34185586/is-it-possible-for-one-device-to-subscribe-to-mqtt-events-or-commands-from-anoth",
        "title": "Is it possible for one device to subscribe to MQTT events or commands from another device on IBM IoTF?",
        "body": "<p>I am building an iOS app to control my Raspberry Pi over MQTT. I want to be able to send control commands from my iPhone to the Pi and have the Pi respond with a status update.</p>\n\n<p>The Pi is running Node-RED and can both send and receive both events and commands to IBM IoT Foundation (verified from a Bluemix Node-RED application).</p>\n\n<p>The iPhone Swift app is using <a href=\"https://cocoapods.org/pods/MQTTClient\" rel=\"nofollow\">https://cocoapods.org/pods/MQTTClient</a> (Note - does not specifically list IBM IoT as a tested platform).</p>\n\n<p>From the Swift app, I have successfully connected to IBM IoTF and sent <strong>events</strong> which the Pi receives.  I have also successfully subscribed to command topics in the form <code>\"iot-2/cmd/streamStarted/fmt/json\"</code>, but never receive a message.  If I try to publish a command in the form <code>\"iot-2/cmd/startStream/fmt/json\"</code> or subscribe to events in the form <code>\"iot-2/evt/streamStarted/fmt/json\"</code> or <code>\"iot-2/type/myPi/id/&lt;myPiID&gt;/evt/streamStarted/fmt/json\"</code>, the connection immediately closes.</p>\n\n<p>The bottom line is that I need to get a status message from the Pi to the iPhone in some way.  I don't really care if it is an event, a command or something else.  I have been successful doing this with <code>test.mosquitto.org</code>, events but not IoT Foundation. </p>\n"
    }, {
        "tags": ["iot", "contiki"],
        "is_answered": false,
        "view_count": 92,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1448281545,
        "creation_date": 1447387261,
        "question_id": 33685732,
        "link": "https://stackoverflow.com/questions/33685732/save-the-outputs-of-motes-in-mote-memory",
        "title": "Save the outputs of motes in mote memory",
        "body": "<p>I am using two motes. one has unicast sender program on it and one has uni-cast receiver program on it. Instead of connecting receiving mote with PC, I want to use batteries for mote power source and I want to save outputs of both motes on its mote memory. How can I save output(printf command outputs) of each mote in mote memory and retrieve later on after completion of experiments. Is there any method(built-in functions, commands or code snippet) available for this\nP.S. I am using zolertia z1 motes</p>\n"
    }, {
        "tags": ["node.js", "iot", "mosquitto", "node-red"],
        "is_answered": true,
        "view_count": 1277,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1448098092,
        "creation_date": 1448042821,
        "last_edit_date": 1448086695,
        "question_id": 33833286,
        "link": "https://stackoverflow.com/questions/33833286/connecting-external-mqtt-publisher-with-node-red",
        "title": "connecting external MQTT publisher with NODE-RED",
        "body": "<p>In my current project, I am trying to connect my external temperature sensor  to NODE-RED.</p>\n\n<p>I have plugged MQTT with the external sensor. This sensor is publishing data with <code>tempMeasurement</code> topic. The configuration of MQTT publisher is as follows:</p>\n\n<pre><code>public class MQTTPublisher {\n\n    // public static final String BROKER_URL =\n    // \"tcp://broker.mqttdashboard.com:1883\";\n    public static final String BROKER_URL = \"tcp://test.mosquitto.org:1883\";\n\n    private MqttClient client;\n\n    public MQTTPublisher() {\n        try {\n            client = new MqttClient(BROKER_URL, MqttClient.generateClientId(),\n                    new MemoryPersistence());\n            client.connect();\n\n        } catch (MqttException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void publish(String topicName, int qos, byte[] payload)\n            throws MqttException {\n        final MqttTopic topic = client.getTopic(topicName);\n\n        final MqttMessage message = new MqttMessage(payload);\n        topic.publish(message);\n\n        System.out.println(\"Published data. Topic: \" + topic.getName()\n                + \"  Message: \" + payload);\n    }\n}\n</code></pre>\n\n<p>On the other side in Node-RED, I have created MQTT node, that has subscribe \"tempMesurement\". The configuration of MQTT node in NODE-RED is as follows: </p>\n\n<p><a href=\"https://i.stack.imgur.com/ksFOY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ksFOY.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/1ktir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1ktir.png\" alt=\"enter image description here\"></a></p>\n\n<p>My problem is that MQTT subscriber node is showing <strong>disconnected</strong> message as show in the above figure. Could you please suggest - what is wrong with the configuration in NODE-RED? How can I resolve this issue?</p>\n"
    }, {
        "tags": ["bluetooth", "ibeacon", "fiware", "iot", "fiware-poi"],
        "is_answered": true,
        "view_count": 120,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1447916045,
        "creation_date": 1444339306,
        "last_edit_date": 1446043596,
        "question_id": 33026150,
        "link": "https://stackoverflow.com/questions/33026150/fi-ware-how-a-beacon-can-send-info-to-a-poi-data-provider",
        "title": "FI-WARE - How a beacon can send info to a POI Data Provider",
        "body": "<p>I just started reading about FI-WARE, so this might be a very noob question.</p>\n\n<p>A beacon is basically a device that just uses bluetooth for pushing info about its position.</p>\n\n<p>How should it be connected to a generic Enabler, for instance a a POI Data Provider, an Iot Broker or a POI GE?</p>\n\n<p>Shall it first send its coordinates to a mobile device via bluetooth and then this device is supposed to send this value to the Iot Broker? If so, how?</p>\n"
    }, {
        "tags": ["rest", "azure", "messaging", "azure-servicebus-queues", "iot"],
        "is_answered": true,
        "view_count": 2540,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1446212980,
        "creation_date": 1423670083,
        "question_id": 28458683,
        "link": "https://stackoverflow.com/questions/28458683/azure-message-size-limit-and-iot",
        "title": "Azure Message size limit and IOT",
        "body": "<p>I read through azure documentation and found that the message size limit of Queues is 64 Kb and Service Bus is 256 KB. We are trying to develop an application  which will read sensor data from the some devices, call a REST Service  and upload it to cloud . This data will be stored in the queues and then dumped in to a Cloud database.</p>\n\n<p>There could be chances that the sensor data collected is more than 256 KB... In such cases what is the recommended approach... Do we need to split the data\nin the REST service and then put chunks of data in the queue or is there any other recommended pattern</p>\n\n<p>Any help is appreciated</p>\n"
    }, {
        "tags": ["ruby", "filter", "compression", "time-series", "iot"],
        "is_answered": false,
        "view_count": 126,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1444421343,
        "creation_date": 1444225505,
        "question_id": 32993904,
        "link": "https://stackoverflow.com/questions/32993904/use-ruby-to-compress-a-stream-of-time-series-data",
        "title": "Use ruby to compress a stream of time series data",
        "body": "<p>I have a stream that I would like to read from a sensor.  The stream never ends.  Most of the time the values repeat over time.  So I would like to identify runs of values and just keep the first and last of each run, and keep their timestamps too.</p>\n\n<p>Here is an example of 10 minutes of data:</p>\n\n<p>[['8:00', 4],['8:01', 4],['8:02', 4],['8:03', 7],['8:04', 7],['8:05', 8],['8:06', 9],['8:07', 13],['8:08', 13],['8:09', 13]].lazy </p>\n\n<p>I want to compress this data to this:\n[['8:00', 4],['8:02', 4],['8:03', 7],['8:04', 7],['8:05', 8],['8:06', 9],['8:07', 13],['8:09', 13]]</p>\n\n<p>I've been trying to accomplish this through enumerable functions such as  chunk, each_cons, each_with_object.  This problem, though, seems inherently functional.  Can I accomplish this using lazy enumerator in ruby?</p>\n"
    }, {
        "tags": ["lua", "iot", "esp8266", "nodemcu"],
        "is_answered": true,
        "view_count": 524,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1444108589,
        "creation_date": 1443581701,
        "last_edit_date": 1444108589,
        "question_id": 32856982,
        "link": "https://stackoverflow.com/questions/32856982/lua-alarm-does-not-execute-code",
        "title": "Lua alarm does not execute code",
        "body": "<p>I'm programming in a NodeMCU using LuaLoader. I'm trying to read the ADC of the Node and send it to a PHP file in my public domain.</p>\n\n<p>With the next code I get the adc and the Node's IP and send it through GET.</p>\n\n<pre><code>x = adc.read(0);\nip = wifi.sta.getip();\n\nconn=net.createConnection(net.TCP, 0) \nconn:on(\"receive\", function(conn, payload) print(payload) end) \nconn:connect(80,'example.com') \nconn:send(\"GET /data.php?mdata=\"..x..\"&amp;ip=\"..ip..\" HTTP/1.1\\r\\n\") \nconn:send(\"Host: example.com\\r\\n\") \nconn:send(\"Connection: keep-alive\\r\\nAccept: */*\\r\\n\") \nconn:send(\"User-Agent: Mozilla/4.0 (compatible; esp8266 Lua; Windows NT 5.1)\\r\\n\")\nconn:send(\"\\r\\n\")\nprint (\"Done\")\n</code></pre>\n\n<p>The code works correctly. If I paste this in my LuaLoader it will return:</p>\n\n<pre><code> HTTP/1.1 200 OK\n Date: Wed, 30 Sep 2015 02:47:51 GMT\n Server: Apache\n X-Powered-By: PHP/5.5.26\n Content-Length: 0\n Keep-Alive: timeout=2, max=100\n Connection: Keep-Alive\n Content-Type: text/html\n\n Done\n</code></pre>\n\n<p>However, I want to repeat the code inside an alarm and send the data each minute, but it doesnt work.</p>\n\n<pre><code>tmr.alarm(0, 60000, 1, function()\n    x = adc.read(0);\n    ip = wifi.sta.getip();\n\n    conn=net.createConnection(net.TCP, 0) \n    conn:on(\"receive\", function(conn, payload) print(payload) end) \n    conn:connect(80,'example.com') \n    conn:send(\"GET /data.php?mdata=\"..x..\"&amp;ip=\"..ip..\" HTTP/1.1\\r\\n\") \n    conn:send(\"Host: example.com\\r\\n\") \n    conn:send(\"Connection: keep-alive\\r\\nAccept: */*\\r\\n\") \n    conn:send(\"User-Agent: Mozilla/4.0 (compatible; esp8266 Lua; Windows NT 5.1)\\r\\n\")\n    conn:send(\"\\r\\n\")\n    print (\"Done\")\n end )\n</code></pre>\n\n<p>The output is only...</p>\n\n<pre><code> Done\n</code></pre>\n\n<p>...without the payload. It is not sending the data. </p>\n\n<p>I tried putting the code in a function, in another file and calling it to the alarm with <strong>dotfile</strong> but it does not work. I tried giving it more time to send the data extending the alarm 2 minutes but nothing.</p>\n"
    }, {
        "tags": ["fiware", "iot", "spagobi"],
        "is_answered": true,
        "view_count": 474,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1443100847,
        "creation_date": 1441372905,
        "last_edit_date": 1442503347,
        "question_id": 32399172,
        "link": "https://stackoverflow.com/questions/32399172/spagobi-real-time-console-is-not-getting-refreshed",
        "title": "SpagoBI : Real time console is not getting refreshed",
        "body": "<p>I created my template using SpagoBI studio, then I deployed it manually on the SpagoBI server.\nIt is containing only a the detail pannel and I configured the data set to refresh every 5s</p>\n\n<p>the problem is that the refresh is not working!</p>\n\n<p>I change value on the data base but on the pannel it did not get refresh!</p>\n\n<p>Here is my template</p>\n\n<pre><code>{\n\n  \"datasets\" : [ {\n\n    \"id\" : \"mongoLastValues\",\n\n    \"label\" : \"mongoLastValues\",\n\n    \"refreshTime\" : 5,\n\n    \"memoryPagination\" : true,\n\n    \"rowsLimit\" : 15\n\n  } ],\n\n  \"detailPanel\" : {\n\n    \"pages\" : [ {\n\n      \"title\" : \"Page Title\",\n\n      \"table\" : {\n\n        \"dataset\" : \"mongoLastValues\",\n\n        \"datasetLabels\" : \"mongoLastValues\",\n\n        \"columnId\" : \"_id\",\n\n        \"columnConfig\" : {\n\n          \"_id\" : {\n\n            \"header\" : \"_id\",\n\n            \"type\" : \"string\",\n\n            \"headerType\" : \"static\"\n\n          },\n\n          \"recvTime\" : {\n\n            \"header\" : \"recvTime\",\n\n            \"type\" : \"string\",\n\n            \"headerType\" : \"static\"\n\n          },\n\n          \"attrType\" : {\n\n            \"header\" : \"attrType\",\n\n            \"type\" : \"string\",\n\n            \"headerType\" : \"static\"\n\n          },\n\n          \"attrName\" : {\n\n            \"header\" : \"attrName\",\n\n            \"type\" : \"string\",\n\n            \"headerType\" : \"static\"\n\n          },\n\n          \"attrValue\" : {\n\n            \"header\" : \"attrValue\",\n\n            \"type\" : \"string\",\n\n            \"headerType\" : \"static\"\n\n          }\n\n        },\n\n        \"filterBar\" : {\n\n          \"type\" : \"custom\",\n\n          \"refreshDataAfterAction\" : false\n\n        }\n\n      }\n\n    } ]\n\n  }\n\n}\n</code></pre>\n\n<p>on my log I found multiple errors:</p>\n\n<pre><code>it.eng.spagobi.engines.console.services.ServiceExceptionAction.logError: The error full stack trace is:\n\nit.eng.spagobi.utilities.engines.SpagoBIEngineServiceException: An unpredicted error occurred while executing GET_CONSOLE_DATA_ACTION service.\nThe root cause of the error is: java.util.ConcurrentModificationException\n</code></pre>\n\n<p>another one: </p>\n\n<pre><code>04 sept. 2015 15:11:22,868 ERROR it.eng.spagobi.engines.commonj.services.StartWorkAction.service:98 - could not retrieve user id\n</code></pre>\n\n<p>Any ideas what it might causing that the console is not refreshed and what to do to fix it?</p>\n"
    }, {
        "tags": ["amqp", "iot", "azure-eventhub", "azure-stream-analytics"],
        "is_answered": false,
        "view_count": 245,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1440271129,
        "creation_date": 1440260956,
        "last_edit_date": 1440271129,
        "question_id": 32158341,
        "link": "https://stackoverflow.com/questions/32158341/eventhub-reciever-recievetime-issue-with-null-message",
        "title": "EventHub Reciever RecieveTime issue with Null Message",
        "body": "<p>I am using <code>AzureSBLite</code> wrapper to poll the message from one <code>eventhub</code> with specific partition. Eventdata will be sent to one Event hub and Stream analytics will read from there. After processing Stream analytics will write it to different event hub in certain partition. </p>\n\n<pre><code>SenderEventHub[Partition-1]--&gt;Stream Analytics --&gt;ReciverEventHub[Partition-2]\n</code></pre>\n\n<p>Receiving part is normally taking <code>60-150s</code> on receive method which should not be the case here. I am not sure what is going under wrapper and where its taking. I have verified the output of <code>streamanalytics</code> , its almost near instant but receiver is getting nothing. </p>\n\n<hr>\n\n<p><strong>RecieverCode</strong></p>\n\n<hr>\n\n<pre><code>ServiceBusConnectionStringBuilder builder = new ServiceBusConnectionStringBuilder(Helper.ConnectionString);\n\n                    builder.TransportType = TransportType.Amqp;\n\n                    MessagingFactory MessagingFactory = MessagingFactory.CreateFromConnectionString(Helper.ConnectionString);\n\n                    EventHubClient client = MessagingFactory.CreateEventHubClient(eventHubEntity as string);\n\n                    EventHubConsumerGroup group = client.GetConsumerGroup(Helper.ConsumerGroup);\n\n                    EventHubReceiver receiver = group.CreateReceiver(Helper.PartitionReciever); \n\n                    do\n                    {\n                        EventData data = receiver.Receive();\n\n                        if (data != null)\n                        {\n                            Debug.WriteLine(Helper.Currentoffset = data.Offset);\n\n                            var msg = JsonConvert.DeserializeObject&lt;EventBody&gt;(Encoding.UTF8.GetString(data.GetBytes()));\n\n                            if (msg != null) Helper.Speak(msg.CommandName);\n                        }\n                    } while (true);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gYdV0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gYdV0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Trying with Same EventHub but two different partition is worse.</p>\n\n<hr>\n\n<p><a href=\"https://i.stack.imgur.com/ge1Ma.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ge1Ma.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>Note:Azure.SeriveBus is not supported on Windows 10 IoT Core.so can't use the EventProcessorHost.</em> </p>\n"
    }]
}