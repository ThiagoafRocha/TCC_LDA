{
    "items": [{
        "tags": ["linux", "audio", "filesystems", "iot", "fat32"],
        "is_answered": false,
        "view_count": 149,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1630584922,
        "creation_date": 1589392012,
        "question_id": 61781384,
        "link": "https://stackoverflow.com/questions/61781384/pen-drive-is-not-able-play-audio-in-audio-player-after-formated-as-fat32",
        "title": "Pen Drive is not able play audio in audio player after formated as FAT32",
        "body": "<p>Firstly I made my pendrive as bootable and after finished the stuff i formatted it as FAT32 and feed the songs into it , then i plugged into mp3 player in car to play the songs but mp3 player can't able to play the songs even though ports are fine and mp3 works for another pendrive . How can i overcome with this problem..</p>\n"
    }, {
        "tags": ["javascript", "android", "android-studio", "kotlin", "iot"],
        "is_answered": false,
        "view_count": 20,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1630362196,
        "creation_date": 1630360537,
        "last_edit_date": 1630362196,
        "question_id": 68990736,
        "link": "https://stackoverflow.com/questions/68990736/is-there-a-way-to-code-an-application-using-kotlin-on-android-studio-to-upload-d",
        "title": "Is there a way to code an application using Kotlin on Android Studio to upload data to ThingSpeak?",
        "body": "<p>I am attempting to take a user input value on an android application and then upload that value to ThingSpeak for further use. I am trying to use Android Studio and Kotlin, but I keep getting the same error. Any guidance will be much appreciated as I would just like to get the application to run. I have created a Button to execute and Two Texts - Number (Signed) for input.</p>\n<p>Below is the code that I have attempted:</p>\n<pre><code>import android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport androidx.appcompat.app.AppCompatActivity\nimport com.squareup.okhttp.Request\nimport com.squareup.okhttp.OkHttpClient\n\n\n\n\nclass MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val waterAmount = findViewById&lt;View&gt;(R.id.WaterAmount)\n        val temperatureAmount = findViewById&lt;View&gt;(R.id.TemperatureAmount)\n        val dispenseButton = findViewById&lt;Button&gt;(R.id.DispenseButton)\n\n        dispenseButton.setOnClickListener {\n            val okHttpClient = OkHttpClient()\n            val builder: Request.Builder = Request.Builder()\n            val request: Request = builder.url(&quot;https://api.thingspeak.com/update?api_key=APIKEY&amp;field1=&quot; + waterAmount).build()\n\n        }\n    }\n\n}\n</code></pre>\n<p>The error that I keep receiving is:</p>\n<p>Duplicate class org.objectweb.asm.AnnotationVisitor found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.AnnotationWriter found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Attribute found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.ByteVector found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.ClassReader found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.ClassVisitor found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.ClassWriter found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Edge found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.FieldVisitor found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.FieldWriter found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Frame found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Handler found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Item found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Label found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.MethodVisitor found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.MethodWriter found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Opcodes found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.Type found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.signature.SignatureReader found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.signature.SignatureVisitor found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)\nDuplicate class org.objectweb.asm.signature.SignatureWriter found in modules jetified-asm-3.1 (asm:asm:3.1) and jetified-asm-4.0 (org.ow2.asm:asm:4.0)</p>\n<p>Go to the documentation to learn how to Fix dependency resolution errors.</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": false,
        "view_count": 16,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1630097845,
        "creation_date": 1630097845,
        "question_id": 68959299,
        "link": "https://stackoverflow.com/questions/68959299/iot-data-plane-client-aws-sdk-for-javascript-v3-function-updatethingshadowco",
        "title": "IoT Data Plane Client - AWS SDK for JavaScript v3 - Function UpdateThingShadowCommand is not working",
        "body": "<p>I am trying to update a thing's shadow on AWS IoT Core by calling the function 'UpdateThingShadowCommand' from my vueJS web app.</p>\n<p>I am following instructions from the documentation here:\n<a href=\"https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-iot-data-plane/classes/updatethingshadowcommand.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaScriptSDK/v3/latest/clients/client-iot-data-plane/classes/updatethingshadowcommand.html</a></p>\n<p>However, when I execute the method 'UpdateThingShadowCommand', I keep running into the following error message:</p>\n<blockquote>\n<p>net::ERR_CERT_AUTHORITY_INVALID</p>\n</blockquote>\n<p>And another log message:</p>\n<blockquote>\n<p>TypeError: Failed to fetch</p>\n</blockquote>\n<p>My code is as follows:</p>\n<pre><code>import { IoTDataPlaneClient } from &quot;@aws-sdk/client-iot-data-plane&quot;;\nimport { UpdateThingShadowCommand } from &quot;@aws-sdk/client-iot-data-plane&quot;;\n\nmyMethod () {\n\n      const configIotDataPlaneClient = { \n        apiVersion: 'XXXXXXXX', \n        region: 'XXXXXXX', \n        credentials: {\n          accessKeyId: 'XXXXXXXXXXXXXXXX', \n          secretAccessKey: 'XXXXXXXXXXXXXXXXX'\n        } \n\n      //Initializing the client\n      const clientShadow = new IoTDataPlaneClient(configIotDataPlaneClient);\n      console.log(clientShadow)\n\n     const inputShadow = {\n        payload: new Uint8Array(\n          Buffer.from(\n            JSON.stringify({\n                &quot;state&quot;: {\n                    &quot;reported&quot;: {\n                      &quot;item1&quot;: &quot;val1&quot;,\n                      &quot;item2&quot;: &quot;val2&quot;\n                    }\n                }\n            }),\n          ),\n        ),\n        //shadowName: &quot;&quot;,\n        thingName: &quot;thing-name&quot;\n      }\n\n      //Updating a thing's shadow\n      try {\n          const commandShadow = new UpdateThingShadowCommand(inputShadow);\n          console.log(commandShadow)\n          const responseShadow = await clientShadow.send(commandShadow);\n          console.log(&quot;Update Shadow response&quot;, responseShadow)\n      }\n      catch (error) {\n          console.log(&quot;Update Shadow error: &quot;, error)\n      }\n      finally{\n          console.log(&quot;Update Shadow: finally method&quot;)\n      }\n}\n</code></pre>\n<p>Can anyone suggest why I may be getting these errors? Any help is much appreciated!</p>\n"
    }, {
        "tags": ["iot"],
        "is_answered": false,
        "view_count": 8,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1629322567,
        "creation_date": 1629322567,
        "question_id": 68839619,
        "link": "https://stackoverflow.com/questions/68839619/atecc608a-google-iot-core-how-do-i-transform-the-x-and-y-integers-big-endian",
        "title": "ATECC608A| Google IOT Core | How do I transform the X and Y integers big-endian format to a base64 string valid Public Key format?",
        "body": "<p>I am using ATECC608 to generate public/private key to authenticate an IOT device and Google IOT Core.</p>\n<p>I was able to generate the private and public key. The private key is stored on Slot1 and public on slot 11. I am using atcab_get_pubkey() to return the public key. How do I transform from X and Y integers in big-endian format. 64 bytes to base64 string valid public key format so I can put it on Google IOT cloud? I tried to use atcab_base64encode() but it's inserting weird characters and my public key is invalid on google iot core:</p>\n<pre><code>0x48, 0xCE, 0x3D, 0x02, 0x01, 0x06, 0x08, 0x2A,\n0x86, 0x48, 0xCE, 0x3D, 0x03, 0x01, 0x07, 0x03,\n0x42, 0x00, 0x04};\nchar buf[128];\nsize_t buf_len = sizeof(buf);\n/* Convert to base 64 */\natcab_base64encode(public_key, ATCA_PUB_KEY_SIZE + sizeof(public_key_x509_header), buf, &amp;buf_len);\n\nfor (int i = 0; i &lt; strlen((char *)public_key); i++)\n{\nprintf(&quot;0x%02x, &quot;, public_key[i]);\n}\nprintf(&quot;\\n&quot;);\n/* Print out the key */\nDEBUG_PRINTF(&quot;-----BEGIN PUBLIC KEY-----\\r\\n%s\\r\\n-----END PUBLIC KEY-----\\r\\n&quot;, buf);\n/* Add a null terminator */\nbuf[buf_len] = 0;\natcab_release();```\n\nGenerated public key is: {X:c888157854773773e93b18c34803d417d6d2b3e54f40b451fe0eb8a1ae824feb, Y:8dfb0ab2aca0eca0c296e1579cfbaa58aba2cd8e223c76d43a01197a33ab6d93}\n\n-----BEGIN PUBLIC KEY-----\nyIgVeFR3N3PpOxjDSAPUF9bSs+VPQLRR/g64oa6CT+uN+wqyrKDsoMKW4Vec+6pY\nq6LNjiI8dtQ6ARl6M6ttk48AhyCPIMSPj4+Pj5+Pr4+PjwAAAAAAAAAAAA==\n-----END PUBLIC KEY-----\n</code></pre>\n"
    }, {
        "tags": ["python", "mysql", "python-3.x", "iot"],
        "is_answered": false,
        "view_count": 23,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1626861647,
        "creation_date": 1626851714,
        "last_edit_date": 1626857144,
        "question_id": 68465372,
        "link": "https://stackoverflow.com/questions/68465372/fetch-json-value-correctly-and-convert-into-integers-using-python3-and-upload-di",
        "title": "Fetch json value correctly and convert into integers using python3 and upload directly into database but in python code there is some error generated",
        "body": "<p>In this code I want to fetch JSON value from <a href=\"https://thingspeak.com/channels/1441388/feed.json\" rel=\"nofollow noreferrer\">https://thingspeak.com/channels/1441388/feed.json</a>  of field1 and field2 and upload into my local database using python3 but the error comes out in &quot;first&quot; variable that &quot;TypeError: string indices must be integers&quot;.</p>\n<pre><code>import urllib.request\nimport json\nimport mysql.connector\nurl = &quot;https://thingspeak.com/channels/1441388/feed.json&quot;\nmydb=mysql.connector.connect(host=&quot;localhost&quot;,user=&quot;root&quot;,passwd=&quot;123&quot;,database=&quot;path&quot;)\n\nwith urllib.request.urlopen(url) as url:\n    s=url.read()\ndata = json.dumps(s.decode(&quot;utf-8&quot;))\nN=10\nfor num in reversed(range(N + 1)) :   # fetch last ten data \n    first = (data['feeds'][num]['field1'])  # fetch field1 data from JSON\n    print(&quot;first&quot;,first)\n    second = data['feeds'][num]['field2']\n    print(&quot;second&quot;,second)\n    cursor = mydb.cursor()\n    insert_stmt = (&quot;INSERT INTO details(Distance,water_level,Connected_device)&quot;\n       &quot;VALUES (%s, %s, %s)&quot;)    \n    data = (first,second,'Arduino &amp; GPRS')\n    \n    try:\n        cursor.execute(insert_stmt, data)\n        mydb.commit()\n        #cursor.close()\n        print(cursor.rowcount, &quot;record inserted.&quot;)\n    except:\n        mydb.rollback()\n</code></pre>\n<p>**I get this output<br />\n**</p>\n<pre><code>**Traceback (most recent call last):\n  File &quot;D:\\IOT\\Blind Stick\\fetch.py&quot;, line 14, in &lt;module&gt;\n    first = list(data['feeds'][num]['field1'])\nTypeError: string indices must be integers**\n</code></pre>\n<blockquote>\n<p>So I am wondering what wrong I am doing here?</p>\n</blockquote>\n"
    }, {
        "tags": ["typescript", "mqtt", "iot", "aws-iot", "mqtt.js"],
        "is_answered": true,
        "view_count": 44,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1626375070,
        "creation_date": 1626138573,
        "question_id": 68355334,
        "link": "https://stackoverflow.com/questions/68355334/websocket-connection-to-aws-iot-url-failed-empty",
        "title": "WebSocket connection to &lt;AWS IoT Url&gt; failed: EMPTY",
        "body": "<p>I am working with this library for my AWS IoT MQTT topics. However, I've run into an issue when trying to connect to the  presigned-url of the following format:</p>\n<p><code>wss://&lt;endpoint&gt;.iot.us-west-2.amazonaws.com/mqtt?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=&lt;credential&gt;%2Fus-west-2%2Fiotdevicegateway%2Faws4_request&amp;X-Amz-Date=&lt;date&gt;&amp;X-Amz-Expires=86400&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=&lt;signature&gt;&amp;X-Amz-Security-Token=&lt;security-token&gt;</code></p>\n<p>Here is the sample code I've used for this test:</p>\n<pre><code>import * as mqtt from 'mqtt';\n\ntry {\n  const options: Partial&lt;IClientOptions&gt; = {\n    will: {\n      topic: 'hello',\n      payload: JSON.stringify({ clientId: '1', username: 'sean' }),\n      qos: 1,\n      retain: true\n    },\n    port: 443,\n    clientId: '1', \n    username: 'sean'\n  };\nconst client = mqtt.connect(\n  request.url,\n  options);\n\nconsole.log(client);\n\nclient.on('connect', function() {\n  client.subscribe('hello', function (err) {\n    if (!err) {\n      client.publish('presence', 'Hello mqtt')\n    }\n  });\n});\n\nclient.on('error', (err) =&gt; {\n  console.log('error', err);\n  client.end()\n});\n\n} catch (error) {\n  console.log(error);\n}\n</code></pre>\n<p>Unfortunately, when I boot up my webpage, I am receiving the following repeated error in the Chrome dev tools:</p>\n<p><code>WebSocket connection to &lt;AWS IoT Url&gt; failed:</code></p>\n<p>Usually, there is an actual error message displayed after the <em>'... failed:'</em> string. In the code, I am seeing a nop function that is logging the error. Just curious what errors usually cause the nop function to be called and how could I can begin testing why my url is failing to connect?</p>\n"
    }, {
        "tags": ["iot", "rfid", "nodemcu"],
        "is_answered": false,
        "view_count": 1226,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1626250284,
        "creation_date": 1622308489,
        "question_id": 67754016,
        "link": "https://stackoverflow.com/questions/67754016/call-to-httpclientbegin-declared-with-attribute-error-obsolete-api-use-b",
        "title": "call to &#39;HTTPClient::begin&#39; declared with attribute error: obsolete API, use ::begin(WiFiClient, url)",
        "body": "<p>I tried to do a RFID card reading  with the esp8266. But when I upload the code it's got an error. Can you help me? Here's a part of the code:</p>\n<ol>\n<li>\n<blockquote>\n<p>void loop() {\n// put your main code here, to run repeatedly\nreadsuccess = getid();</p>\n</blockquote>\n<pre><code>   if(readsuccess) {  \n   digitalWrite(ON_Board_LED, LOW);\n     HTTPClient http;    //Declare object of class HTTPClient\n\n     String UIDresultSend, postData;\n     UIDresultSend = StrUID;\n\n     //Post Data\n     postData = &quot;UIDresult=&quot; + UIDresultSend;\n\n     http.begin(&quot;http://IPaddress/NodeMCU_RC522_Mysql/getUID.php&quot;); \n\n     http.addHeader(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;); \n\n     int httpCode = http.POST(postData);   //Send the request\n     String payload = http.getString();    //Get the response payload\n\n     Serial.println(UIDresultSend);\n     Serial.println(httpCode);   //Print HTTP return code\n     Serial.println(payload);    //Print request response payload\n\n     http.end();  //Close connection\n     delay(1000);\n   digitalWrite(ON_Board_LED, HIGH);\n   }\n }\n</code></pre>\n</li>\n</ol>\n"
    }, {
        "tags": ["amazon-web-services", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 45,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1623994033,
        "creation_date": 1567413233,
        "question_id": 57753748,
        "link": "https://stackoverflow.com/questions/57753748/aws-iot-multiple-iot-registry-to-split-applications",
        "title": "AWS IoT: multiple IoT Registry to split applications",
        "body": "<p>I'm asking how to use the AWS IoT Registry for multiple applications. It would be nice to have one IoT Registry for each product/application, but it seems AWS IoT Registry is unique. For each application there will be hunderds of devices.</p>\n\n<p>The only solution I found is to create a Thing name with an application-dependent prefix: \"Product1_id1\", \"Product1_id2\",... \"Product2_id1\", \"Product2_id\", ...</p>\n\n<p>Another solution is to create a different AWS account for each application.</p>\n\n<p>It's a very pity AWS doesn't let you create different projects with a separate Registry.</p>\n"
    }, {
        "tags": ["arduino", "iot", "esp32"],
        "is_answered": false,
        "view_count": 108,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1621882612,
        "creation_date": 1621879894,
        "question_id": 67676946,
        "link": "https://stackoverflow.com/questions/67676946/an-error-occurred-for-current-measurement-with-esp32s-and-pzem004t-v2",
        "title": "An error occurred for Current measurement with ESP32s and PZEM004T v2",
        "body": "<p>I'm using ESP32s and PZEM004T V2.0 for the current measurement project.\nWhile executing I get the following error:</p>\n<pre><code>esptool.py v3.0-dev\nSerial port COM5\nConnecting...\nTraceback (most recent call last):\n  File &quot;esptool.py&quot;, line 3682, in &lt;module&gt;\n  File &quot;esptool.py&quot;, line 3675, in _main\n  File &quot;esptool.py&quot;, line 3330, in main\n  File &quot;esptool.py&quot;, line 512, in connect\n  File &quot;esptool.py&quot;, line 492, in _connect_attempt\n  File &quot;esptool.py&quot;, line 431, in sync\n  File &quot;esptool.py&quot;, line 369, in command\n  File &quot;esptool.py&quot;, line 332, in write\n  File &quot;site-packages\\serial\\serialwin32.py&quot;, line 323, in write\nserial.serialutil.SerialTimeoutException: Write timeout\nFailed to execute script esptool\nAn error occurred while uploading the sketch\n</code></pre>\n<p>Any idea what should I do?</p>\n"
    }, {
        "tags": ["google-apps-script", "scripting", "iot"],
        "is_answered": true,
        "view_count": 177,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1620071722,
        "creation_date": 1620067970,
        "last_edit_date": 1620068619,
        "question_id": 67374301,
        "link": "https://stackoverflow.com/questions/67374301/esp-32-send-image-to-gdrive",
        "title": "esp-32 send image to Gdrive",
        "body": "<p>I am working for the first time with esp32 cam and I want to click images and store them in my google drive. However, when I run this code I always get the error\n1)TypeError: Cannot read property 'parameter' of undefined\n2)Script function not found: doGet (after deploying )\nto deploy I did the following steps :\na)web app\nb)execute as me\nc)access to everyone</p>\n<p>code</p>\n<pre><code>function doPost(e) {\n  var data = Utilities.base64Decode(e.parameters.data);\n  var nombreArchivo = Utilities.formatDate(new Date(), &quot;GMT-3&quot;, &quot;yyyyMMdd_HHmmss&quot;)+&quot;.jpg&quot;;\n  var blob = Utilities.newBlob(data, e.parameters.mimetype, nombreArchivo );\n  \n  \n   // Save the photo to Google Drive\n  var folder, folders = DriveApp.getFoldersByName(&quot;ESP32-CAM&quot;);\n  if (folders.hasNext()) {\n    folder = folders.next();\n  } else {\n    folder = DriveApp.createFolder(&quot;ESP32-CAM&quot;);\n  }\n  var file = folder.createFile(blob); \n  return ContentService.createTextOutput('Completo')\n} \n</code></pre>\n"
    }, {
        "tags": ["c#", "iot", "amqp", "alibaba-cloud"],
        "is_answered": false,
        "view_count": 16,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619744599,
        "creation_date": 1619744599,
        "question_id": 67326913,
        "link": "https://stackoverflow.com/questions/67326913/errorconditionamqpinternal-error-descriptionexception-while-reading-from-str",
        "title": "error(condition:amqp:internal-error,description:Exception while reading from stream)",
        "body": "<p>I use this <a href=\"https://www.alibabacloud.com/help/doc-detail/143598.htm\" rel=\"nofollow noreferrer\">https://www.alibabacloud.com/help/doc-detail/143598.htm</a> as my project template to connect my application to an IoT Platform by using the SDK for .NET</p>\n<p>I managed to get the data, however every few hours, I got this exception.</p>\n<p><code> error(condition:amqp:internal-error,description:Exception while reading from stream)</code></p>\n<p>I am not really sure what does this mean.  Every time this error happen, it will try to reconnect back. But sometime after few time failing, the re-connection never happen and the data stopped coming.Thank you very much for your help.</p>\n"
    }, {
        "tags": ["javascript", "fetch", "iot"],
        "is_answered": true,
        "view_count": 3042,
        "favorite_count": 1,
        "score": 5,
        "last_activity_date": 1619632553,
        "creation_date": 1575262161,
        "last_edit_date": 1575262889,
        "question_id": 59132805,
        "link": "https://stackoverflow.com/questions/59132805/how-to-catch-err-cert-authority-invalid-in-javascript",
        "title": "How to catch ERR_CERT_AUTHORITY_INVALID in javascript",
        "body": "<p>The Web Application I am developing needs to fetch data from a number of different IOTs within the local network, e.g., </p>\n\n<pre><code>const response = await fetch(\"https://192.168.0.245/api/auto/login\", options);\n</code></pre>\n\n<p>Since it is an https connection, and each IOT carries a self-signed SSL cert, therefore, the fetch() above will throw an error \"TypeError: Failed to fetch\" (since the cert has not yet been accepted), and the application will show the following in the browser's console</p>\n\n<pre><code>OPTIONS https://192.168.0.245/api/auto/login net::ERR_CERT_AUTHORITY_INVALID\n</code></pre>\n\n<p>What I need is to be able to catch this error in javascript. Specifically I need to be able to catch different errors like ERR_CERT_AUTHORITY_INVALID, ERR_SSL_PROTOCOL_ERROR or ERR_CONNECITON_REFUSED... etc. so I can show different error messages accordingly.</p>\n\n<p>Unfortunately the fetch() function always throw the same \"TypeError: Failed to fetch\" exception under all these three different errors above.</p>\n\n<p>Is there anyway I can catch this specific ERR_CERT_AUTHORITY_INVALID exception?</p>\n\n<p>Thank you.</p>\n"
    }, {
        "tags": ["azure-storage", "iot"],
        "is_answered": true,
        "view_count": 424,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619493626,
        "creation_date": 1488805291,
        "last_edit_date": 1488844943,
        "question_id": 42626326,
        "link": "https://stackoverflow.com/questions/42626326/handling-sas-tokens-using-shared-access-policy-azure-storage",
        "title": "Handling SAS tokens using shared access policy (azure storage)",
        "body": "<p>I am sending blobs to an Azure Storage account. I have one customer with 3 IOT clients who each write to their own container.</p>\n\n<p>I use a share access policy to create a SAS URI to each container. </p>\n\n<p>I am not using an expire data when creating the shared access policy. The generated SAS URI is copied to a config file that each of the clients use this to write blobs to the storage.</p>\n\n<p>This works fine. On the client I create the container using</p>\n\n<pre><code>CloudBlobContainer _container = new CloudBlobContainer(new Uri(\"https://myhubstorage.blob.core.windows.net/containername?sv=2015-04-05&amp;sr=c&amp;si=containername&amp;sig=xxxxx\"));\n</code></pre>\n\n<p>The token above is retrieved from a config file </p>\n\n<p>To send blobs I use</p>\n\n<pre><code>var newBlob = _container.GetBlockBlobReference(filePath);\n</code></pre>\n\n<p>Now this works, but I'm not sure if this is the best approach. The reason is that I do not have an expiry on the shared access policy used to create the container SAS token. I don't want to distribute a new SAS token for the container each time it expires (would have to update the config file.\nAlso I do not want the clients to have access to the storage account key).</p>\n\n<p>If a client is compromised I can revoke the shared access policy so the other clients will not be affected. </p>\n\n<p>But is this the best approach to solve this regarding security? Input would be appreciated. </p>\n"
    }, {
        "tags": ["scikit-learn", "dataset", "iot", "feature-extraction", "sklearn-pandas"],
        "is_answered": false,
        "view_count": 30,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1619429106,
        "creation_date": 1619416219,
        "last_edit_date": 1619429106,
        "question_id": 67261443,
        "link": "https://stackoverflow.com/questions/67261443/getting-value-error-in-train-test-while-eliminating-features-from-dataset-using",
        "title": "Getting value error in train.test while eliminating features from dataset using RFE.what is the solution?",
        "body": "<p><a href=\"https://i.stack.imgur.com/Lgw3q.png\" rel=\"nofollow noreferrer\">valueError image part</a>\nHere is the code for eliminating features where I am getting value errors. I want to use recursive feature elimination without specifying any features . I tried to use the RFE(Recursion feature elemination) model to automatically eliminate weak features with each iteration which I have unable to do.HERE is the link of the dataset. <a href=\"https://drive.google.com/file/d/1neYnunu6a_Mdn3NfRZsF8wE4gwMCpjAY/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1neYnunu6a_Mdn3NfRZsF8wE4gwMCpjAY/view?usp=sharing</a> .I will be grateful if you suggest  me how to do it.</p>\n<pre><code>import pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\nfrom pandas import DataFrame\n%matplotlib inline \n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.feature_selection import SelectFromModel\nfrom sklearn.metrics import accuracy_score\nfrom sklearn import datasets\nfrom sklearn.metrics import classification_report\n\nfrom google.colab import drive\ndrive.mount('/content/drive', force_remount=True) \n\ndf.keys()\nx=pd.DataFrame(df)\nx.head()\nX = df.drop([&quot;Sub_Cat&quot;],axis=1).values\ny = df[&quot;Sub_Cat&quot;].values\nX_train,X_test,y_train,y_test = train_test_split(X,y,random_state=0)\nX_train.shape,X_test.shape\n\nsel=SelectFromModel(RandomForestClassifier(n_estimators=100,random_state=0,n_jobs=-1))\nsel.fit(X_train,y_train)\nsel.get_support()\n\n[I am getting value error in this part][1]\n</code></pre>\n<p>Then i tried to do this also getting `X = df.drop([&quot;Dst_IP&quot;,&quot;Timestamp&quot;,&quot;Flow_ID&quot;,&quot;Src_IP&quot;,&quot;Sub_Cat&quot;],axis=1).values\ny = df[&quot;Sub_Cat&quot;].values\nX_train,X_test,y_train,y_test = train_test_split(X,y,random_state=0)</p>\n<pre><code>X = df.drop([&quot;Dst_IP&quot;,&quot;Timestamp&quot;,&quot;Flow_ID&quot;,&quot;Src_IP&quot;,&quot;Sub_Cat&quot;],axis=1).values\ny = df[&quot;Sub_Cat&quot;].values\nX_train,X_test,y_train,y_test = train_test_split(X,y,random_state=0)\n\n\n\n\nsel=SelectFromModel(RandomForestClassifier(n_estimators=100,random_state=0,n_jobs=-1))\nsel.fit(X_train,y_train)\nsel.get_support()\n</code></pre>\n<p>I am still getting error:</p>\n<blockquote>\n<p>ValueError                                Traceback (most recent call last)\n in ()\n1 sel=SelectFromModel(RandomForestClassifier(n_estimators=100,random_state=0,n_jobs=-1))\n----&gt; 2 sel.fit(X_train,y_train)\n3 sel.get_support()</p>\n</blockquote>\n<p>3 frames\n/usr/local/lib/python3.7/dist-packages/numpy/core/_asarray.py in asarray(a, dtype, order)\n81\n82     &quot;&quot;&quot;\n---&gt; 83     return array(a, dtype, copy=False, order=order)\n84\n85</p>\n<p>ValueError: could not convert string to float: 'Anomaly'</p>\n"
    }, {
        "tags": ["sap", "iot", "sap-web-ide", "sap-cloud-platform"],
        "is_answered": false,
        "view_count": 189,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1618411491,
        "creation_date": 1554488074,
        "question_id": 55541230,
        "link": "https://stackoverflow.com/questions/55541230/sap-web-ide-login-failed-while-updating-iot-destinations",
        "title": "SAP Web IDE Login failed while updating IoT destinations",
        "body": "<p>I tried to create destinations for IoT application enablement in SAP full stack web IDE by choosing Tools-> Update IoT Destinations and enter credentials from service binding of SAP Leonardo Service as in the <a href=\"https://help.sap.com/viewer/195126f4601945cba0886cbbcbf3d364/1903a/en-US/ecfc168953ea4fb0ad123f70cc399744.html\" rel=\"nofollow noreferrer\">help portal</a> .After entering the credentials and clicking Update, an authentication popup is appeared to enter SAP Cloud Platform Neo environment credentials. But the authentication failed with no error messages when entering the correct credentials as in the figure. I also assigned correct roles for web ide in SCP cockpit.</p>\n\n<p><a href=\"https://i.stack.imgur.com/yizvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yizvv.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["java", "iot", "activemq-artemis"],
        "is_answered": true,
        "view_count": 63,
        "favorite_count": 0,
        "closed_date": 1617373243,
        "score": 0,
        "last_activity_date": 1617376453,
        "creation_date": 1617359353,
        "last_edit_date": 1617376453,
        "question_id": 66917964,
        "link": "https://stackoverflow.com/questions/66917964/problem-creating-activemq-artemis-broker-instance-on-raspberry-pi-3b",
        "title": "Problem creating ActiveMQ Artemis broker instance on Raspberry pi 3B+",
        "body": "<p>I want to install ActiveMQ Artemis on my Raspberry pi 3B+, but I am getting a Java related error. I am using Java version 8.\nI have followed the total procedure as <a href=\"https://medium.com/@hasnat.saeed/setup-activemq-artemis-on-ubuntu-18-04-76bb4975308b\" rel=\"nofollow noreferrer\">explained here</a>.</p>\n<p>While attempting to start the broker instance using command\n<code>$ sudo /var/lib/test-broker/bin/artemis run</code>\nI am getting the following error:</p>\n<pre><code>OpenJDK Client VM warning: G1 GC is disabled in this release.\nError occurred during initialization of VM\nCould not reserve enough space for 2097152KB object heap\n</code></pre>\n<p>I have tried to increase the heap space but it didn't work. Any help to remove this error would be appreciated.</p>\n"
    }, {
        "tags": ["vb.net", "exception", "uwp", "iot", "midi"],
        "is_answered": false,
        "view_count": 78,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1616273955,
        "creation_date": 1616273955,
        "question_id": 66726421,
        "link": "https://stackoverflow.com/questions/66726421/getting-system-exception-incorrect-function-exception-from-hresult-0x800700",
        "title": "Getting System.Exception: &#39;Incorrect function. (Exception from HRESULT: 0x80070001)&#39; with MIDI in VB",
        "body": "<p>I have run into an error (the latest of many) whilst trying (and failing) to program using the Windows.Devices.MIDI lib using VB (VS2019)</p>\n<p>I started by taking the c# code from here ..\n<a href=\"https://blogs.windows.com/windowsdeveloper/2016/09/21/midi-enhancements-in-windows-10/\" rel=\"nofollow noreferrer\">https://blogs.windows.com/windowsdeveloper/2016/09/21/midi-enhancements-in-windows-10/</a>\nand now im trying to implement it in VB however i run into the following error which i cannot fathom -</p>\n<p><strong>System.Exception: 'Incorrect function. (Exception from HRESULT: 0x80070001)'</strong></p>\n<p>the error occurs when <code>  outPort.SendMessage(noteOnMessage)</code> is executed in the <code>MidiExample()</code> sub</p>\n<p>Any help on this issue would be greatly appreciated.</p>\n<p><em>VB - visualstudio 2019, UWP desktop app</em></p>\n<pre><code>' Objects:\n' Listview  - LstDev\n' Textblock - txtData\n' button    - btnSendMessage\n\n\n  Imports Windows.Devices.Midi\n  Imports Windows.Devices.Enumeration\n\nPublic NotInheritable Class MainPage\n    Inherits Page\n\n    Dim deviceList\n    Dim deviceinfo\n\n\n    Dim outportId As String = &quot;0&quot;\n    Dim inPortId As String = &quot;0&quot;\n\n    Dim watcher =DeviceInformation.CreateWatcher(MidiInPort.GetDeviceSelector())\n\n\nPrivate Sub MainPage_Loaded(sender As Object, e As RoutedEventArgs) Handles Me.Loaded\n    '// load device list\n\n    ListMidiDevices()\n\nEnd Sub\n\n\nPublic Async Sub ListMidiDevices()\n    '// list MIDI devices, add to ListView\n\n    deviceList = Await DeviceInformation.FindAllAsync(MidiInPort.GetDeviceSelector())\n    For Each deviceinfo In deviceList\n\n        outportId = deviceinfo.id\n        lstDev.Items.Add(deviceinfo.id.ToString)\n        lstDev.Items.Add(deviceinfo.Name)\n        lstDev.Items.Add(&quot;\u2014\u2014\u2014-&quot;)\n    Next\n\nEnd Sub\n\nPrivate Sub LstDev_SelectionChanged(sender As Object, e As SelectionChangedEventArgs) Handles lstDev.SelectionChanged\n    '// Select hardware ID\n\n    lblData.Text = lstDev.SelectedItem.ToString\n    outportId = lblData.Text\n\nEnd Sub\n\nPrivate Async Sub MidiExample()\n    '// send midi message \n\n    Dim noteOnMessage As New MidiNoteOnMessage(0, 110, 127)\n\n    Dim outPort As MidiOutPort = Await MidiOutPort.FromIdAsync(outportId)\n\n    ' outPort = Await MidiOutPort.FromIdAsync(outportId)\n\n    outPort.SendMessage(noteOnMessage)\n\n\nEnd Sub\n\n\nPrivate Sub btnSendMessage_Click(sender As Object, e As RoutedEventArgs) Handles btnSendMessage.Click\n    '// send message\n\n    MidiExample()\n\nEnd Sub\n</code></pre>\n<p>end class</p>\n"
    }, {
        "tags": ["arduino", "iot", "rfid"],
        "is_answered": false,
        "view_count": 21,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1614751715,
        "creation_date": 1614751715,
        "question_id": 66451644,
        "link": "https://stackoverflow.com/questions/66451644/is-there-need-any-other-file-or-code-in-rfid-to-unlock-windows",
        "title": "Is there need any other file or code in RFID to unlock windows",
        "body": "<p>Here I upload this code in my Arduino Leonardo circuit but when I scanned my card on RFID sensor windows locked successfully but when I scanned card on lock screen there is error occur that incorrect password enter.</p>\n<p>So I want suggestion about update or addition in code.</p>\n<pre><code>#include &lt;deprecated.h&gt;\n#include &lt;MFRC522.h&gt;\n#include &lt;MFRC522Extended.h&gt;\n#include &lt;require_cpp11.h&gt;\n\n#include &lt;Keyboard.h&gt;\n#include &lt;SPI.h&gt;\n#include &lt;MFRC522.h&gt;\n#define SS_PIN 10\n#define RST_PIN 2\n#define KEY_RETURN 0xB0                 //The hex value for the return key is 0xB0.\n \nMFRC522 mfrc522 ( SS_PIN, RST_PIN ) ;\nchar Enter = KEY_RETURN;                //Return key is declared as Enter.\nString readid;\nString card1=&quot;e9226c15&quot;;                //Change this value to the UID of your card.\n \nvoid setup( ) \n{\n Serial.begin(9600);\n Keyboard.begin();\n SPI.begin();\n mfrc522.PCD_Init();\n}\n\nvoid temp(byte *buffer, byte bufferSize)//function to store card uid as a string datatype.\n{\n  readid=&quot;&quot;;\n  for(byte i = 0;i&lt;bufferSize; i++)\n  {\n    readid=readid+String(buffer[i], HEX);\n  }\n}\nvoid loop( ) \n{\n if(!mfrc522.PICC_IsNewCardPresent())\n {\n  return;\n }\n if(!mfrc522.PICC_ReadCardSerial()) \n {\n  return;\n }\n mfrc522.PICC_DumpToSerial(&amp;(mfrc522.uid));  // Display card details in serial Monitor.\n temp(mfrc522.uid.uidByte, mfrc522.uid.size);\n if(readid==card1)\n { \n  Keyboard.press(KEY_LEFT_GUI);              //Press the left windows key.\n  Keyboard.press('l');                       //Press the &quot;l&quot; key.\n  Keyboard.releaseAll();                     //Release all keys.\n  delay (100);\n  Keyboard.press(Enter);                     //Press the Enter key.\n  Keyboard.release(Enter);                   //Release the Enter key.\n  delay(100);\n  Keyboard.print(&quot;12345&quot;);                    // Change this value to your Windows PIN/Password.\n  Keyboard.releaseAll();\n  delay(100);\n  Keyboard.press(Enter);\n  Keyboard.releaseAll();\n }\n else\n {\n  return;\n } \n}\n``\n</code></pre>\n"
    }, {
        "tags": ["azure", "uwp", "mqtt", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1146,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1614607187,
        "creation_date": 1539938370,
        "last_edit_date": 1614607187,
        "question_id": 52888746,
        "link": "https://stackoverflow.com/questions/52888746/iothubclienttransientexception-transient-error-occured-please-retry",
        "title": "IotHubClientTransientException: Transient error occured, please retry",
        "body": "<p>I have an UWP app installed in an upboard that reads IotHub messages sended to that deviceID.</p>\n\n<pre><code>deviceClient = DeviceClient.CreateFromConnectionString(deviceConnectionString, TransportType.Mqtt);\nMessage receivedMessage = await deviceClient.ReceiveAsync();\n</code></pre>\n\n<p>The app works fine and reads the messages correctly, but sometimes I have these exceptions:</p>\n\n<blockquote>\n  <p>IotHubClientTransientException: Transient error occured, please retry.</p>\n</blockquote>\n\n<p>I read that these errors may can be generated from wrong connection string, but it's not possible in my case.</p>\n\n<p>Can someone help me?</p>\n"
    }, {
        "tags": ["google-cloud-platform", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 71,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1613733289,
        "creation_date": 1611129572,
        "last_edit_date": 1613733289,
        "question_id": 65805297,
        "link": "https://stackoverflow.com/questions/65805297/google-cloud-iot-connection-refused-thorugh-mqtt",
        "title": "google cloud iot - connection refused thorugh mqtt",
        "body": "<p>I am working on google iot with raspberry pi 4. After following <a href=\"http://cloud.google.com/community/tutorials/cloud-iot-gateways-rpi\" rel=\"nofollow noreferrer\">this tutorial</a>, I succeeded to connect to GCP with mqtt at first time. After that I got an error on connect:</p>\n<p><em>connection refused: bad user name or password</em>.</p>\n<p>Is there any solution to this error?</p>\n"
    }, {
        "tags": ["c++", "amazon-web-services", "iot", "esp32", "aws-iot-core"],
        "is_answered": false,
        "view_count": 675,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1612360937,
        "creation_date": 1609795848,
        "last_edit_date": 1609796187,
        "question_id": 65570114,
        "link": "https://stackoverflow.com/questions/65570114/wificlientsecure-setcacert-does-not-accept-my-parameters",
        "title": "WiFiClientSecure setCaCert does not accept my parameters",
        "body": "<p>I am currently trying to connect my ESP32 to AWS IoT. Therefore, I have to use certificates to encrypt the connection. In theory I know how this will work, but I\u00b4m not a C++ pro and I get an error. Of course I tried to google, but I always find the same solution which does not work for me. To be concrete, I try ti declare a cacert in a header file like so:</p>\n<pre><code>const char AWS_CERT_CA[] = &quot;-----BEGIN CERTIFICATE-----\\n&quot; \\\n&quot;MIIDQTChkiG9w0CAimfz5m/jAo5gAwIBBgkqBAkPmljZbyjQsAgITBmy4vB4iANF\\n&quot; \\\n&quot;ADA5MGQW1hem5sGQW1hemDVVUzEMQxBBDVhMQsYDVQQQGEwJQDExBBbWF6\\n&quot; \\\n&quot;XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\\n&quot; \\\n&quot;-----END CERTIFICATE-----\\n&quot;;\n</code></pre>\n<p>In the main file I try to use it like so:</p>\n<pre><code>WiFiClientSecure net = WiFiClientSecure();\nvoid connectToAWS()\n{\n    // Configure WiFiClientSecure to use the AWS certificates we generated\n    net.setCACert(AWS_CERT_CA);\n    net.setCertificate(AWS_CERT_CRT);\n    net.setPrivateKey(AWS_CERT_PRIVATE);\n...\n</code></pre>\n<p>When I try to compile, it gives me the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/ODQnK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ODQnK.png\" alt=\"enter image description here\" /></a></p>\n<p>Obviously, the parameter types are not correct, but why does it work for others (e.g. <a href=\"https://awsm.dvlprz.com/2017-10-16-esp32-aws-iot-mqtt\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://aws.amazon.com/blogs/compute/building-an-aws-iot-core-device-using-aws-serverless-and-an-esp32/\" rel=\"nofollow noreferrer\">here</a>)? An int as a parameter for the function does not make sense to me. Hope you can help me.</p>\n"
    }, {
        "tags": ["iot", "google-cloud-iot"],
        "is_answered": false,
        "view_count": 292,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1611774882,
        "creation_date": 1519812660,
        "question_id": 49026912,
        "link": "https://stackoverflow.com/questions/49026912/google-iot-core-http-bridge-request-is-missing-required-authentication-credent",
        "title": "Google IOT core- http bridge &quot;request is missing required authentication credential &quot;",
        "body": "<p>I'm trying to get started with google IOT core by posting a simple http request from the command line.</p>\n\n<p>I have set up my registry and device in Console, and added the public key. I set up a telemetry topic. I've generated the JWT using a Qt application I found, using the private key. I'm using the procedure specified at <a href=\"https://cloud.google.com/iot/docs/how-tos/http-bridge\" rel=\"nofollow noreferrer\">https://cloud.google.com/iot/docs/how-tos/http-bridge</a>. My command is:</p>\n\n<p>curl -X POST -H 'authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiJzeWx2YW4tam91cm5leS0xOTU4MTUiLCJleHAiOiIxNTIwMzU4NjMyIiwiaWF0IjoiMTUxOTc1MzgzMiJ9.kDkwtWvfAE+AOYT2cObgh8Mux2n1DOuek1KR0YrsFSI=' -H 'content-type: application/json' --data '{\"binary_data\": \"SGVsbG8=\"}' -H 'cache-control: no-cache' '<a href=\"https://cloudiotdevice.googleapis.com/v1/projects/sylvan-journey-195815/locations/europe-west1/registries/MyDeviceRegistry/devices/FirstDevice:publishEvent\" rel=\"nofollow noreferrer\">https://cloudiotdevice.googleapis.com/v1/projects/sylvan-journey-195815/locations/europe-west1/registries/MyDeviceRegistry/devices/FirstDevice:publishEvent</a>'</p>\n\n<p>When I try to post the command I get error 401 \"Request is missing required authentication credential. Expected OAuth 2 access token, login cookie or other valid authentication credential\"</p>\n\n<p>I don't know where to look. Is there a problem with my JWT? Is the format of the command wrong? Do I need to add a public key to the registry or just to the devices. How do I find out what's wrong?</p>\n\n<p>Any guidance much appreciated</p>\n"
    }, {
        "tags": ["amazon-web-services", "https", "iot", "esp8266"],
        "is_answered": true,
        "view_count": 40,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1611131444,
        "creation_date": 1610835606,
        "last_edit_date": 1610836034,
        "question_id": 65755332,
        "link": "https://stackoverflow.com/questions/65755332/sending-out-post-request-returns-with-text-is-empty",
        "title": "Sending out POST request returns with &quot;text is empty&quot;",
        "body": "<p>I am trying to send a POST request using WiFiClientSecure on my ESP8266. It seems that the connection itself works, but when I send the request, I get back the following message:</p>\n<blockquote>\n<p>{&quot;message&quot;:&quot;text is empty (possibly\nHTTP/0.9)&quot;,&quot;traceId&quot;:&quot;576eb1f7-3a18-7759-eaa1-8d0675f14fea&quot;}</p>\n</blockquote>\n<p>Here\u00b4s the portion of my code which sends the request. Any idea what I am doing wrong (net is my WiFiClientSecure instance)?</p>\n<pre><code>  if(!net.connect(&quot;xxx-ats.iot.eu-central-1.amazonaws.com&quot;, 8443)){\n    Serial.println(&quot;connection failed&quot;);\n    char err_buf[1024];\n    Serial.println(net.getLastSSLError(err_buf,1024));\n    Serial.printf(&quot;ssl_error: %s\\n&quot;, err_buf);\n    return;\n  }else{\n    Serial.println(&quot;Yeah!&quot;);\n  }\n  net.print(&quot;POST /topics/gaswarner?qos=1 HTTP/1.1\\n&quot; \\\n               &quot;Host: xxx-ats.iot.eu-central-1.amazonaws.com:8443\\n&quot; \\\n               &quot;User-Agent: curl/7.74.0\\n&quot; \\\n               &quot;Accept: */*\\n&quot; \\\n               &quot;Content-Type: application/json\\n&quot; \\\n               &quot;Content-Length: 19\\n\\n&quot; \\\n               &quot;{\\&quot;message\\&quot;:\\&quot;hello\\&quot;}\\n&quot; \\\n               &quot;Connection: close\\n\\n&quot;);\n  Serial.println(&quot;Sent out..&quot;);\n\n  while (net.connected()) {\n    String line = net.readStringUntil('\\n');\n    if (line == &quot;\\r&quot;) {\n      Serial.println(&quot;headers received&quot;);\n      break;\n    }\n  }\n\n  Serial.println(&quot;reply was:&quot;);\n  Serial.println(&quot;==========&quot;);\n  String line;\n  while(net.available()){\n    line = net.readStringUntil('\\n');  //Read Line by Line\n    Serial.println(line); //Print response\n  }\n  Serial.println(&quot;==========&quot;);\n  Serial.println(&quot;closing connection&quot;);\n</code></pre>\n<p>Sending out that request using curl works as expected:</p>\n<blockquote>\n<p>curl.exe -v -H &quot;Content-Type: application/json&quot; --tlsv1.2 --cacert\n&quot;pathtoCaCert&quot; --cert\n&quot;pathToCert&quot; --key\n&quot;pathToKey&quot; --request POST\n--data &quot;{ &quot;message&quot;: &quot;Hello, world&quot; }&quot; &quot;https://xxx-ats.iot.eu-central-1.amazonaws.com:8443/topics/gaswarner?qos=1&quot;</p>\n</blockquote>\n<p>Thanks in advance</p>\n"
    }, {
        "tags": ["javascript", "webserver", "iot", "esp32", "arduino-ide"],
        "is_answered": true,
        "view_count": 442,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1610813044,
        "creation_date": 1610801590,
        "question_id": 65749873,
        "link": "https://stackoverflow.com/questions/65749873/how-to-add-cors-header-to-my-esp32-webserver",
        "title": "How to add CORS-Header to my esp32 webserver",
        "body": "<p>I have the Problem that I cannot fetch() from my created .json because of an Access-Control-Allow-Origin Error. I found out that I have to create some kind of a header, but I have no idea how such a command looks like with my used librarys and which parameters have to be selected. I hope you can help me with the needed addition to this code.</p>\n<pre><code>#include &lt;ArduinoJson.h&gt;\n#include &lt;WiFi.h&gt;\n#include &lt;WebServer.h&gt;\n#include &lt;DHT.h&gt;\n\n#define DHTPIN 13\n#define DHTTYPE DHT11\n\nDHT dht(DHTPIN, DHTTYPE);\n\nconst char *ssid = &quot;XXX&quot;;\nconst char *pwd = &quot;XXX&quot;;\n\nStaticJsonDocument&lt;250&gt; jsonDocument;\nchar buffer[250];\n\nfloat temperature;\nfloat humidity;\n\nWebServer server(80);\n\nvoid setup() {\ndht.begin();\nSerial.begin(9600);\nSerial.println(WiFi.localIP());  \nSerial.print(&quot;Connect to: &quot;);\nSerial.println(ssid);\nWiFi.begin(ssid, pwd);\n  while (WiFi.status() != WL_CONNECTED){\n    Serial.print(&quot;.&quot;);\n    delay(500);\n  }\nSerial.print(&quot;Connected. IP: &quot;);\nSerial.println(WiFi.localIP());\nsetup_routing();\n}\n\nvoid setup_routing(){\n  server.on(&quot;/sensor&quot;, getEnv);\n  sendHeader()\n  server.begin();\n}\n\nvoid create_json(char *tag, float value, char *unit){\n  jsonDocument.clear();\n  jsonDocument[&quot;type&quot;] = tag;\n  jsonDocument[&quot;value&quot;] = value;\n  jsonDocument[&quot;unit&quot;] = unit;\n  serializeJson(jsonDocument, buffer);\n}\n\nvoid add_json_object(char *tag, float value, char *unit){\n  JsonObject obj = jsonDocument.createNestedObject();\n  obj[&quot;type&quot;] = tag;\n  obj[&quot;value&quot;] = value;\n  obj[&quot;unit&quot;]  = unit;\n}\n\nvoid read_sensor_data(void * parameter) {\n     for (;;) {\n     temperature = dht.readTemperature();\n     humidity = dht.readHumidity();\n     }\n     delay(2000);  \n}\n\nvoid getEnv() {\n  float temperature = dht.readTemperature();\n  float humidity = dht.readHumidity();\n  \n  jsonDocument.clear();\n  add_json_object(&quot;temperature&quot;, temperature, &quot;\u00b0C&quot;);\n  add_json_object(&quot;humidity&quot;, humidity, &quot;%&quot;);\n  \n  serializeJson(jsonDocument, buffer);\n  server.send(200, &quot;application/json&quot;, buffer);\n}\n\nvoid loop() {\nserver.handleClient();\n}\n</code></pre>\n"
    }, {
        "tags": ["python", "ssl-certificate", "iot", "aws-iot", "aws-iot-analytics"],
        "is_answered": false,
        "view_count": 83,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1610043670,
        "creation_date": 1609843889,
        "last_edit_date": 1610022775,
        "question_id": 65577458,
        "link": "https://stackoverflow.com/questions/65577458/ssl-validation-failure-resulting-in-failure-to-visualise-data-generated-on-aws",
        "title": "SSL validation failure resulting in failure to visualise data generated on aws",
        "body": "<p>I am experiencing an issue with the following script, I am following the present AWS tutorial</p>\n<p><a href=\"https://aws.amazon.com/pt/blogs/big-data/build-a-visualization-and-monitoring-dashboard-for-iot-data-with-amazon-kinesis-analytics-and-amazon-quicksight/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/pt/blogs/big-data/build-a-visualization-and-monitoring-dashboard-for-iot-data-with-amazon-kinesis-analytics-and-amazon-quicksight/</a></p>\n<p>and running the code sbs.py on my machine:</p>\n<pre><code>import json\nimport random\nimport datetime\nimport boto3\nimport time\n\ndeviceNames = ['SBS01', 'SBS02', 'SBS03', 'SBS04', 'SBS05']\n\niot = boto3.client('iot-data', 'eu-west-2')\n\n# generate Flow values\ndef getFlowValues():\n    data = {}\n    data['deviceValue'] = random.randint(60, 100)\n    data['deviceParameter'] = 'Flow'\n    data['deviceId'] = random.choice(deviceNames)\n    data['dateTime'] = datetime.datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)\n    return data\n\n# generate Temperature values\ndef getTemperatureValues():\n    data = {}\n    data['deviceValue'] = random.randint(15, 35)\n    data['deviceParameter'] = 'Temperature'\n    data['deviceId'] = random.choice(deviceNames)\n    data['dateTime'] = datetime.datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)\n    return data\n\n# generate Humidity values\ndef getHumidityValues():\n    data = {}\n    data['deviceValue'] = random.randint(50, 90)\n    data['deviceParameter'] = 'Humidity'\n    data['deviceId'] = random.choice(deviceNames)\n    data['dateTime'] = datetime.datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)\n    return data\n\n# generate Sound values\ndef getSoundValues():\n    data = {}\n    data['deviceValue'] = random.randint(100, 140)\n    data['deviceParameter'] = 'Sound'\n    data['deviceId'] = random.choice(deviceNames)\n    data['dateTime'] = datetime.datetime.now().strftime(&quot;%Y-%m-%d %H:%M:%S&quot;)\n    return data\n\n# Generate each parameter's data input in varying proportions\nwhile True:\n    time.sleep(1)\n    rnd = random.random()\n    if (0 &lt;= rnd &lt; 0.20):\n        data = json.dumps(getFlowValues())\n        print(data)\n        response = iot.publish(\n             topic='/sbs/devicedata/flow',\n             payload=data\n        ) \n    elif (0.20&lt;= rnd &lt; 0.55):\n        data = json.dumps(getTemperatureValues())\n        print(data)\n        response = iot.publish(\n             topic='/sbs/devicedata/temperature',\n             payload=data\n        )\n    elif (0.55&lt;= rnd &lt; 0.70):\n        data = json.dumps(getHumidityValues())\n        print(data)\n        response = iot.publish(\n             topic='/sbs/devicedata/humidity',\n             payload=data\n        )\n    else:\n        data = json.dumps(getSoundValues())\n        print(data)\n        response = iot.publish(\n             topic='/sbs/devicedata/sound',\n             payload=data     \n)\n\n</code></pre>\n<p>I am getting the following error:</p>\n<pre><code>{&quot;deviceValue&quot;: 21, &quot;deviceParameter&quot;: &quot;Temperature&quot;, &quot;deviceId&quot;: &quot;SBS04&quot;, &quot;dateTime&quot;: &quot;2021-01-05 10:36:37&quot;}\n---------------------------------------------------------------------------\nSSLCertVerificationError                  Traceback (most recent call last)\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in urlopen(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)\n    698             # Make the request on the httplib connection object.\n--&gt; 699             httplib_response = self._make_request(\n    700                 conn,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in _make_request(self, conn, method, url, timeout, chunked, **httplib_request_kw)\n    381         try:\n--&gt; 382             self._validate_conn(conn)\n    383         except (SocketTimeout, BaseSSLError) as e:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in _validate_conn(self, conn)\n   1009         if not getattr(conn, &quot;sock&quot;, None):  # AppEngine might not have  `.sock`\n-&gt; 1010             conn.connect()\n   1011 \n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connection.py in connect(self)\n    410 \n--&gt; 411         self.sock = ssl_wrap_socket(\n    412             sock=conn,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\util\\ssl_.py in ssl_wrap_socket(sock, keyfile, certfile, cert_reqs, ca_certs, server_hostname, ssl_version, ciphers, ssl_context, ca_cert_dir, key_password, ca_cert_data, tls_in_tls)\n    427     if send_sni:\n--&gt; 428         ssl_sock = _ssl_wrap_socket_impl(\n    429             sock, context, tls_in_tls, server_hostname=server_hostname\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\util\\ssl_.py in _ssl_wrap_socket_impl(sock, ssl_context, tls_in_tls, server_hostname)\n    471     if server_hostname:\n--&gt; 472         return ssl_context.wrap_socket(sock, server_hostname=server_hostname)\n    473     else:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\ssl.py in wrap_socket(self, sock, server_side, do_handshake_on_connect, suppress_ragged_eofs, server_hostname, session)\n    499         # ctx._wrap_socket()\n--&gt; 500         return self.sslsocket_class._create(\n    501             sock=sock,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\ssl.py in _create(cls, sock, server_side, do_handshake_on_connect, suppress_ragged_eofs, server_hostname, context, session)\n   1039                         raise ValueError(&quot;do_handshake_on_connect should not be specified for non-blocking sockets&quot;)\n-&gt; 1040                     self.do_handshake()\n   1041             except (OSError, ValueError):\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\ssl.py in do_handshake(self, block)\n   1308                 self.settimeout(None)\n-&gt; 1309             self._sslobj.do_handshake()\n   1310         finally:\n\nSSLCertVerificationError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1123)\n\nDuring handling of the above exception, another exception occurred:\n\nSSLError                                  Traceback (most recent call last)\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\httpsession.py in send(self, request)\n    253             request_target = self._get_request_target(request.url, proxy_url)\n--&gt; 254             urllib_response = conn.urlopen(\n    255                 method=request.method,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in urlopen(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)\n    754 \n--&gt; 755             retries = retries.increment(\n    756                 method, url, error=e, _pool=self, _stacktrace=sys.exc_info()[2]\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\util\\retry.py in increment(self, method, url, response, error, _pool, _stacktrace)\n    505             # Disabled, indicate to re-raise the error.\n--&gt; 506             raise six.reraise(type(error), error, _stacktrace)\n    507 \n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\packages\\six.py in reraise(tp, value, tb)\n    733             if value.__traceback__ is not tb:\n--&gt; 734                 raise value.with_traceback(tb)\n    735             raise value\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in urlopen(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, chunked, body_pos, **response_kw)\n    698             # Make the request on the httplib connection object.\n--&gt; 699             httplib_response = self._make_request(\n    700                 conn,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in _make_request(self, conn, method, url, timeout, chunked, **httplib_request_kw)\n    381         try:\n--&gt; 382             self._validate_conn(conn)\n    383         except (SocketTimeout, BaseSSLError) as e:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connectionpool.py in _validate_conn(self, conn)\n   1009         if not getattr(conn, &quot;sock&quot;, None):  # AppEngine might not have  `.sock`\n-&gt; 1010             conn.connect()\n   1011 \n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\connection.py in connect(self)\n    410 \n--&gt; 411         self.sock = ssl_wrap_socket(\n    412             sock=conn,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\util\\ssl_.py in ssl_wrap_socket(sock, keyfile, certfile, cert_reqs, ca_certs, server_hostname, ssl_version, ciphers, ssl_context, ca_cert_dir, key_password, ca_cert_data, tls_in_tls)\n    427     if send_sni:\n--&gt; 428         ssl_sock = _ssl_wrap_socket_impl(\n    429             sock, context, tls_in_tls, server_hostname=server_hostname\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\urllib3\\util\\ssl_.py in _ssl_wrap_socket_impl(sock, ssl_context, tls_in_tls, server_hostname)\n    471     if server_hostname:\n--&gt; 472         return ssl_context.wrap_socket(sock, server_hostname=server_hostname)\n    473     else:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\ssl.py in wrap_socket(self, sock, server_side, do_handshake_on_connect, suppress_ragged_eofs, server_hostname, session)\n    499         # ctx._wrap_socket()\n--&gt; 500         return self.sslsocket_class._create(\n    501             sock=sock,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\ssl.py in _create(cls, sock, server_side, do_handshake_on_connect, suppress_ragged_eofs, server_hostname, context, session)\n   1039                         raise ValueError(&quot;do_handshake_on_connect should not be specified for non-blocking sockets&quot;)\n-&gt; 1040                     self.do_handshake()\n   1041             except (OSError, ValueError):\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\ssl.py in do_handshake(self, block)\n   1308                 self.settimeout(None)\n-&gt; 1309             self._sslobj.do_handshake()\n   1310         finally:\n\nSSLError: [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1123)\n\nDuring handling of the above exception, another exception occurred:\n\nSSLError                                  Traceback (most recent call last)\n&lt;ipython-input-22-9e04aec45dfe&gt; in &lt;module&gt;\n     64         data = json.dumps(getTemperatureValues())\n     65         print (data)\n---&gt; 66         response = iot.publish(\n     67              topic='/sbs/devicedata/temperature',\n     68              payload=data\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\client.py in _api_call(self, *args, **kwargs)\n    355                     &quot;%s() only accepts keyword arguments.&quot; % py_operation_name)\n    356             # The &quot;self&quot; in this scope is referring to the BaseClient.\n--&gt; 357             return self._make_api_call(operation_name, kwargs)\n    358 \n    359         _api_call.__name__ = str(py_operation_name)\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\client.py in _make_api_call(self, operation_name, api_params)\n    660             http, parsed_response = event_response\n    661         else:\n--&gt; 662             http, parsed_response = self._make_request(\n    663                 operation_model, request_dict, request_context)\n    664 \n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\client.py in _make_request(self, operation_model, request_dict, request_context)\n    680     def _make_request(self, operation_model, request_dict, request_context):\n    681         try:\n--&gt; 682             return self._endpoint.make_request(operation_model, request_dict)\n    683         except Exception as e:\n    684             self.meta.events.emit(\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\endpoint.py in make_request(self, operation_model, request_dict)\n    100         logger.debug(&quot;Making request for %s with params: %s&quot;,\n    101                      operation_model, request_dict)\n--&gt; 102         return self._send_request(request_dict, operation_model)\n    103 \n    104     def create_request(self, params, operation_model=None):\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\endpoint.py in _send_request(self, request_dict, operation_model)\n    134         success_response, exception = self._get_response(\n    135             request, operation_model, context)\n--&gt; 136         while self._needs_retry(attempts, operation_model, request_dict,\n    137                                 success_response, exception):\n    138             attempts += 1\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\endpoint.py in _needs_retry(self, attempts, operation_model, request_dict, response, caught_exception)\n    251             service_id,\n    252             operation_model.name)\n--&gt; 253         responses = self._event_emitter.emit(\n    254             event_name, response=response, endpoint=self,\n    255             operation=operation_model, attempts=attempts,\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\hooks.py in emit(self, event_name, **kwargs)\n    354     def emit(self, event_name, **kwargs):\n    355         aliased_event_name = self._alias_event_name(event_name)\n--&gt; 356         return self._emitter.emit(aliased_event_name, **kwargs)\n    357 \n    358     def emit_until_response(self, event_name, **kwargs):\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\hooks.py in emit(self, event_name, **kwargs)\n    226                  handlers.\n    227         &quot;&quot;&quot;\n--&gt; 228         return self._emit(event_name, kwargs)\n    229 \n    230     def emit_until_response(self, event_name, **kwargs):\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\hooks.py in _emit(self, event_name, kwargs, stop_on_response)\n    209         for handler in handlers_to_call:\n    210             logger.debug('Event %s: calling handler %s', event_name, handler)\n--&gt; 211             response = handler(**kwargs)\n    212             responses.append((handler, response))\n    213             if stop_on_response and response is not None:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\retryhandler.py in __call__(self, attempts, response, caught_exception, **kwargs)\n    181 \n    182         &quot;&quot;&quot;\n--&gt; 183         if self._checker(attempts, response, caught_exception):\n    184             result = self._action(attempts=attempts)\n    185             logger.debug(&quot;Retry needed, action of: %s&quot;, result)\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\retryhandler.py in __call__(self, attempt_number, response, caught_exception)\n    248 \n    249     def __call__(self, attempt_number, response, caught_exception):\n--&gt; 250         should_retry = self._should_retry(attempt_number, response,\n    251                                           caught_exception)\n    252         if should_retry:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\retryhandler.py in _should_retry(self, attempt_number, response, caught_exception)\n    275             # If we've exceeded the max attempts we just let the exception\n    276             # propogate if one has occurred.\n--&gt; 277             return self._checker(attempt_number, response, caught_exception)\n    278 \n    279 \n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\retryhandler.py in __call__(self, attempt_number, response, caught_exception)\n    314     def __call__(self, attempt_number, response, caught_exception):\n    315         for checker in self._checkers:\n--&gt; 316             checker_response = checker(attempt_number, response,\n    317                                        caught_exception)\n    318             if checker_response:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\retryhandler.py in __call__(self, attempt_number, response, caught_exception)\n    220             return self._check_response(attempt_number, response)\n    221         elif caught_exception is not None:\n--&gt; 222             return self._check_caught_exception(\n    223                 attempt_number, caught_exception)\n    224         else:\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\retryhandler.py in _check_caught_exception(self, attempt_number, caught_exception)\n    357         # the MaxAttemptsDecorator is not interested in retrying the exception\n    358         # then this exception just propogates out past the retry code.\n--&gt; 359         raise caught_exception\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\endpoint.py in _do_get_response(self, request, operation_model)\n    198             http_response = first_non_none_response(responses)\n    199             if http_response is None:\n--&gt; 200                 http_response = self._send(request)\n    201         except HTTPClientError as e:\n    202             return (None, e)\n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\endpoint.py in _send(self, request)\n    267 \n    268     def _send(self, request):\n--&gt; 269         return self.http_session.send(request)\n    270 \n    271 \n\nC:\\ProgramData\\Anaconda3\\envs\\pythonProject\\lib\\site-packages\\botocore\\httpsession.py in send(self, request)\n    279             return http_response\n    280         except URLLib3SSLError as e:\n--&gt; 281             raise SSLError(endpoint_url=request.url, error=e)\n    282         except (NewConnectionError, socket.gaierror) as e:\n    283             raise EndpointConnectionError(endpoint_url=request.url, error=e)\n\nSSLError: SSL validation failed for https://data.iot.eu-west-2.amazonaws.com/topics/%2Fsbs%2Fdevicedata%2Ftemperature [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: unable to get local issuer certificate (_ssl.c:1123)\n\n</code></pre>\n<p>I have created and checked that my aws credentials the access_key and secret_access_key are working. I have access to my s3 buckets from the cmd. I understand that there is an issue with the local certificate or something but these issues are not clear to me, as a result I do not understand my problem.</p>\n<p>Do I have have to input the credentials in the <code>iot</code> line in the code? I think it needs to read the certificate which are the .pem files which I created and downloaded from my aws security credentials from my aws management console. But I am not sure where to put the .pem files.</p>\n<p>Thanks for helping!</p>\n"
    }, {
        "tags": ["cloud", "websphere", "iot", "simulator"],
        "is_answered": false,
        "view_count": 24,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1609234785,
        "creation_date": 1609234785,
        "question_id": 65490151,
        "link": "https://stackoverflow.com/questions/65490151/ibm-cloud-internet-of-things-getting-started-with-solution-tutorials-does-no",
        "title": "IBM Cloud Internet Of Things - &quot;Getting started with solution tutorials&quot; does not work",
        "body": "<p>I am a newbie in IBM Cloud. I am trying to learn the Watson IOT platform and it does NOT go well.\nI followed a few simple tutorials the I found on the network, but none of them worked as expected.\nThis tutorial specifically is by IBM:\n<a href=\"https://cloud.ibm.com/docs/solution-tutorials?topic=solution-tutorials-tutorials\" rel=\"nofollow noreferrer\">https://cloud.ibm.com/docs/solution-tutorials?topic=solution-tutorials-tutorials</a></p>\n<p>I took some time to get to the point that I got an URL to the simulator: <a href=\"https://iot-solution-tutorial-restless-bonobo-mq.mybluemix.net/\" rel=\"nofollow noreferrer\">https://iot-solution-tutorial-restless-bonobo-mq.mybluemix.net/</a>\nthat I had to run on my phone and to see the data in a graph on the cloud.\nPutting all the parameters in that site (Organization ID, Device Type, Device ID, Authentication Token).</p>\n<p>I keep getting the following error: &quot;Could not connect to IBM Watson IoT Platform! Trying again in one second.&quot;</p>\n<p>I verified those 4 parameters again and again. I am a sure that they are correct.\nAny idea?</p>\n<p>Thanks</p>\n"
    }, {
        "tags": ["amazon-web-services", "aws-sdk", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 9880,
        "favorite_count": 5,
        "score": 18,
        "last_activity_date": 1609226530,
        "creation_date": 1455302143,
        "last_edit_date": 1455303791,
        "question_id": 35369822,
        "link": "https://stackoverflow.com/questions/35369822/aws-iot-credential-should-be-scoped-to-correct-service",
        "title": "AWS IOT - Credential should be scoped to correct service",
        "body": "<p>I am trying to access a simple AWS IOT REST service but I have not been able to do so successfully yet. Here is what I did. </p>\n\n<ol>\n<li>I created an iam user in my aws and downloaded the access key and secret key</li>\n<li>Logged into AWS IOT with that user and created a \"thing\"</li>\n<li>From the thing's property I found the REST URL for the shadow</li>\n<li>Used Postman with the new \"aws signature\" feature and provided it with the access key, secret key, region (us-east-1) and service name (iot) </li>\n<li><p>Tried to \"GET\" the endpoint and this is what I got -</p>\n\n<p><code>{\n      \"message\": \"Credential should be scoped to correct service. \",\n      \"traceId\": \"be056198-d202-455f-ab85-805defd1260d\"\n}</code></p></li>\n<li><p>I thought there is something wrong with postman so I tried using aws-sdk-sample example of connecting to S3 and changed it to connect to the IOT URL. \nHere is my program snippet (Java)</p>\n\n<pre><code>String awsAccessKey = \"fasfasfasdfsdafs\";\nString awsSecretKey = \"asdfasdfasfasdfasdfasdf/asdfsdafsd/fsdafasdf\";\n\nURL  endpointUrl = null;\nString regionName = \"us-east-1\";\ntry {\n    endpointUrl = new URL(\"https://dasfsdfasdf.iot.us-east-1.amazonaws.com/things/SOMETHING/shadow\");\n}catch (Exception e){\n    e.printStackTrace();\n}\nMap&lt;String, String&gt; headers = new HashMap&lt;String, String&gt;();\nheaders.put(\"x-amz-content-sha256\", AWSSignerBase.EMPTY_BODY_SHA256);\n\nAWSSignerForAuthorizationHeader signer = new AWSSignerForAuthorizationHeader(\n        endpointUrl, \"GET\", \"iot\", regionName);\nString authorization = signer.computeSignature(headers,\n        null, // no query parameters\n        AWSSignerBase.EMPTY_BODY_SHA256,\n        awsAccessKey,\n        awsSecretKey);\n\n// place the computed signature into a formatted 'Authorization' header\n// and call S3\nheaders.put(\"Authorization\", authorization);\nString response = HttpUtils.invokeHttpRequest(endpointUrl, \"GET\", headers, null);\nSystem.out.println(\"--------- Response content ---------\");\nSystem.out.println(response);\nSystem.out.println(\"------------------------------------\");\n</code></pre></li>\n</ol>\n\n<p>This gives me the same error - </p>\n\n<pre><code>--------- Request headers ---------\nx-amz-content-sha256: e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\nAuthorization: AWS4-HMAC-SHA256 Credential=fasfasfasdfsdafs/20160212/us-east-1/iot/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=3b2194051a8dde8fe617219c78c2a79b77ec92338028e9e917a74e8307f4e914\nx-amz-date: 20160212T182525Z\nHost: dasfsdfasdf.iot.us-east-1.amazonaws.com\n--------- Response content ---------\n{\"message\":\"Credential should be scoped to correct service. \",\"traceId\":\"cd3e0d96-82fa-4da5-a4e1-b736af6c5e34\"}\n------------------------------------\n</code></pre>\n\n<p>Can someone tell me what I am doing wrong please? AWS documentation does not have much information on this error. Please help</p>\n"
    }, {
        "tags": ["amazon-web-services", "credentials", "iot", "boto3"],
        "is_answered": true,
        "view_count": 816,
        "favorite_count": 0,
        "score": 4,
        "last_activity_date": 1609212476,
        "creation_date": 1489488271,
        "question_id": 42783815,
        "link": "https://stackoverflow.com/questions/42783815/boto3-aws-client-ignoring-arguments",
        "title": "boto3 AWS client ignoring arguments?",
        "body": "<p>My library needs to connect to arbitrary AWS-IoT accounts, so I'm passing the required credentials when I instantiate the AWS client:</p>\n\n<pre><code>client = boto3.client('iot',\n                      aws_access_key_id=ACCESS_KEY,\n                      aws_secret_access_key=SECRET_KEY,...)\n</code></pre>\n\n<p>According to the boto3 docs <em>(excerpt below)</em>, credentials passed in this way should override all other credentials. However this call generates the following log message from Boto3:</p>\n\n<pre><code> \"Found credentials in shared credentials file: ~/.aws/credentials\"\n</code></pre>\n\n<p>I <em>really</em> don't want boto3 picking-up whatever credentials a user may have happen to have configured on their system - I want it to use just the ones I'm passing to boto3.client(). Any ideas how to ensure this?</p>\n\n<p><em>boto3 docs excerpt:</em></p>\n\n<pre><code>The order in which Boto3 searches for credentials is:\n\n 1. Passing credentials as parameters in the boto.client() method\n 2. Passing credentials as parameters when creating a Session object\n 3. Environment variables\n 4. Shared credential file (~/.aws/credentials)\n 5. AWS config file (~/.aws/config)\n 6. Assume Role provider\n 7. Boto2 config file (/etc/boto.cfg and ~/.boto)\n 8. Instance metadata service on an Amazon EC2 instance that has an IAM role configured.\n</code></pre>\n"
    }, {
        "tags": ["service", "triggers", "action", "iot", "ifttt"],
        "is_answered": true,
        "view_count": 47,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1608859352,
        "creation_date": 1605699162,
        "question_id": 64892251,
        "link": "https://stackoverflow.com/questions/64892251/test-fail-in-ifttt-with-returns-at-least-three-items",
        "title": "Test fail in IFTTT with &quot;returns at least three items&quot;",
        "body": "<p>I'm creating my own service and in the endpoint test fails here and this error is shown:\n&quot;returns at least three items&quot;</p>\n<p>This error comes from the trigger part.</p>\n<p>Can somebody share a sample value of output with three items in it. Please help</p>\n"
    }, {
        "tags": ["android", "raspberry-pi3", "iot", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 1573,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1608480382,
        "creation_date": 1525290218,
        "last_edit_date": 1608480382,
        "question_id": 50142387,
        "link": "https://stackoverflow.com/questions/50142387/how-to-send-data-from-raspberry-pi-to-google-cloud-iot-core-using-android-studi",
        "title": "How to send data from Raspberry pi to Google Cloud IoT Core, using Android Studio?",
        "body": "<p>I'm doing Android Things project.</p>\n\n<p>I want to publish a String message to Google Cloud IoT Core, but there are errors shown.</p>\n\n<p>I'm using Raspberry Pi 3 with Android Things OS and and programming it using Android Studio.</p>\n\n<p>Errors screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Yw3pU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Yw3pU.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the whole code:</p>\n\n<p>AndroidManifest.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"cacaosd.com.sample1\"&gt;\n\n    &lt;!-- PAHO Permissions --&gt;\n    &lt;uses-permission android:name=\"android.permission.WAKE_LOCK\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;!-- PAHO Permissions --&gt;\n\n    &lt;application&gt;\n        &lt;uses-library android:name=\"com.google.android.things\"/&gt;\n\n        &lt;!-- Mqtt Service --&gt;\n        &lt;service android:name=\"org.eclipse.paho.android.service.MqttService\" /&gt;\n\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.IOT_LAUNCHER\"/&gt;\n                &lt;category android:name=\"android.intent.category.DEFAULT\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>IotCoreCommunicator Class</p>\n\n<pre><code>  package cacaosd.com.sample1;\n\nimport android.content.Context;\nimport android.util.Log;\n\nimport java.util.concurrent.TimeUnit;\n\nimport org.eclipse.paho.android.service.MqttAndroidClient;\nimport org.eclipse.paho.client.mqttv3.IMqttActionListener;\nimport org.eclipse.paho.client.mqttv3.IMqttDeliveryToken;\nimport org.eclipse.paho.client.mqttv3.IMqttToken;\nimport org.eclipse.paho.client.mqttv3.MqttCallback;\nimport org.eclipse.paho.client.mqttv3.MqttConnectOptions;\nimport org.eclipse.paho.client.mqttv3.MqttException;\nimport org.eclipse.paho.client.mqttv3.MqttMessage;\n\npublic class IotCoreCommunicator {\n\n    private static final String SERVER_URI = \"ssl://mqtt.googleapis.com:8883\";\n\n    public static class Builder {\n\n        private Context context;\n        private String projectId;\n        private String cloudRegion;\n        private String registryId;\n        private String deviceId;\n        private int privateKeyRawFileId;\n\n        public Builder withContext(Context context) {\n            this.context = context;\n            return this;\n        }\n\n        public Builder withProjectId(String projectId) {\n            this.projectId = projectId;\n            return this;\n        }\n\n        public Builder withCloudRegion(String cloudRegion) {\n            this.cloudRegion = cloudRegion;\n            return this;\n        }\n\n        public Builder withRegistryId(String registryId) {\n            this.registryId = registryId;\n            return this;\n        }\n\n        public Builder withDeviceId(String deviceId) {\n            this.deviceId = deviceId;\n            return this;\n        }\n\n        public Builder withPrivateKeyRawFileId(int privateKeyRawFileId) {\n            this.privateKeyRawFileId = privateKeyRawFileId;\n            return this;\n        }\n\n        public IotCoreCommunicator build() {\n            if (context == null) {\n                throw new IllegalStateException(\"context must not be null\");\n            }\n\n            if (projectId == null) {\n                throw new IllegalStateException(\"projectId must not be null\");\n            }\n            if (cloudRegion == null) {\n                throw new IllegalStateException(\"cloudRegion must not be null\");\n            }\n            if (registryId == null) {\n                throw new IllegalStateException(\"registryId must not be null\");\n            }\n            if (deviceId == null) {\n                throw new IllegalStateException(\"deviceId must not be null\");\n            }\n            String clientId = \"projects/\" + projectId + \"/locations/\" + cloudRegion + \"/registries/\" + registryId + \"/devices/\" + deviceId;\n\n            if (privateKeyRawFileId == 0) {\n                throw new IllegalStateException(\"privateKeyRawFileId must not be 0\");\n            }\n            MqttAndroidClient client = new MqttAndroidClient(context, SERVER_URI, clientId);\n            IotCorePasswordGenerator passwordGenerator = new IotCorePasswordGenerator(projectId, context.getResources(), privateKeyRawFileId);\n            return new IotCoreCommunicator(client, deviceId, passwordGenerator);\n        }\n\n    }\n\n    private final MqttAndroidClient client;\n    private final String deviceId;\n    private final IotCorePasswordGenerator passwordGenerator;\n\n    IotCoreCommunicator(MqttAndroidClient client, String deviceId, IotCorePasswordGenerator passwordGenerator) {\n        this.client = client;\n        this.deviceId = deviceId;\n        this.passwordGenerator = passwordGenerator;\n    }\n\n    public void connect() {\n        monitorConnection();\n        clientConnect();\n        subscribeToConfigChanges();\n    }\n\n    private void monitorConnection() {\n        client.setCallback(new MqttCallback() {\n            @Override\n            public void connectionLost(Throwable cause) {\n                Log.e(\"TUT\", \"connection lost\", cause);\n            }\n\n            @Override\n            public void messageArrived(String topic, MqttMessage message) throws Exception {\n                Log.d(\"TUT\", \"message arrived \" + topic + \" MSG \" + message);\n                // You need to do something with messages when they arrive\n            }\n\n            @Override\n            public void deliveryComplete(IMqttDeliveryToken token) {\n                Log.d(\"TUT\", \"delivery complete \" + token);\n            }\n        });\n    }\n\n    private void clientConnect() {\n        try {\n            MqttConnectOptions connectOptions = new MqttConnectOptions();\n            // Note that the the Google Cloud IoT Core only supports MQTT 3.1.1, and Paho requires that we explicitly set this.\n            // If you don't, the server will immediately close its connection to your device.\n            connectOptions.setMqttVersion(MqttConnectOptions.MQTT_VERSION_3_1_1);\n\n            // With Google Cloud IoT Core, the username field is ignored, however it must be set for the\n            // Paho client library to send the password field. The password field is used to transmit a JWT to authorize the device.\n            connectOptions.setUserName(\"unused-but-necessary\");\n            connectOptions.setPassword(passwordGenerator.createJwtRsaPassword());\n\n            IMqttToken iMqttToken = client.connect(connectOptions);\n            iMqttToken.setActionCallback(new IMqttActionListener() {\n                @Override\n                public void onSuccess(IMqttToken asyncActionToken) {\n                    Log.d(\"TUT\", \"success, connected\");\n                }\n\n                @Override\n                public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                    Log.e(\"TUT\", \"failure, not connected\", exception);\n                }\n            });\n            iMqttToken.waitForCompletion(TimeUnit.SECONDS.toMillis(30));\n            Log.d(\"TUT\", \"IoT Core connection established.\");\n        } catch (MqttException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    /**\n     * Configuration is managed and sent from the IoT Core Platform\n     */\n    private void subscribeToConfigChanges() {\n        try {\n            client.subscribe(\"/devices/\" + deviceId + \"/config\", 1);\n        } catch (MqttException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    public void publishMessage(String subtopic, String message) {\n        String topic = \"/devices/\" + deviceId + \"/\" + subtopic;\n        String payload = \"{msg:\\\"\" + message + \"\\\"}\";\n        MqttMessage mqttMessage = new MqttMessage(payload.getBytes());\n        mqttMessage.setQos(1);\n        try {\n            client.publish(topic, mqttMessage);\n            Log.d(\"TUT\", \"IoT Core message published. To topic: \" + topic);\n        } catch (MqttException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    public void disconnect() {\n        try {\n            Log.d(\"TUT\", \"IoT Core connection disconnected.\");\n            client.disconnect();\n        } catch (MqttException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n}\n</code></pre>\n\n<p>IotCorePasswordGenerator Class</p>\n\n<pre><code>    package cacaosd.com.sample1;\n\nimport android.content.res.Resources;\nimport android.util.Base64;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.KeyFactory;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Date;\n\nimport io.jsonwebtoken.JwtBuilder;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\n\nclass IotCorePasswordGenerator {\n\n    private final String projectId;\n    private final Resources resources;\n    private final int privateKeyRawFileId;\n\n    IotCorePasswordGenerator(String projectId, Resources resources, int privateKeyRawFileId) {\n        this.projectId = projectId;\n        this.resources = resources;\n        this.privateKeyRawFileId = privateKeyRawFileId;\n    }\n\n    char[] createJwtRsaPassword() {\n        try {\n            byte[] privateKeyBytes = decodePrivateKey(resources, privateKeyRawFileId);\n            return createJwtRsaPassword(projectId, privateKeyBytes).toCharArray();\n        } catch (NoSuchAlgorithmException e) {\n            throw new IllegalStateException(\"Algorithm not supported. (developer error)\", e);\n        } catch (InvalidKeySpecException e) {\n            throw new IllegalStateException(\"Invalid Key spec. (developer error)\", e);\n        } catch (IOException e) {\n            throw new IllegalStateException(\"Cannot read private key file.\", e);\n        }\n    }\n\n    private static byte[] decodePrivateKey(Resources resources, int privateKeyRawFileId) throws IOException {\n        try(InputStream inStream = resources.openRawResource(privateKeyRawFileId)) {\n            return Base64.decode(inputToString(inStream), Base64.DEFAULT);\n        }\n    }\n\n    private static String inputToString(InputStream is) {\n        java.util.Scanner s = new java.util.Scanner(is).useDelimiter(\"\\\\A\");\n        return s.hasNext() ? s.next() : \"\";\n    }\n\n    private static String createJwtRsaPassword(String projectId, byte[] privateKeyBytes) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        return createPassword(projectId, privateKeyBytes, \"RSA\", SignatureAlgorithm.RS256);\n    }\n\n    private static String createPassword(String projectId, byte[] privateKeyBytes, String algorithmName, SignatureAlgorithm signatureAlgorithm) throws NoSuchAlgorithmException, InvalidKeySpecException {\n        Instant now = Instant.now();\n        // Create a JWT to authenticate this device. The device will be disconnected after the token\n        // expires, and will have to reconnect with a new token. The audience field should always be set\n        // to the GCP project id.\n        JwtBuilder jwtBuilder =\n                Jwts.builder()\n                        .setIssuedAt(Date.from(now))\n                        .setExpiration(Date.from(now.plus(Duration.ofMinutes(20))))\n                        .setAudience(projectId);\n\n        PKCS8EncodedKeySpec spec = new PKCS8EncodedKeySpec(privateKeyBytes);\n        KeyFactory kf = KeyFactory.getInstance(algorithmName);\n\n        return jwtBuilder.signWith(signatureAlgorithm, kf.generatePrivate(spec)).compact();\n    }\n\n}\n</code></pre>\n\n<p>MainActivity Class:</p>\n\n<pre><code>    package cacaosd.com.sample1;\n\nimport android.app.Activity;\nimport android.hardware.SensorEvent;\nimport android.os.Bundle;\nimport android.os.HandlerThread;\nimport android.os.Handler;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.os.Handler;\nimport android.os.HandlerThread;\nimport android.util.Log;\n\n\n\nimport cacaosd.com.sample1.R;\nimport cacaosd.com.sample1.IotCoreCommunicator;\n\n\nimport com.google.android.things.pio.Gpio;\n\n\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\n\npublic class MainActivity extends Activity {\n\n\n\n    private IotCoreCommunicator communicator;\n    private Handler handler;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        // Setup the communication with your Google IoT Core details\n        communicator = new IotCoreCommunicator.Builder()\n                .withContext(this)\n                .withCloudRegion(\"us-central1\") // ex: europe-west1\n                .withProjectId(\"my-first-project-198704\")   // ex: supercoolproject23236\n                .withRegistryId(\"vibration\") // ex: my-devices\n                .withDeviceId(\"my-device\") // ex: my-test-raspberry-pi\n                .withPrivateKeyRawFileId(R.raw.rsa_private)\n                .build();\n\n        HandlerThread thread = new HandlerThread(\"MyBackgroundThread\");\n        thread.start();\n        handler = new Handler(thread.getLooper());\n        handler.post(connectOffTheMainThread); // Use whatever threading mechanism you want\n    }\n\n    private final Runnable connectOffTheMainThread = new Runnable() {\n        @Override\n        public void run() {\n            communicator.connect();\n\n            handler.post(sendMqttMessage);\n        }\n    };\n\n\n\n    private final Runnable sendMqttMessage = new Runnable() {\n        private int i;\n\n        /**\n         * We post 100 messages as an example, 1 a second\n         */\n        @Override\n        public void run() {\n            if (i == 100) {\n                return;\n            }\n\n\n\n            // events is the default topic for MQTT communication\n            String subtopic = \"events\";\n            // Your message you want to send\n            String message = \"Hello World \" + i++;\n\n            communicator.publishMessage(subtopic, message);\n\n\n\n            handler.postDelayed(this, TimeUnit.SECONDS.toMillis(1));\n        }\n    };\n\n    @Override\n    protected void onDestroy() {\n        communicator.disconnect();\n        super.onDestroy();\n    }\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>I converted the private key from \"pem\" format to \"pkcs8\" format by following this <a href=\"https://cloud.google.com/iot/docs/how-tos/credentials/keys?hl=en_US&amp;_ga=2.47098981.-332655218.1514485003&amp;_gac=1.87039466.1526092766.Cj0KCQjwy9LVBRDOARIsAGqoVns1YvqYIhDhv7toVcJvojRltB-XvaBO5RiqVMkXaVvzhTLoB2hJ1vcaAphDEALw_wcB#converting_keys_to_pkcs8_for_java\" rel=\"nofollow noreferrer\">documentation</a> and this <a href=\"https://www.youtube.com/watch?v=PSZU-3afKPk\" rel=\"nofollow noreferrer\">demo</a>, then the error \"Invalid key spec\" is gone, but still there is a \"FATAL EXCEPTION\" and \"java.lang.IllegalArgumentException: bad base-64\" as shown in the image below:</p>\n\n<p>[![enter image description here][4]][4]</p>\n\n<p>It says that these are the related codes that caused the error (which shown in blue color in the previous image:</p>\n\n<p>IotCorePasswordGenerator.java:47</p>\n\n<pre><code>return Base64.decode(inputToString(inStream), Base64.DEFAULT);\n</code></pre>\n\n<p>IotCorePasswordGenerator.java:34</p>\n\n<pre><code> byte[] privateKeyBytes = decodePrivateKey(resources, privateKeyRawFileId);\n</code></pre>\n\n<p>IotCoreCommunicator.java:135</p>\n\n<pre><code>connectOptions.setPassword(passwordGenerator.createJwtRsaPassword());\n</code></pre>\n\n<p>IotCoreCommunicator.java:101</p>\n\n<pre><code>clientConnect();\n</code></pre>\n\n<p>MainActivity.java:58</p>\n\n<pre><code>communicator.connect();\n</code></pre>\n\n<p>Update 2</p>\n\n<p>I deleted the statement \"-----BEGIN PRIVATE KEY-----\" and the statement \"------END PRIVATE KEY-----\" and the error \"bad base 64\" is gone, Now there is another error which is \"broken pipe\" as shown in image below, when I reopen Android Studio and rebuild the project this error \"broken pipe\" removed, and when I run the project again it comes back again.</p>\n\n<p>The error (first image)</p>\n\n<p>Private key with start and end statements(second image)</p>\n\n<p>Private key without start and end statements(third image)</p>\n\n<p><img src=\"https://i.stack.imgur.com/QA716.png\" alt=\"enter image description here\"><img src=\"https://i.stack.imgur.com/ktwJK.png\" alt=\"enter image description here\"><img src=\"https://i.stack.imgur.com/jt932.png\" alt=\"enter image description here\"></p>\n"
    }, {
        "tags": ["python", "iot"],
        "is_answered": false,
        "view_count": 59,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1607480886,
        "creation_date": 1607480418,
        "last_edit_date": 1607480757,
        "question_id": 65209720,
        "link": "https://stackoverflow.com/questions/65209720/can-someone-please-give-me-a-hand-getting-this-to-work",
        "title": "Can someone please give me a hand getting this to work?",
        "body": "<p>This is the demo.py file off the <a href=\"https://github.com/BnMcG/RoboVac-Workbench/\" rel=\"nofollow noreferrer\">https://github.com/BnMcG/RoboVac-Workbench/</a> repo.</p>\n<p>Its purpose is to connect to a Eufy Robovac 35C and be able to send it commands independently (without their app)</p>\n<p>Upon running this, after changing the Device Key and ID to match my devices credentials, I get a syntax error (invalid syntax) on line 37.\nI have tried changing the -&gt; to &gt; and removing it all together, but it still runs a syntax error.\nIf someone could give me a hand, that would be great.\n<img src=\"https://i.stack.imgur.com/5TEl9.png\" alt=\"Screenshot of Code and offending section\" /></p>\n<p><code>def_str_(self) -&gt; str:</code></p>\n<p><img src=\"https://i.stack.imgur.com/bOVJ0.png\" alt=\"Screenshot of error recieved upon running\" /></p>\n<p>This is the code that I'm running:</p>\n<pre><code>import struct\n\nfrom google.protobuf.message import DecodeError\n\nimport protocol.LocalServerInfo_pb2\nimport socket\nimport random\n\nROBOVAC_IP = ''\nROBOVAC_PORT = 55556\nROBOVAC_LOCAL_CODE = ''\n\naes_key = bytearray([0x24, 0x4E, 0x6D, 0x8A, 0x56, 0xAC, 0x87, 0x91, 0x24, 0x43, 0x2D, 0x8B, 0x6C, 0xBC, 0xA2, 0xC4])\naes_iv = bytearray([0x77, 0x24, 0x56, 0xF2, 0xA7, 0x66, 0x4C, 0xF3, 0x39, 0x2C, 0x35, 0x97, 0xE9, 0x3E, 0x57, 0x47])\n\n\nclass RoboVacStatus:\n    def __init__(self,\n                 find_me,\n                 water_tank_status,\n                 mode,\n                 speed,\n                 charger_status,\n                 battery_capacity,\n                 error_code,\n                 stop):\n        self.find_me = find_me\n        self.water_tank_status = water_tank_status\n        self.mode = mode\n        self.speed = speed\n        self.charger_status = charger_status\n        self.battery_capacity = battery_capacity\n        self.error_code = error_code\n        self.stop = stop\n\n    def __str__(self) -&gt; str:\n        return f'[FIND_ME: {self.find_me}, WATER_TANK: {self.water_tank_status}, MODE: {self.mode}, SPEED: {self.speed}, CHARGER_STATUS: {self.charger_status}, BATTERY_CAPACITY: {self.battery_capacity}, ERROR_CODE: {self.error_code}, STOP: {self.stop}]'\n\n\ndef send_packet(sock, packet, receive: bool):\n    raw_packet = packet.SerializeToString()\n    # Pad to 16 bit interval for AES CBC\n    for i in range(16 - (len(raw_packet) % 16)):\n        raw_packet += b'\\0'\n\n    cipher = AES.new(bytes(aes_key), AES.MODE_CBC, bytes(aes_iv))\n    encrypted_packet = cipher.encrypt(raw_packet)\n\n    sock.send(encrypted_packet)\n\n    if not receive:\n        return None\n\n    response_packet = sock.recv(1024)\n    response_cipher = AES.new(bytes(aes_key), AES.MODE_CBC, bytes(aes_iv))\n    decrypted_packet = response_cipher.decrypt(response_packet)\n    length = struct.unpack(&quot;&lt;H&quot;, decrypted_packet[0:2])[0]\n    protobuf_data = decrypted_packet[2:length + 2]\n\n    try:\n        response_message = LocalServerInfo_pb2.LocalServerMessage()\n        response_message.ParseFromString(protobuf_data)\n        return response_packet.hex(), response_message\n    except DecodeError:\n        return decrypted_packet.hex(), None\n\n\ndef get_magic_num(sock):\n    # Construct ping packet\n    ping_packet = LocalServerInfo_pb2.LocalServerMessage()\n    ping_packet.a.type = 0\n    ping_packet.localcode = ROBOVAC_LOCAL_CODE\n    ping_packet.magic_num = random.randrange(3000000)\n\n    print(f'Sending magic number of {ping_packet.magic_num}')\n\n    # Send ping and get ping response from Robovac, this will contain the\n    # magic number to use.\n    hex, ping_response = send_packet(sock, ping_packet, True)\n\n    if ping_response.a.type == 1:\n        current_magic_num = ping_response.magic_num\n        # Increment by 1 for next message\n        return current_magic_num + 1\n\n    raise Exception(&quot;Cannot get magic number from Robovac. Invalid ping response&quot;)\n\n\ndef build_user_data_message(sock, data):\n    magic_num = get_magic_num(sock)\n\n    message = LocalServerInfo_pb2.LocalServerMessage()\n    message.magic_num = magic_num\n    message.localcode = ROBOVAC_LOCAL_CODE\n    message.c.type = 0\n    message.c.usr_data = data\n\n    return message\n\n\ndef build_get_device_status_message(sock):\n    magic_num = get_magic_num(sock)\n\n    message = LocalServerInfo_pb2.LocalServerMessage()\n    message.magic_num = magic_num\n    message.localcode = ROBOVAC_LOCAL_CODE\n    message.c.type = 1\n\n    return message\n\n\n# Mode and command should be individual bytes\ndef build_robovac_command(mode, command):\n    mcu_ota_header_0xa5 = 0xA5\n    # Guessing this is (mode + command) as 1 byte\n    cmd_data = (mode + command) # (byte) (cmdData[1] + cmdData[2]) in Java, but cmdData not defined\n    return bytes([mcu_ota_header_0xa5, mode, command, cmd_data, 0xFA])\n\n\ndef turn_left(sock):\n    command = build_robovac_command(0xE4, 0x01)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef turn_right(sock):\n    command = build_robovac_command(0xE5, 0x01)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef go_forward(sock):\n    command = build_robovac_command(0xE2, 0x01)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef go_backward(sock):\n    command = build_robovac_command(0xE3, 0x01)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef start_auto_mode(sock):\n    command = build_robovac_command(0xE1, 0x02)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef start_single_room_mode(sock):\n    command = build_robovac_command(0xE1, 0x05)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef start_spot_mode(sock):\n    command = build_robovac_command(0xE1, 0x01)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef start_edge_mode(sock):\n    command = build_robovac_command(0xE1, 0x04)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef set_speed(sock, speed):\n    command = build_robovac_command(0xE8, speed)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef go_home(sock):\n    command = build_robovac_command(0xE1, 0x03)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef stop_robot(sock):\n    command = build_robovac_command(0xE1, 0x00)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef find_robovac(sock, ring: bool):\n    ring_toggle = 0x01\n    if not ring:\n        ring_toggle = 0x00\n\n    command = build_robovac_command(0xEC, ring_toggle)\n    message = build_user_data_message(sock, command)\n    send_packet(sock, message, False)\n\n\ndef get_robovac_status(sock):\n    message = build_get_device_status_message(sock)\n    received_hex, received_message = send_packet(sock, message, True)\n    received_status_array = received_message.c.usr_data\n\n    received_status_ints = [x for x in received_status_array]\n\n    return RoboVacStatus(\n        1 if received_status_ints[6] &amp; 4 &gt; 0 else 0,\n        1 if received_status_ints[6] &amp; 2 &gt; 0 else 0,\n        received_status_ints[1] &amp; 255,\n        received_status_ints[8] &amp; 255,\n        received_status_ints[11] &amp; 255,\n        received_status_ints[10] &amp; 255,\n        received_status_ints[12] &amp; 255,\n        received_status_ints[13] &amp; 255\n    )\n\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.connect((ROBOVAC_IP, ROBOVAC_PORT))\nprint(get_robovac_status(s))\ns.close()\n</code></pre>\n<p>Thanks again everyone :)</p>\n"
    }, {
        "tags": ["mqtt", "stm32", "iot"],
        "is_answered": false,
        "view_count": 188,
        "favorite_count": 0,
        "score": -4,
        "last_activity_date": 1607084124,
        "creation_date": 1606992450,
        "question_id": 65124463,
        "link": "https://stackoverflow.com/questions/65124463/howto-get-stm32-mqtt-exampel-with-stm32l496g-cell02-and-bg96-working",
        "title": "Howto get STM32 MQTT exampel with STM32L496G-CELL02 and BG96 working?",
        "body": "<p>I have the a STM32L496G-CELL02 with a BG96 module and I can't get the STM32 Mqtt example to work. Can sombody please give me a working howto? Attached is a little guide that I found but it doesn't seem to be complete:</p>\n<blockquote>\n<p>HOW TO include mqttclient application in IAR L462 and L496 projects</p>\n<p>By default the mqttclient application is not included in the delivered firmware. To include it follow the instruction below:</p>\n<ol>\n<li>Remove &quot;Exclude from build&quot; option for the following components of the IART project</li>\n</ol>\n<ul>\n<li><code>Middlewares/ST/STM32_Cellular/Samples/MQTT</code></li>\n<li><code>Middlewares/ST/STM32_Network_Library</code></li>\n<li><code>Middlewares/ST/STM32_Cellular/Modules/MbedTLS_Wrapper</code></li>\n<li><code>Middlewares/Third_Party/LiamBindle_mqtt-c</code></li>\n<li><code>Middlewares/Third_Party/MbedTLS</code></li>\n</ul>\n<ol start=\"2\">\n<li>Define following Constants in <code>Middlewares/ST/STM32_Cellular/Samples/MQTT/Inc/mqttclient_conf.h</code> (To get these parameters from MQTT server account)\nNote: These parameters can be defined by setup menu: At boot menu choose &quot;Setup configuration Menu&quot; then &quot;Configuration: Mqttclient&quot; and enter &quot;URL&quot;, &quot;username&quot; and &quot;password&quot;.\nThe other default parameters can be kept.</li>\n</ol>\n<p>To update:</p>\n<ul>\n<li><code>#define MQTTCLIENT_DEFAULT_SERVER_NAME     ((uint8_t *)&quot;&lt;TO_BE_DEFINED&gt;&quot;)  /* mqtt server URL       */</code></li>\n<li><code>#define MQTTCLIENT_DEFAULT_USERNAME        ((uint8_t *)&quot;&lt;TO_BE_DEFINED&gt;&quot;)  /* mqtt server user name */</code></li>\n<li><code>#define MQTTCLIENT_DEFAULT_PASSWORD        ((uint8_t *)&quot;&lt;TO_BE_DEFINED&gt;&quot;)  /* mqtt server password  */</code></li>\n</ul>\n<ol start=\"3\">\n<li>only if stackhero-network.com then ROOT CA for MQTT Server authentication must be updated in mqttclient_conf.h (To get the certificate from MQTT server account)\nNote: if the certificate is wrong only a warning error will occur and the application will work</li>\n</ol>\n<p><code>#define MQTTCLIENT_ROOT_CA = {...}</code></p>\n<ol start=\"4\">\n<li>Remove other applications from Firmware (only L462 board because of memory lack) in plf_features.h :</li>\n</ol>\n<ul>\n<li>Following variables to unset :</li>\n<li><code>#define USE_ECHO_CLIENT    (0)</code></li>\n<li><code>#define USE_HTTP_CLIENT    (0)</code></li>\n<li><code>#define USE_PING_CLIENT    (0)</code></li>\n<li><code>#define USE_COM_CLIENT     (0)</code></li>\n<li>Following variables to set :</li>\n<li><code>#define USE_MQTT_CLIENT    (1)</code></li>\n</ul>\n</blockquote>\n<p>I also read here that you need lwip?! However, this is also excluded in the supplied example.</p>\n"
    }, {
        "tags": ["azure", "iot", "ready-api"],
        "is_answered": true,
        "view_count": 86,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1606994017,
        "creation_date": 1606213097,
        "last_edit_date": 1606299321,
        "question_id": 64984393,
        "link": "https://stackoverflow.com/questions/64984393/how-to-configure-azure-iot-central-with-readyapi",
        "title": "How to configure Azure IOT central with ReadyApi",
        "body": "<p>We are using ourname.<strong>azureiotcentral</strong>.com/ and <strong>ReadyApi 3.5.0</strong></p>\n<p><a href=\"https://i.stack.imgur.com/jURbM.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jURbM.jpg\" alt=\"in Azure iot central\" /></a></p>\n<p>An access token we created on the azureiotcentral website\nlooks like this:</p>\n<pre><code>SharedAccessSignature sr=739023aa-a2d4-4cc1-8044-0447586f622a&amp;sig=teSPECIMENmawBMI0QUA5b%2BJ%2BDdhuie7JSTA%2BggltI0E%3D&amp;skn=specimen&amp;se=1635585779999\n</code></pre>\n<p>Now back in ReadyApi, which one do we choose as authentication?</p>\n<p><a href=\"https://i.stack.imgur.com/OmmiH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OmmiH.jpg\" alt=\"enter image description here\" /></a></p>\n<p>next question is:\nand how do you know which one to choose?\n<a href=\"https://docs.microsoft.com/nl-nl/rest/api/iotcentral/devices/getcredentials\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/nl-nl/rest/api/iotcentral/devices/getcredentials</a></p>\n<p>asuming it is ...    OAuth 2.0 (Azure)</p>\n<p>Then how do you know the profile name?</p>\n<p>and is the token started from the <strong>SharedAccess</strong> part or before the sr= or only the part after the sr=?\nand why is there a spacebar in the token? (in short: how to format?)</p>\n<hr />\n<p>I tried this:\nBut then the respons is  something with cookies. How do I know what browser is tested/tried?\n<a href=\"https://i.stack.imgur.com/nwxNO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nwxNO.jpg\" alt=\"enter image description here\" /></a></p>\n<p>(today: A colleague told me he thought it was the bearer option)</p>\n"
    }, {
        "tags": ["java", "events", "iot", "apama"],
        "is_answered": true,
        "view_count": 33,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1606727738,
        "creation_date": 1606630027,
        "last_edit_date": 1606653004,
        "question_id": 65057495,
        "link": "https://stackoverflow.com/questions/65057495/is-there-any-configuration-to-add-jsonplugin-to-apama-project",
        "title": "Is there any configuration to add jsonplugin to apama project",
        "body": "<p>I have created an apama project using softwareAG designer. And tried to access JSONPlugin as below. My question is can we use this plugin directly in my monitor or is there any extra configuration to make it available in my monitor. Now I am receiving an error like <code>the name JSON in the com.apama namespace does not exist (error reported to the client)</code></p>\n<p>Can someone suggest me how to do this?</p>\n<p><img src=\"https://i.stack.imgur.com/bB8sy.png\" alt=\"screenshot\" /></p>\n"
    }, {
        "tags": ["python", "python-3.x", "iot", "bacnet", "bacnet4j"],
        "is_answered": true,
        "view_count": 304,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1606239977,
        "creation_date": 1604792004,
        "question_id": 64733467,
        "link": "https://stackoverflow.com/questions/64733467/how-to-use-bac0-readrange-in-python",
        "title": "How to use BAC0 readRange in Python",
        "body": "<p>Hi every one I try to use BAC0 package in python 3 to get value of multiple point in bacnet network.\nI user something like following:</p>\n<pre><code>bacnet = BAC0.lite(ip=x.x.x.x)\ntmp_points = bacnet.readRange(&quot;11:2 analogInput 0 presentValue&quot;);\n</code></pre>\n<p>and it seems not OK :(\nerror is:</p>\n<pre><code>BAC0.core.io.IOExceptions.NoResponseFromController: APDU Abort Reason : unrecognizedService\n</code></pre>\n<p>And in document I just can find</p>\n<pre><code>    def readRange(\n        self,\n        args,\n        range_params=None,\n        arr_index=None,\n        vendor_id=0,\n        bacoid=None,\n        timeout=10,\n    ):\n        &quot;&quot;&quot;\n        Build a ReadProperty request, wait for the answer and return the value\n\n        :param args: String with &lt;addr&gt; &lt;type&gt; &lt;inst&gt; &lt;prop&gt; [ &lt;indx&gt; ]\n        :returns: data read from device (str representing data like 10 or True)\n\n        *Example*::\n\n            import BAC0\n            myIPAddr = '192.168.1.10/24'\n            bacnet = BAC0.connect(ip = myIPAddr)\n            bacnet.read('2:5 analogInput 1 presentValue')\n\n        Requests the controller at (Network 2, address 5) for the presentValue of\n        its analog input 1 (AI:1).\n        &quot;&quot;&quot;\n</code></pre>\n"
    }, {
        "tags": ["iot", "gsm", "at-command", "telecommunication", "cellular-network"],
        "is_answered": false,
        "view_count": 185,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1605277520,
        "creation_date": 1605275439,
        "last_edit_date": 1605277520,
        "question_id": 64822093,
        "link": "https://stackoverflow.com/questions/64822093/atcops-allowed-charsets-in-operator-name",
        "title": "AT+COPS=? allowed charsets in operator name",
        "body": "<p>I have to parse the response to the command AT+COPS=?</p>\n<p>But first I should understand what characters I can find in the name of the operators.</p>\n<p>According to the 3GPP specification, the response to the command AT+COPS=? it is in the following format:</p>\n<pre><code>Table 36: +COPS parameter command syntax\nCommand                   Possible response(s)\n\n+COPS=[&lt;mode&gt;[,&lt;format&gt;   +CME ERROR: &lt;err&gt;\n[,&lt;oper&gt;[,&lt;AcT&gt;]]]]\n\n+COPS?                    +COPS: &lt;mode&gt;[,&lt;format&gt;,&lt;oper&gt;[,&lt;AcT&gt;]]\n                          +CME ERROR: &lt;err&gt;\n\n+COPS=?                   +COPS: [list of supported (&lt;stat&gt;,long alphanumeric\n                          &lt;oper&gt;,short alphanumeric &lt;oper&gt;,numeric &lt;oper&gt;\n                          [,&lt;AcT&gt;])s][,,(list of supported &lt;mode&gt;s),(list of\n                          supported &lt;format&gt;s)]\n                          +CME ERROR: &lt;err&gt;\n</code></pre>\n<p>According to <a href=\"https://portal.3gpp.org/desktopmodules/Specifications/SpecificationDetails.aspx?specificationId=1515\" rel=\"nofollow noreferrer\">3GPP TS 27.007 V16.6.0 (paragraph 7.3)</a> specifications, the long alphanumeric format can be up to 16 characters long and short format up to 8 characters.\nBut nowhere did I find the list of allowed characters for operator names.</p>\n<p>Running the AT+COPS command on the Quectel BG96 modem I found operators with names up to 25 characters, and with special characters like <code>+ ) , : \u2592 !</code></p>\n<pre><code>+COPN: &quot;25506&quot;,&quot;life:)&quot;\n+COPN: &quot;25507&quot;,&quot;TriMob&quot;\n+COPN: &quot;25701&quot;,&quot;BY VELCOM&quot;\n+COPN: &quot;25702&quot;,&quot;MTS BY&quot;\n+COPN: &quot;25704&quot;,&quot;life:) BY&quot;\n+COPN: &quot;25901&quot;,&quot;Orange MD&quot;\n+COPN: &quot;25902&quot;,&quot;Moldcell&quot;\n+COPN: &quot;25904&quot;,&quot;MDA EVENTIS&quot;\n+COPN: &quot;25905&quot;,&quot;UNITE&quot;\n+COPN: &quot;25915&quot;,&quot;IDC&quot;\n+COPN: &quot;26001&quot;,&quot;Plus&quot;\n+COPN: &quot;26002&quot;,&quot;T-Mobile.pl&quot;\n+COPN: &quot;26003&quot;,&quot;Orange PL&quot;\n+COPN: &quot;26006&quot;,&quot;Play&quot;\n+COPN: &quot;26201&quot;,&quot;Telekom.de&quot;\n+COPN: &quot;26202&quot;,&quot;Vodafone.de&quot;\n+COPN: &quot;26203&quot;,&quot;o2 - de&quot;\n+COPN: &quot;26207&quot;,&quot;o2 - de&quot;\n+COPN: &quot;310070&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310077&quot;,&quot;Iowa Wireless US&quot;\n+COPN: &quot;310090&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310100&quot;,&quot;US PLATEAU&quot;\n+COPN: &quot;310110&quot;,&quot;IT&amp;E&quot;\n+COPN: &quot;310120&quot;,&quot;Sprint&quot;\n+COPN: &quot;310140&quot;,&quot;GTA&quot;\n+COPN: &quot;310150&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310160&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310170&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310180&quot;,&quot;West Central Wireless&quot;\n+COPN: &quot;310190&quot;,&quot;USA Dutch Harbor&quot;\n+COPN: &quot;310200&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310210&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310220&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310230&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310240&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310250&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310260&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310270&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310280&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310300&quot;,&quot;BigSkyUS&quot;\n+COPN: &quot;310310&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310320&quot;,&quot;USA - CellularOne&quot;\n+COPN: &quot;310330&quot;,&quot;Cellular One&quot;\n+COPN: &quot;310340&quot;,&quot;WestLink&quot;\n+COPN: &quot;310340&quot;,&quot;Limitless Mobile&quot;\n+COPN: &quot;310350&quot;,&quot;Carolina Phone&quot;\n+COPN: &quot;310370&quot;,&quot;DOCOMO PACIFIC&quot;\n+COPN: &quot;310380&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310410&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310450&quot;,&quot;Cell One of NE Colorado&quot;\n+COPN: &quot;310460&quot;,&quot;USA1L&quot;\n+COPN: &quot;310470&quot;,&quot;DOCOMO PACIFIC&quot;\n+COPN: &quot;310490&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310530&quot;,&quot;Iowa Wireless USA&quot;\n+COPN: &quot;310560&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310570&quot;,&quot;Cell One&quot;\n+COPN: &quot;310610&quot;,&quot;Epic Touch&quot;\n+COPN: &quot;310630&quot;,&quot;USA AmeriLink&quot;\n+COPN: &quot;310660&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310670&quot;,&quot;Wireless 2000 PCS&quot;\n+COPN: &quot;310680&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310690&quot;,&quot;Limitless Mobile&quot;\n+COPN: &quot;310700&quot;,&quot;USABIGFOOT&quot;\n+COPN: &quot;310710&quot;,&quot;USA ASTAC&quot;\n+COPN: &quot;310730&quot;,&quot;U.S.Cellular&quot;\n+COPN: &quot;310740&quot;,&quot;USA OTZ&quot;\n+COPN: &quot;310760&quot;,&quot;PTSI&quot;\n+COPN: &quot;310770&quot;,&quot;Iowa Wireless USA&quot;\n+COPN: &quot;310780&quot;,&quot;AirLink PCS&quot;\n+COPN: &quot;310790&quot;,&quot;Pinpoint&quot;\n+COPN: &quot;310800&quot;,&quot;T-Mobile&quot;\n+COPN: &quot;310840&quot;,&quot;telna Mobile&quot;\n+COPN: &quot;310890&quot;,&quot;Verizon&quot;\n+COPN: &quot;310900&quot;,&quot;Texas Cellular&quot;\n+COPN: &quot;310950&quot;,&quot;USA XIT Wireless&quot;\n+COPN: &quot;310980&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;310990&quot;,&quot;Worldcall&quot;\n+COPN: &quot;311000&quot;,&quot;USA Mid-Tex Cellular  Lt&quot;\n+COPN: &quot;31101&quot;,&quot;Wilkes USA&quot;\n+COPN: &quot;31105&quot;,&quot;Wilkes USA&quot;\n+COPN: &quot;311030&quot;,&quot;Indigo&quot;\n+COPN: &quot;311040&quot;,&quot;USA - Commnet&quot;\n+COPN: &quot;31170&quot;,&quot;USAEC&quot;\n+COPN: &quot;31173&quot;,&quot;USA Proximiti&quot;\n+COPN: &quot;31180&quot;,&quot;Pine Cellular&quot;\n+COPN: &quot;311110&quot;,&quot;High Plains&quot;\n+COPN: &quot;311130&quot;,&quot;Cell One Amarillo&quot;\n+COPN: &quot;311140&quot;,&quot;Sprocket&quot;\n+COPN: &quot;311170&quot;,&quot;PetroCom&quot;\n+COPN: &quot;311180&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;311190&quot;,&quot;USAC1ECI&quot;\n+COPN: &quot;311210&quot;,&quot;FARMERS&quot;\n+COPN: &quot;311230&quot;,&quot;C Spire&quot;\n+COPN: &quot;311240&quot;,&quot;USACWCI&quot;\n+COPN: &quot;311250&quot;,&quot;USA i CAN&quot;\n+COPN: &quot;311260&quot;,&quot;SLO Cellular&quot;\n+COPN: &quot;311270&quot;,&quot;Verizon&quot;\n+COPN: &quot;311310&quot;,&quot;Lamar Cellular&quot;\n+COPN: &quot;311311&quot;,&quot;USANCW&quot;\n+COPN: &quot;311330&quot;,&quot;BTW&quot;\n+COPN: &quot;311360&quot;,&quot;Stelera Wireless&quot;\n+COPN: &quot;311370&quot;,&quot;GCI&quot;\n+COPN: &quot;311480&quot;,&quot;Verizon&quot;\n+COPN: &quot;311530&quot;,&quot;USANW&quot;\n+COPN: &quot;311540&quot;,&quot;USA Proximiti&quot;\n+COPN: &quot;311580&quot;,&quot;U.S.Cellular&quot;\n+COPN: &quot;311600&quot;,&quot;Limitless Mobile&quot;\n+COPN: &quot;311630&quot;,&quot;C Spire&quot;\n+COPN: &quot;311660&quot;,&quot;Metro PCS&quot;\n+COPN: &quot;311710&quot;,&quot;Northeast Wireless&quot;\n+COPN: &quot;311730&quot;,&quot;USA Proximiti&quot;\n+COPN: &quot;311740&quot;,&quot;TCI&quot;\n+COPN: &quot;311810&quot;,&quot;Bluegrass Wireless&quot;\n+COPN: &quot;311990&quot;,&quot;VTW US&quot;\n+COPN: &quot;312060&quot;,&quot;CoverageCo&quot;\n+COPN: &quot;312180&quot;,&quot;Limitless Mobile&quot;\n+COPN: &quot;312230&quot;,&quot;SRT Wireless&quot;\n+COPN: &quot;312260&quot;,&quot;USACL&quot;\n+COPN: &quot;312280&quot;,&quot;Pioneer&quot;\n+COPN: &quot;312290&quot;,&quot;Strata Networks USA&quot;\n+COPN: &quot;312420&quot;,&quot;Nex-Tech Wireless USA&quot;\n+COPN: &quot;312480&quot;,&quot;Nemont&quot;\n+COPN: &quot;312630&quot;,&quot;NetGenuity&quot;\n+COPN: &quot;312870&quot;,&quot;GigSky&quot;\n+COPN: &quot;313070&quot;,&quot;MNSHub&quot;\n+COPN: &quot;313380&quot;,&quot;OptimERA&quot;\n+COPN: &quot;330110&quot;,&quot;PR Claro&quot;\n+COPN: &quot;330120&quot;,&quot;Open Mob PRI&quot;\n+COPN: &quot;332011&quot;,&quot;Blue Sky&quot;\n+COPN: &quot;334003&quot;,&quot;Movistar&quot;\n+COPN: &quot;334020&quot;,&quot;TELCEL&quot;\n+COPN: &quot;334050&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;334070&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;33490&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;33850&quot;,&quot;Digicel&quot;\n+COPN: &quot;33870&quot;,&quot;CLARO&quot;\n+COPN: &quot;338180&quot;,&quot;FLOW&quot;\n+COPN: &quot;34001&quot;,&quot;F-Orange&quot;\n+COPN: &quot;34002&quot;,&quot;SFR&quot;\n+COPN: &quot;34020&quot;,&quot;Digicel&quot;\n+COPN: &quot;342600&quot;,&quot;FLOW&quot;\n+COPN: &quot;342750&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;344030&quot;,&quot;APUA inet&quot;\n+COPN: &quot;344920&quot;,&quot;FLOW&quot;\n+COPN: &quot;344930&quot;,&quot;Cingular&quot;\n+COPN: &quot;346140&quot;,&quot;FLOW&quot;\n+COPN: &quot;348170&quot;,&quot;FLOW&quot;\n+COPN: &quot;348570&quot;,&quot;CCT Boatphone&quot;\n+COPN: &quot;350000&quot;,&quot;CELLONE&quot;\n+COPN: &quot;350002&quot;,&quot;BTC MOBILITY LTD.&quot;\n+COPN: &quot;35002&quot;,&quot;M3 WIRELESS&quot;\n+COPN: &quot;350010&quot;,&quot;Cingular&quot;\n+COPN: &quot;35230&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;352110&quot;,&quot;FLOW&quot;\n+COPN: &quot;354860&quot;,&quot;FLOW&quot;\n+COPN: &quot;356110&quot;,&quot;FLOW&quot;\n+COPN: &quot;358050&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;358110&quot;,&quot;FLOW&quot;\n+COPN: &quot;36070&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;360110&quot;,&quot;FLOW&quot;\n+COPN: &quot;36251&quot;,&quot;Telcell GSM&quot;\n+COPN: &quot;36269&quot;,&quot;Digicel&quot;\n+COPN: &quot;36278&quot;,&quot;Kla&quot;\n+COPN: &quot;36291&quot;,&quot;CHIPPIE&quot;\n+COPN: &quot;36301&quot;,&quot;SETAR&quot;\n+COPN: &quot;36302&quot;,&quot;AW Digicel&quot;\n+COPN: &quot;364039&quot;,&quot;BTC&quot;\n+COPN: &quot;36449&quot;,&quot;aliv&quot;\n+COPN: &quot;365840&quot;,&quot;FLOW&quot;\n+COPN: &quot;366020&quot;,&quot;Cingular&quot;\n+COPN: &quot;366110&quot;,&quot;FLOW&quot;\n+COPN: &quot;36801&quot;,&quot;CUBACEL&quot;\n+COPN: &quot;370001&quot;,&quot;ALTICE&quot;\n+COPN: &quot;370002&quot;,&quot;CLARO DOM&quot;\n+COPN: &quot;37004&quot;,&quot;Viva DO&quot;\n+COPN: &quot;37203&quot;,&quot;Natcom&quot;\n+COPN: &quot;37412&quot;,&quot;TSTT&quot;\n+COPN: &quot;374130&quot;,&quot;Digicel&quot;\n+COPN: &quot;376350&quot;,&quot;FLOW&quot;\n+COPN: &quot;376352&quot;,&quot;IslandCom TCI&quot;\n+COPN: &quot;40001&quot;,&quot;AZEAC&quot;\n+COPN: &quot;40002&quot;,&quot;BAKCELL AZ&quot;\n+COPN: &quot;40004&quot;,&quot;AZ Nar&quot;\n+COPN: &quot;40101&quot;,&quot;Beeline KZ&quot;\n+COPN: &quot;40102&quot;,&quot;Kcell&quot;\n+COPN: &quot;40107&quot;,&quot;ALTEL&quot;\n+COPN: &quot;40177&quot;,&quot;Tele2&quot;\n+COPN: &quot;40211&quot;,&quot;BT B-Mobile&quot;\n+COPN: &quot;40277&quot;,&quot;TASHICELL&quot;\n+COPN: &quot;40401&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40402&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40403&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40404&quot;,&quot;IDEA&quot;\n+COPN: &quot;40405&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40407&quot;,&quot;IDEA&quot;\n+COPN: &quot;40410&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40411&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40412&quot;,&quot;IDEA&quot;\n+COPN: &quot;40413&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40414&quot;,&quot;IDEA&quot;\n+COPN: &quot;40415&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40416&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40417&quot;,&quot;Aircel&quot;\n+COPN: &quot;40419&quot;,&quot;IDEA&quot;\n+COPN: &quot;40420&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40422&quot;,&quot;IDEA&quot;\n+COPN: &quot;40424&quot;,&quot;IDEA&quot;\n+COPN: &quot;40425&quot;,&quot;Aircel&quot;\n+COPN: &quot;40427&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40428&quot;,&quot;Aircel&quot;\n+COPN: &quot;40429&quot;,&quot;Aircel&quot;\n+COPN: &quot;40429&quot;,&quot;Aircel&quot;\n+COPN: &quot;40430&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40431&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40433&quot;,&quot;Aircel&quot;\n+COPN: &quot;40434&quot;,&quot;CellOne&quot;\n+COPN: &quot;40435&quot;,&quot;Aircel&quot;\n+COPN: &quot;40437&quot;,&quot;Aircel&quot;\n+COPN: &quot;40438&quot;,&quot;CellOne&quot;\n+COPN: &quot;40440&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40441&quot;,&quot;Aircel&quot;\n+COPN: &quot;40441&quot;,&quot;Aircel&quot;\n+COPN: &quot;40442&quot;,&quot;Aircel&quot;\n+COPN: &quot;40443&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40444&quot;,&quot;IDEA&quot;\n+COPN: &quot;40445&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40446&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40449&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40451&quot;,&quot;CellOne&quot;\n+COPN: &quot;40453&quot;,&quot;CellOne&quot;\n+COPN: &quot;40454&quot;,&quot;CellOne&quot;\n+COPN: &quot;40455&quot;,&quot;CellOne&quot;\n+COPN: &quot;40456&quot;,&quot;IDEA&quot;\n+COPN: &quot;40457&quot;,&quot;CellOne&quot;\n+COPN: &quot;40458&quot;,&quot;CellOne&quot;\n+COPN: &quot;40459&quot;,&quot;CellOne&quot;\n+COPN: &quot;40460&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40462&quot;,&quot;CellOne&quot;\n+COPN: &quot;40464&quot;,&quot;CellOne&quot;\n+COPN: &quot;40466&quot;,&quot;CellOne&quot;\n+COPN: &quot;40468&quot;,&quot;IN-DOLPHIN&quot;\n+COPN: &quot;40469&quot;,&quot;IN-DOLPHIN&quot;\n+COPN: &quot;40470&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40471&quot;,&quot;CellOne&quot;\n+COPN: &quot;40472&quot;,&quot;CellOne&quot;\n+COPN: &quot;40473&quot;,&quot;CellOne&quot;\n+COPN: &quot;40474&quot;,&quot;CellOne&quot;\n+COPN: &quot;40475&quot;,&quot;CellOne&quot;\n+COPN: &quot;40476&quot;,&quot;CellOne&quot;\n+COPN: &quot;40477&quot;,&quot;CellOne&quot;\n+COPN: &quot;40478&quot;,&quot;IDEA&quot;\n+COPN: &quot;40479&quot;,&quot;CellOne&quot;\n+COPN: &quot;40480&quot;,&quot;CellOne&quot;\n+COPN: &quot;40481&quot;,&quot;CellOne&quot;\n+COPN: &quot;40482&quot;,&quot;IDEA&quot;\n+COPN: &quot;40484&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40486&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40487&quot;,&quot;IDEA&quot;\n+COPN: &quot;40488&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40489&quot;,&quot;IDEA&quot;\n+COPN: &quot;40490&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40491&quot;,&quot;Aircel&quot;\n+COPN: &quot;40491&quot;,&quot;Aircel&quot;\n+COPN: &quot;40492&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40493&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40494&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40495&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40496&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40497&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40498&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40501&quot;,&quot;Reliance&quot;\n+COPN: &quot;40503&quot;,&quot;Reliance&quot;\n+COPN: &quot;40504&quot;,&quot;Reliance&quot;\n+COPN: &quot;40505&quot;,&quot;Reliance&quot;\n+COPN: &quot;40506&quot;,&quot;Reliance&quot;\n+COPN: &quot;40507&quot;,&quot;Reliance&quot;\n+COPN: &quot;40508&quot;,&quot;Reliance&quot;\n+COPN: &quot;40509&quot;,&quot;Reliance&quot;\n+COPN: &quot;40510&quot;,&quot;Reliance&quot;\n+COPN: &quot;40511&quot;,&quot;Reliance&quot;\n+COPN: &quot;40512&quot;,&quot;Reliance&quot;\n+COPN: &quot;40513&quot;,&quot;Reliance&quot;\n+COPN: &quot;40514&quot;,&quot;Reliance&quot;\n+COPN: &quot;40515&quot;,&quot;Reliance&quot;\n+COPN: &quot;40517&quot;,&quot;Reliance&quot;\n+COPN: &quot;40518&quot;,&quot;Reliance&quot;\n+COPN: &quot;40519&quot;,&quot;Reliance&quot;\n+COPN: &quot;40520&quot;,&quot;Reliance&quot;\n+COPN: &quot;40521&quot;,&quot;Reliance&quot;\n+COPN: &quot;40522&quot;,&quot;Reliance&quot;\n+COPN: &quot;40523&quot;,&quot;Reliance&quot;\n+COPN: &quot;40550&quot;,&quot;Reliance&quot;\n+COPN: &quot;40551&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40552&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40553&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40554&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40555&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40556&quot;,&quot;IND airtel&quot;\n+COPN: &quot;40566&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40567&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;40570&quot;,&quot;IDEA&quot;\n+COPN: &quot;405750&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405751&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405752&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405753&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405754&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405755&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405756&quot;,&quot;Vodafone IN&quot;\n+COPN: &quot;405799&quot;,&quot;IDEA&quot;\n+COPN: &quot;405800&quot;,&quot;Aircel&quot;\n+COPN: &quot;405801&quot;,&quot;Aircel&quot;\n+COPN: &quot;405802&quot;,&quot;Aircel&quot;\n+COPN: &quot;405803&quot;,&quot;Aircel&quot;\n+COPN: &quot;405804&quot;,&quot;Aircel&quot;\n+COPN: &quot;405805&quot;,&quot;Aircel&quot;\n+COPN: &quot;405806&quot;,&quot;Aircel&quot;\n+COPN: &quot;405807&quot;,&quot;Aircel&quot;\n+COPN: &quot;405808&quot;,&quot;Aircel&quot;\n+COPN: &quot;405809&quot;,&quot;Aircel&quot;\n+COPN: &quot;405810&quot;,&quot;Aircel&quot;\n+COPN: &quot;405811&quot;,&quot;Aircel&quot;\n+COPN: &quot;405812&quot;,&quot;Aircel&quot;\n+COPN: &quot;405818&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;405819&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;405823&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405824&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405825&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405827&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405828&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405829&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405830&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405831&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405832&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405833&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405834&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405835&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405836&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405837&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405838&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405839&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405840&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405841&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405842&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405843&quot;,&quot;VIDEOCON&quot;\n+COPN: &quot;405845&quot;,&quot;IDEA&quot;\n+COPN: &quot;405846&quot;,&quot;IDEA&quot;\n+COPN: &quot;405848&quot;,&quot;IDEA&quot;\n+COPN: &quot;405849&quot;,&quot;IDEA&quot;\n+COPN: &quot;405850&quot;,&quot;IDEA&quot;\n+COPN: &quot;405852&quot;,&quot;IDEA&quot;\n+COPN: &quot;405853&quot;,&quot;IDEA&quot;\n+COPN: &quot;405854&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405855&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405856&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405857&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405858&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405859&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405860&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405861&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405862&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405863&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405864&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405865&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405866&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405867&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405868&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405869&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405870&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405871&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405872&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405873&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405874&quot;,&quot;IND-JIO&quot;\n+COPN: &quot;405875&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;405876&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;405879&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;405912&quot;,&quot;etisalat&quot;\n+COPN: &quot;405913&quot;,&quot;etisalat&quot;\n+COPN: &quot;405914&quot;,&quot;etisalat&quot;\n+COPN: &quot;405915&quot;,&quot;etisalat&quot;\n+COPN: &quot;405916&quot;,&quot;etisalat&quot;\n+COPN: &quot;405917&quot;,&quot;etisalat&quot;\n+COPN: &quot;405918&quot;,&quot;etisalat&quot;\n+COPN: &quot;405919&quot;,&quot;etisalat&quot;\n+COPN: &quot;405920&quot;,&quot;etisalat&quot;\n+COPN: &quot;405921&quot;,&quot;etisalat&quot;\n+COPN: &quot;405922&quot;,&quot;etisalat&quot;\n+COPN: &quot;405923&quot;,&quot;etisalat&quot;\n+COPN: &quot;405924&quot;,&quot;etisalat&quot;\n+COPN: &quot;405927&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;405929&quot;,&quot;IN Telenor&quot;\n+COPN: &quot;41001&quot;,&quot;Jazz&quot;\n+COPN: &quot;41003&quot;,&quot;PK-UFONE&quot;\n+COPN: &quot;41004&quot;,&quot;ZONG&quot;\n+COPN: &quot;41005&quot;,&quot;SCOM-PK&quot;\n+COPN: &quot;41006&quot;,&quot;Telenor PK&quot;\n+COPN: &quot;41201&quot;,&quot;AF AWCC&quot;\n+COPN: &quot;41220&quot;,&quot;ROSHAN&quot;\n+COPN: &quot;41240&quot;,&quot;MTN AF&quot;\n+COPN: &quot;41250&quot;,&quot;Etisalat Af&quot;\n+COPN: &quot;41301&quot;,&quot;Mobitel LK&quot;\n+COPN: &quot;41302&quot;,&quot;DIALOG&quot;\n+COPN: &quot;41303&quot;,&quot;SRI Etisalat&quot;\n+COPN: &quot;41305&quot;,&quot;SRI AIRTEL&quot;\n+COPN: &quot;41308&quot;,&quot;Hutch&quot;\n+COPN: &quot;41401&quot;,&quot;MM 900&quot;\n+COPN: &quot;41405&quot;,&quot;Ooredoo&quot;\n+COPN: &quot;41406&quot;,&quot;Telenor&quot;\n+COPN: &quot;41409&quot;,&quot;MYTEL&quot;\n+COPN: &quot;41501&quot;,&quot;alfa&quot;\n+COPN: &quot;41503&quot;,&quot;touch&quot;\n+COPN: &quot;41505&quot;,&quot;LBN OGERO Mobile&quot;\n+COPN: &quot;41601&quot;,&quot;Zain JO&quot;\n+COPN: &quot;41603&quot;,&quot;UMNIAH&quot;\n+COPN: &quot;41677&quot;,&quot;Orange JO&quot;\n+COPN: &quot;41702&quot;,&quot;MTN&quot;\n+COPN: &quot;41709&quot;,&quot;SYR MOBILE SYR&quot;\n+COPN: &quot;41800&quot;,&quot;ASIACELL&quot;\n+COPN: &quot;41805&quot;,&quot;ASIACELL&quot;\n+COPN: &quot;41820&quot;,&quot;zain IQ&quot;\n+COPN: &quot;41830&quot;,&quot;IRAQNA&quot;\n+COPN: &quot;41840&quot;,&quot;KOREK&quot;\n+COPN: &quot;41902&quot;,&quot;Zain KW&quot;\n+COPN: &quot;41903&quot;,&quot;Ooredoo&quot;\n+COPN: &quot;41904&quot;,&quot;KT, VIVA&quot;\n+COPN: &quot;42001&quot;,&quot;STC&quot;\n+COPN: &quot;42003&quot;,&quot;Mobily-KSA&quot;\n+COPN: &quot;42004&quot;,&quot;Zain KSA&quot;\n+COPN: &quot;42101&quot;,&quot;SabaFon&quot;\n+COPN: &quot;42102&quot;,&quot;MTN&quot;\n+COPN: &quot;42104&quot;,&quot;Y-Telecom&quot;\n+COPN: &quot;42202&quot;,&quot;Omantel&quot;\n+COPN: &quot;42203&quot;,&quot;Ooredoo Oman&quot;\n+COPN: &quot;42402&quot;,&quot;ETISALAT&quot;\n+COPN: &quot;42403&quot;,&quot;du&quot;\n+COPN: &quot;42501&quot;,&quot;Partner IL&quot;\n+COPN: &quot;42502&quot;,&quot;Cellcom IL&quot;\n+COPN: &quot;42503&quot;,&quot;IL Pelephone&quot;\n+COPN: &quot;42505&quot;,&quot;JAWWAL-PALESTINE&quot;\n+COPN: &quot;42506&quot;,&quot;Ooredoo Palestine&quot;\n+COPN: &quot;42507&quot;,&quot;Hot Mobile Ltd.&quot;\n+COPN: &quot;42508&quot;,&quot;Golan IL&quot;\n+COPN: &quot;42528&quot;,&quot;Hot Mobile Ltd.&quot;\n+COPN: &quot;42601&quot;,&quot;BATELCO&quot;\n+COPN: &quot;42602&quot;,&quot;Zain BH&quot;\n+COPN: &quot;42604&quot;,&quot;VIVA BH&quot;\n+COPN: &quot;42701&quot;,&quot;Ooredoo&quot;\n+COPN: &quot;42702&quot;,&quot;vodafone&quot;\n+COPN: &quot;42801&quot;,&quot;Skytel MN&quot;\n+COPN: &quot;42888&quot;,&quot;MONGOLIA UNITEL LLC&quot;\n+COPN: &quot;42899&quot;,&quot;MN MobiCom&quot;\n+COPN: &quot;42901&quot;,&quot;Nepal Telecom&quot;\n+COPN: &quot;42902&quot;,&quot;Ncell&quot;\n+COPN: &quot;42904&quot;,&quot;SmartCell&quot;\n+COPN: &quot;43219&quot;,&quot;IR MTCE&quot;\n+COPN: &quot;43404&quot;,&quot;Beeline UZ&quot;\n+COPN: &quot;43405&quot;,&quot;UZB Ucell&quot;\n+COPN: &quot;43407&quot;,&quot;UMS-UZB&quot;\n+COPN: &quot;43408&quot;,&quot;UzMobile&quot;\n+COPN: &quot;43601&quot;,&quot;TCELL&quot;\n+COPN: &quot;43602&quot;,&quot;TCELL&quot;\n+COPN: &quot;43603&quot;,&quot;MegaFon TJK&quot;\n+COPN: &quot;43604&quot;,&quot;Babilon-M&quot;\n+COPN: &quot;43605&quot;,&quot;BEELINE TJ&quot;\n+COPN: &quot;43612&quot;,&quot;INDIGO-3G&quot;\n+COPN: &quot;43701&quot;,&quot;Beeline KG&quot;\n+COPN: &quot;43705&quot;,&quot;MegaCom&quot;\n+COPN: &quot;43709&quot;,&quot;O!&quot;\n+COPN: &quot;43801&quot;,&quot;MTS TM&quot;\n+COPN: &quot;43802&quot;,&quot;TM CELL&quot;\n+COPN: &quot;44010&quot;,&quot;JP DOCOMO&quot;\n+COPN: &quot;44020&quot;,&quot;SoftBank&quot;\n+COPN: &quot;44050&quot;,&quot;KDDI&quot;\n+COPN: &quot;44051&quot;,&quot;KDDI&quot;\n+COPN: &quot;45005&quot;,&quot;KOR SK Telecom&quot;\n+COPN: &quot;45006&quot;,&quot;KOR LG Uplus&quot;\n+COPN: &quot;45008&quot;,&quot;KT&quot;\n+COPN: &quot;45010&quot;,&quot;KOR LG Uplus&quot;\n+COPN: &quot;45201&quot;,&quot;VN Mobifone&quot;\n+COPN: &quot;45202&quot;,&quot;VN VINAPHONE&quot;\n+COPN: &quot;45204&quot;,&quot;VIETTEL&quot;\n+COPN: &quot;45205&quot;,&quot;Vietnamobile&quot;\n+COPN: &quot;45207&quot;,&quot;Gmobile&quot;\n+COPN: &quot;45400&quot;,&quot;CSL&quot;\n+COPN: &quot;45402&quot;,&quot;CSL&quot;\n+COPN: &quot;45403&quot;,&quot;3&quot;\n+COPN: &quot;45404&quot;,&quot;3&quot;\n+COPN: &quot;45406&quot;,&quot;SmarTone HK&quot;\n+COPN: &quot;45410&quot;,&quot;CSL&quot;\n+COPN: &quot;45412&quot;,&quot;China Mobile HK&quot;\n+COPN: &quot;45413&quot;,&quot;China Mobile HK&quot;\n+COPN: &quot;45415&quot;,&quot;SmarTone HK&quot;\n+COPN: &quot;45416&quot;,&quot;CSL&quot;\n+COPN: &quot;45417&quot;,&quot;SmarTone HK&quot;\n+COPN: &quot;45418&quot;,&quot;CSL&quot;\n+COPN: &quot;45419&quot;,&quot;CSL&quot;\n+COPN: &quot;45420&quot;,&quot;CSL&quot;\n+COPN: &quot;45500&quot;,&quot;SmarTone MAC&quot;\n+COPN: &quot;45501&quot;,&quot;CTM&quot;\n+COPN: &quot;45503&quot;,&quot;3 Macau&quot;\n+COPN: &quot;45504&quot;,&quot;CTM&quot;\n+COPN: &quot;45505&quot;,&quot;3 Macau&quot;\n+COPN: &quot;45507&quot;,&quot;China Telecom&quot;\n+COPN: &quot;45601&quot;,&quot;Cellcard&quot;\n+COPN: &quot;45604&quot;,&quot;qb&quot;\n+COPN: &quot;45605&quot;,&quot;SMART&quot;\n+COPN: &quot;45606&quot;,&quot;SMART&quot;\n+COPN: &quot;45608&quot;,&quot;Metfone&quot;\n+COPN: &quot;45611&quot;,&quot;KH SEATEL&quot;\n+COPN: &quot;45701&quot;,&quot;LAO GSM&quot;\n+COPN: &quot;45702&quot;,&quot;ETL MOBILE NETWORK&quot;\n+COPN: &quot;45703&quot;,&quot;Unitel&quot;\n+COPN: &quot;45708&quot;,&quot;BEELINE LAO&quot;\n+COPN: &quot;46000&quot;,&quot;CHINA MOBILE&quot;\n+COPN: &quot;46001&quot;,&quot;CHN-UNICOM&quot;\n+COPN: &quot;46002&quot;,&quot;CHINA MOBILE&quot;\n+COPN: &quot;46004&quot;,&quot;CHINA MOBILE&quot;\n+COPN: &quot;46007&quot;,&quot;CHINA MOBILE&quot;\n+COPN: &quot;46008&quot;,&quot;CHINA MOBILE&quot;\n+COPN: &quot;46009&quot;,&quot;CHN-UNICOM&quot;\n+COPN: &quot;46011&quot;,&quot;CHN-CT&quot;\n+COPN: &quot;46601&quot;,&quot;Far EasTone&quot;\n+COPN: &quot;46605&quot;,&quot;TWN APT&quot;\n+COPN: &quot;46612&quot;,&quot;TWN APT&quot;\n+COPN: &quot;46688&quot;,&quot;KGT-Online&quot;\n+COPN: &quot;46689&quot;,&quot;T Star&quot;\n+COPN: &quot;46692&quot;,&quot;Chunghwa Telecom&quot;\n+COPN: &quot;46693&quot;,&quot;TWN MOBITAI&quot;\n+COPN: &quot;46697&quot;,&quot;TW Mobile&quot;\n+COPN: &quot;46699&quot;,&quot;TWM TransAsi&quot;\n+COPN: &quot;46703&quot;,&quot;KP SUN&quot;\n+COPN: &quot;47001&quot;,&quot;Grameenphone&quot;\n+COPN: &quot;47002&quot;,&quot;robi axiata&quot;\n+COPN: &quot;47003&quot;,&quot;Banglalink&quot;\n+COPN: &quot;47004&quot;,&quot;BGD bMobile&quot;\n+COPN: &quot;47007&quot;,&quot;Airtel&quot;\n+COPN: &quot;47009&quot;,&quot;BGD-BIEL&quot;\n+COPN: &quot;47201&quot;,&quot;DHIRAAGU&quot;\n+COPN: &quot;47202&quot;,&quot;Ooredoo Maldives PVT LTD&quot;\n+COPN: &quot;50200&quot;,&quot;TIME3G&quot;\n+COPN: &quot;50201&quot;,&quot;TIME3G&quot;\n+COPN: &quot;50212&quot;,&quot;MY MAXIS&quot;\n+COPN: &quot;50213&quot;,&quot;MY CELCOM 3G&quot;\n+COPN: &quot;50216&quot;,&quot;Digi&quot;\n+COPN: &quot;50218&quot;,&quot;U MOBILE&quot;\n+COPN: &quot;50219&quot;,&quot;MY CELCOM&quot;\n+COPN: &quot;502152&quot;,&quot;Yes 4G&quot;\n+COPN: &quot;502153&quot;,&quot;unifi&quot;\n+COPN: &quot;502156&quot;,&quot;MYSALTEL&quot;\n+COPN: &quot;50501&quot;,&quot;Telstra Mobile&quot;\n+COPN: &quot;50502&quot;,&quot;Optus AU&quot;\n+COPN: &quot;50503&quot;,&quot;vodafone AU&quot;\n+COPN: &quot;50506&quot;,&quot;3TELSTRA&quot;\n+COPN: &quot;50510&quot;,&quot;Norfolk Telecom&quot;\n+COPN: &quot;50550&quot;,&quot;Pivotel&quot;\n+COPN: &quot;50571&quot;,&quot;Telstra Mobile&quot;\n+COPN: &quot;50572&quot;,&quot;Telstra Mobile&quot;\n+COPN: &quot;51001&quot;,&quot;IND INDOSAT&quot;\n+COPN: &quot;51008&quot;,&quot;IND XL&quot;\n+COPN: &quot;51009&quot;,&quot;Smartfren&quot;\n+COPN: &quot;51010&quot;,&quot;IND TELKOMSEL&quot;\n+COPN: &quot;51011&quot;,&quot;IND XL&quot;\n+COPN: &quot;51021&quot;,&quot;IND INDOSAT&quot;\n+COPN: &quot;51028&quot;,&quot;Smartfren&quot;\n+COPN: &quot;51088&quot;,&quot;BoltSuper4G&quot;\n+COPN: &quot;51089&quot;,&quot;3&quot;\n+COPN: &quot;51401&quot;,&quot;TLS-TC&quot;\n+COPN: &quot;51402&quot;,&quot;TLS-TT&quot;\n+COPN: &quot;51501&quot;,&quot;ISLACOM&quot;\n+COPN: &quot;51502&quot;,&quot;Globe Telecom-PH&quot;\n+COPN: &quot;51503&quot;,&quot;SMART&quot;\n+COPN: &quot;51505&quot;,&quot;PH Sun Cellular&quot;\n+COPN: &quot;51518&quot;,&quot;CURE&quot;\n+COPN: &quot;52000&quot;,&quot;TH 3G+&quot;\n+COPN: &quot;52001&quot;,&quot;AIS&quot;\n+COPN: &quot;52003&quot;,&quot;AIS&quot;\n+COPN: &quot;52004&quot;,&quot;TRUE-H&quot;\n+COPN: &quot;52005&quot;,&quot;dtac TriNet&quot;\n+COPN: &quot;520015&quot;,&quot;TH ACT 1900&quot;\n+COPN: &quot;52015&quot;,&quot;TOT3G&quot;\n+COPN: &quot;52018&quot;,&quot;TH-DTAC&quot;\n+COPN: &quot;52099&quot;,&quot;TRUE-H&quot;\n+COPN: &quot;52501&quot;,&quot;Singtel&quot;\n+COPN: &quot;52502&quot;,&quot;Singtel&quot;\n+COPN: &quot;52503&quot;,&quot;SGP-M1&quot;\n+COPN: &quot;52505&quot;,&quot;StarHub&quot;\n+COPN: &quot;52507&quot;,&quot;SGP Call Zone&quot;\n+COPN: &quot;52508&quot;,&quot;StarHub&quot;\n+COPN: &quot;52802&quot;,&quot;PCSB&quot;\n+COPN: &quot;52811&quot;,&quot;BRU-DSTCom&quot;\n+COPN: &quot;53001&quot;,&quot;vodafone NZ&quot;\n+COPN: &quot;53005&quot;,&quot;Spark NZ&quot;\n+COPN: &quot;53024&quot;,&quot;2degrees&quot;\n+COPN: &quot;53701&quot;,&quot;bmobile&quot;\n+COPN: &quot;53702&quot;,&quot;Telikom PNG&quot;\n+COPN: &quot;53703&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;53901&quot;,&quot;U-CALL&quot;\n+COPN: &quot;53988&quot;,&quot;Digicel Tonga&quot;\n+COPN: &quot;54001&quot;,&quot;Our Telekom&quot;\n+COPN: &quot;54002&quot;,&quot;bmobile&quot;\n+COPN: &quot;54101&quot;,&quot;VUT SMILE&quot;\n+COPN: &quot;54105&quot;,&quot;Digicel&quot;\n+COPN: &quot;54201&quot;,&quot;FJ VODAFONE&quot;\n+COPN: &quot;54202&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;54301&quot;,&quot;Manuia&quot;\n+COPN: &quot;544011&quot;,&quot;Blue Sky&quot;\n+COPN: &quot;544110&quot;,&quot;Bluesky Communications&quot;\n+COPN: &quot;544544&quot;,&quot;Blue Sky Communications&quot;\n+COPN: &quot;54601&quot;,&quot;NCL MOBILIS&quot;\n+COPN: &quot;54715&quot;,&quot;VODAFONE PF&quot;\n+COPN: &quot;54720&quot;,&quot;F-VINI&quot;\n+COPN: &quot;54801&quot;,&quot;CK KOKANET&quot;\n+COPN: &quot;54900&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;54927&quot;,&quot;Bluesky&quot;\n+COPN: &quot;55001&quot;,&quot;FSM Telecom&quot;\n+COPN: &quot;55101&quot;,&quot;MH-NTA&quot;\n+COPN: &quot;55201&quot;,&quot;PalauCel&quot;\n+COPN: &quot;55301&quot;,&quot;FSM Telecom&quot;\n+COPN: &quot;55401&quot;,&quot;Teletok&quot;\n+COPN: &quot;60201&quot;,&quot;Orange EG&quot;\n+COPN: &quot;60202&quot;,&quot;vodafone EG&quot;\n+COPN: &quot;60203&quot;,&quot;Etisalat&quot;\n+COPN: &quot;60204&quot;,&quot;EGYwe&quot;\n+COPN: &quot;60301&quot;,&quot;ALG Mobilis&quot;\n+COPN: &quot;60302&quot;,&quot;Djezzy&quot;\n+COPN: &quot;60303&quot;,&quot;ooredoo Algeria&quot;\n+COPN: &quot;60400&quot;,&quot;Orange MA&quot;\n+COPN: &quot;60401&quot;,&quot;MOR IAM&quot;\n+COPN: &quot;60402&quot;,&quot;inwi&quot;\n+COPN: &quot;60501&quot;,&quot;Orange TN&quot;\n+COPN: &quot;60502&quot;,&quot;TUNISIE TELECOM&quot;\n+COPN: &quot;60503&quot;,&quot;TUNISIANA&quot;\n+COPN: &quot;60600&quot;,&quot;Libyana&quot;\n+COPN: &quot;60601&quot;,&quot;Al Madar&quot;\n+COPN: &quot;60691&quot;,&quot;Almadar&quot;\n+COPN: &quot;606218&quot;,&quot;Almadar&quot;\n+COPN: &quot;60701&quot;,&quot;GAMCEL&quot;\n+COPN: &quot;60702&quot;,&quot;AFRICELL&quot;\n+COPN: &quot;60703&quot;,&quot;GM COMIUM&quot;\n+COPN: &quot;60704&quot;,&quot;Qcell&quot;\n+COPN: &quot;60801&quot;,&quot;Orange SN&quot;\n+COPN: &quot;60802&quot;,&quot;SN-SENTEL SG&quot;\n+COPN: &quot;60803&quot;,&quot;SEN expresso&quot;\n+COPN: &quot;60901&quot;,&quot;MR MATTEL&quot;\n+COPN: &quot;60902&quot;,&quot;MR Expresso&quot;\n+COPN: &quot;60910&quot;,&quot;MAURITEL&quot;\n+COPN: &quot;61001&quot;,&quot;MALITEL ML&quot;\n+COPN: &quot;61002&quot;,&quot;ORANGE ML&quot;\n+COPN: &quot;61003&quot;,&quot;TELECEL ML&quot;\n+COPN: &quot;61101&quot;,&quot;Orange GN&quot;\n+COPN: &quot;61104&quot;,&quot;GNMTN&quot;\n+COPN: &quot;61105&quot;,&quot;GINCL&quot;\n+COPN: &quot;61202&quot;,&quot;MOOV CI&quot;\n+COPN: &quot;61203&quot;,&quot;Orange&quot;\n+COPN: &quot;61204&quot;,&quot;KoZ&quot;\n+COPN: &quot;61205&quot;,&quot;MTN CI&quot;\n+COPN: &quot;61301&quot;,&quot;ONATEL&quot;\n+COPN: &quot;61302&quot;,&quot;Orange BF&quot;\n+COPN: &quot;61401&quot;,&quot;SAHELCOM&quot;\n+COPN: &quot;61402&quot;,&quot;Airtel&quot;\n+COPN: &quot;61403&quot;,&quot;ETISALAT NER&quot;\n+COPN: &quot;61404&quot;,&quot;Orange&quot;\n+COPN: &quot;61501&quot;,&quot;TG-TOGO CELL&quot;\n+COPN: &quot;61503&quot;,&quot;ETISALAT TOGO&quot;\n+COPN: &quot;61602&quot;,&quot;ETISALAT BENIN&quot;\n+COPN: &quot;61603&quot;,&quot;MTN BENIN&quot;\n+COPN: &quot;61701&quot;,&quot;CELLPLUS-MRU&quot;\n+COPN: &quot;61703&quot;,&quot;MTML&quot;\n+COPN: &quot;61710&quot;,&quot;EMTEL-MRU&quot;\n+COPN: &quot;61801&quot;,&quot;LBR Lonestar Cell&quot;\n+COPN: &quot;61804&quot;,&quot;Novafone 4G&quot;\n+COPN: &quot;61807&quot;,&quot;Orange LBR&quot;\n+COPN: &quot;61901&quot;,&quot;Orange SL&quot;\n+COPN: &quot;61902&quot;,&quot;MILLICOM SL&quot;\n+COPN: &quot;61905&quot;,&quot;Africell&quot;\n+COPN: &quot;61907&quot;,&quot;GreenN SL&quot;\n+COPN: &quot;62001&quot;,&quot;GH MTN&quot;\n+COPN: &quot;62002&quot;,&quot;GH Vodafone&quot;\n+COPN: &quot;62003&quot;,&quot;AirtelTigo&quot;\n+COPN: &quot;62006&quot;,&quot;AirtelTigo&quot;\n+COPN: &quot;620620&quot;,&quot;Glo Ghana&quot;\n+COPN: &quot;62120&quot;,&quot;Airtel&quot;\n+COPN: &quot;62130&quot;,&quot;MTN - NG&quot;\n+COPN: &quot;62140&quot;,&quot;ntel&quot;\n+COPN: &quot;62150&quot;,&quot;Glo NG&quot;\n+COPN: &quot;62160&quot;,&quot;9mobile&quot;\n+COPN: &quot;62201&quot;,&quot;Airtel&quot;\n+COPN: &quot;62203&quot;,&quot;Tigo TD&quot;\n+COPN: &quot;62301&quot;,&quot;ETISALAT RCA&quot;\n+COPN: &quot;62302&quot;,&quot;Telecel&quot;\n+COPN: &quot;62303&quot;,&quot;Orange RCA&quot;\n+COPN: &quot;62401&quot;,&quot;MTN CAM&quot;\n+COPN: &quot;62402&quot;,&quot;Orange CM&quot;\n+COPN: &quot;62404&quot;,&quot;Nexttel&quot;\n+COPN: &quot;62501&quot;,&quot;CVMOVEL&quot;\n+COPN: &quot;62502&quot;,&quot;Unitel T+&quot;\n+COPN: &quot;62601&quot;,&quot;STP CSTmovel&quot;\n+COPN: &quot;62602&quot;,&quot;Unitel STP&quot;\n+COPN: &quot;62701&quot;,&quot;GETESA&quot;\n+COPN: &quot;62703&quot;,&quot;GNQ-Muni&quot;\n+COPN: &quot;62801&quot;,&quot;LIBERTIS&quot;\n+COPN: &quot;62802&quot;,&quot;ETISALAT GAB&quot;\n+COPN: &quot;62803&quot;,&quot;Airtel&quot;\n+COPN: &quot;62804&quot;,&quot;AZUR&quot;\n+COPN: &quot;62901&quot;,&quot;Airtel&quot;\n+COPN: &quot;62910&quot;,&quot;COG MTN&quot;\n+COPN: &quot;63001&quot;,&quot;Vodacom Congo&quot;\n+COPN: &quot;63002&quot;,&quot;Airtel&quot;\n+COPN: &quot;63086&quot;,&quot;Orange RDC&quot;\n+COPN: &quot;63089&quot;,&quot;TIGO DRC&quot;\n+COPN: &quot;63090&quot;,&quot;Africell RDC&quot;\n+COPN: &quot;63102&quot;,&quot;UNITEL&quot;\n+COPN: &quot;63104&quot;,&quot;MOVICEL&quot;\n+COPN: &quot;63202&quot;,&quot;MTN&quot;\n+COPN: &quot;632003&quot;,&quot;Orange GB&quot;\n+COPN: &quot;63207&quot;,&quot;GTM&quot;\n+COPN: &quot;63301&quot;,&quot;C&amp;W SEY&quot;\n+COPN: &quot;63310&quot;,&quot;Airtel&quot;\n+COPN: &quot;63401&quot;,&quot;Zain SDN&quot;\n+COPN: &quot;63402&quot;,&quot;MTN&quot;\n+COPN: &quot;63405&quot;,&quot;Vivacell&quot;\n+COPN: &quot;63406&quot;,&quot;Zain SD&quot;\n+COPN: &quot;63501&quot;,&quot;RWAAR&quot;\n+COPN: &quot;63504&quot;,&quot;RWAAR&quot;\n+COPN: &quot;63510&quot;,&quot;MTN RWANDA&quot;\n+COPN: &quot;63512&quot;,&quot;RWTEL&quot;\n+COPN: &quot;63513&quot;,&quot;TIGO RWANDA&quot;\n+COPN: &quot;63514&quot;,&quot;Airtel&quot;\n+COPN: &quot;63601&quot;,&quot;ETH MTN&quot;\n+COPN: &quot;63701&quot;,&quot;SO Telesom&quot;\n+COPN: &quot;63730&quot;,&quot;Som Golis&quot;\n+COPN: &quot;63750&quot;,&quot;Hormuud Telecom&quot;\n+COPN: &quot;63782&quot;,&quot;Telsom&quot;\n+COPN: &quot;63801&quot;,&quot;DJ EVATIS&quot;\n+COPN: &quot;63902&quot;,&quot;Safaricom&quot;\n+COPN: &quot;63903&quot;,&quot;Airtel&quot;\n+COPN: &quot;63907&quot;,&quot;Telkom&quot;\n+COPN: &quot;63910&quot;,&quot;FAIBA&quot;\n+COPN: &quot;64002&quot;,&quot;TIGO - TZ&quot;\n+COPN: &quot;64003&quot;,&quot;ZANTEL-TZ&quot;\n+COPN: &quot;64004&quot;,&quot;VodaCom&quot;\n+COPN: &quot;64005&quot;,&quot;Airtel&quot;\n+COPN: &quot;64009&quot;,&quot;Hits TZ&quot;\n+COPN: &quot;64101&quot;,&quot;Airtel&quot;\n+COPN: &quot;64106&quot;,&quot;VodafoneUG&quot;\n+COPN: &quot;64110&quot;,&quot;MTN-UGANDA&quot;\n+COPN: &quot;64111&quot;,&quot;Uganda Telecom&quot;\n+COPN: &quot;64114&quot;,&quot;Africell Uganda&quot;\n+COPN: &quot;64118&quot;,&quot;Suretelcom&quot;\n+COPN: &quot;64122&quot;,&quot;Airtel&quot;\n+COPN: &quot;64203&quot;,&quot;ONATEL BDI&quot;\n+COPN: &quot;64207&quot;,&quot;SMART&quot;\n+COPN: &quot;64282&quot;,&quot;TELECEL-BDI&quot;\n+COPN: &quot;64301&quot;,&quot;MOZ - mCel&quot;\n+COPN: &quot;64303&quot;,&quot;MOVITEL&quot;\n+COPN: &quot;64304&quot;,&quot;VodaCom-MZ&quot;\n+COPN: &quot;64501&quot;,&quot;Airtel&quot;\n+COPN: &quot;64502&quot;,&quot;MTN ZM&quot;\n+COPN: &quot;64503&quot;,&quot;ZAMTEL&quot;\n+COPN: &quot;64601&quot;,&quot;Airtel&quot;\n+COPN: &quot;64602&quot;,&quot;Orange&quot;\n+COPN: &quot;64604&quot;,&quot;TELMA&quot;\n+COPN: &quot;64605&quot;,&quot;Bip&quot;\n+COPN: &quot;64700&quot;,&quot;Orange re&quot;\n+COPN: &quot;64701&quot;,&quot;MAORE MOBILE&quot;\n+COPN: &quot;64702&quot;,&quot;ONLY&quot;\n+COPN: &quot;64703&quot;,&quot;FREE MOBILE RE&quot;\n+COPN: &quot;64704&quot;,&quot;ZEOP&quot;\n+COPN: &quot;64801&quot;,&quot;ZW NET*ONE&quot;\n+COPN: &quot;64803&quot;,&quot;TELECEL ZW&quot;\n+COPN: &quot;64804&quot;,&quot;ZW ECONET&quot;\n+COPN: &quot;64901&quot;,&quot;MTC NAMIBIA&quot;\n+COPN: &quot;64903&quot;,&quot;tnmobile&quot;\n+COPN: &quot;65001&quot;,&quot;TNM&quot;\n+COPN: &quot;65010&quot;,&quot;Airtel&quot;\n+COPN: &quot;65101&quot;,&quot;Vodacom Lesotho&quot;\n+COPN: &quot;65102&quot;,&quot;LS-ETL&quot;\n+COPN: &quot;65201&quot;,&quot;BW MASCOM&quot;\n+COPN: &quot;65202&quot;,&quot;Orange&quot;\n+COPN: &quot;65204&quot;,&quot;beMOBILE&quot;\n+COPN: &quot;65302&quot;,&quot;Swazi Mobile&quot;\n+COPN: &quot;65310&quot;,&quot;Swazi-MTN&quot;\n+COPN: &quot;65401&quot;,&quot;HURI&quot;\n+COPN: &quot;65402&quot;,&quot;TELCO&quot;\n+COPN: &quot;65501&quot;,&quot;VodaCom-SA&quot;\n+COPN: &quot;65502&quot;,&quot;Telkom SA&quot;\n+COPN: &quot;65505&quot;,&quot;Telkom SA&quot;\n+COPN: &quot;65507&quot;,&quot;Cell C&quot;\n+COPN: &quot;65510&quot;,&quot;MTN-SA&quot;\n+COPN: &quot;65538&quot;,&quot;rain&quot;\n+COPN: &quot;65801&quot;,&quot;Sure&quot;\n+COPN: &quot;65902&quot;,&quot;MTN&quot;\n+COPN: &quot;65904&quot;,&quot;Vivacell&quot;\n+COPN: &quot;65906&quot;,&quot;ZAIN SS&quot;\n+COPN: &quot;702067&quot;,&quot;BTL&quot;\n+COPN: &quot;70269&quot;,&quot;Smart&quot;\n+COPN: &quot;704001&quot;,&quot;CLARO GTM&quot;\n+COPN: &quot;70402&quot;,&quot;TIGO&quot;\n+COPN: &quot;704003&quot;,&quot;Movistar&quot;\n+COPN: &quot;706001&quot;,&quot;CLARO SLV&quot;\n+COPN: &quot;70602&quot;,&quot;Digicel&quot;\n+COPN: &quot;70603&quot;,&quot;Tigo SV&quot;\n+COPN: &quot;706004&quot;,&quot;Movistar&quot;\n+COPN: &quot;706010&quot;,&quot;ESV PERSONAL&quot;\n+COPN: &quot;708001&quot;,&quot;CLARO HND&quot;\n+COPN: &quot;70802&quot;,&quot;TIGOHND&quot;\n+COPN: &quot;708030&quot;,&quot;HND&quot;\n+COPN: &quot;710021&quot;,&quot;CLARO NIC&quot;\n+COPN: &quot;710073&quot;,&quot;CLARO NIC&quot;\n+COPN: &quot;710300&quot;,&quot;Movistar&quot;\n+COPN: &quot;71200&quot;,&quot;I.C.E.&quot;\n+COPN: &quot;71201&quot;,&quot;I.C.E.&quot;\n+COPN: &quot;71202&quot;,&quot;I.C.E.&quot;\n+COPN: &quot;71203&quot;,&quot;CLARO CR&quot;\n+COPN: &quot;71204&quot;,&quot;Movistar&quot;\n+COPN: &quot;71401&quot;,&quot;+Movil - C&amp;W PAN&quot;\n+COPN: &quot;714003&quot;,&quot;CLARO PA&quot;\n+COPN: &quot;714004&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;71420&quot;,&quot;Movistar&quot;\n+COPN: &quot;71606&quot;,&quot;MOVISTAR&quot;\n+COPN: &quot;716010&quot;,&quot;CLARO PER&quot;\n+COPN: &quot;716015&quot;,&quot;Viettel Peru&quot;\n+COPN: &quot;716017&quot;,&quot;Entel&quot;\n+COPN: &quot;722007&quot;,&quot;AR - Movistar&quot;\n+COPN: &quot;72210&quot;,&quot;AR - TEFMVNO&quot;\n+COPN: &quot;72234&quot;,&quot;AR PERSONAL&quot;\n+COPN: &quot;722036&quot;,&quot;AR PERSONAL&quot;\n+COPN: &quot;722310&quot;,&quot;CLARO ARGENTINA&quot;\n+COPN: &quot;72402&quot;,&quot;TIM BRA&quot;\n+COPN: &quot;72403&quot;,&quot;TIM BRA&quot;\n+COPN: &quot;72404&quot;,&quot;TIM BRA&quot;\n+COPN: &quot;72405&quot;,&quot;Claro BRA&quot;\n+COPN: &quot;724006&quot;,&quot;VIVO&quot;\n+COPN: &quot;72408&quot;,&quot;Telecom Italia Mobile&quot;\n+COPN: &quot;724010&quot;,&quot;VIVO&quot;\n+COPN: &quot;724011&quot;,&quot;VIVO&quot;\n+COPN: &quot;72415&quot;,&quot;BRA SCTL&quot;\n+COPN: &quot;72416&quot;,&quot;Oi&quot;\n+COPN: &quot;72423&quot;,&quot;VIVO&quot;\n+COPN: &quot;72424&quot;,&quot;Oi&quot;\n+COPN: &quot;72431&quot;,&quot;Oi&quot;\n+COPN: &quot;72432&quot;,&quot;Algar Telecom&quot;\n+COPN: &quot;72433&quot;,&quot;Algar Telecom&quot;\n+COPN: &quot;72434&quot;,&quot;Algar Telecom&quot;\n+COPN: &quot;72439&quot;,&quot;Nextel Brasil&quot;\n+COPN: &quot;730001&quot;,&quot;ENTEL PCS&quot;\n+COPN: &quot;730002&quot;,&quot;Movistar&quot;\n+COPN: &quot;730003&quot;,&quot;CLARO CHL&quot;\n+COPN: &quot;730007&quot;,&quot;Movistar&quot;\n+COPN: &quot;73009&quot;,&quot;WOM&quot;\n+COPN: &quot;730010&quot;,&quot;ENTEL PCS&quot;\n+COPN: &quot;730730&quot;,&quot;CHL Movistar&quot;\n+COPN: &quot;732101&quot;,&quot;Claro&quot;\n+COPN: &quot;732103&quot;,&quot;TIGO&quot;\n+COPN: &quot;732111&quot;,&quot;TIGO&quot;\n+COPN: &quot;732123&quot;,&quot;Movistar&quot;\n+COPN: &quot;732130&quot;,&quot;Avantel&quot;\n+COPN: &quot;732187&quot;,&quot;ETB 4G&quot;\n+COPN: &quot;73402&quot;,&quot;DIGITEL&quot;\n+COPN: &quot;73404&quot;,&quot;Movistar&quot;\n+COPN: &quot;73406&quot;,&quot;VE\u2592MOVILNET&quot;\n+COPN: &quot;736001&quot;,&quot;VIVA&quot;\n+COPN: &quot;73602&quot;,&quot;BOMOV&quot;\n+COPN: &quot;73603&quot;,&quot;TIGO&quot;\n+COPN: &quot;73801&quot;,&quot;Digicel&quot;\n+COPN: &quot;73802&quot;,&quot;GUY GTT + Do More&quot;\n+COPN: &quot;740000&quot;,&quot;Movistar&quot;\n+COPN: &quot;74001&quot;,&quot;CLARO&quot;\n+COPN: &quot;740002&quot;,&quot;CNT&quot;\n+COPN: &quot;744001&quot;,&quot;HOLA PARAGUAY S.A.&quot;\n+COPN: &quot;744002&quot;,&quot;CLARO PY&quot;\n+COPN: &quot;744004&quot;,&quot;TIGO PY&quot;\n+COPN: &quot;744005&quot;,&quot;PY Personal&quot;\n+COPN: &quot;74602&quot;,&quot;SR.TELESUR.GSM&quot;\n+COPN: &quot;74603&quot;,&quot;DIGICEL&quot;\n+COPN: &quot;74801&quot;,&quot;Antel&quot;\n+COPN: &quot;748007&quot;,&quot;Movistar&quot;\n+COPN: &quot;748010&quot;,&quot;CLARO URUGUAY&quot;\n+COPN: &quot;75001&quot;,&quot;Sure FLK&quot;\n+COPN: &quot;79502&quot;,&quot;TM CELL&quot;\n+COPN: &quot;90111&quot;,&quot;Inmarsat&quot;\n+COPN: &quot;901012&quot;,&quot;Telenor Maritime&quot;\n+COPN: &quot;90114&quot;,&quot;AeroMobile&quot;\n+COPN: &quot;90115&quot;,&quot;OnAir&quot;\n+COPN: &quot;90126&quot;,&quot;TIM\u2592sea&quot;\n+COPN: &quot;901044&quot;,&quot;AT&amp;T&quot;\n+COPN: &quot;90145&quot;,&quot;AISatSea&quot;\n+COPN: &quot;90146&quot;,&quot;Telecom26&quot;\n</code></pre>\n<p>I'm pretty confused, could someone give me some more information?</p>\n"
    }, {
        "tags": ["python", "iot"],
        "is_answered": true,
        "view_count": 95,
        "favorite_count": 0,
        "closed_date": 1604907762,
        "score": -1,
        "last_activity_date": 1604907707,
        "creation_date": 1604904910,
        "last_edit_date": 1604905101,
        "question_id": 64747012,
        "link": "https://stackoverflow.com/questions/64747012/indentationerror-unindent-does-not-match-any-outer-indentation-level-in-file-ma",
        "title": "IndentationError: unindent does not match any outer indentation level in file main.py on line 16",
        "body": "<p>I tried to do Packet Tracer \u2013 SBC Actuate With Python practical. But when I tried to code SBC, I am getting the following error.\n&quot;IndentationError: unindent does not match any outer indentation level in file main.py on line 16 &quot;\nHow can I fix this error?<a href=\"https://i.stack.imgur.com/wRkzl.jpg\" rel=\"nofollow noreferrer\">This is the error that I am getting</a></p>\n<pre><code>from gpio import  *\nfrom time import  *\n\ndef main() : \n    while True:\n            motion_sensor  =  digitalRead(9)\n            if motion_sensor  ==  HIGH:\n                    print(&quot;Someone's awake.&quot;);\n                    print(&quot;Making Coffee...&quot;);\n                    customWrite(1,2)\n                    customWrite(2,2)\n                    delay(6000)\n                    print(&quot;Done. Coffee is ready.&quot;);\n                    customWrite(1,0)\n                    customWrite(2,0)\n            delay(500)\n    if __name__  ==  &quot;_\n</code></pre>\n"
    }, {
        "tags": ["api", "request", "iot", "fiware"],
        "is_answered": true,
        "view_count": 138,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1604770289,
        "creation_date": 1603062180,
        "last_edit_date": 1603400650,
        "question_id": 64419174,
        "link": "https://stackoverflow.com/questions/64419174/fiware-iot-agent-json-refused-to-post-to-v2-op-update",
        "title": "Fiware IoT Agent Json refused to POST to /v2/op/update",
        "body": "<p>I am interested in fiware IoT Agent JSON, and i tried to work things out.\nI've mange to install the IoT Agent JSON using <a href=\"https://github.com/FIWARE/tutorials.IoT-Agent-JSON\" rel=\"nofollow noreferrer\">this</a> tutorial.\nThe tutorial refers about IoT Actuator Connection and to check the connection we have to POST to {IoTAgentIP:Port}/v2/op/update.\nWhen I post to this endpoint I get:</p>\n<pre><code>&lt;html lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n   &lt;meta charset=&quot;utf-8&quot;&gt;\n   &lt;title&gt;Error&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n   &lt;pre&gt;Cannot POST /v2/op/update&lt;/pre&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>My Post Command Is:</p>\n<pre><code>curl -iX POST \\\n  http://localhost:4041/v2/op/update \\\n  -H 'Content-Type: application/json' \\\n  -H 'fiware-service: openiot' \\\n  -H 'fiware-servicepath: /' \\\n  -d '{\n    &quot;actionType&quot;: &quot;update&quot;,\n    &quot;entities&quot;: [\n        {\n            &quot;type&quot;: &quot;Alarm&quot;,\n            &quot;id&quot;: &quot;urn:ngsi-ld:Alarm:001&quot;,\n            &quot;ring&quot; : {\n                &quot;type&quot;: &quot;command&quot;,\n                &quot;value&quot;: &quot;&quot;\n            }\n        }\n    ]\n}'\n</code></pre>\n<p>And</p>\n<pre><code>curl -iX POST \\\n  http://localhost:4041/v2/op/update \\\n  -H 'Content-Type: application/json' \\\n  -H 'fiware-service: openiot' \\\n  -H 'fiware-servicepath: /' \\\n  -d '{\n    &quot;actionType&quot;: &quot;update&quot;,\n    &quot;entities&quot;: [\n        {\n            &quot;type&quot;: &quot;Bell&quot;,\n            &quot;id&quot;: &quot;urn:ngsi-ld:Bell:001&quot;,\n            &quot;ring&quot; : {\n                &quot;type&quot;: &quot;command&quot;,\n                &quot;value&quot;: &quot;&quot;\n            }\n        }\n    ]\n}'\n</code></pre>\n<p>My IoT agent version is:</p>\n<pre><code>{\n    &quot;libVersion&quot;: &quot;2.12.0-next&quot;,\n    &quot;port&quot;: 4041,\n    &quot;baseRoot&quot;: &quot;/&quot;,\n    &quot;version&quot;: &quot;1.14.0-next&quot;\n}\n</code></pre>\n<p>Update - With latest Version of IoTA and orion I get in the IoTA log File the below:</p>\n<pre><code>time=2020-10-22T20:46:49.063Z | lvl=DEBUG | corr=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | trans=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | op=IoTAgentNGSI.DeviceService | srv=n/a | subsrv=n/a | msg=Creating initial entity in the Context Broker:\n {\n    &quot;url&quot;: &quot;http://localhost:1026/v1/updateContext&quot;,\n    &quot;method&quot;: &quot;POST&quot;,\n    &quot;json&quot;: {\n        &quot;contextElements&quot;: [\n            {\n                &quot;type&quot;: &quot;Bell&quot;,\n                &quot;isPattern&quot;: &quot;false&quot;,\n                &quot;id&quot;: &quot;urn:ngsi-ld:Bell:001&quot;,\n                &quot;attributes&quot;: [\n                    {\n                        &quot;name&quot;: &quot;refStore&quot;,\n                        &quot;type&quot;: &quot;Relationship&quot;,\n                        &quot;value&quot;: &quot;urn:ngsi-ld:Store:001&quot;\n                    },\n                    {\n                        &quot;name&quot;: &quot;ring_status&quot;,\n                        &quot;type&quot;: &quot;commandStatus&quot;,\n                        &quot;value&quot;: &quot;UNKNOWN&quot;\n                    },\n                    {\n                        &quot;name&quot;: &quot;ring_info&quot;,\n                        &quot;type&quot;: &quot;commandResult&quot;,\n                        &quot;value&quot;: &quot; &quot;\n                    },\n                    {\n                        &quot;name&quot;: &quot;TimeInstant&quot;,\n                        &quot;type&quot;: &quot;ISO8601&quot;,\n                        &quot;value&quot;: &quot; &quot;\n                    }\n                ]\n            }\n        ],\n        &quot;updateAction&quot;: &quot;APPEND&quot;\n    },\n    &quot;headers&quot;: {\n        &quot;fiware-service&quot;: &quot;openiot&quot;,\n        &quot;fiware-servicepath&quot;: &quot;/&quot;,\n        &quot;fiware-correlator&quot;: &quot;7c9fba8d-9262-4f81-9b4e-f71ab57953ff&quot;\n    }\n} | comp=IoTAgent\ntime=2020-10-22T20:46:49.063Z | lvl=DEBUG | corr=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | trans=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | op=IoTAgentNGSI.DeviceService | srv=n/a | subsrv=n/a | msg=executeWithSecurity | comp=IoTAgent\ntime=2020-10-22T20:46:49.063Z | lvl=DEBUG | corr=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | trans=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | op=IoTAgentNGSI.MongoDBGroupRegister | srv=n/a | subsrv=n/a | msg=Looking for group params [&quot;type&quot;] with queryObj {&quot;type&quot;:&quot;Bell&quot;} | comp=IoTAgent\ntime=2020-10-22T20:46:49.069Z | lvl=DEBUG | corr=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | trans=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | op=IoTAgentNGSI.MongoDBGroupRegister | srv=n/a | subsrv=n/a | msg=Device group for fields [[&quot;type&quot;]] not found: [{&quot;type&quot;:&quot;Bell&quot;}] | comp=IoTAgent\ntime=2020-10-22T20:46:49.069Z | lvl=DEBUG | corr=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | trans=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | op=IoTAgentNGSI.DeviceService | srv=n/a | subsrv=n/a | msg=error {&quot;name&quot;:&quot;DEVICE_GROUP_NOT_FOUND&quot;,&quot;message&quot;:&quot;Couldn\\t find device group for fields: [\\&quot;type\\&quot;] and values: {\\&quot;type\\&quot;:\\&quot;Bell\\&quot;}&quot;,&quot;code&quot;:404} in get group device | comp=IoTAgent\ntime=2020-10-22T20:46:49.097Z | lvl=DEBUG | corr=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | trans=7c9fba8d-9262-4f81-9b4e-f71ab57953ff | op=IoTAgentNGSI.DeviceService | srv=n/a | subsrv=n/a | msg=Initial entity created successfully. | comp=IoTAgent\n</code></pre>\n"
    }, {
        "tags": ["android", "mqtt", "iot", "paho", "aws-certificate-manager"],
        "is_answered": true,
        "view_count": 777,
        "favorite_count": 0,
        "score": 4,
        "last_activity_date": 1604644292,
        "creation_date": 1499684975,
        "last_edit_date": 1499686419,
        "question_id": 45010487,
        "link": "https://stackoverflow.com/questions/45010487/aws-iot-just-in-time-registration-of-certificate-in-android",
        "title": "AWS IOT Just-in-Time Registration of Certificate in Android",
        "body": "<p>I am integrating the JITR by follwing this article.</p>\n\n<p><a href=\"https://aws.amazon.com/blogs/iot/just-in-time-registration-of-device-certificates-on-aws-iot/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/iot/just-in-time-registration-of-device-certificates-on-aws-iot/</a></p>\n\n<p>I am done with all these steps and able to authenticate the certificate through command-line 'mosquitto_pub'.</p>\n\n<p>First time when I run 'mosquitto_pub' command it calls lambda function to authorize it and attach policy and second time it publish message to IOT successfully.</p>\n\n<p>Here is command that I am using.</p>\n\n<pre><code>mosquitto_pub --cafile ../root.cert --cert hassanAndCACert.crt --key hassan.key -h &lt;###&gt;.iot.us-east-1.amazonaws.com\n-p 8883 -q 1 -t  topic5 -i  123456789 --tls-version tlsv1.2 -m '{\"hello\":\"3\"}' -d\n</code></pre>\n\n<p>But when I try to authenticate this in android SDK I am getting 'handshake' fail error. Here is exception that I am getting.</p>\n\n<blockquote>\n  <p>MqttException (0) - javax.net.ssl.SSLHandshakeException: Handshake\n  failedat\n  org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)at\n  org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:664)at\n  java.lang.Thread.run(Thread.java:818)Caused by:\n  javax.net.ssl.SSLHandshakeException: Handshake failedat\n  com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:441)at\n  org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:93)at\n  org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650)\n  ... 1 moreCaused by: javax.net.ssl.SSLProtocolException: SSL handshake\n  terminated: ssl=0xb91e9b40: Failure in SSL library, usually a protocol\n  errorerror:100c5416:SSL\n  routines:ssl3_read_bytes:SSLV3_ALERT_CERTIFICATE_UNKNOWN\n  (external/boringssl/src/ssl/s3_pkt.c:972 0xb9215530:0x00000001)at\n  com.android.org.conscrypt.NativeCrypto.SSL_do_handshake(Native\n  Method)at\n  com.android.org.conscrypt.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:353)</p>\n</blockquote>\n\n<p>Interestingly  if device-certificate is already active and we try to publish message through android it get published successfully. The only problem is to authenticate the certificate at first call. If my code is faulty it should not send message against activated-certificates.</p>\n\n<p>The difference that I see between mosquitto call and the android-code is that mosquitto is making a single command to connect and publish the message, where as PAHO-MQTT in AWS SDK needs to connect first before publishing, and I get exception in 'connect'. I even did not get any logs in AWS logs.</p>\n"
    }, {
        "tags": ["c#", "mqtt", "iot", "windows-forms-designer", "opc"],
        "is_answered": false,
        "view_count": 28,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1604592966,
        "creation_date": 1604592966,
        "question_id": 64701086,
        "link": "https://stackoverflow.com/questions/64701086/subscribe-to-an-mqtt-broker-and-write-into-opc-server-using-windows-forms-applic",
        "title": "Subscribe to an Mqtt broker and write into OPC server using windows Forms Application",
        "body": "<p>I'm trying to subscribe to an MQTT broker and write into an OPC server using windows forms application. But I have some problems I get always an exception &quot;<strong>Object reference not set to an instance of an object.&quot;</strong> everything is good but when i arrived to write into an opc server avec subscribing and getting the mqtt message i got an exception. Below is the code This a method in the  WCF service.\npublic void StartTransferFromMQTTtoOPC()\n{</p>\n<pre><code>        try\n        {\n            // Check if at least one transfer if configured\n            string jmsg;\n            while (TransferHelper.SubscribedBlockingCollection.TryTake(out jmsg))\n            {\n                // Check if any transfer is configured.\n                if (ExportedMQTTTransfers == null || ExportedMQTTTransfers.archList == null ||\n                    ExportedMQTTTransfers.archList.Count == 0)\n                    return;\n\n                // check which Mqtt Transfer is responsible for that topic\n                var message = JsonConvert.DeserializeObject&lt;TopicStruct&gt;(jmsg);\n                var mqqtmessage = message.Message;\n                var transfer = ExportedMQTTTransfers.archList.Find(x =&gt; x.Topic == message.TopicName);\n                // get Group Information and server information from the topic\n                //OPCGroup grp = transfer.OPCgrpsPerServer.TryGetValue()\n                //Load Configuration of specific topic Fields Mapping\n                Dictionary&lt;string, string&gt; fieldsmapping;\n                var first = transfer.OPCgrpsPerServer.First();\n                OPCGroup grp = first.Value[0];\n                fieldsmapping = grp.FieldsMapping;\n                StringBuilder payloadTransformer = new StringBuilder(&quot;{\\&quot;Iterator\\&quot;: {\\&quot;#loop($.ListofValues)\\&quot;: {&quot;);\n\n                foreach (KeyValuePair&lt;string, string&gt; entry in fieldsmapping)\n                {\n                    payloadTransformer.Append($&quot;\\&quot;{entry.Value}\\&quot;:\\&quot;#currentvalueatpath($.{entry.Key})\\&quot;,&quot;);\n                }\n                payloadTransformer.Length--;\n                payloadTransformer.Append(&quot;}}}&quot;);\n                string resPayload = JUST.JsonTransformer.Transform(payloadTransformer.ToString(), mqqtmessage);\n                var myItems = JsonConvert.DeserializeObject&lt;ConsumedItem&gt;(resPayload);\n                if (myItems is null)\n                {\n                    return;\n                }\n                MappedTags = new Dictionary&lt;string, Dictionary&lt;string, string&gt;&gt;();\n                List&lt;int&gt; lstItemHandles = new List&lt;int&gt;();\n                //Read From a CSV file and put data in a Dictionary\n                string csvFile = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, &quot;TagMappings.csv&quot;);\n                var rows = File.ReadAllLines(csvFile);\n                var totalcols = rows[0].Split(',').Length;\n                Dictionary&lt;string, string&gt; Y = new Dictionary&lt;string, string&gt;();\n                string columns = &quot;&quot;, csvCell = &quot;&quot;;\n                string[] column;\n                List&lt;string&gt; MQTTList = new List&lt;string&gt;();\n                List&lt;string&gt; csvList = new List&lt;string&gt;();\n                //  List&lt;string&gt; GroupNameList = new List&lt;string&gt;();\n\n                foreach (var words in rows)\n                {\n                    columns = words;\n\n                    column = columns.Split(new[] { ',' }, StringSplitOptions.None);\n\n\n                    for (int i = 0; i &lt; column.Length; i++)\n                    {\n                        //if (columns.Split(',')[0].Equals(&quot;GroupName&quot;))\n                        //{\n                        //    csvCell = columns.Split(',')[i];\n                        //    Console.WriteLine(csvCell);\n                        //    GroupNameList.Add(csvCell);\n                        //}\n                        if (columns.Split(',')[0].Equals(&quot;OPCTag&quot;))\n                        {\n                            csvCell = columns.Split(',')[i];\n\n                            csvList.Add(csvCell);\n                        }\n                        if (columns.Split(',')[0].Equals(&quot;MQTTTag&quot;))\n                        {\n                            csvCell = columns.Split(',')[i];\n\n                            MQTTList.Add(csvCell);\n                        }\n                    }\n                    Y = csvList.Zip(MQTTList, (k, v) =&gt; new { Key = k, Value = v }).ToDictionary(x =&gt; x.Value, x =&gt; x.Key);\n                    MQTTServiceLogger.TraceLog(MessageType.Control, &quot; Reading CSV file Successfully.&quot;);\n\n                }\n                //test Nadia\n                transfer.Name = &quot;Group0&quot;;\n                MappedTags.Add(grp.GroupName, Y);\n                // check if retrieved item exist in current group\n                Dictionary&lt;string, string&gt; tagsmapped = new Dictionary&lt;string, string&gt;();\n                MappedTags.TryGetValue(transfer.Name, out tagsmapped);\n                List&lt;OPCItemTransfer&gt; ToBeWriteItems = new List&lt;OPCItemTransfer&gt;();\n                List&lt;int&gt; Handles = new List&lt;int&gt;();\n                List&lt;object&gt; Values = new List&lt;object&gt;();\n                List&lt;string&gt; Items = new List&lt;string&gt;();\n                foreach (var item in myItems.Iterator)\n                {\n                    string itemname;\n                    if (tagsmapped.ContainsKey(item.ItemID))\n                    {\n                        //override List of items\n                        tagsmapped.TryGetValue(item.ItemID, out itemname);\n                        item.ItemID = itemname;\n                        ToBeWriteItems.Add(item);\n                        //Items.Add(item.ItemValue);\n                     MQTTServiceLogger.TraceLog(MessageType.Control, &quot;Tags Mapping succeeded .&quot;);\n                    }\n\n                }\n               \n                if (ToBeWriteItems.Count == 0)\n                {\n                    return;\n                }\n               \n                OPCItemTransfer item1 = new OPCItemTransfer();\n                for (int i = 0; i &lt; grp.listItems.Count; i++)\n                {\n                    lstItemHandles.Add(grp.listItems[i].serverItemHandle);\n                    item1 = ToBeWriteItems.Find(x =&gt; x.ItemID == grp.listItems[i].ItemID);\n                    Values.Add(item1.ItemValue);\n                    MQTTServiceLogger.TraceLog(MessageType.Control, &quot;Getting items values Successfully.&quot;);\n                }\n\n\n                if (Values.Count &gt; 0)\n                {\n                    //2.write to OPC\n                    switch (grp.grpWriteMode)\n                    {\n                        #region Synchronous write\n                        case WriteModes.Synchronous:\n                            {\n                                int[] arrErr;\n\n                                WriteSynch(grp.ServerIndex,\n                                      grp.GroupIndex, lstItemHandles.ToArray(),\n                                      Values.ToArray(), out arrErr);\n\n                                break;\n                            }\n                        #endregion\n                        #region Asynchronous write\n                        case WriteModes.Asynchronous:\n                            {\n                                int cancelID;\n                                int[] arrErr;\n                                int transactionID = 0;\n                                WriteAsynch(grp.ServerIndex, grp.GroupIndex, lstItemHandles.ToArray(),\n                                    Values.ToArray(), transactionID, out cancelID, out arrErr);\n                                break;\n                            }\n                        #endregion\n\n\n                        #region Synchronous write IO2\n                        case WriteModes.SynchronousIO2:\n                            {\n                                int[] arrErr;\n\n                                WriteSynch2(grp.ServerIndex,\n                                      grp.GroupIndex, lstItemHandles.ToArray(),\n                                      Values.ToArray(), out arrErr);\n\n                                break;\n                            }\n                        #endregion\n                        #region Asynchronous write IO3\n                        case WriteModes.AsynchronousIO3:\n                            {\n                                int cancelID;\n                                int[] arrErr;\n                                int transactionID = 0;\n                                WriteAsynch3(grp.ServerIndex, grp.GroupIndex, lstItemHandles.ToArray(),\n                                    Values.ToArray(), transactionID, out cancelID, out arrErr);\n\n                                break;\n                            }\n                            #endregion\n                    }\n                  \n\n                }\n                MQTTServiceLogger.TraceLog(MessageType.Error, &quot;Error while trying to write in an OPC Server.&quot;);\n            }\n        }\n        catch (Exception Ex0)\n        {\n\n            //throw;\n        }\n\n    } \n</code></pre>\n"
    }, {
        "tags": ["iot", "lora", "lorawan"],
        "is_answered": false,
        "view_count": 85,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1604402070,
        "creation_date": 1604390426,
        "question_id": 64658849,
        "link": "https://stackoverflow.com/questions/64658849/decode-lorawan-data-gps-tracker-moko-lw001-bg-thethings-network",
        "title": "decode lorawan data gps tracker Moko LW001-BG Thethings network",
        "body": "<p>I am new in Lora, I tray to connect my Lora GW &amp; GPS tracer LW001-BG to The things Network, &amp; it successfully connected to TTN, but how to convert or decode the data from the GPS to latlong format?\nhere is the documentation <a href=\"http://doc.mokotechnology.com/index.php?s=/2&amp;page_id=143\" rel=\"nofollow noreferrer\">http://doc.mokotechnology.com/index.php?s=/2&amp;page_id=143</a>\nI receive data format like this 02 01 56 F8 0B 45 F4 29 32 46  and I need to convert/decode it to readable format\nthanks I hope someone can help me</p>\n"
    }, {
        "tags": ["amazon-web-services", "mqtt", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 658,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1603985267,
        "creation_date": 1602234239,
        "last_edit_date": 1602235624,
        "question_id": 64276940,
        "link": "https://stackoverflow.com/questions/64276940/mqtt-fx-cant-connect-to-aws-iot-mqttexception",
        "title": "MQTT.fx can&#39;t connect to AWS IoT (MqttException)",
        "body": "<p>I am trying to follow this tutorial <a href=\"https://circuitdigest.com/tutorial/getting-started-with-amazon-aws-for-iot-projects\" rel=\"nofollow noreferrer\">https://circuitdigest.com/tutorial/getting-started-with-amazon-aws-for-iot-projects</a></p>\n<p><strong>I did the all steps again and again but I can't get rid of MqttException error when click on &quot;Connect&quot; button in MQTT.fx.</strong></p>\n<p><strong>I download the certificates from AWS IoT and keep them in C:\\temp folder. I also checked log tab in MQTT.fx here you can see that below. Do you have any idea about how to solve it?</strong></p>\n<p>Thanks a lot!</p>\n<blockquote>\n<p>2020-10-09 10:40:28,043 ERROR --- MqttFX ClientModel             :\nPlease verify your Settings (e.g. Broker Address, Broker Port &amp; Client\nID) and the user credentials!\norg.eclipse.paho.client.mqttv3.MqttException: MqttException   at\norg.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     at\norg.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:715)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     at\njava.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n~[?:1.8.0_162]    at java.util.concurrent.FutureTask.run(Unknown Source)\n~[?:1.8.0_162]    at\njava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown\nSource) ~[?:1.8.0_162]    at\njava.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown\nSource) ~[?:1.8.0_162]    at\njava.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n[?:1.8.0_162]     at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n[?:1.8.0_162]     at java.lang.Thread.run(Unknown Source) [?:1.8.0_162]\nCaused by: javax.net.ssl.SSLHandshakeException:\nsun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target     at\nsun.security.ssl.Alerts.getSSLException(Unknown Source) ~[?:1.8.0_162]\nat sun.security.ssl.SSLSocketImpl.fatal(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.Handshaker.fatalSE(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.Handshaker.processLoop(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.Handshaker.process_record(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n~[?:1.8.0_162]    at\norg.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:108)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     at\norg.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     ... 7 more Caused by:\nsun.security.validator.ValidatorException: PKIX path building failed:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target     at\nsun.security.validator.PKIXValidator.doBuild(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n~[?:1.8.0_162]    at sun.security.validator.Validator.validate(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.Handshaker.processLoop(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.Handshaker.process_record(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n~[?:1.8.0_162]    at\norg.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:108)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     at\norg.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     ... 7 more Caused by:\nsun.security.provider.certpath.SunCertPathBuilderException: unable to\nfind valid certification path to requested target     at\nsun.security.provider.certpath.SunCertPathBuilder.build(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.provider.certpath.SunCertPathBuilder.engineBuild(Unknown\nSource) ~[?:1.8.0_162]    at\njava.security.cert.CertPathBuilder.build(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.validator.PKIXValidator.doBuild(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.validator.PKIXValidator.engineValidate(Unknown Source)\n~[?:1.8.0_162]    at sun.security.validator.Validator.validate(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.X509TrustManagerImpl.validate(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.X509TrustManagerImpl.checkTrusted(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.X509TrustManagerImpl.checkServerTrusted(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.ClientHandshaker.serverCertificate(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.Handshaker.processLoop(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.Handshaker.process_record(Unknown Source)\n~[?:1.8.0_162]    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown\nSource) ~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n~[?:1.8.0_162]    at\nsun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n~[?:1.8.0_162]    at\norg.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:108)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     at\norg.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701)\n~[org.eclipse.paho.client.mqttv3-1.2.0.jar:?]     ... 7 more 2020-10-09\n10:40:28,045  INFO --- ScriptsController              : Clear console.\n2020-10-09 10:40:28,046 ERROR --- BrokerConnectService           :\nMqttException</p>\n</blockquote>\n"
    }, {
        "tags": ["python", "datetime", "iot", "datetime-format", "strftime"],
        "is_answered": true,
        "view_count": 873,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1603113063,
        "creation_date": 1602942769,
        "last_edit_date": 1602945745,
        "question_id": 64403223,
        "link": "https://stackoverflow.com/questions/64403223/how-to-get-hour-format-in-two-digit-00-00-00-in-python",
        "title": "How to get hour format in two digit (00.00.00) in python?",
        "body": "<p>Below is the sample code I am using inside my one of the application. I want Default hour format as 00 (e.g. <code>02:30:35</code>) and here I am getting as <code>0:00:03.011445</code> so I am using <code>strftime</code> but I am getting another exception there. Please guide on it.</p>\n<pre><code>from datetime import datetime\nfrom datetime import time\nfrom time import strftime\nimport time\n\nstart = datetime.now()\ntime.sleep(3)\nend = datetime.now()\n\nprint(start)\nprint(end)\ndt = (end - start)\nprint('Defual Time:', dt)\n\nprint('New Format DateTime', dt.strftime(&quot;%m/%d/%y %H:%M:%S&quot;))\n</code></pre>\n<p>I am getting below output.</p>\n<pre><code>2020-10-17 19:15:36.831928\n2020-10-17 19:15:39.843373\nDefualt Time: 0:00:03.011445\nTraceback (most recent call last):\n  File &quot;D:/New folder/IoT2.py&quot;, line 30, in &lt;module&gt;\n    print('New Format DateTime', dt.strftime(&quot;%m/%d/%y %H:%M:%S&quot;))\nAttributeError: 'datetime.timedelta' object has no attribute 'strftime'\n</code></pre>\n"
    }, {
        "tags": ["python", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 132,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1602408792,
        "creation_date": 1602337093,
        "last_edit_date": 1602408792,
        "question_id": 64294056,
        "link": "https://stackoverflow.com/questions/64294056/mqtt-iot-smart-plug-in-python",
        "title": "MQTT IoT smart plug in Python",
        "body": "<p>I am totally new in IoT and I have a code exercise for my university. I don't know how to connect this script in order to connect to MQTT and run without errors.</p>\n<p>How can I connect with MQTT? The script is the following:</p>\n<pre><code>import paho.mqtt.client as mqtt\nimport ssl\nimport os\nimport sys\n\nimport matplotlib.pyplot as plt\nfrom matplotlib.widgets import Button\nfrom threading import Timer\nfrom datetime import datetime\n\nclass IoTExample:\n    def __init__(self):\n        self._establish_mqtt_connection()\n\n    def start(self):\n        self.client.loop_forever() \n    \n    def disconnect(self, args=None):\n        self.client.disconnect()\n\n    def _establish_mqtt_connection(self):\n        self.client = mqtt.Client\n        self.client.on_log = self._on_log\n        client.username_pw_set('iotlesson', 'YGK0tx5pbtkK2WkCBvJlJWCg')\n        self.client.connect('phoenix.medialab.ntua.gr', 8883)\n        client.subscribe('hscnl/hscnl02/state/ZWaveNode005_Switch/state')\n        self.client.publish('hscnl/hscnl02/sendcommand/ZWaveNode005_Switch', 'ON')\n        self.client.loop_forever()\n\n    def _on_connect(self, client, userdata, flags, rc):\n        self.client.on_connect = self._on_connect\n\n    def _on_message(self, client, userdata, msg):\n        self.client.on_message = self.on_message\n        print(msg.topic+' '+str(msg.payload))\n\n    def _on_log(self, client, userdata, level, buf):\n        self.client.on_log = self._on_log\n        print('log: ', buf)\n\ntry:\n    iot_example = IoTExample()\n    iot_example.start()\nexcept KeyboardInterrupt:\n    print('Interrupted')\n    try:\n        iot_example.disconnect()\n        sys.exit(0)\n    except SystemExit:\n        os._exit(0)\n</code></pre>\n<p>I got the following errors:</p>\n<pre><code>python /home/mina/paho.mqtt.python/iot_example.py\nTraceback (most recent call last):\n  File &quot;/home/mina/paho.mqtt.python/iot_example.py&quot;, line 41, in &lt;module&gt;\n    iot_example = IoTExample()\n  File &quot;/home/mina/paho.mqtt.python/iot_example.py&quot;, line 13, in __init__\n    self._establish_mqtt_connection()\n  File &quot;/home/mina/paho.mqtt.python/iot_example.py&quot;, line 24, in _establish_mqtt_connection\n    self.client.connect('phoenix.medialab.ntua.gr', 8883)\nTypeError: unbound method connect() must be called with Client instance as first argument (got str instance instead)\n</code></pre>\n"
    }, {
        "tags": ["iot", "riot-os"],
        "is_answered": true,
        "view_count": 179,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1599246784,
        "creation_date": 1559270795,
        "last_edit_date": 1599246784,
        "question_id": 56388026,
        "link": "https://stackoverflow.com/questions/56388026/does-riot-support-ethernet-physical-layer",
        "title": "Does RIOT support ethernet physical layer?",
        "body": "<p>Setup:</p>\n\n<ol>\n<li>Connect stm32f407vet6 and  LAN8720, connect to ethernet</li>\n<li><p>Code is here: <code>https://github.com/RIOT-OS/RIOT/tree/master/examples/emcute_mqttsn</code></p></li>\n<li><p><code>cd RIOT/examples/emcute_mqttsn</code></p></li>\n<li><p><code>make BOARD=stm32f4discovery all flash term</code></p></li>\n<li><p>With <code>ifconfig</code> ,  ethernet interface info not printed. Does RIOT support ethernet physical layer? Please see log:</p></li>\n</ol>\n\n<pre><code>&gt; help\n2019-05-30 17:23:32,578 - INFO #  help\n2019-05-30 17:23:32,581 - INFO # Command              Description\n2019-05-30 17:23:32,584 - INFO # ---------------------------------------\n2019-05-30 17:23:32,587 - INFO # con                  connect to MQTT broker\n2019-05-30 17:23:32,592 - INFO # discon               disconnect from the current broker\n2019-05-30 17:23:32,595 - INFO # pub                  publish something\n2019-05-30 17:23:32,598 - INFO # sub                  subscribe topic\n2019-05-30 17:23:32,603 - INFO # unsub                unsubscribe from topic\n2019-05-30 17:23:32,606 - INFO # will                 register a last will\n2019-05-30 17:23:32,609 - INFO # reboot               Reboot the node\n2019-05-30 17:23:32,615 - INFO # ps                   Prints information about running threads.\n2019-05-30 17:23:32,617 - INFO # ping6                Ping via ICMPv6\n2019-05-30 17:23:32,623 - INFO # random_init          initializes the PRNG\n2019-05-30 17:23:32,628 - INFO # random_get           returns 32 bit of pseudo randomness\n2019-05-30 17:23:32,632 - INFO # nib                  Configure neighbor information base\n2019-05-30 17:23:32,637 - INFO # ifconfig             Configure network interfaces\n&gt; ifconfig\n2019-05-30 17:23:36,554 - INFO #  ifconfig\n&gt; \n\n</code></pre>\n"
    }, {
        "tags": ["amazon-web-services", "mqtt", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 160,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1597863130,
        "creation_date": 1597649825,
        "question_id": 63446539,
        "link": "https://stackoverflow.com/questions/63446539/awsiotpythonsdk-publishtimeoutexception",
        "title": "AWSIoTPythonSDK publishTimeoutException",
        "body": "<p>I want to publish back once i get a get a data from Subscribe topic. However when i do so, AWSIoTPythonSDK throws exception stating publishTimeoutException.</p>\n<p>I configured <code>ConnectDisconnectTimeout</code> and <code>MQTTOperationTimeout</code> but cannot totally avoid timeout.</p>\n<p>How to prevent this ? Thank you</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-edge", "azure-iot-central"],
        "is_answered": true,
        "view_count": 253,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1597477865,
        "creation_date": 1597477865,
        "question_id": 63423800,
        "link": "https://stackoverflow.com/questions/63423800/azure-iot-central-publish-error-something-went-wrong-error-code-400-470-006-319",
        "title": "Azure IoT Central Publish Error Something went wrong Error Code: 400.470.006.319 / 2093ej9xx7l.4",
        "body": "<p>I am trying to publish my device template, but I am always getting the error &quot;Something went wrong Error Code: 400.470.006.319 / 2093ej9xx7l.4&quot;. Please see the preceding image. May I please know what could be the reason? This is <a href=\"https://docs.microsoft.com/en-us/azure/iot-central/core/howto-set-up-template\" rel=\"nofollow noreferrer\">the doc</a> I am following.</p>\n<p><a href=\"https://i.stack.imgur.com/Sr1S2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sr1S2.png\" alt=\"enter image description here\" /></a></p>\n"
    }, {
        "tags": ["java", "spring-boot", "iot", "newrelic", "undertow"],
        "is_answered": false,
        "view_count": 443,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1596528601,
        "creation_date": 1561297286,
        "last_edit_date": 1561297811,
        "question_id": 56724450,
        "link": "https://stackoverflow.com/questions/56724450/how-to-cancel-unfinished-long-running-requests-in-spring-boot-with-undertow",
        "title": "How to cancel unfinished, long-running requests in Spring-boot with Undertow?",
        "body": "<p>I have a Spring-boot service, using Undertow, the primary clients of which are sensors at a client site (~250 such devices).  These sensors send POSTs to the service every 10 seconds over the site WiFi - which is somewhat spotty in places.  I am tracking the service in NewRelic and see occasional request-response times that are HOURS in length (typical response times are a few dozen millis).  There is no processing on the service's controller - all payloads are cached off-thread and forwarded via a separate process.  After about 15 hours or so, the service stops responding and needs to be restarted.  I suspect these long-running requests are saturating the pool of threads used to handle requests from other sensors.  NewRelic suggests that all errors encountered are much like the following:</p>\n\n<pre><code>I/O error while reading input message; nested exception is java.io.IOException: \nUT000128: Remote peer closed connection before all data could be read\n</code></pre>\n\n<p>A high percentage of these errors have messages suggesting Exceptions in the Spring-boot JSON processor that complain of invalid/unexpected characters or closed inputs.</p>\n\n<p>It <em>seems</em> as if some of the sensors are struggling to complete their POSTs.  Is this a fair interpretation?</p>\n\n<p>Is there a way that I can force my service to 'kill' these requests before they eat up all of my handler threads?  I'm aware that a client-side circuit-breaker might be the best way to handle this, but I don't have a lot of control over that end of things just yet.</p>\n\n<p>I'm also not wedded to Undertow as a Servlet container - Tomcat or Jetty would be just fine with me, if it makes skinning this cat a bit easier.</p>\n\n<p>I have the following code in a <code>@Configuration</code> class:</p>\n\n<pre><code>@Bean\npublic ServletWebServerFactory servletWebServerFactory() {\n    UndertowServletWebServerFactory factory = new UndertowServletWebServerFactory(contextPath, serverPort);\n\n    factory.addBuilderCustomizers((builder) -&gt; {\n        ...\n        builder.setServerOption(UndertowOptions.IDLE_TIMEOUT, 60000);\n        ...\n    });\n    return factory;\n}\n</code></pre>\n\n<p>But it does not seem to kill off the requests.</p>\n"
    }, {
        "tags": ["javascript", "rest", "iot", "serverless"],
        "is_answered": true,
        "view_count": 20,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1595905397,
        "creation_date": 1595885316,
        "last_edit_date": 1595905397,
        "question_id": 63123837,
        "link": "https://stackoverflow.com/questions/63123837/grandeur-cloud-signature-invalid-error-after-apollo-init",
        "title": "Grandeur Cloud &quot;signature invalid&quot; error after apollo.init()",
        "body": "<p>I downloaded Grandeur Cloud's datastore example from their github (<a href=\"https://github.com/grandeurtech/examples/tree/master/Datastore\" rel=\"nofollow noreferrer\">https://github.com/grandeurtech/examples/tree/master/Datastore</a>) and replaced the API key with my project's key, created a signature key/token pair and passed those to <code>apollo.init()</code>, but it's giving me a signature invalid error.</p>\n<p>Is there something I'm missing here?</p>\n<p>My JS file:\n<a href=\"https://i.stack.imgur.com/tfoxc.png\" rel=\"nofollow noreferrer\">Initializing Apollo with API key, signature key and token</a></p>\n<pre class=\"lang-js prettyprint-override\"><code>/**\n * @file main.js - Handles the working of our web app.\n * \n * @requires apollo.js\n*/\n\n/** Initializing the SDK and getting reference to our project */\nvar apolloProject = apollo.init(\n  &quot;grandeurkcqeuvyy1ged01yjbl2pejkr&quot;,\n  &quot;kd4k3nv23wlh01vc7s8v36zh&quot;,\n  &quot;eyJ0b2tlbiI6ImV5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwWkNJNkltRmpZMlZ6YzJ0a05Hc3pibll5TTNkc2FEQXhkbU0zY3poMk16WjZhQ0lzSW5SNWNHVWlPaUpoWTJObGMzTWlMQ0pwWVhRaU9qRTFPVFU0TlRjd09EQjkuMndmNmlrQnNIOG0tSHh2QWhWcGloLXZFaDQ2SW9Jc2tZblZzTU13a1VXSSJ9&quot;\n);\n</code></pre>\n<p>This is the error I'm receiving in my console window:</p>\n<p><a href=\"https://i.stack.imgur.com/xpM4i.png\" rel=\"nofollow noreferrer\">The error I'm getting</a></p>\n<p>What do you think would be the cause of such an error?</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion"],
        "is_answered": true,
        "view_count": 143,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1595533988,
        "creation_date": 1571376932,
        "question_id": 58444527,
        "link": "https://stackoverflow.com/questions/58444527/how-to-manage-multiple-iot-agents-in-fiware",
        "title": "How to manage multiple IoT Agents in Fiware",
        "body": "<p>I have two type of devices one support IoT JSON agent and another Ultralight Iot Agent. What approach is best should i used both IoT agent separately or there is something like IoT manager. What in future i have another device which support another IoT Agent like LoRaWan . </p>\n\n<p>I have tried IoT manager but could not understand it is only for device provisioning or actual device data transfer also.</p>\n"
    }, {
        "tags": ["mqtt", "iot", "node-red", "client-certificates", "aws-iot"],
        "is_answered": false,
        "view_count": 409,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1594703633,
        "creation_date": 1593929462,
        "question_id": 62737443,
        "link": "https://stackoverflow.com/questions/62737443/certificates-in-aws-iot-public-and-private-keys",
        "title": "Certificates in AWS IoT: Public and Private keys",
        "body": "<p>So I'm relatively new to AWS and IoT on the whole. The concept of certificates seems to be quite confusing to me, especially the way AWS seems to handle it.</p>\n<p>My Scenario:</p>\n<p>I'm using a raspberry pi to publish data and a node-red on my PC. They are connected by AWS (which is the MQTT broker in my case I suppose). Based on my understanding it is such that, the Private key is to be kept private and the public key can be freely distributed.</p>\n<p>My Question:</p>\n<p>So when registering a &quot;Thing&quot; with AWS, it gave me a Private/Public key pair, a certificate, and a root CA (using the &quot;One-click certificate creation&quot; process). Now, my understanding is that, the Private key should be kept with the raspberry pi (end device) only and is not to be shared. And it's able to connect to AWS and publish the temperature data.\nNow if I am to receive the messages on my node-red (MQTT In node) on my PC, should I use the public key there (since it can be freely distributed)? Does this mean that, I can distribute my Public key to as many people and they'll all be able to subscribe to my Raspberry Pi's temprature readings ?</p>\n<p>P.S. I tried out the Public key and it doesn't seem to work. Please help me out here, as to what is necessary on the subscribing/receiving end, in terms of keys and certificates. An explanation would be greatly appreciated. Thanks in advance.</p>\n"
    }, {
        "tags": ["python", "iot", "esp32", "lte", "pycom"],
        "is_answered": true,
        "view_count": 668,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1594429752,
        "creation_date": 1594198811,
        "last_edit_date": 1594199261,
        "question_id": 62791167,
        "link": "https://stackoverflow.com/questions/62791167/how-connect-to-lte-cell-network-with-pycom-fipy",
        "title": "How connect to LTE cell network with PyCom FiPy?",
        "body": "<p>I'm trying to get a PyCom FiPy board working with LTE network connection.  I have a hologram sim card.  I am using two pieces of code.  One is from the PyCom <a href=\"https://docs.pycom.io/firmwareapi/pycom/network/lte/\" rel=\"nofollow noreferrer\">docs</a> the other is from code I found on the PyCom forum for debugging <a href=\"https://forum.pycom.io/topic/4560/fipy-connecting-to-orange-lte-m-france-any-informations-solved/6\" rel=\"nofollow noreferrer\">LTE</a>.</p>\n<h2>First code snippet from PyCom LTE Docs</h2>\n<pre><code>import time\nfrom network import LTE\n\nprint('main-testy.py starting.  This is the code snippet from pycom docs')\n\n#lte = LTE(carrier=&quot;verizon&quot;)\nlte = LTE()\n\n\nprint(&quot;trying to attach&quot;)\nlte.attach(band=13)\nwhile not lte.isattached():\n    time.sleep(0.5)\n    print('Attaching...')\n\nprint(&quot;trying to connect&quot;)\nlte.connect(cid=3)\nwhile not lte.isconnected():\n    time.sleep(0.5)\n    print('Connecting...')\n\n# Now use sockets as usual...\n</code></pre>\n<h2>Output</h2>\n<p>The first few times I ran this code it would attach and then generate a python error on the <code>lte.connect</code> call.  The original sample uses a carrier of 'verizon' but a forum post said that was not necessary.</p>\n<pre><code>&gt;&gt;&gt; Running main-testy.py\n\n&gt;&gt;&gt; \n&gt;&gt;&gt; \nmain-testy.py starting.  This is the code snippet from pycom docs\ntrying to attach\nAttaching...\nAttaching...\nAttaching...\n.. never attaches\n</code></pre>\n<h2>Second code snippet from PyCom LTE Forum Posts</h2>\n<p>Looking through the forums, I found some other users with similar problems.  I combined their attempts with some of the avaialable commands from the docs to write this code.  It gives some basic info about the simcard and modem.  Here is that code.</p>\n<pre><code># Determine carrier notes\nfrom network import LTE\n\n\n# 1817\n\n\n\nlte = LTE()\n\ndef send_at_cmd_pretty(cmd):\n    response = lte.send_at_cmd(cmd).split('\\r\\n')\n    for line in response:\n        print(line)\n\n\nprint(&quot;get phy status&quot;)\nsend_at_cmd_pretty('AT!=&quot;showphy&quot;')     # get the PHY status\nprint(&quot;get System FSM&quot;)\nsend_at_cmd_pretty('AT!=&quot;fsm&quot;')         # get the System FSM\nprint(&quot;get System COPS.  PLMN Selection: +COPS&quot;)\nprint(&quot;!!!!!!!!!1 always generates error !!!!!!!!!!!!&quot;)\nsend_at_cmd_pretty('AT+COPS=?')         # get the System FSM\n\n\nprint(&quot;get conformance test modes. List of carriers? &quot;)\nsend_at_cmd_pretty(&quot;AT+SQNCTM=?&quot;)       # get list of carriers for\n# results are\n# &quot;3gpp-conformance&quot;, &quot;att&quot;, &quot;docomo&quot;, &quot;kt&quot;, &quot;lgu&quot;, &quot;softbank&quot;, &quot;standard&quot;, &quot;telstra&quot;, &quot;verizon&quot;)\n\nresults = lte.imei()\nprint(&quot;lte.imei results \\n{}&quot; . format(results))\n\n\nresults = lte.iccid()\nprint(&quot;lte.iccid results \\n{}&quot; . format(results))\n</code></pre>\n<h2>Output</h2>\n<p>All of this code runs but one of the commands (+COPS) gives an error. I did check the AT command reference and the syntax is +COPYS=? appears correct.  Perhaps that particular command can only be issued once its attached.</p>\n<pre><code>&gt;&gt; Running lte-basic-operations.py\n\n&gt;&gt;&gt; \n&gt;&gt;&gt; \nget phy status\n\nDL SYNCHRO STATISTICS\n=====================\n    Synchro state                         : OFF\n    PPU SIB1 ACQ watchdog                 : 0\n    Frequency Hypothesis RF  (Hz)         : 0\n    RSRP (dBm)                            : 0.00\n    RSRQ  (dB)                            : 0.00\n    Channel estimation state (Cell-spec.) : LOW CINR\n    Channel estimation state (UE-spec.)   : LOW CINR\n    Channel estimation state (MBSFN)      : LOW CINR\n    Channel estimation CINR               : 0.00\n    Channel length                        : SHORT\n  AGC\n    AGC RX gain (dB)                      : 0.00\n    RX PSD BO (dBFs)                      : 0.00\n    RX PSD (dBm)                          : 0.00\n    Noise level RS (dBm)                  : 0.00\n    Digital gain (dB)                     : 0.00\n    CINR RS (dB)                          : 0.00\n  NARROWBANDS\n    Last DL NB                            : 0\n    Last UL NB                            : 0\n  AFC\n    Frequency offset RF  (Hz)             : 0\n    Frequency offset BB  (Hz)             : 0\n  PBCH\n    MIB received quantity                 : 0\n    MIB timeout quantity                  : 0\n\nOK\n\nget System FSM\n\nSYSTEM FSM\n==========\n    +--------------------------+--------------------+\n    |            FSM           |        STATE       |\n    +--------------------------+--------------------+\n    | RRC TOP FSM              |STOPPED             |\n    | RRC SEARCH FSM           |NULL                |\n    | RRC ACTIVE FSM           |NULL                |\n    | PMM PLMN FSM             |NULL                |\n    | EMM MAIN FSM             |NULL                |\n    | EMM AUTH FSM             |NULL                |\n    | EMM CONN FSM             |NULL                |\n    | EMM TAU FSM              |NULL                |\n    | EMM TEST FSM             |NULL                |\n    | ESM BEARER FSM           |BEARER_NULL         |\n    | SMS MT FSM               |IDLE                |\n    | SMS MO FSM               |IDLE                |\n    | HP MAIN FSM              |IDLE                |\n    | HP USIM FSM              |NULL                |\n    | HP SMS MO FSM            |IDLE                |\n    | HP SMS MT FSM            |IDLE                |\n    | HP CAT FSM               |NULL                |\n    +--------------------------+--------------------+\n\nOK\n\nget System COPS.  PLMN Selection: +COPS\n!!!!!!!!!1 always generates error !!!!!!!!!!!!\n\nERROR\n\nget conformance test modes. List of carriers? \n\n+SQNCTM: (&quot;3gpp-conformance&quot;, &quot;att&quot;, &quot;docomo&quot;, &quot;kt&quot;, &quot;lgu&quot;, &quot;softbank&quot;, &quot;standard&quot;, &quot;telstra&quot;, &quot;verizon&quot;)\n\nOK\n\nlte.imei results \n354346095554902\nlte.iccid results \n8944500208186565235\n&gt;\n</code></pre>\n"
    }, {
        "tags": ["azure", "iot", "symmetric-key", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 3696,
        "favorite_count": 1,
        "score": 12,
        "last_activity_date": 1594098713,
        "creation_date": 1453117353,
        "last_edit_date": 1594098713,
        "question_id": 34853902,
        "link": "https://stackoverflow.com/questions/34853902/why-primary-key-and-secondary-key-in-azure-iot-hub",
        "title": "Why Primary key and Secondary key in Azure IoT hub?",
        "body": "<p>When creating a shared access policy or registering a device in Azure IoT hub, there will be a Primary key and Secondary key pair generated. And I noticed I can connect a device to IoT hub using either Primary key or Secondary key.</p>\n<p>So, what's the purpose of having Primary/Secondary keys? How should I design the use of both keys?</p>\n"
    }, {
        "tags": ["certificate", "iot", "tls1.2", "esp8266", "arduino-esp8266"],
        "is_answered": false,
        "view_count": 194,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1593981884,
        "creation_date": 1593682613,
        "last_edit_date": 1593981884,
        "question_id": 62693327,
        "link": "https://stackoverflow.com/questions/62693327/ssl-tls-connection-failed-using-fingerprint-to-validate",
        "title": "SSL/TLS connection failed using fingerprint to validate",
        "body": "<p>I'm using the <code>RootCA's SHA1</code> thumbprint which is still valid from  <code>api.github.com</code>\n<a href=\"https://github.com/SensorsIot/HTTPS-for-Makers/blob/master/ESP8266/HTTPSRequest/HTTPSRequest.ino\" rel=\"nofollow noreferrer\">full original source code</a>.\nI do not understand why the connection has failed, i tried changing the thumbprint to capital instead still doesn't work, i've also added <code>client.setFingerprint();</code></p>\n<pre><code>const char* host = &quot;api.github.com&quot;;\nconst int httpsPort = 443;\n\n// Use web browser to view and copy\n// SHA1 fingerprint of the certificate\n\nconst char* fingerprint = &quot;5f b7 ee 06 33 e2 59 db ad 0c 4c 9a e6 d3 8f 1a 61 c7 dc 25&quot;;\n\n  // Use WiFiClientSecure class to create TLS connection\n  WiFiClientSecure client;\n  client.setFingerprint(fingerprint);\n\n</code></pre>\n"
    }, {
        "tags": ["websocket", "mqtt", "amazon-cognito", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 1309,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1593736845,
        "creation_date": 1593736845,
        "question_id": 62706887,
        "link": "https://stackoverflow.com/questions/62706887/websocket-connection-failed-error-during-websocket-handshake-unexpected-respons",
        "title": "WebSocket connection failed. Error during WebSocket handshake.Unexpected response code: 403",
        "body": "<p><a href=\"https://github.com/aws/aws-iot-device-sdk-js/blob/master/examples/browser/mqtt-explorer/index.js\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-iot-device-sdk-js/blob/master/examples/browser/mqtt-explorer/index.js</a></p>\n<p>I'm using the example code from github to connect to my aws iot core.</p>\n<p>upon running the code i get the following error</p>\n<p>WebSocket connection to &quot;websocket url&quot; failed: Error during WebSocket handshake: Unexpected response code: 403</p>\n<p>i'm using cognito unauthenticated role with full access AWS  IOT policy.</p>\n<p>what could be the issue here?</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion", "lora", "lorawan"],
        "is_answered": true,
        "view_count": 89,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1593004299,
        "creation_date": 1592913267,
        "last_edit_date": 1593000249,
        "question_id": 62534084,
        "link": "https://stackoverflow.com/questions/62534084/iotagent-lorawan-is-apparently-not-working-as-expected",
        "title": "IoTAgent-LoRaWAN is apparently not working as expected",
        "body": "<p>I was trying to provisioning the IoTAgent-LoRaWAN using the TTN credentials, I'm following <a href=\"https://fiware-lorawan.readthedocs.io/en/latest/users_manual/index.html#device-provisioning\" rel=\"nofollow noreferrer\">the official docs</a> and this is my POST request:</p>\n<pre><code>{\n  &quot;devices&quot;: [\n    {\n      &quot;device_id&quot;: &quot;{{node}}&quot;,\n      &quot;entity_name&quot;: &quot;LORA-N-0&quot;,\n      &quot;entity_type&quot;: &quot;LoraDevice&quot;,\n      &quot;timezone&quot;: &quot;Europe/Madrid&quot;,\n      &quot;attributes&quot;: [\n        {\n          &quot;object_id&quot;: &quot;potVal&quot;,\n          &quot;name&quot;: &quot;Pot_Value&quot;,\n          &quot;type&quot;: &quot;Number&quot;\n        }\n      ],\n      &quot;internal_attributes&quot;: {\n        &quot;lorawan&quot;: {\n          &quot;application_server&quot;: {\n            &quot;host&quot;: &quot;eu.thethings.network&quot;,\n            &quot;username&quot;: &quot;{{TTN_app_id}}&quot;,\n            &quot;password&quot;: &quot;{{TTN_app_pw}}&quot;,\n            &quot;provider&quot;: &quot;TTN&quot;\n          },\n          &quot;dev_eui&quot;: &quot;{{TTN_dev_eui}}&quot;,\n          &quot;app_eui&quot;: &quot;{{TTN_app_eui}}&quot;,\n          &quot;application_id&quot;: &quot;{{TTN_app_id}}&quot;,\n          &quot;application_key&quot;: &quot;{{TTN_app_skey}}&quot;\n        }\n      }\n    }\n  ]\n}\n</code></pre>\n<p>Obviously I'm using Postman to manage all those HTTP requests in a collection and I've setup a few environment variables that are:</p>\n<p><code>{{node}}</code> -&gt; the device ID <code>node_0</code></p>\n<p><code>{{TTN_app_id}}</code> -&gt; my app id which I've chosen <code>dendrometer</code></p>\n<p><code>{{TTN_app_pw}}</code> -&gt; the application access key shown in the picture (It can be found in the same view than the Application Overview; <code>https://console.thethingsnetwork.org/applications/&lt;application_id&gt;</code>)\n<a href=\"https://i.stack.imgur.com/3cD97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3cD97.png\" alt=\"enter image description here\" /></a></p>\n<p><code>{{TTN_dev_eui}}</code> and <code>{{TTN_app_eui}}</code> also shown in the following picture (regarding to device; I think these are not sensitive info because TTN is not hiding them, that's because I'm posting the picture)</p>\n<p><code>{{TTN_app_skey}}</code> -&gt; The Application Session Key also shown in the following picture (the last one)\n<a href=\"https://i.stack.imgur.com/B85Od.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/B85Od.png\" alt=\"enter image description here\" /></a></p>\n<p>The point is ... once I've provisioned IoTAgent using that request, the <code>docker-compose logs -f iot-agent</code> shows the following errors:</p>\n<pre><code>fiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.689Z&quot;,&quot;level&quot;:&quot;info&quot;,&quot;message&quot;:&quot;New message in topic&quot;}\nfiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.690Z&quot;,&quot;level&quot;:&quot;info&quot;,&quot;message&quot;:&quot;IOTA provisioned devices:&quot;}\nfiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.691Z&quot;,&quot;level&quot;:&quot;info&quot;,&quot;message&quot;:&quot;Decoding CaynneLPP message:+XQ=&quot;}\nfiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.691Z&quot;,&quot;level&quot;:&quot;error&quot;,&quot;message&quot;:&quot;Error decoding CaynneLPP message:Error: Invalid CayennLpp buffer size&quot;}\nfiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.691Z&quot;,&quot;level&quot;:&quot;error&quot;,&quot;message&quot;:&quot;Could not cast message to NGSI&quot;}\n</code></pre>\n<p>So I think there is something not working properly. That's my <code>docker-compose.yml</code>, btw <a href=\"http://ix.io/2pWd\" rel=\"nofollow noreferrer\">http://ix.io/2pWd</a></p>\n<p>However I don't think the problem is caused by docker, all containers are working as expected apparently because I can request their versions and I don't see error messages in the logs.</p>\n<p>Also ... I feel <a href=\"https://fiware-lorawan.readthedocs.io/en/latest/users_manual/index.html\" rel=\"nofollow noreferrer\">the docs</a> like incomplete, I'd like more info, about how to subscribe those provisioned devices with OrionCB (?) or Delete them (that's not shown in the docs, although is just a DELETE request to the proper URL.)</p>\n<p>Anyway ... What I'm doing wrong? Thank you all.</p>\n<p>EDIT: I feel like there is something wrong in the IoTAgent itself, there is a typo in the following error messages:</p>\n<pre><code>fiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.691Z&quot;,&quot;level&quot;:&quot;info&quot;,&quot;message&quot;:&quot;Decoding CaynneLPP message:+XQ=&quot;}\nfiware-iot-agent | {&quot;timestamp&quot;:&quot;2020-06-23T11:45:53.691Z&quot;,&quot;level&quot;:&quot;error&quot;,&quot;message&quot;:&quot;Error decoding CaynneLPP message:Error: Invalid CayennLpp buffer size&quot;}\n</code></pre>\n<p>Because it isn't CaynneLPP but CayenneLPP. I've also opened <a href=\"https://github.com/Atos-Research-and-Innovation/IoTagent-LoRaWAN/issues/99\" rel=\"nofollow noreferrer\">an issue in its GitHub repo</a> but I don't expect they answer any time soon. I actually feel like this project has been abandoned.</p>\n"
    }, {
        "tags": ["google-cloud-platform", "cloud", "iot", "google-cloud-dataprep", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 54,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1589905639,
        "creation_date": 1589905288,
        "question_id": 61895935,
        "link": "https://stackoverflow.com/questions/61895935/how-to-create-a-dataprep-recipe",
        "title": "How to Create a Dataprep recipe?",
        "body": "<p>I am learning how to work with Cloud Dataprep by Trifacta on qwiklabs <a href=\"https://googlecoursera.qwiklabs.com/focuses/23171\" rel=\"nofollow noreferrer\">Streaming IoT Data to Dataprep</a>. The instruction to follow is quite clear and I have not encountered any problems yet, but when I try to Create a Dataprep recipe (Split column <strong>On delimiter</strong>) with <em>temp-sensor</em> as the delimiter, I get this error:</p>\n\n<blockquote>\n  <p>Error\n  Invalid parameter. Please ensure that the syntax is correct</p>\n</blockquote>\n\n<p>This renders the Add option unavailable, and I can't proceed. What am I doing wrong and how can I proceed?\nThe picture below:\n<a href=\"https://i.stack.imgur.com/p44bg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/p44bg.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["google-cloud-platform", "cloud", "iot", "google-cloud-iot", "gcp-ai-platform-training"],
        "is_answered": true,
        "view_count": 193,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1589751966,
        "creation_date": 1589751598,
        "question_id": 61859179,
        "link": "https://stackoverflow.com/questions/61859179/gcp-iot-core-rejects-public-key-with-certificate-is-in-an-invalid-pem-format-e",
        "title": "GCP IoT Core Rejects Public Key with &quot;Certificate is in an invalid PEM format&quot; Error message. What could be wrong?",
        "body": "<p>I am learning how to work with IoT Core. Upon trying to create a device, I encounter an error with the public key. \"Certificate is in an invalid PEM format\" it says. This public key was supplied as part of the qwiklabs instructions so I don't know what could be wrong.</p>\n\n<p>Maybe it has to do with the instruction below, but I can't fiqure what the error is.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rlkpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlkpc.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is the lab: <a href=\"https://googlecoursera.qwiklabs.com/focuses/23172\" rel=\"nofollow noreferrer\">here</a></p>\n"
    }, {
        "tags": ["iot", "fiware", "opc-ua"],
        "is_answered": true,
        "view_count": 118,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1587476263,
        "creation_date": 1580984957,
        "question_id": 60092850,
        "link": "https://stackoverflow.com/questions/60092850/fiware-opc-ua-add-source-timestamp-to-metadata",
        "title": "FIWARE OPC-UA. Add source timestamp to metadata",
        "body": "<p>I use the fiware iot-agent opc-ua <a href=\"https://github.com/Engineering-Research-and-Development/iotagent-opcua\" rel=\"nofollow noreferrer\">https://github.com/Engineering-Research-and-Development/iotagent-opcua</a>. How can I get the sorce timestamp of an monitored item from the opc-ua server and add it to the metadata? many thanks!</p>\n"
    }, {
        "tags": ["aws-sdk", "mqtt", "iot", "aws-iot", "self-signed-certificate"],
        "is_answered": true,
        "view_count": 357,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1586795978,
        "creation_date": 1586630857,
        "last_edit_date": 1586795978,
        "question_id": 61161984,
        "link": "https://stackoverflow.com/questions/61161984/aws-iot-connection-error-invalid-cacert-option-supplied-with-aws-iot-device",
        "title": "AWS IoT Connection error : Invalid &quot;caCert&quot; option supplied with aws-iot-device-sdk",
        "body": "<p>I've provisioned a device in AWS with device Certificate which is signed by my CA. Also, I've registered my CA along with verificationCert in AWS previously.</p>\n\n<p>Now when I send the data, In the options,</p>\n\n<pre><code>var awsIot = require('aws-iot-device-sdk');\nvar device = awsIot.device({\nprivateKey: '--BEGIN RSA PRIVATE KEY--', //private key of my device\nclientCert: '--BEGIN CERTIFICATE --', //cat deviceCertificate and registered CA \ncaCert: '--BEGIN CERTIFICATE--', //Amazon root CA\nclientId: 'Thing01',\nregion: 'us-west-2',\nhost: xxxxxxxx.iot.us-west-2.amazonaws.com,\nsecretKey: 'dcvevv',\naccessKeyId: 'ferferer'\n});\n\ndevice.on('connect',function(err){\ndevice.publish('$aws/things/Thing01/shadow/update',JSON.stringify({\n\"state\" :{\n  \"desired\": {\n \"color\": \"blue\"\n }\n}\n})\n);\n})\n</code></pre>\n\n<p>I'm getting below error</p>\n\n<p>throw new Error(exceptions.INVALID_CA_CERT_OPTION); ^ Error: Invalid \"caCert\" option supplied.</p>\n\n<p>Can anyone let me know where I'm doing wrong in the above code snippet?</p>\n\n<p>Edit1: \nAfter making corrections in the options, below is the code: </p>\n\n<pre><code>    var awsIot = require('aws-iot-device-sdk');\n    var device = awsIot.device({\n    host:'xxxxx.iot.us-west-2.amazonaws.com',\n    keyPath : './certs/deviceTest/5e2570c0605418.key',  \n    certPath : './certs/deviceTest/5e2570c0605418AndCA.crt',   //cat of device and Registered CA\n    caPath : './certs/rootCA.pem', //public cert of AWS root CA1 \n    clientId: 'ManualDevice_01', //ThingName\n    region : 'us-west-2',\n   secretKey: 'xxxxxxxxxxxx',\n   accessKeyId: 'xxxxxxxxxxxxxxxx'\n  }); \n   console.log(\"Invoking on connect\");\n   device.on('connect',function(error ){\n    console.log(\"In on connect !!\");\n    if(error)\n       console.log('could not connect');\n  device.publish('$aws/things/ManualDevice_01/shadow/update',JSON.stringify({\n  \"state\" : {\n    \"desired\" : {\n        \"color\" : \"pink\",\n        \"power\" : \"off\",\n        \"val\":\"1\"\n     }\n    }\n   } ), function(err){\n   if(err)\n      console.log(\"Could not send : Error : \"+err)\n   else\n   {\n      console.log(\"Sent data\")\n   } \n   }\n  );\n console.log('Message sent........')\n })\n device.on('message',function(topic,payload){\n     console.log('message',topic,payload.toString());\n  })\n</code></pre>\n\n<p>The statements inside device.on('connect') are not getting executed.\nI could see only \"Invoking on connect\" being printed</p>\n\n<p>Edit 2: Issue is resolved!!!</p>\n\n<p>While creating a device, I have to attach Policy to it.\nThen I'm able to send the data in above specified way through MQTT with certificates.</p>\n"
    }, {
        "tags": ["embedded", "iot", "stm32", "keil", "stm32cubemx"],
        "is_answered": true,
        "view_count": 2972,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1586199898,
        "creation_date": 1575442833,
        "last_edit_date": 1575453816,
        "question_id": 59170536,
        "link": "https://stackoverflow.com/questions/59170536/error-coming-while-generating-source-code-from-stm32cubemx-to-keil-v5-29",
        "title": "Error coming while generating source code from STM32CubeMx to Keil V5.29",
        "body": "<p><strong>I am making LED blinking program with STM32F103C8T6 i opened the pc13 port for taking Input output</strong>\nthen this error is occuring while generating code what will i do please help.</p>\n\n<p><strong>This code is Successfully generated under C:/...... but MDK ARM v5.29 project generation have a problem.</strong></p>\n\n<p>I have give the right version of  Keil also</p>\n\n<p><img src=\"https://i.stack.imgur.com/LTxQp.png\" alt=\"enter image description here\"></p>\n\n<p>I'm expecting that the code that is generated by STM32CubeMx will open on Keil (MDK ARM). It's opening before but now it's not opening in Keil.</p>\n"
    }, {
        "tags": ["mysql", "mqtt", "iot", "mqtt-vernemq"],
        "is_answered": false,
        "view_count": 198,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1585896610,
        "creation_date": 1585895373,
        "last_edit_date": 1585896087,
        "question_id": 61006214,
        "link": "https://stackoverflow.com/questions/61006214/vernemq-mysql-authentication",
        "title": "VerneMQ MySQL authentication",
        "body": "<p>I already have installed vernemq in my cloud server, everything seems running fine. But from any client, it is unable to connect the broker using username/password authentication. The authentication is based on MySQL, the Lua script is running fine. But strangely the authentication not working or something is wrong. I couldn't trace anything as nothing shows in Log. The only debug message I see is as follows:</p>\n\n<blockquote>\n  <p>[debug] &lt;0.227.0>@plumtree_broadcast:schedule_lazy_tick:720 0ms mailbox traversal, schedule next lazy broadcast in 10000ms, the min interval is 10000ms</p>\n</blockquote>\n\n<p>OS : Ubuntu 18.04\nMySQL Version : 5.7.29\nVerneMQ Version : 1.10</p>\n"
    }, {
        "tags": ["iot", "gsm", "at-command", "telecommunication", "nb-iot"],
        "is_answered": true,
        "view_count": 1735,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1584721656,
        "creation_date": 1558685723,
        "question_id": 56288475,
        "link": "https://stackoverflow.com/questions/56288475/sim7020e-responds-on-atcops-with-error",
        "title": "SIM7020E responds on AT+COPS=? with ERROR",
        "body": "<p>HW: SIM7020E NB-IoT HAT (from waveshare) + RPI3B + NB-IOT SIM from Vodafone CZ.</p>\n\n<p>I am trying connect to NB-IOT network without success (automatic, manual), AT+COPS command show behavior that I don't understood.</p>\n\n<pre><code>AT\nOK\n\nATI\nSIM7020E R1752\n\nAT+CGMI\nSIMCOM_Ltd\n\nAT+CGMM\nSIM7020E\n\nAT+GMM\nSIM7020E\n\nAT+CCID\n898823900000********\n\nAT+CPIN?\n+CPIN: READY    \n\nAT+CFUN?\n+CFUN: 1\n\nAT+COPS?\n+COPS: 0\n</code></pre>\n\n<p>Response isn't constant, most common value are listed.</p>\n\n<pre><code>AT+CSQ          \n+CSQ: 15,0      \n+CSQ: 14,6\n+CSQ: 15,0\n+CSQ: 14,7\n+CSQ: 15,7\n+CSQ: 16,0\n\nAT+CMEE=2\n</code></pre>\n\n<p>Until this moment everything seems OK.\nThis command in most case end with ERROR +-99% , other time return network list. I don't understood why AT+COPS=? return ERROR.</p>\n\n<pre><code>AT+COPS=?\n+CME ERROR: operation not allowed\n\nAT+COPS=?\n+COPS: (1,\"23003\",\"23003\",\"23003\",9),(1,\"23001\",\"23001\",\"23001\",9),,(0-4),(0-2)\n</code></pre>\n\n<p>When I try manually connected to existing, non existing network (AT+COPS=1,2,\"23003\" AT+COPS=1,2,\"23001\" AT+COPS=1,2,\"23099\") with inserted Vodafone SIM card it will stop responding to any command until power cycle.</p>\n\n<p>When I try commands without inserted SIM card  (AT+COPS=? AT+COPS=1,2,\"23003\" AT+COPS=1,2,\"23001\" AT+COPS=1,2,\"23099\") it will respond CME ERROR: SIM failure or CME ERROR: SIM not inserted.</p>\n"
    }, {
        "tags": ["iot", "fiware"],
        "is_answered": false,
        "view_count": 122,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1583492686,
        "creation_date": 1582036516,
        "last_edit_date": 1582539622,
        "question_id": 60283269,
        "link": "https://stackoverflow.com/questions/60283269/lazy-attribute-in-the-iot-agent-of-fiware",
        "title": "lazy attribute in the IoT Agent of FIWARE",
        "body": "<p>I'm trying to set the <strong>IoT Agent UL</strong> of FIWARE in the \"<strong>lazy</strong>\" configuration.\nI cannot find info/example/doc on the net.\nCould you help me? </p>\n\n<p>Thank you </p>\n"
    }, {
        "tags": ["mqtt", "iot", "gcloud", "google-cloud-pubsub", "mosquitto"],
        "is_answered": true,
        "view_count": 188,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1582936934,
        "creation_date": 1582913319,
        "question_id": 60457132,
        "link": "https://stackoverflow.com/questions/60457132/trouble-connecting-gcloud-to-mqtt-bridge",
        "title": "Trouble connecting gcloud to MQTT bridge",
        "body": "<p>I am currently trying to connect a gcloud IoT project to the MQTT bridge to be able to publish telemetry data. I am using Mosquitto and am trying to run the <code>mosquitto_pub</code> command on a VM instance I created on gcloud compute engine. I also created a firewall rule to open port 8883 with priority 0. In full I am submitting the following command (I removed the JWT used and put  here in the code block)</p>\n\n<pre><code>mosquitto_pub \\\n--host mqtt.googleapis.com \\\n--port 8883 \\\n--id projects/telemetry-268916/locations/us-central1/registries/iotcore-registry-telemetry/devices/esp32 \\\n--username unused \\\n--pw \"&lt;my-JWT.&gt;\" \\\n--cafile ./roots.pem \\\n--tls-version tlsv1.2 \\\n--protocol-version mqttv311 \\\n--debug \\\n--qos 1 \\\n--topic /devices/esp32/events \\\n--message \"Hello MQTT\"\n</code></pre>\n\n<p>When I run this command ^ I get the following error:</p>\n\n<pre><code>Client projects/telemetry-268916/locations/us-central1/registries/iotcore-registry telemetry/devices/esp32 sending CONNECT\nClient projects/telemetry-268916/locations/us-central1/registries/iotcore-registry-telemetry/devices/esp32 received CONNACK\nConnection Refused: not authorised.\nError: The connection was refused.\n</code></pre>\n\n<p>I've looked everywhere and can't find a solution to this problem. I am using the root certificate and specifying the CA file so idk what is going on -- HELP!</p>\n"
    }, {
        "tags": ["monitoring", "iot", "fiware", "lorawan"],
        "is_answered": false,
        "view_count": 94,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1580902702,
        "creation_date": 1576357943,
        "last_edit_date": 1576505102,
        "question_id": 59339190,
        "link": "https://stackoverflow.com/questions/59339190/fiware-metadata-in-iotagent",
        "title": "FIWARE Metadata in IoTAgent",
        "body": "<p>I try to set up a TTN based LoRaWAN Monitoring of my Gateways and devices inside a FIWARE-Environment. Therefore it would be essential to access data not in <code>payload_field</code> of the MQTT-Broker of TTN. </p>\n\n<p>I wonder if it is possible to access field like counter, port, app_id and metadata.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZSCw2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZSCw2.png\" alt=\"TTN-Frame\"></a></p>\n\n<p>I did not find a possibility yet. Does any of you face the same problem and got a solution to this challenge?</p>\n\n<p>I use the following relevant FIWARE-components in a docker environment:</p>\n\n<p><a href=\"https://github.com/telefonicaid/fiware-orion\" rel=\"nofollow noreferrer\">fiware/orion:2.2.0</a></p>\n\n<p><a href=\"https://github.com/FIWARE-GEs/iotagent-lorawan\" rel=\"nofollow noreferrer\">fiware/iotagent-lorawan:1.2.3</a></p>\n\n<p>mongo:3.6.8</p>\n"
    }, {
        "tags": ["google-cloud-platform", "iot", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 78,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1580836002,
        "creation_date": 1580415870,
        "last_edit_date": 1580418037,
        "question_id": 59993963,
        "link": "https://stackoverflow.com/questions/59993963/copy-device-from-one-registry-to-another-google-iot-core",
        "title": "Copy device from one registry to another Google IoT Core",
        "body": "<p>I have one device, 'XYZ' in test registry as i have to follow an entire process to check few things. Then after it is successful, i want to register this device to proper registry, say camera registry and following with unregister from test registry. \nSo, is copying a device-object from one registry to another possible? If not, what is the best approach to do this?  </p>\n"
    }, {
        "tags": ["database", "nosql", "iot", "in-memory-database", "griddb"],
        "is_answered": true,
        "view_count": 78,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1580780563,
        "creation_date": 1541633494,
        "last_edit_date": 1580780563,
        "question_id": 53199485,
        "link": "https://stackoverflow.com/questions/53199485/im-getting-credential-errors-on-my-newly-installed-griddb-instances-ive-chang",
        "title": "I&#39;m getting credential errors on my newly installed GridDB instances. I&#39;ve changed the password but it doesn&#39;t change anything",
        "body": "<p>This seems like an odd error to bring up because generally it's 100% due to user error, but there's just no way at this point. The error is definitely occurring on the GridDB side. </p>\n\n<p>I have installed and set up 3 separate nodes of GridDB on Azure. Setting the password works:</p>\n\n<pre><code>[root@node2 gridstore]# gs_passwd admin\nPassword: \nRetype password: \n</code></pre>\n\n<p>But when I get in there to join my cluster I get errors:</p>\n\n<pre><code>[root@node2 gridstore]# su gsadm\nbash-4.2$ /usr/bin/gs_startnode \nbash-4.2$ /usr/bin/gs_joincluster -c &lt;cluster_name&gt; -u \\\n&gt; admin/&lt;my_password&gt;\nA00102: Authentication error occurred.\nConfirm user name and password.\n</code></pre>\n\n<p>I've tried going back and changing the password to something generic (password) just to make sure it works:</p>\n\n<pre><code>[root@node2 gridstore]# gs_passwd admin\nPassword: \"password\"\nRetype password: \"password\"\n</code></pre>\n\n<p>but I continue to get the same error: </p>\n\n<pre><code>[root@node2 gridstore]# su gsadm\nbash-4.2$ /usr/bin/gs_startnode \nAD0102: gsserver process may exist.\nPID is 88153\nbash-4.2$ /usr/bin/gs_joincluster -c &lt;cluster_name&gt; -u \\\n&gt; admin/password\nA00102: Authentication error occurred.\nConfirm user name and password.\n</code></pre>\n\n<p>Since I know for sure the password is now \"password\" (I've changed it multiple times at this point), shouldn't it be connecting me by now?</p>\n"
    }, {
        "tags": ["node.js", "nosql", "iot", "in-memory-database", "griddb"],
        "is_answered": true,
        "view_count": 133,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1580755955,
        "creation_date": 1547078016,
        "last_edit_date": 1580755955,
        "question_id": 54120151,
        "link": "https://stackoverflow.com/questions/54120151/griddb-node-js-client-will-not-build",
        "title": "GridDB Node.js client will not build",
        "body": "<p>We've decided to switch to using Node.js, and I'm trying to build out the GridDB Node.js client, but I'm getting a <code>make</code> error. I followed closely with the blog and the GitHub instructions. How can I fix this?</p>\n\n<p>Here's the error code:</p>\n\n<pre><code>$ make\ng++ -fPIC -std=c++0x -g -O2 -c -o src/TimeSeriesProperties.o -Iinclude -Isrc src/TimeSeriesProperties.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/ContainerInfo.o -Iinclude -Isrc src/ContainerInfo.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/AggregationResult.o -Iinclude -Isrc src/AggregationResult.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/Container.o -Iinclude -Isrc src/Container.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/Store.o -Iinclude -Isrc src/Store.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/StoreFactory.o -Iinclude -Isrc src/StoreFactory.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/PartitionController.o -Iinclude -Isrc src/PartitionController.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/Query.o -Iinclude -Isrc src/Query.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/QueryAnalysisEntry.o -Iinclude -Isrc src/QueryAnalysisEntry.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/RowKeyPredicate.o -Iinclude -Isrc src/RowKeyPredicate.cpp\ng++ -fPIC -std=c++0x -g -O2 -c -o src/RowSet.o -Iinclude -Isrc src/RowSet.cpp\nswig -DSWIGWORDSIZE64 -Ilibs/js/v8 -outdir . -o src/griddb_js.cxx -c++ -javascript -node src/griddb.i\ng++ -fPIC -std=c++0x -g -O2 -Iinclude -Isrc -I/usr/include/node -DNODE_GYP_MODULE_NAME=griddb -DV8_DEPRECATION_WARNINGS=1 -DBUILDING_NODE_EXTENSION -c -o src/griddb_js.o src/griddb_js.cxx\nsrc/griddb_js.cxx:171:18: fatal error: node.h: No such file or directory\n #include &lt;node.h&gt;\n                  ^\ncompilation terminated.\nmake: *** [src/griddb_js.o] Error 1\n</code></pre>\n"
    }, {
        "tags": ["java", "database", "iot", "griddb"],
        "is_answered": false,
        "view_count": 139,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1580711006,
        "creation_date": 1560538831,
        "last_edit_date": 1580711006,
        "question_id": 56603830,
        "link": "https://stackoverflow.com/questions/56603830/griddb-question-is-the-java-client-thread-safe",
        "title": "GridDB Question: Is the Java Client thread safe?",
        "body": "<p>I'm developing a GridDB application that uses multithreading and am experiencing random exceptions and deadlocks. Is the Java client thread safe? </p>\n\n<p>And for those curious, here is the GridDB product page: <a href=\"https://griddb.net\" rel=\"nofollow noreferrer\">https://griddb.net</a></p>\n"
    }, {
        "tags": ["amazon-web-services", "websocket", "iot", "esp8266", "arduino-ide"],
        "is_answered": true,
        "view_count": 1729,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1579974382,
        "creation_date": 1486469536,
        "last_edit_date": 1486809891,
        "question_id": 42089596,
        "link": "https://stackoverflow.com/questions/42089596/aws-iot-with-esp8266",
        "title": "AWS iot with esp8266",
        "body": "<p>Please help me connect with AWS IOT services with esp8266 12e.\nI am using aws-mqtt-websocket example but I an not able to connect with AWS IOT. \nThe code is as follows and the error I get is: <code>please start sntp first ! error connection to the websocket server</code>.</p>\n\n<pre><code>#include &lt;Arduino.h&gt;\n#include &lt;Stream.h&gt;\n\n#include &lt;ESP8266WiFi.h&gt;\n\n//AWS\n#include \"sha256.h\"\n#include \"Utils.h\"\n#include \"AWSClient2.h\"\n\n//WEBSockets\n#include &lt;Hash.h&gt;\n#include &lt;WebSocketsClient.h&gt;\n\n//MQTT PAHO\n#include &lt;SPI.h&gt;\n#include &lt;IPStack.h&gt;\n#include &lt;Countdown.h&gt;\n#include &lt;MQTTClient.h&gt;\n\n//AWS MQTT Websocket\n#include \"Client.h\"\n#include \"AWSWebSocketClient.h\"\n#include \"CircularByteBuffer.h\"\n\n//AWS IOT config, change these:\n\nconst char* ssid = \"XXXX\";\nconst char* password = \"XXXXXXXX\";\nchar aws_endpoint[] = \"XXXXXXXXXXXXXXXXXXXXXXX\";\nchar aws_key[] = \"XXXXXXXXXXXXXXXXXX\";\nchar aws_secret[] = \"XXXXXXXXXXXXXXXXXXXX\";\nchar aws_region[] = \"XXXXXXXXXXXXXXXX\";\nconst char* aws_topic = \"XXXXXXXXXXXXXXXXXX\";\nint port = 443;\n\n//MQTT config\nconst int maxMQTTpackageSize = 512;\nconst int maxMQTTMessageHandlers = 1;\n\nWiFiClientSecure espclient;\n\nAWSWebSocketClient awsWSclient(1000);\n\nIPStack ipstack(awsWSclient);\n\nMQTT::Client&lt;IPStack, Countdown, maxMQTTpackageSize, maxMQTTMessageHandlers&gt; *client = NULL;\n\n//# of connections\nlong connection = 0;\n\n//generate random mqtt clientID\nchar* generateClientID() {\n    char* cID = new char[23]();\n    for (int i = 0; i&lt;22; i += 1)\n        cID[i] = (char)random(1, 256);\n    return cID;\n}\n\n//count messages arrived\nint arrivedcount = 0;\n\n\n//callback to handle mqtt messages\nvoid messageArrived(MQTT::MessageData&amp; md)\n{\n    MQTT::Message &amp;message = md.message;\n\n    Serial.print(\"Message \");\n    Serial.print(++arrivedcount);\n    Serial.print(\" arrived: qos \");\n    Serial.print(message.qos);\n    Serial.print(\", retained \");\n    Serial.print(message.retained);\n    Serial.print(\", dup \");\n    Serial.print(message.dup);\n    Serial.print(\", packetid \");\n    Serial.println(message.id);\n    Serial.print(\"Payload \");\n    char* msg = new char[message.payloadlen + 1]();\n    memcpy(msg, message.payload, message.payloadlen);\n    Serial.println(msg);\n    delete msg;\n}\n\n//connects to websocket layer and mqtt layer\nbool connect() {\n\n    if (client == NULL) {\n        client = new MQTT::Client&lt;IPStack, Countdown, maxMQTTpackageSize, maxMQTTMessageHandlers&gt;(ipstack);\n    }\n    else {\n\n        if (client-&gt;isConnected()) {\n            client-&gt;disconnect();\n        }\n        delete client;\n        client = new MQTT::Client&lt;IPStack, Countdown, maxMQTTpackageSize, maxMQTTMessageHandlers&gt;(ipstack);\n    }\n\n\n    //delay is not necessary... it just help us to get a \"trustful\" heap space value\n    delay(1000);\n    Serial.print(millis());\n    Serial.print(\" - conn: \");\n    Serial.print(++connection);\n    Serial.print(\" - (\");\n    Serial.print(ESP.getFreeHeap());\n    Serial.println(\")\");\n\n\n\n\n    int rc = ipstack.connect(aws_endpoint, port);\n    Serial.print(rc);\n\n    if (rc != 1)\n    {\n        Serial.println(\"error connection to the websocket server\");\n        return false;\n    }\n    else {\n        Serial.println(\"websocket layer connected\");\n    }\n\n\n    Serial.println(\"MQTT connecting\");\n    MQTTPacket_connectData data = MQTTPacket_connectData_initializer;\n    data.MQTTVersion = 3;\n    char* clientID = generateClientID();\n    data.clientID.cstring = clientID;\n    rc = client-&gt;connect(data);\n    delete[] clientID;\n    if (rc != 0)\n    {\n        Serial.print(\"error connection to MQTT server\");\n        Serial.println(rc);\n        return false;\n    }\n    Serial.println(\"MQTT connected\");\n    return true;\n}\n\n//subscribe to a mqtt topic\nvoid subscribe() {\n    //subscript to a topic\n    int rc = client-&gt;subscribe(aws_topic, MQTT::QOS0, messageArrived);\n    Serial.println(rc);\n    if (rc != 0) {\n        Serial.print(\"rc from MQTT subscribe is \");\n        Serial.println(rc);\n        return;\n    }\n    Serial.println(\"MQTT subscribed\");\n}\n\n//send a message to a mqtt topic\nvoid sendmessage() {\n    //send a message\n    MQTT::Message message;\n    char buf[100];\n    strcpy(buf, \"{\\\"state\\\":{\\\"reported\\\":{\\\"on\\\": false}, \\\"desired\\\":{\\\"on\\\": false}}}\");\n    message.qos = MQTT::QOS0;\n    message.retained = false;\n    message.dup = false;\n    message.payload = (void*)buf;\n    message.payloadlen = strlen(buf) + 1;\n    int rc = client-&gt;publish(aws_topic, message);\n}\n\nvoid setup_wifi() {\n\n    delay(10);\n    // We start by connecting to a WiFi network\n    Serial.println();\n    Serial.print(\"Connecting to \");\n    Serial.println(ssid);\n\n    WiFi.begin(ssid, password);\n\n    while (WiFi.status() != WL_CONNECTED) {\n        delay(500);\n        Serial.print(\".\");\n    }\n\n    Serial.println(\"\");\n    Serial.println(\"WiFi connected\");\n    Serial.println(\"IP address: \");\n    Serial.println(WiFi.localIP());\n}\n\nvoid setup() {\n    Serial.begin(115200);\n    setup_wifi();\n\n    Serial.setDebugOutput(1);\n    //fill AWS parameters    \n    awsWSclient.setAWSRegion(aws_region);\n    awsWSclient.setAWSDomain(aws_endpoint);\n    awsWSclient.setAWSKeyID(aws_key);\n    awsWSclient.setAWSSecretKey(aws_secret);\n    awsWSclient.setUseSSL(true);\n\n    if (connect()) {\n        subscribe();\n        sendmessage();\n    }\n}\n\nvoid loop() {\n    //keep the mqtt up and running\n    if (awsWSclient.connected()) {\n        client-&gt;yield();\n    }\n    else {\n        //handle reconnection\n        if (connect()) {\n            subscribe();\n        }\n    }\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/vyD8x.jpg\" alt=\"enter image description here\"></p>\n"
    }, {
        "tags": ["google-cloud-platform", "iot", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 147,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1579888718,
        "creation_date": 1579296034,
        "last_edit_date": 1579888718,
        "question_id": 59794987,
        "link": "https://stackoverflow.com/questions/59794987/can-we-get-rsa-public-key-associated-with-device-from-google-iot-core",
        "title": "Can we get RSA public key associated with device from google iot core",
        "body": "<p>Actually, I have a device and its associated public key on Google IoT Core. Is it possible to get that public key from any script using the service account (and respective registry). Is it restricted keys on google-iot-core?</p>\n"
    }, {
        "tags": ["amazon-web-services", "kotlin", "iot"],
        "is_answered": true,
        "view_count": 33,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1579463449,
        "creation_date": 1579450129,
        "last_edit_date": 1579456238,
        "question_id": 59811876,
        "link": "https://stackoverflow.com/questions/59811876/how-to-set-the-sql-for-topic-pay-load-in-aws-iot-using-kotlin",
        "title": "How to set the sql for topic pay load in AWS IoT using Kotlin?",
        "body": "<p>From the documentation of Java SDK for AWS Iot they do it as following: </p>\n\n<pre><code>topicRulePayload.setSql(\"SELECT * FROM '$aws/things/&lt;thinbg-name&gt;/shadow/update/accepted'\");\n</code></pre>\n\n<p>But in Kotlin it complains that <code>$aws</code> is unresolved. Please help</p>\n"
    }, {
        "tags": ["java", "android", "amazon-web-services", "iot"],
        "is_answered": false,
        "view_count": 451,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1579267927,
        "creation_date": 1570537390,
        "last_edit_date": 1570605716,
        "question_id": 58286294,
        "link": "https://stackoverflow.com/questions/58286294/android-app-to-connect-to-aws-iot-using-x-509-certificate",
        "title": "Android app to connect to AWS IoT using X.509 certificate",
        "body": "<p>I am writing an Android application to connect a sensor to an AWS IoT service.</p>\n\n<p>I have been provided with the X.509 certificate, a pair of public-private key, <code>clientEndpoint</code>, etc.</p>\n\n<p>I am trying to follow the AWS's Sample code (<a href=\"https://github.com/awslabs/aws-sdk-android-samples/blob/master/AndroidPubSub/README.md\" rel=\"nofollow noreferrer\">see here</a>).</p>\n\n<p>The instructions are clear, but I don't want to generate the certificate and the keys (I already have them).</p>\n\n<p>Below is the code snippet:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// Create a new private key and certificate. This call\n// creates both on the server and returns them to the\n// device.\nCreateKeysAndCertificateRequest createKeysAndCertificateRequest = new CreateKeysAndCertificateRequest();\ncreateKeysAndCertificateRequest.setSetAsActive(true);\nfinal CreateKeysAndCertificateResult createKeysAndCertificateResult;\ncreateKeysAndCertificateResult = mIotAndroidClient.createKeysAndCertificate(createKeysAndCertificateRequest);\nLog.i(LOG_TAG,\"Cert ID: \" +createKeysAndCertificateResult.getCertificateId() +\" created.\");\n\n// store in keystore for use in MQTT client\n// saved as alias \"default\" so a new certificate isn't\n// generated each run of this application\nAWSIotKeystoreHelper.saveCertificateAndPrivateKey(certificateId,createKeysAndCertificateResult.getCertificatePem(),createKeysAndCertificateResult.getKeyPair().getPrivateKey(),\nkeystorePath, keystoreName, keystorePassword);\n// load keystore from file into memory to pass on\n// connection\nclientKeyStore = AWSIotKeystoreHelper.getIotKeystore(certificateId,keystorePath, keystoreName, keystorePassword);\n</code></pre>\n\n<p>How can I use the existing certificates files instead of generating new certificate and keys?</p>\n\n<p>Thank you</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-keyrock"],
        "is_answered": true,
        "view_count": 130,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1576255706,
        "creation_date": 1575643913,
        "question_id": 59215410,
        "link": "https://stackoverflow.com/questions/59215410/how-to-provision-a-dockerized-secure-iot-agent-with-keyrock",
        "title": "How to provision a Dockerized secure IoT Agent with Keyrock?",
        "body": "<p>I'm failing to find this information within the existing <a href=\"https://iotagent-node-lib.readthedocs.io/en/latest/installationguide/index.html#global-configuration\" rel=\"nofollow noreferrer\">documentation</a> - either permanent or non-permanent tokens.</p>\n\n<p>Using Keyrock 7.8, Ultralight 1.11.0 (though any current agent will do)</p>\n\n<p>The following Docker parameters are set:</p>\n\n<pre><code>      - IOTA_AUTH_ENABLED=true\n      - IOTA_AUTH_TYPE=oauth2\n      - IOTA_AUTH_HEADER=Authorization\n      - IOTA_AUTH_HOST=keyrock\n      - IOTA_AUTH_PORT=3000\n      - IOTA_AUTH_URL=http://keyrock:3000\n      - IOTA_AUTH_CLIENT_ID=tutorial-dckr-site-0000-xpresswebapp\n   #  - IOTA_AUTH_PERMANENT_TOKEN=true\n</code></pre>\n\n<p>The default Docker configuration is used in the image, so no provisioning group types are created.</p>\n\n<p>I am able to  provision a trusted group as shown:</p>\n\n<pre><code>curl -X POST \\\n  http://iot-agent:4041/iot/services \\\n  -H 'fiware-service: openiot' \\\n  -H 'fiware-servicepath: /' \\\n  -d '{\n \"services\": [\n   {\n     \"apikey\":      \"4jggokgpepnvsb2uv4s40d59ov\",\n     \"cbroker\":     \"http://orion:1026\",\n     \"entity_type\": \"Motion\",\n     \"resource\":    \"/iot/d\",\n     \"trust\": \"&lt;motn-auth-token&gt;\"\n   }\n ]\n}'\n</code></pre>\n\n<p><strong>Question 1</strong> - how do I generate the trust token within Keyrock.</p>\n\n<p>When I provision the device</p>\n\n<pre><code>curl -X POST \\\n  http://iot-agent:4041/iot/devices \\\n  -H 'Content-Type: application/json' \\\n  -H 'fiware-service: openiot' \\\n  -H 'fiware-servicepath: /' \\\n  -d '{\n \"devices\": [\n   {\n     \"device_id\":   \"motion001\",\n     \"entity_name\": \"urn:ngsi-ld:Motion:001\",\n     \"entity_type\": \"Motion\",\n     \"timezone\":    \"Europe/Berlin\",\n     \"attributes\": [\n       { \"object_id\": \"c\", \"name\":\"count\", \"type\":\"Integer\"}\n      ],\n      \"static_attributes\": [\n         {\"name\":\"refStore\", \"type\": \"Relationship\",\"value\": \"urn:ngsi-ld:Store:001\"}\n      ]\n   }\n ]\n}\n'\n</code></pre>\n\n<p>I receive the following error in the IoT Agent:</p>\n\n<pre><code>{\n    \"name\": \"SECURITY_INFORMATION_MISSING\",\n    \"message\": \"Some security information was missing for device type:Motion\"\n}\n</code></pre>\n\n<p>And the following in the Keyrock logs:</p>\n\n<pre><code>Fri, 06 Dec 2019 14:13:52 GMT idm:oauth2-model_oauth_server -------getClient-------\nExecuting (default): SELECT `id`, `redirect_uri`, `token_types`, `jwt_secret`, `scope`, `grant_type` FROM `oauth_client` AS `OauthClient` WHERE `OauthClient`.`id` = 'tutorial-dckr-site-0000-xpresswebapp' AND `OauthClient`.`secret` = 'tutorial-lcal-host-0000-clientsecret';\nFri, 06 Dec 2019 14:13:52 GMT idm:oauth_controller Error  { invalid_client: Invalid client: client is invalid\n</code></pre>\n\n<p><strong>Question 2:</strong> What additional information needs to be supplied?</p>\n"
    }, {
        "tags": ["json", "attributes", "streaming", "iot", "apache-nifi"],
        "is_answered": true,
        "view_count": 353,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1571797364,
        "creation_date": 1571782259,
        "question_id": 58512921,
        "link": "https://stackoverflow.com/questions/58512921/nifi-attributes-to-json-alters-my-json-data-order",
        "title": "Nifi Attributes to JSON alters my json data order",
        "body": "<p><strong>BACKGROUND:</strong></p>\n\n<p>I want to alter my JSON slightly from</p>\n\n<pre><code>{\n  \"d0\" : 0.0,\n  \"d1\" : 0.0,\n  \"d2\" : 0.0,\n  \"d3\" : 0.0,\n  \"d4\" : 0.0,\n  \"d5\" : 0.0,\n  \"d6\" : 0.0,\n  \"d7\" : 0.0\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>{ \"d0\" : [0.0],\n  \"d1\" : [0.0],\n  \"d2\" : [0.0],\n  \"d3\" : [0.0]\n  \"d4\" : [0.0],\n  \"d5\" : [0.0],\n  \"d6\" : [0.0],\n  \"d7\" : [0.0]\n\n}\n</code></pre>\n\n<p>and I am following the reply to the question given here <a href=\"https://community.cloudera.com/t5/Support-Questions/Groovy-Script-in-ExecuteScript-Processor-To-Format-Date/td-p/230207\" rel=\"nofollow noreferrer\">https://community.cloudera.com/t5/Support-Questions/Groovy-Script-in-ExecuteScript-Processor-To-Format-Date/td-p/230207</a></p>\n\n<p><strong>Accordingly, I use-</strong></p>\n\n<p>1.EvaluateJsonPath\n2.UpdateAttribute \n3.AttributesToJson </p>\n\n<p>and that part of my Nifi processing looks like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wp7Vu.png\" rel=\"nofollow noreferrer\">related nifi flow</a></p>\n\n<p><strong>My settings for the 3 processors are -</strong></p>\n\n<p><strong>1.EvaluateJsonPath</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7SbmN.png\" rel=\"nofollow noreferrer\">settings/ configuration for EvaluateJsonPath</a></p>\n\n<p><strong>2.UpdateAttribute</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/s8i6H.png\" rel=\"nofollow noreferrer\">settings/ configuration for UpdateAttribute</a></p>\n\n<p><strong>3.AttributesToJson</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/1WG0w.png\" rel=\"nofollow noreferrer\">settings/ configuration for AttributesToJson</a></p>\n\n<p>But the AttributesToJson just changes the order of the data in the flat JSON to be</p>\n\n<pre><code>{\n  \"d4\" : [0.0],\n  \"d5\" : [0.0],\n  \"d6\" : [0.0],\n  \"d7\" : [0.0],\n  \"d0\" : [0.0],\n  \"d1\" : [0.0],\n  \"d2\" : [0.0],\n  \"d3\" : [0.0]\n}\n</code></pre>\n\n<p><strong>QUESTION:</strong></p>\n\n<p>Why is the  AttributesToJson behaving this way? How should I change it to the correct order starting d0 to d7?\nI need the correct order because this is supposed to be the body of a POST request.</p>\n"
    }, {
        "tags": ["java", "aws-sdk", "iot", "client-certificates", "aws-iot"],
        "is_answered": true,
        "view_count": 165,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1571297623,
        "creation_date": 1570546032,
        "question_id": 58288806,
        "link": "https://stackoverflow.com/questions/58288806/how-to-generate-aws-bootstrap-certificates-with-java-sdk",
        "title": "How to generate AWS bootstrap certificates with java SDK?",
        "body": "<p>According to this <a href=\"https://aws.amazon.com/ru/blogs/iot/provisioning-with-a-bootstrap-certificate-in-aws-iot-core/\" rel=\"nofollow noreferrer\">docs</a> I need to generate so-called bootstrap certificates for my IoT devices. I assumed that for bootstrap certificates generation CA certificate will be downloaded via AWS SDK and used to generate bootstrap certificate. </p>\n\n<p>I can't find any more or less sane example of how this can be done with java AWS SDK. Can anyone give a code example of how I can do it? Thanks in advance. </p>\n"
    }, {
        "tags": ["security", "encryption", "aes", "iot"],
        "is_answered": true,
        "view_count": 694,
        "favorite_count": 0,
        "score": 4,
        "last_activity_date": 1570806106,
        "creation_date": 1460468923,
        "question_id": 36575272,
        "link": "https://stackoverflow.com/questions/36575272/encryption-security-strategy-for-iot-solution",
        "title": "Encryption/Security strategy for IoT solution",
        "body": "<p>I am trying to figure out what encryption/security strategy to adopt for IoT based solution.\nHere's my assessment. </p>\n\n<ol>\n<li><p>The fundamental assumption of any security system is that the algorithm can be cracked, hence the key has to protected.</p></li>\n<li><p>TLS will act as a protective layer for packets sent over the air. This is mostly taken care by the wireless device. This is not enough &amp; data has to be protected further.</p></li>\n<li><p>The data that has to be encrypted we can use various encryption algorithms. Out of that AES seems to be the most reliable one. I am not able to confirm if AES is a public - private key algorithm or symmetric key (single key for encode-decode) algorithm. Please shed more light on this. </p></li>\n</ol>\n\n<p>Has anyone come across a strategy wherein:</p>\n\n<ol>\n<li><p>Every device / node has a different encryption key. This is very important because a hacker can simulate certain periodic data without understanding the underlying encryption. So if the hacker is able to figure out that xyz packet produces certain behaviour in the device, encryption is of little consequence. </p></li>\n<li><p>Can we change the secret key on the fly, so something like for each session created, the server will update the key for the next connection ? </p></li>\n</ol>\n\n<p>Are my assumptions right ? Also it would be great if you can suggest me best practices for security in an IoT environment.</p>\n\n<p>Regards, </p>\n\n<p>Chaitannya</p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": false,
        "view_count": 115,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1570784009,
        "creation_date": 1570783600,
        "last_edit_date": 1570784009,
        "question_id": 58337481,
        "link": "https://stackoverflow.com/questions/58337481/azure-iot-hub-and-sending-messages-with-mosquitto-pub",
        "title": "Azure IoT hub and sending messages with mosquitto_pub",
        "body": "<p>I'm trying to send some simple message with mosquitto_pub to Azure IoT HUB but faced some problems with authorization. I'm using following script:</p>\n\n<pre><code>mosquitto_pub \\\n-h xxxdev.azure-devices.net \\\n-u \"xxxdev.azure-devices.net/xxxdev/?api-version=2018-06-30\" \\\n-P \"SharedAccessSignature sr=xxx.azure- \ndevices.net%2Fdevices%2Fxxxdev&amp;sig=YYYYY&amp;se=1570866689&amp;skn=ZZZZZZZ\" \\\n-t \"devices/xxxdev/messages/events/\" \\\n--cafile ca.pem \\\n-p 8883 \\\n-i xxxdev \\\n-V mqttv311 \\\n-d \\\n-m 'message'\n</code></pre>\n\n<p>and after run this script I get following messages:</p>\n\n<pre><code>Client xxxdev sending CONNECT\nClient xxxdev received CONNACK (5)\nConnection error: Connection Refused: not authorised.\nClient xxxdev sending DISCONNECT\n</code></pre>\n\n<p>My questions are: What exactly does those messages mean? Is it because some parameter like password (given with -P param) is wrong?</p>\n\n<p>I've generated SAS token with bash script: <a href=\"https://docs.microsoft.com/en-us/rest/api/eventhub/generate-sas-token\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/rest/api/eventhub/generate-sas-token</a></p>\n\n<p>Assuming that this bash script generates properly the password - what else could be the problem here? How to fix the problem?</p>\n"
    }, {
        "tags": ["iot", "platform"],
        "is_answered": false,
        "view_count": 17,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1570132131,
        "creation_date": 1570123037,
        "last_edit_date": 1570132131,
        "question_id": 58224019,
        "link": "https://stackoverflow.com/questions/58224019/why-does-the-writecsv-component-output-not-work-in-gravio",
        "title": "Why does the WriteCSV component output not work in Gravio?",
        "body": "<p>When executing the WriteCSV component in the <a href=\"https://www.gravio.com\" rel=\"nofollow noreferrer\">gravio.com</a> platform, I am getting the </p>\n\n<blockquote>\n  <p>Exception WriteCSV: No output specified! </p>\n</blockquote>\n\n<p>error. What could possibly be wrong?</p>\n"
    }, {
        "tags": ["java", "android", "json", "iot"],
        "is_answered": false,
        "view_count": 3906,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1562168365,
        "creation_date": 1520577807,
        "last_edit_date": 1520589681,
        "question_id": 49188006,
        "link": "https://stackoverflow.com/questions/49188006/fetching-json-data-from-thingspeak-to-android-app",
        "title": "FETCHING JSON DATA FROM THINGSPEAK TO ANDROID APP",
        "body": "<p>I am a beginner in Android and i am trying to fetch  json data from Thingspeak to my android app.</p>\n\n<p>This is my code:</p>\n\n<pre><code>package com.example.shaheer.thingspeak;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.widget.Toast;\n\nimport com.android.volley.Request;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.JsonObjectRequest;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n    }\n\n    public void fetchData() {\n        String lightApi = \n        \"https://api.thingspeak.com/channels/444149/fields/1.json?api_key=EE90JXIIKAEFUT7S&amp;results=2\";\n        JsonObjectRequest jsonObjReq = new JsonObjectRequest(Request.Method.GET,lightApi, null, new Response.Listener&lt;JSONObject&gt;() {\n            @Override\n            public void onResponse(JSONObject response) {\n                try {\n                    JSONArray feeds = response.getJSONArray(\"feeds\");\n                    for(int i=0; i&lt;feeds.length();i++){\n                        JSONObject jo = feeds.getJSONObject(i);\n                        String l=jo.getString(\"field1\");\n                        Toast.makeText(MainActivity.this,l,Toast.LENGTH_SHORT).show();\n                         }\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n} \n</code></pre>\n\n<p>To cut my story short,i am getting this following error:\n<strong>Error:(38, 10) error: ')' expected.</strong>\nEvery brackets seems to be alright.Thanks for your help!!</p>\n\n<p>Edit:This is my Logcat:\n<a href=\"https://i.stack.imgur.com/ONBY7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"
    }, {
        "tags": ["android", "amazon-web-services", "bouncycastle", "iot"],
        "is_answered": true,
        "view_count": 841,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1559037944,
        "creation_date": 1539698623,
        "question_id": 52837351,
        "link": "https://stackoverflow.com/questions/52837351/aws-certificate-unrecognized-keystore-format-null",
        "title": "AWS Certificate - Unrecognized keystore format: null",
        "body": "<p>I'm trying to generate AWS IoT cerificate from certificate and private key. First I'm creating PKCS12 keystore, then convert PKCS12 keystore to a BKS (BouncyCastle) keystore. While doing second step, I'm getting error:</p>\n\n<pre><code>keytool error: java.security.KeyStoreException: Unrecognized keystore format: null\n</code></pre>\n\n<p>What's weird: I'm doing it second time, few months ago I did it the same way, and then it worked, so I'm sure my files are correct. Command I'm using is (new lines only for readability here):</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-10.0.2\\bin\\keytool\" \n-importkeystore \n-srckeystore beurer_keystore.p12 \n-srcstoretype pkcs12 \n-srcstorepass password \n-destkeystore beurer_keystore.bks \n-deststoretype bks \n-deststorepass password \n--provider org.bouncycastle.jce.provider.BouncyCastleProvider \n--providerpath bcprov-jdk15on-160.jar\n</code></pre>\n\n<p>What could changed that this time I'm getting different result? Different Java version? Different keytool? </p>\n"
    }, {
        "tags": ["google-cloud-platform", "mqtt", "iot", "arduino-esp8266"],
        "is_answered": true,
        "view_count": 2554,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1558208771,
        "creation_date": 1555935522,
        "last_edit_date": 1558208771,
        "question_id": 55794304,
        "link": "https://stackoverflow.com/questions/55794304/mqtt-google-cloud-connection-with-esp8266",
        "title": "MQTT google cloud connection with ESP8266",
        "body": "<p>I am trying to send temperature data from a NodeMCU to Google Cloud with Arduino IDE and using this library <a href=\"https://github.com/GoogleCloudPlatform/google-cloud-iot-arduino\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/google-cloud-iot-arduino</a>. I created a registry and a device on google iot core and uploaded there the public key (ES256). On my side I uploaded the csa certificate on the ESP8266 though SPIFFS and correctly set all parameters and private key string in 'ciotc_config.h'. When I try to connect I get in the Serial Monitor the following output repeting itself:</p>\n\n<pre><code>14:11:14.342 -&gt; Connecting to WiFi\n14:11:15.725 -&gt; Waiting on time sync...\n14:11:15.866 -&gt; Success to open ca file\n14:11:15.913 -&gt; loaded\n14:11:15.913 -&gt; \n14:11:15.913 -&gt; connecting...Refreshing JWT\n14:11:19.797 -&gt; \n14:11:19.797 -&gt; connected!\n14:11:19.843 -&gt; \n14:11:19.843 -&gt; connecting...Refreshing JWT\n14:11:23.727 -&gt; \n14:11:23.727 -&gt; connected!\n14:11:23.774 -&gt; \n14:11:23.774 -&gt; connecting...Refreshing JWT\n</code></pre>\n\n<p>and so on....</p>\n\n<p>The data is not receive in the Cloud dashboard under Device > Configuration &amp; State History, I can see a yellow warning \"Not yet acknowledged by device\"</p>\n\n<p>It seems I cannot connect with MQTT, because the data is not sent and I do not know how actually understand where is the mistake. Do you guys have any idea?</p>\n\n<p>Thank you</p>\n\n<pre><code>#include \"DHT.h\"\n#include &lt;CloudIoTCore.h&gt;\n#include \"esp8266_mqtt.h\"\n\n#define DHTPIN 2 // what digital pin we're connected to\n#define DHTTYPE DHT11 // DHT 11\nunsigned long lastMillis = 0;\nDHT dht(DHTPIN, DHTTYPE);\n\nvoid setup() {\n  Serial.begin(115200);\n  setupCloudIoT(); // Creates globals for MQTT\n  dht.begin();\n}\n\nvoid loop() {\n  mqttClient-&gt;loop();\n  delay(10);  // &lt;- fixes some issues with WiFi stability\n\n  if (!mqttClient-&gt;connected()) {\n    connect();\n  }\n\n  if (millis() - lastMillis &gt; 20000) {\n    lastMillis = millis();\n  String payload =\n      String(\"{\\\"timestamp\\\":\") + time(nullptr) +\n      String(\",\\\"temperature\\\":\") + dht.readTemperature() +\n      String(\",\\\"humidity\\\":\") + dht.readHumidity() +\n      String(\"}\");\n    publishTelemetry(payload);\n  }\n}\n</code></pre>\n\n<p>UPDATE:\nSerial Monitor output with debug:</p>\n\n<pre><code>19:16:17.266 -&gt; SDK:3.0.0-dev(c0f7b44)/Core:2.5.0=20500000/lwIP:STABLE-2_1_2_RELEASE/glue:1.1/BearSSL:6778687\n19:16:17.266 -&gt; sta config unchangedscandone\n19:16:17.313 -&gt; Connecting to WiFi\n19:16:17.313 -&gt; wifi evt: 2\n19:16:17.406 -&gt; scandone\n19:16:17.406 -&gt; state: 0 -&gt; 2 (b0)\n19:16:17.406 -&gt; state: 2 -&gt; 3 (0)\n19:16:17.406 -&gt; state: 3 -&gt; 5 (10)\n19:16:17.406 -&gt; add 0\n19:16:17.406 -&gt; aid 14\n19:16:17.406 -&gt; cnt \n19:16:17.453 -&gt; \n19:16:17.453 -&gt; connected with Internet, channel 6\n19:16:17.453 -&gt; dhcp client start...\n19:16:17.453 -&gt; wifi evt: 0\n19:16:19.282 -&gt; ip:XX.X.X.X,mask:XXX.XXX.XXX.X,gw:XX.X.X.XXX\n19:16:19.282 -&gt; wifi evt: 3\n19:16:19.282 -&gt; Waiting on time sync...\n19:16:19.751 -&gt; SPIFFSImpl: allocating %zd+%z d+%z  d=%z   d bytes\n19:16:19.751 -&gt; SPIFFSImpl: mounting fs @100000, size=2fb000, block=2000, page=100\n19:16:19.798 -&gt; SPIFFSImpl: mount rc=0\n19:16:19.798 -&gt; Success to open ca file\n19:16:19.845 -&gt; loaded\n19:16:19.845 -&gt; SPIFFS_close: fd=1\n19:16:19.845 -&gt; \n19:16:19.845 -&gt; connecting...Refreshing JWT\n19:16:23.255 -&gt; [hostByName] request IP for: mqtt.googleapis.com\n19:16:23.301 -&gt; [hostByName] Host: mqtt.googleapis.com IP: XX.XXX.XXX.XXX\n19:16:23.301 -&gt; :ref 1\n19:16:23.395 -&gt; :wr 224 0\n19:16:23.395 -&gt; :wrc 224 224 0\n19:16:23.395 -&gt; :ack 224\n19:16:23.395 -&gt; :rn 536\n19:16:23.395 -&gt; :rd 5, 536, 0\n19:16:23.395 -&gt; :rdi 536, 5\n19:16:23.442 -&gt; :rd 87, 536, 5\n19:16:23.442 -&gt; :rdi 531, 87\n19:16:23.442 -&gt; :rd 5, 536, 92\n19:16:23.442 -&gt; :rdi 444, 5\n19:16:23.442 -&gt; :rd 439, 536, 97\n19:16:23.442 -&gt; :rdi 439, 439\n19:16:23.442 -&gt; :c0 439, 536\n19:16:23.676 -&gt; :rn 536\n19:16:23.676 -&gt; :rd 536, 536, 0\n19:16:23.676 -&gt; :rdi 536, 536\n19:16:23.676 -&gt; :c0 536, 536\n19:16:23.770 -&gt; :rn 1072\n19:16:23.770 -&gt; :rch 1072, 536\n19:16:23.770 -&gt; :rd 1471, 1608, 0\n19:16:23.770 -&gt; :rdi 536, 536\n19:16:23.770 -&gt; :c 536, 536, 1608\n19:16:23.770 -&gt; :rdi 536, 536\n19:16:23.770 -&gt; :c 536, 536, 1072\n19:16:23.770 -&gt; :rdi 536, 399\n19:16:24.086 -&gt; :rch 536, 177\n19:16:24.086 -&gt; \n19:16:24.086 -&gt; connected!\n19:16:24.086 -&gt; \n19:16:24.086 -&gt; connecting...Refreshing JWT\n19:16:27.510 -&gt; [hostByName] request IP for: mqtt.googleapis.com\n19:16:27.510 -&gt; [hostByName] Host: mqtt.googleapis.com IP: XX.XXX.XXX.XXX\n19:16:27.510 -&gt; pm open,type:2 0\n19:16:27.510 -&gt; :close\n19:16:27.510 -&gt; :ur 1\n19:16:27.510 -&gt; :del\n19:16:27.510 -&gt; :ref 1\n19:16:27.604 -&gt; :wr 224 0\n19:16:27.604 -&gt; :wrc 224 224 0\n19:16:27.651 -&gt; :ack 224\n19:16:27.651 -&gt; :rn 536\n19:16:27.651 -&gt; :rch 536, 536\n19:16:27.651 -&gt; :rch 1072, 536\n19:16:27.651 -&gt; :rch 1608, 536\n19:16:27.651 -&gt; :rd 5, 2144, 0\n19:16:27.651 -&gt; :rdi 536, 5\n19:16:27.651 -&gt; :rd 87, 2144, 5\n19:16:27.651 -&gt; :rdi 531, 87\n19:16:27.651 -&gt; :rd 5, 2144, 92\n19:16:27.651 -&gt; :rdi 444, 5\n19:16:27.651 -&gt; :rd 2047, 2144, 97\n19:16:27.651 -&gt; :rdi 439, 439\n19:16:27.651 -&gt; :c 439, 536, 2144\n19:16:27.651 -&gt; :rdi 536, 536\n19:16:27.651 -&gt; :c 536, 536, 1608\n19:16:27.651 -&gt; :rdi 536, 536\n19:16:27.651 -&gt; :c 536, 536, 1072\n19:16:27.651 -&gt; :rdi 536, 536\n19:16:27.651 -&gt; :c0 536, 536\n19:16:27.885 -&gt; :rn 536\n19:16:27.885 -&gt; :rch 536, 177\n19:16:27.885 -&gt; :rd 399, 713, 0\n19:16:27.885 -&gt; :rdi 536, 399\n19:16:28.073 -&gt; \n19:16:28.073 -&gt; connected!\n19:16:28.120 -&gt; \n19:16:28.120 -&gt; connecting...Refreshing JWT\n</code></pre>\n\n<p>UPDATE2: JWT validation and credential debug</p>\n\n<p>Below the credential and JWT obtained from Serial Monitor:</p>\n\n<pre><code>18:54:41.890 -&gt; Waiting on time sync...\n18:54:42.904 -&gt; Success to open ca file\n18:54:42.938 -&gt; loaded\n18:54:42.971 -&gt; projects/iot-esp8266-new/locations/us-central1/registries/iotcore-registry/devices/esp8266\n18:54:42.971 -&gt; Refreshing JWT\n18:54:46.318 -&gt; XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX\n18:54:46.351 -&gt; \n18:54:46.351 -&gt; connecting...Refreshing JWT\n</code></pre>\n\n<p>The JWT generated has been validated with PyJWT as below:</p>\n\n<pre><code>import jwt\npublic_key =  open('ec_public.pem').read()\ntoken = 'XXXXXXXXXXXXXXXXXXXXXXXXXXX'\npayload = jwt.decode(token, public_key, algorithms=['ES256'], audience=\"iot-esp8266-new\")\npayload\n{'iat': 1556988880, 'exp': 1556992480, 'aud': 'iot-esp8266-new'}\n</code></pre>\n"
    }, {
        "tags": ["permissions", "iot", "bosch-iot-suite"],
        "is_answered": true,
        "view_count": 183,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1557401674,
        "creation_date": 1557391877,
        "last_edit_date": 1557393921,
        "question_id": 56055650,
        "link": "https://stackoverflow.com/questions/56055650/how-do-i-generate-agent-credentials-for-bosch-iot-permissions",
        "title": "How do i generate Agent Credentials for Bosch IoT Permissions?",
        "body": "<p>I am using the Bosch IoT Suite's Permissions Service.</p>\n\n<p>I have an issue generating agent credentials. What are the steps and parameters i need to specify to generate agent credentials? I am trying to create an agent credentials which is able to auto activate newly created user accounts.</p>\n"
    }, {
        "tags": ["rdf", "iot", "semantic-web", "json-ld", "capability"],
        "is_answered": true,
        "view_count": 97,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1557067263,
        "creation_date": 1556996393,
        "last_edit_date": 1557062416,
        "question_id": 55985859,
        "link": "https://stackoverflow.com/questions/55985859/how-to-describe-a-device-capability-with-an-rdf-graph-using-json-ld-serializatio",
        "title": "How to describe a device capability with an RDF graph using JSON-LD serialization?",
        "body": "<p>I need to describe the capability of devices and how to invoke the capabilities functions semantically. In order to achieve that I created a super simple RDF Graph and used <a href=\"https://github.com/rdfjs/serializer-jsonld\" rel=\"nofollow noreferrer\">@rdfjs/serializer-jsonld</a> library to serialize the graph to JSON-LD file with the following code: </p>\n\n<pre><code>const rdf = require('@rdfjs/data-model')\nconst Readable = require('stream').Readable\nconst SerializerJsonld = require('@rdfjs/serializer-jsonld')\n\nconst serializerJsonld = new SerializerJsonld()\nconst input = new Readable({\n  objectMode: true,\n  read: () =&gt; {\n    input.push(rdf.quad(\n      rdf.literal('Device001'),\n      rdf.namedNode('https://schema.org/potentialAction'),\n      rdf.namedNode('https://schema.org/PhotographAction')))\n    input.push(rdf.quad(\n      rdf.namedNode('https://schema.org/PhotographAction'),\n      rdf.namedNode('https://w3id.org/function/ontology#Function'),\n      rdf.literal('takePhoto')))\n    input.push(null)\n  }\n})\nconst output = serializerJsonld.import(input)\n\noutput.on('data', jsonld =&gt; {\n  console.log(jsonld)\n})\n</code></pre>\n\n<p>which creates the following JSON-LD file.</p>\n\n<pre><code>[\n    {\n        \"@id\": \"Device001\",\n        \"https://schema.org/potentialAction\": {\n            \"@id\": \"https://schema.org/PhotographAction\"\n        }\n    },\n    {\n        \"@id\": \"https://schema.org/PhotographAction\",\n        \"https://w3id.org/function/ontology#Function\": \"takePhoto\"\n    }\n]\n</code></pre>\n\n<p>Is this semantically correct? Is is okay to combine [schema.org] ontology (<a href=\"https://schema.org/\" rel=\"nofollow noreferrer\">https://schema.org/</a>) and <a href=\"https://w3id.org/function/ontology#\" rel=\"nofollow noreferrer\">function ontology</a> without using RDF Schema or any class or type? Is there a better way to combine 2 ontologies? JSON-LD playground gives no errors but is there a better way to validate?</p>\n"
    }, {
        "tags": ["json", "azure", "stream", "analytics", "iot"],
        "is_answered": false,
        "view_count": 44,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1556869641,
        "creation_date": 1556747090,
        "question_id": 55943085,
        "link": "https://stackoverflow.com/questions/55943085/data-lake-analytics-query-fails",
        "title": "Data Lake Analytics Query Fails",
        "body": "<p>Data Lake Analytics job failed with the following error with input as json file. Looks like a json formatting error. Any help is greatly appreciated.\nThe json file was generated by stream analytics with data from IOT hub as input.</p>\n\n<p>{\n    \"jobId\": \"<a href=\"https://iotdla4c2c5a3b.azuredatalakeanalytics.net/jobLink/4eddd130-e0fc-45d4-8b3a-179b0e49f6c1\" rel=\"nofollow noreferrer\">https://iotdla4c2c5a3b.azuredatalakeanalytics.net/jobLink/4eddd130-e0fc-45d4-8b3a-179b0e49f6c1</a>\",\n    \"errors\": {\n        \"diagnosticCode\": 195887158,\n        \"severity\": \"Error\",\n        \"component\": \"RUNTIME\",\n        \"source\": \"User\",\n        \"errorId\": \"E_RUNTIME_USER_UNHANDLED_EXCEPTION_FROM_USER_CODE\",\n        \"message\": \"An unhandled exception from user code has been reported when invoking the method 'Extract' on the user type 'Microsoft.Analytics.Samples.Formats.Json.JsonExtractor'\",\n        \"description\": \"Unhandled exception from user code: \\\"Additional text encountered after finished reading JSON content: {. Path '', line 2, position 0.\\\"\\nThe details includes more information including any inner exceptions and the stack trace where the exception was raised.\",\n        \"resolution\": \"Make sure the bug in the user code is fixed.\",\n        \"helpLink\": \"\",\n        \"details\": \"==== Caught exception Newtonsoft.Json.JsonReaderException\\n\\n   at Newtonsoft.Json.JsonTextReader.Read()\\r\\n   at Microsoft.Analytics.Samples.Formats.Json.JsonExtractor.d__2.MoveNext()\\r\\n   at ScopeEngine.RunUdoCodeExceptionhandled >(ScopeTypedManagedHandle* className, SByte* methodName, * code) in d:\\data\\yarnnm\\local\\usercache\\9bb5486e-cb76-464b-a635-28243eb11fb0\\appcache\\application_1556746128054_0157\\container_e391_1556746128054_0157_01_000001\\wd\\managed.h:line 2034\",\n        \"userData\": \"\"\n    }\n}</p>\n"
    }, {
        "tags": ["security", "iot", "fiware"],
        "is_answered": true,
        "view_count": 142,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1556767750,
        "creation_date": 1556621814,
        "question_id": 55919458,
        "link": "https://stackoverflow.com/questions/55919458/fiware-authentication-between-iot-agent-and-context-broker",
        "title": "FIWARE: authentication between IoT Agent and Context Broker",
        "body": "<p>I've been tinkering with Fiware and trying to understand how to handle security. This diagram shows an example of using proxies to authenticate requests.</p>\n\n<p><a href=\"https://i.stack.imgur.com/A9qIC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A9qIC.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I don't see any authentication between the IoT Agent and the Context Broker. I would have guessed that the IoT Agent is intended to be a gateway device running on hardware physically located adjacant to the devices. But if that's the case with this setup then there's no authentication when making calls to the Context Broker.</p>\n\n<p>Is the IoT Agent only intended to be hosted in the cloud within the same network as the Context Broker? Or is there some way to insert a proxy between them that handles security? </p>\n"
    }, {
        "tags": ["mysql", "json", "listener", "iot"],
        "is_answered": false,
        "view_count": 65,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1556713463,
        "creation_date": 1556697572,
        "last_edit_date": 1556713463,
        "question_id": 55933202,
        "link": "https://stackoverflow.com/questions/55933202/how-to-process-incoming-json-data-from-connected-iot-device",
        "title": "How to process incoming JSON data from connected IoT device",
        "body": "<p>I need some support with a personal project Im working on. I have a connected device which sends JSON data at a defined interval (every 1 min / 5 min/ 15 mins etc) to a specific IP address on port 8080.</p>\n\n<p>The <code>JSON</code> that is sent is in following format:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>{\n\"MeterSN\": \u201c1234\u201d,\n\"Status\": ###,\n\u201cVariable1\u201d: \u201c###\u201d,\n\"Variable2\u201d: \u201c###\u201d,\n\"Variable3\u201d: ###\n}\n</code></pre>\n\n<p>I have started building a PHP Rest API to process this data but am somehow not able to save the to mySQL.</p>\n\n<p>Here is what I have so far:</p>\n\n<p><strong>meterdata.php</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class MeterDataInput{\n    private $conn;\n    private $table_name = \"meterdata\";\n    public $MeterSN;\n    public $StatusA;\n    public $Variable1;\n    public $Variable2;\n    public $Variable3;\n\n    public function __construct($db){\n        $this-&gt;conn = $db;\n    }\n}\nfunction createMeterRecord(){\n\n    $query = \"INSERT INTO\n                \" . $this-&gt;table_name . \"\n            SET\n                MeterSN=:MeterSN, Status=:Status, Variable1=:Variable1, Variable2=:Variable2, Variable3=:Variable3\";\n    // prepare query\n    $stmt = $this-&gt;conn-&gt;prepare($query);\n    // sanitize\n    $this-&gt;MeterSN=htmlspecialchars(strip_tags($this-&gt;MeterSN));\n    $this-&gt;Status=htmlspecialchars(strip_tags($this-&gt;Status));\n    $this-&gt;Variable1=htmlspecialchars(strip_tags($this-&gt;Variable1));\n    $this-&gt;Variable2=htmlspecialchars(strip_tags($this-&gt;Variable2));\n    $this-&gt;Variable3=htmlspecialchars(strip_tags($this-&gt;Variable3));\n    // bind values\n    $stmt-&gt;bindParam(\":MeterSN\", $this-&gt;MeterSN);\n    $stmt-&gt;bindParam(\":Status\", $this-&gt;Status);\n    $stmt-&gt;bindParam(\":Variable1\", $this-&gt;Variable1);\n    $stmt-&gt;bindParam(\":Variable2\", $this-&gt;Variable2);\n    $stmt-&gt;bindParam(\":Variable3\", $this-&gt;Variable3);\n    // execute query\n    if($stmt-&gt;execute()){\n        return true;\n    }\n    return false;\n}\n</code></pre>\n\n<p><strong>index.php</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>// required headers\nheader(\"Access-Control-Allow-Origin: *\");\nheader(\"Content-Type: application/json; charset=UTF-8\");\nheader(\"Access-Control-Allow-Methods: POST\");\nheader(\"Access-Control-Max-Age: 3600\");\nheader(\"Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\");\n\n// get database connection\ninclude_once 'config/db.php';\n\n// instantiate MeterData object\ninclude_once 'objects/meterdata.php';\n\n$database = new Database();\n$db = $database-&gt;getConnection();\n\n$meterdata = new MeterDataInput($db);\n\n// get posted data\n$data = json_decode(file_get_contents(\"php://input\"));\n\n// make sure data is not empty\nif(!empty($data-&gt;MeterSN)){\n\n    // set product property values\n    $meterdata-&gt;MeterSN = $data-&gt;MeterSN;\n    $meterdata-&gt;Status = $data-&gt;Status;\n    $meterdata-&gt;Variable1 = $data-&gt;Variable1;\n    $meterdata-&gt;Variable2 = $data-&gt;Variable2;\n    $meterdata-&gt;Variable3 = $data-&gt;Variable3;\n\n    // create the meter data entry\n    if($meterdata-&gt;createMeterRecord()){\n        // set response code - 201 created\n        http_response_code(201);\n        // update the status\n        echo json_encode(array(\"message\" =&gt; \"Data record was added\"));\n    }\n    // if unable to create the record\n    else{\n\n        // set response code - 503 service unavailable\n        http_response_code(503);\n\n        // tell the user\n        echo json_encode(array(\"message\" =&gt; \"Unable to add record.\"));\n    }\n}\n\n// data is incomplete\nelse{\n\n    // set response code - 400 bad request\n    http_response_code(400);\n\n    // tell the user\n    echo json_encode(array(\"message\" =&gt; \"Unable to create data record. Data is incomplete.\"));\n}\n</code></pre>\n\n<p>Obviously i also have config.php and db.php </p>\n\n<p>I am not sure where i am going wrong, however I am not able to see the records popupate within mySQL.</p>\n"
    }, {
        "tags": ["c#", "json", "database", "unity3d", "iot"],
        "is_answered": false,
        "view_count": 75,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1556522940,
        "creation_date": 1556521660,
        "last_edit_date": 1556522940,
        "question_id": 55898509,
        "link": "https://stackoverflow.com/questions/55898509/why-does-my-c-code-pick-up-some-json-urls-but-not-others",
        "title": "Why does my C# code pick up some JSON URLs but not others?",
        "body": "<p>I'm trying to create my own JSON file to be read in Unity 3D, however I can't get it to work. My code is fine with JSON URLs I haven't created however. What can I do with my JSON to ensure it is picked up in Unity/C#?</p>\n\n<p>I've tried exporting my Google Sheet to JSON using the basic method, then went to using Sheetsu, but no luck. It works with the example JSON url though...</p>\n\n<pre><code>using System.Collections;\nusing System.Collections.Generic;\nusing UnityEngine;\nusing UnityEngine.UI;\n\npublic class GoogleSheetJSON : MonoBehaviour\n\n\n{\n\npublic GameObject GSvariable;\nIEnumerator UpdateText()\n{\n    while (true)\n    {\n            //First attempt\n            //string jsonUrl = \"https://spreadsheets.google.com/feeds/cells/1wqo8gFMC6FHo7G3mrMVZap-eGsp1Z-nxaQ2AcAQ4dKk/1/public/full?alt=json\";\n\n            //Second attempt\n            //string jsonUrl = \"https://sheetsu.com/apis/v1.0su/f54be9f9d696\";\n\n            //External JSON url\n            string jsonUrl = \"https://jsonplaceholder.typicode.com/todos/1\";\n\n            WWW googleSheetWWW = new WWW(jsonUrl);\n        yield return googleSheetWWW;\n\n        JSONObject tempData = new JSONObject(googleSheetWWW.text);\n\n            //First attempt\n            //Debug.Log(tempData[\"entry\"][\"0\"][\"gs$cell\"][\"inputValue\"]);\n            //GSvariable.GetComponent&lt;TextMesh&gt;().text = tempData[\"entry\"][\"0\"][\"gs$cell\"][\"inputValue\"].ToString();\n\n            //Second attempt\n            //Debug.Log(tempData[\"timestamp\"]);\n            //GSvariable.GetComponent&lt;TextMesh&gt;().text = tempData[\"timestamp\"].ToString();\n\n            //External JSON url\n            Debug.Log(tempData[\"title\"]);\n            GSvariable.GetComponent&lt;TextMesh&gt;().text = tempData[\"title\"].ToString();\n\n            yield return new WaitForSeconds(60);\n    }\n}\n\nvoid Start()\n{\n    StartCoroutine(UpdateText());\n}\n}\n</code></pre>\n\n<p>I think it's obvious that the management of my JSON files is not correct, however I can't understand why they wouldn't work considering they're on a public URL.</p>\n\n<p>When I uncomment my second attempt, I'm expecting to see my placeholder text \"Google Sheet =\" to become \", Test 4\" yet I get the following Unity error on play:</p>\n\n<p>NullReferenceException: Object reference not set to an instance of an object\nGoogleSheetJSON+c__Iterator0.MoveNext () (at Assets/Scripts/GoogleSheetJSON.cs:36)</p>\n\n<p><a href=\"https://i.stack.imgur.com/cn479.png\" rel=\"nofollow noreferrer\">Screen grab of error if 'Second attempt' is uncommented</a>\n<a href=\"https://i.stack.imgur.com/2eLzC.png\" rel=\"nofollow noreferrer\">Screen grab of code as described</a></p>\n"
    }, {
        "tags": ["c#", "multithreading", "iot", "windows-10-iot-core"],
        "is_answered": true,
        "view_count": 690,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1556239540,
        "creation_date": 1556226775,
        "last_edit_date": 1556239540,
        "question_id": 55857711,
        "link": "https://stackoverflow.com/questions/55857711/how-to-read-write-from-a-global-variable-in-main-thread",
        "title": "How to read/write from a global variable in main thread",
        "body": "<p>I have a C# Windows IoT Background application I have created.  That application has multiple threads in the ThreadPool that run indefinitely.  </p>\n\n<p>These threads need to be able to read/write to global variables in the main thread, but I am not sure how to accomplish this.  Here is an example of what I am trying to do:</p>\n\n<pre><code>// main task\npublic sealed class StartupTask : IBackgroundTask\n{\n    private static BackgroundTaskDeferral _Deferral = null;\n\n    private static MyThreadClass1 thread1 = null;\n    private static MyThreadClass2 thread2 = null;\n    private static MyThreadClass3 thread3 = null;\n\n    List&lt;Object&gt; MyDevices = null;\n\n    public async void Run(IBackgroundTaskInstance taskInstance)\n    {\n        _Deferral = taskInstance.GetDeferral();\n\n        MyDevices = GetDeviceList();\n\n        thread1 = new MyThreadClass1();\n        await ThreadPool.RunAsync(workItem =&gt;\n        {\n            thread1.Start();\n        });\n\n        thread2 = new MyThreadClass2();\n        await ThreadPool.RunAsync(workItem =&gt;\n        {\n            thread2.Start();\n        });\n\n        thread3 = new MyThreadClass3();\n        await ThreadPool.RunAsync(workItem =&gt;\n        {\n            thread3.Start();\n        });\n    }\n}\n\ninternal class MyThreadClass1\n{\n    public async void Start()\n    { }\n}\n\ninternal class MyThreadClass2\n{\n    public async void Start()\n    { }\n}\n\ninternal class MyThreadClass3\n{\n    public async void Start()\n    { }\n}\n</code></pre>\n\n<p>In any of the three threads that are running, I need to be able to read and write to <code>List&lt;Object&gt; MyDevices</code>.</p>\n\n<p>The threads all have different functions, but they all interact with \"MyDevices\", so if one thread makes a change to that list, the other threads need to know about the change right away.</p>\n\n<p>What is the best way to go about doing this?</p>\n\n<p>Thanks!</p>\n"
    }, {
        "tags": ["c#", "windows", "multithreading", "iot"],
        "is_answered": true,
        "view_count": 255,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1556097870,
        "creation_date": 1555653148,
        "last_edit_date": 1556049657,
        "question_id": 55757220,
        "link": "https://stackoverflow.com/questions/55757220/multi-threading-on-windows-iot-is-causing-thread-to-close",
        "title": "Multi-threading on Windows IoT is causing thread to close",
        "body": "<p>I am relatively new to writing apps for Windows IoT.  I have a Windows IoT Background app that I want to spawn three separate threads from the main thread.  (The reason I want them to all be running in separate background threads is because some of the work they will do could be time consuming so I obviously don't want to block anything).</p>\n\n<p><b>The first thread</b> is running a small web server.</p>\n\n<p><b>The second thread</b> is listening to GPIO pins on a Raspberry PI.</p>\n\n<p><b>The third thread</b> is to listen to devices via I2C.</p>\n\n<p>For some reason, I can't seem to get all three threads to remain open. Here is my code from the StartupTask:</p>\n\n<pre><code>public sealed class StartupTask : IBackgroundTask\n{\n    private static BackgroundTaskDeferral _Deferral = null;\n    public async void Run(IBackgroundTaskInstance taskInstance)\n    {\n        _Deferral = taskInstance.GetDeferral();\n\n        // do some stuff on the main thread here...\n\n        // thread 1\n        var webserver = new TestWebserver();\n        await ThreadPool.RunAsync(workItem =&gt;\n        {\n            webserver.Start();\n        });\n\n        // thread 2\n        var masterEventListener = new MasterEventListener();\n        await ThreadPool.RunAsync(workItem =&gt;\n        {\n            masterEventListener.Start();\n        });\n\n        // thread 3\n        var i2cEventListener = new I2CEventListener();\n        await ThreadPool.RunAsync(workItem =&gt;\n        {\n            i2cEventListener.Start();\n        });        \n    }\n}\n</code></pre>\n\n<p>Here is the shell for the first thread:</p>\n\n<pre><code>internal class TestWebserver\n{\n    private const uint BufferSize = 8192;\n    public async void Start()\n    {\n        var listener = new StreamSocketListener();\n        await listener.BindServiceNameAsync(8081);\n\n        listener.ConnectionReceived += async (sender, args) =&gt;\n        {\n            var request = new StringBuilder();\n            using (var input = args.Socket.InputStream)\n            {\n                var data = new byte[BufferSize];\n                IBuffer buffer = data.AsBuffer();\n                var dataRead = BufferSize;\n\n                while (dataRead == BufferSize)\n                {\n                    await input.ReadAsync(buffer, BufferSize, InputStreamOptions.Partial);\n                    request.Append(Encoding.UTF8.GetString(data, 0, data.Length));\n                    dataRead = buffer.Length;\n                }\n            }\n\n            using (var output = args.Socket.OutputStream)\n            {\n                using (var response = output.AsStreamForWrite())\n                {\n                    string html = \"TESTING RESPONSE\";\n                    using (var bodyStream = new MemoryStream(html))\n                    {\n                        var header = $\"HTTP/1.1 200 OK\\r\\nContent-Length: {bodyStream.Length}\\r\\n\\r\\nConnection: close\\r\\n\\r\\n\";\n                        var headerArray = Encoding.UTF8.GetBytes(header);\n                        await response.WriteAsync(headerArray, 0, headerArray.Length);\n                        await bodyStream.CopyToAsync(response);\n                        await response.FlushAsync();\n                    }\n                }\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>Here is the shell for the second thread:</p>\n\n<pre><code>internal class MasterEventListener\n{\n    public void Start()\n    {\n        GpioController gpio = GpioController.GetDefault();\n        GpioPin gpioPin = gpio.OpenPin(4); // pin4\n\n        if (gpioPin.IsDriveModeSupported(GpioPinDriveMode.InputPullUp))\n        {\n            gpioPin.SetDriveMode(GpioPinDriveMode.InputPullUp);\n        }\n        else\n        {\n            gpioPin.SetDriveMode(GpioPinDriveMode.Input);\n        }\n\n        gpioPin.Write(GpioPinValue.High);\n        gpioPin.DebounceTimeout = TimeSpan.FromMilliseconds(25);\n        gpioPin.ValueChanged += Pin_ValueChanged;\n    }\n\n    private void Pin_ValueChanged(GpioPin sender, GpioPinValueChangedEventArgs args)\n    {\n        bool value = sender.Read() == GpioPinValue.High;\n\n        if (value)\n        {\n            Debug.WriteLine(\"OPEN!\");\n        }\n        else\n        {\n            Debug.WriteLine(\"CLOSED!\");\n        }\n    }\n}\n</code></pre>\n\n<p>And here is the shell for the third thread:</p>\n\n<pre><code>internal class I2CEventsListener\n{\n    public async void Start()\n    {\n        string aqs = I2cDevice.GetDeviceSelector();\n        DeviceInformationCollection dis = await DeviceInformation.FindAllAsync(aqs);\n\n        I2CThreadListener(dis);\n    }\n\n    private async void I2CThreadListener(DeviceInformationCollection dis)\n    {\n        while(true)\n        {\n            var settings = new I2cConnectionSettings(3); // I2C address 3\n            settings.BusSpeed = I2cBusSpeed.FastMode;\n            settings.SharingMode = I2cSharingMode.Shared;\n\n            using (I2cDevice device = await I2cDevice.FromIdAsync(dis[0].Id, settings))\n            {\n                if (device != null)\n                {\n                    try\n                    {\n                        byte[] writeBuffer = Encoding.ASCII.GetBytes(\"000000\");\n                        byte[] readBuffer = new byte[7];\n\n                        device.Write(writeBuffer);\n                        device.Read(readBuffer);\n\n                        var str = Encoding.Default.GetString(readBuffer);\n                        if (str != null &amp;&amp; str.Trim().Length == 7 &amp;&amp; Convert.ToInt32(readBuffer[0]) &gt; 0)\n                        {\n                            Debug.WriteLine(\"RESULTS! '\" + str + \"'\");\n                        }\n                    }\n                    catch (Exception ex)\n                    {\n                        Debug.WriteLine(ex.Message);\n                        Debug.WriteLine(ex.StackTrace);\n                    }\n                }\n            }\n            Thread.Sleep(100);\n        }               \n    });\n}\n</code></pre>\n\n<p>If I comment out any of the two threads, the remaining thread will run indefinitely and work perfectly.  </p>\n\n<p>If I comment out one thread, the remaining two threads work perfectly (sometimes)for about 30 seconds, and then one of the threads will terminate with a message like this:</p>\n\n<pre><code>The thread 0xad0 has exited with code 0 (0x0).\n</code></pre>\n\n<p>I never get any error messages in my logs so I don't believe any kind of error is being thrown.</p>\n\n<p>And I see the results I expect - so long as I am only running one of the threads.  But as soon as I have multiple threads running together, it causes problems.</p>\n\n<p>Any direction would be greatly appreciated.</p>\n\n<p>Thanks guys...</p>\n"
    }, {
        "tags": ["google-cloud-firestore", "google-cloud-functions", "iot"],
        "is_answered": true,
        "view_count": 676,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1554705481,
        "creation_date": 1554444695,
        "last_edit_date": 1554448721,
        "question_id": 55529221,
        "link": "https://stackoverflow.com/questions/55529221/save-data-to-firestore-from-google-cloud-function",
        "title": "Save data to firestore from google cloud function",
        "body": "<p>I am new to IOT and firestore.</p>\n\n<p>I am trying to save data to firestore using cloud function (MQTT).</p>\n\n<p>Following is the code:</p>\n\n<pre><code>exports.helloPubSub = (event, callback) =&gt; {\n\nconst functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp(functions.config().firestore);\n\nconst db = admin.firestore()\n//admin.initializeApp();\nconsole.log(\"Start\");\n\n  var docRef = db.collection('users').doc('alovelace');\n\nvar setAda = docRef.set({\n  first: 'Ada',\n  last: 'Lovelace',\n  born: 1815\n});\n};\n</code></pre>\n\n<p>I am getting following errors in view logs :</p>\n\n<p>\"Function execution took 22 ms, finished with status: 'error'\"  </p>\n\n<p>Any suggestion </p>\n\n<p>Also after some changes I am getting error - Error: Firebase config variables are not available. Please use the latest version of the Firebase CLI to deploy this function</p>\n\n<p>My package.json is </p>\n\n<pre><code>{\n\"name\": \"functions\",\n\"description\": \"Cloud Functions for Firebase\",\n\"dependencies\": {\n\"@google-cloud/vision\": \"^0.12.0\",\n\"async\": \"^2.5.0\",\n\"consolidate\": \"^0.14.5\",\n\"express\": \"^4.15.4\",\n\"firebase-admin\": \"^5.4.0\",\n\"firebase-functions\": \"^0.7.0\",  \n\"firebase-tools\": \"3.15.4\",  \n\"handlebars\": \"^4.0.10\",\n\"jquery\": \"^3.2.1\",\n\"js-levenshtein\": \"^1.1.3\",\n\"json-query\": \"^2.2.2\"\n},\n\"private\": true\n}\n</code></pre>\n"
    }, {
        "tags": ["javascript", "node.js", "oracle", "iot", "oracle-cloud-infrastructure-classic"],
        "is_answered": false,
        "view_count": 217,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1552654177,
        "creation_date": 1501566686,
        "last_edit_date": 1552654177,
        "question_id": 45429865,
        "link": "https://stackoverflow.com/questions/45429865/how-to-send-iot-data-to-oracle-iot-cloud-service",
        "title": "How to send iot data to Oracle Iot cloud service?",
        "body": "<p>I have to send My iot data to Oracle IoT cloud service. As i Found there client Library <a href=\"http://www.oracle.com/technetwork/indexes/downloads/iot-client-libraries-2705514.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>But wanted to know that if they have some sdk to do so? And also how to start with this client library,(Javascript)</p>\n"
    }, {
        "tags": ["iot", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 452,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1552579778,
        "creation_date": 1551497630,
        "question_id": 54954966,
        "link": "https://stackoverflow.com/questions/54954966/key-rotation-with-a-secure-element",
        "title": "Key rotation with a secure element",
        "body": "<p>I have a basic question about key rotation for IoT devices.</p>\n\n<p>We are planning on using a secure element (<a href=\"https://www.microchip.com/design-centers/security-ics/cryptoauthentication/cloud-authentication/google-iot-core-atecc608a\" rel=\"nofollow noreferrer\">example</a>) to generate the key pairs. The key pairs are therefore generated on the chip, on the IoT device.</p>\n\n<p>After the public key is initially uploaded to Google IoT, how can key rotation be performed?</p>\n\n<p>Using an existing private key, the device can sign a JWT and authenticate itself to Google IoT. After generating a new key pair in the device, can the JWT also be used to authenticate uploading the new public key to the registry?</p>\n\n<p>Please share any examples of key rotation for this type of platform. Thanks!</p>\n"
    }, {
        "tags": ["python", "google-cloud-platform", "jwt", "iot", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 327,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1552573537,
        "creation_date": 1550671068,
        "last_edit_date": 1552573537,
        "question_id": 54788094,
        "link": "https://stackoverflow.com/questions/54788094/google-cloud-iot-core-jwt-expiration-is-actually-24-hours",
        "title": "Google Cloud IoT core JWT expiration is actually 24 hours?",
        "body": "<p>Currently I'm programming my device as part of an IoT project with Google Cloud services.</p>\n\n<p>Almost everything is working, but not all. \nI edited the original MQTT library for Python and it started to work correctly if I set the JWT token expiration to less than 2 hours </p>\n\n<p>Is 24 hours a valid expiration time for a JWT token? Or maybe Im doing something wrong?</p>\n\n<p>I'm using Raspberry PI 3B+ and Python 3.6.7</p>\n\n<p>My JWT access and refresh token is the same as the one in the library from Google in Github. My library only runs it in multiple threads so that I could create multiple conections from the same device. </p>\n\n<p>Edit: i modified this line in the <code>create_jwt</code> function...</p>\n\n<pre><code>'exp': datetime.datetime.utcnow() + datetime.timedelta(minute=20)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>'exp': datetime.datetime.utcnow() + datetime.timedelta(hours=12)\n</code></pre>\n"
    }, {
        "tags": ["wso2", "iot", "wso2iot"],
        "is_answered": true,
        "view_count": 310,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1552558749,
        "creation_date": 1544531860,
        "last_edit_date": 1544602352,
        "question_id": 53724393,
        "link": "https://stackoverflow.com/questions/53724393/wso2-iotserver-multiple-errors-during-startup-cannot-register-android-apis",
        "title": "WSO2 IOTserver: multiple errors during startup, cannot register android API&#39;s",
        "body": "<p>I'm trying to start WSO2 IoT server 3.3.0 on VM running Windows 10, jdk 8.0.191.</p>\n\n<p>During startup I have multiple errors on almost every android API.\nErrors like that:</p>\n\n<pre><code>[2018-12-11 15:11:27,156] [IoT-Core] ERROR - {org.wso2.carbon.apimgt.rest.api.publisher.impl.ApisApiServiceImpl} Error while adding new API : admin-Windows Binary Security Token Service-1.0.0 - Scope 'perm:windows:enroll' is already used by another API.\n    org.wso2.carbon.apimgt.api.APIManagementException: Scope 'perm:windows:enroll' is already used by another API.\n            at org.wso2.carbon.apimgt.impl.dao.ApiMgtDAO.addScopes(ApiMgtDAO.java:7171)\n            at org.wso2.carbon.apimgt.impl.dao.ApiMgtDAO.addAPI(ApiMgtDAO.java:4876)\n            at org.wso2.carbon.apimgt.impl.APIProviderImpl.addAPI(APIProviderImpl.java:654)\n            at org.wso2.carbon.apimgt.impl.UserAwareAPIProvider.addAPI(UserAwareAPIProvider.java:59)\n            at org.wso2.carbon.apimgt.rest.api.publisher.impl.ApisApiServiceImpl.apisPost(ApisApiServiceImpl.java:281)\n            at org.wso2.carbon.apimgt.rest.api.publisher.ApisApi.apisPost(ApisApi.java:574)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:498)\n            at org.apache.cxf.service.invoker.AbstractInvoker.performInvocation(AbstractInvoker.java:179)\n            at org.apache.cxf.service.invoker.AbstractInvoker.invoke(AbstractInvoker.java:96)\n            at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:192)\n            at org.apache.cxf.jaxrs.JAXRSInvoker.invoke(JAXRSInvoker.java:103)\n            at org.apache.cxf.interceptor.ServiceInvokerInterceptor$1.run(ServiceInvokerInterceptor.java:59)\n            at org.apache.cxf.interceptor.ServiceInvokerInterceptor.handleMessage(ServiceInvokerInterceptor.java:96)\n            at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:308)\n            at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\n            at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:267)\n            at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:234)\n            at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:208)\n            at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:160)\n            at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:191)\n            at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:301)\n            at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:220)\n            at javax.servlet.http.HttpServlet.service(HttpServlet.java:650)\n            at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:276)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n            at org.wso2.carbon.tomcat.ext.valves.CompositeValve.continueInvocation(CompositeValve.java:99)\n            at org.wso2.carbon.tomcat.ext.valves.CarbonTomcatValve$1.invoke(CarbonTomcatValve.java:47)\n            at org.wso2.carbon.webapp.mgt.TenantLazyLoaderValve.invoke(TenantLazyLoaderValve.java:57)\n            at org.wso2.carbon.webapp.authenticator.framework.WebappAuthenticationValve.invoke(WebappAuthenticationValve.java:46)\n            at org.wso2.carbon.tomcat.ext.valves.TomcatValveContainer.invokeValves(TomcatValveContainer.java:47)\n            at org.wso2.carbon.tomcat.ext.valves.CompositeValve.invoke(CompositeValve.java:62)\n            at org.wso2.carbon.tomcat.ext.valves.CarbonStuckThreadDetectionValve.invoke(CarbonStuckThreadDetectionValve.java:159)\n            at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\n            at org.wso2.carbon.tomcat.ext.valves.CarbonContextCreatorValve.invoke(CarbonContextCreatorValve.java:57)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n            at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n            at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1775)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1734)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n    [2018-12-11 15:11:27,203] [IoT-Core] ERROR - {org.wso2.carbon.apimgt.webapp.publisher.APIPublisherStartupHandler} failed to publish api.\n    org.wso2.carbon.apimgt.webapp.publisher.exception.APIManagerPublisherException: feign.FeignException: status 500 reading APIIndividualApi#apisPost(API,String,String); content:\n    {\"code\":500,\"message\":\"Internal server error\",\"description\":\"Error while adding new API : admin-Windows Binary Security Token Service-1.0.0 - Scope 'perm:windows:enroll' is already used by another API.\",\"moreInfo\":\"\",\"error\":[]}\n            at org.wso2.carbon.apimgt.webapp.publisher.APIPublisherServiceImpl.publishAPI(APIPublisherServiceImpl.java:75)\n            at org.wso2.carbon.apimgt.webapp.publisher.APIPublisherStartupHandler.publishAPIs(APIPublisherStartupHandler.java:97)\n            at org.wso2.carbon.apimgt.webapp.publisher.APIPublisherStartupHandler.access$500(APIPublisherStartupHandler.java:30)\n            at org.wso2.carbon.apimgt.webapp.publisher.APIPublisherStartupHandler$1.run(APIPublisherStartupHandler.java:69)\n            at java.lang.Thread.run(Thread.java:748)\n    Caused by: feign.FeignException: status 500 reading APIIndividualApi#apisPost(API,String,String); content:\n    {\"code\":500,\"message\":\"Internal server error\",\"description\":\"Error while adding new API : admin-Windows Binary Security Token Service-1.0.0 - Scope 'perm:windows:enroll' is already used by another API.\",\"moreInfo\":\"\",\"error\":[]}\n            at feign.FeignException.errorStatus(FeignException.java:62)\n            at feign.codec.ErrorDecoder$Default.decode(ErrorDecoder.java:91)\n            at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:138)\n            at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:76)\n            at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:103)\n            at com.sun.proxy.$Proxy44.apisPost(Unknown Source)\n            at org.wso2.carbon.apimgt.webapp.publisher.APIPublisherServiceImpl.publishAPI(APIPublisherServiceImpl.java:56)\n            ... 4 more\n</code></pre>\n\n<p>After start, I cannot enroll android device, enrollment hangs on retrieving the license agreement on wso2 agent.</p>\n\n<p>Also when I try to change Platform Configuration- Android configuration there is \"An unexpected error occurred.\" message after clicking save button.</p>\n\n<p>By the way, version 3.2.0 started without problems on identical VM\nIs there any workaround? Did anyone succeed to start IoT server 3.3.0 on windows?</p>\n"
    }, {
        "tags": ["scala", "spark-streaming", "mqtt", "iot", "apache-bahir"],
        "is_answered": false,
        "view_count": 95,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1552456868,
        "creation_date": 1552453166,
        "question_id": 55134689,
        "link": "https://stackoverflow.com/questions/55134689/mqttutils-createpairedstream-is-not-a-member-of-org-apache-bahir",
        "title": "MQTTUtils.createPairedStream() is not a member of org.apache.bahir",
        "body": "<p>When I started spark-shell by the following command</p>\n\n<blockquote>\n  <p>bin/spark-shell --packages org.apache.bahir:spark-streaming-mqtt_2.11:2.3.0 --repositories <a href=\"http://central.maven.org/maven2/org/apache/bahir/spark-streaming-mqtt_2.11/2.3.0/\" rel=\"nofollow noreferrer\">http://central.maven.org/maven2/org/apache/bahir/spark-streaming-mqtt_2.11/2.3.0/</a></p>\n</blockquote>\n\n<p>Two errors were occurred. </p>\n\n<blockquote>\n  <p>Server access error at url <a href=\"https://central.maven.org/org/apache/bahir/bahir-parent_2.11/2.3.2/bahir-parent_2.11-2.3.2.jar\" rel=\"nofollow noreferrer\">https://central.maven.org/org/apache/bahir/bahir-parent_2.11/2.3.2/bahir-parent_2.11-2.3.2.jar</a> (javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching central.maven.org found.)</p>\n</blockquote>\n\n<p>and </p>\n\n<blockquote>\n  <p>Server access error at url <a href=\"https://central.maven.org/org/apache/bahir/spark-streaming-mqtt_2.11/2.3.2/spark-streaming-mqtt_2.11-2.3.2-javadoc.jar\" rel=\"nofollow noreferrer\">https://central.maven.org/org/apache/bahir/spark-streaming-mqtt_2.11/2.3.2/spark-streaming-mqtt_2.11-2.3.2-javadoc.jar</a> (javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No subject alternative DNS name matching central.maven.org found.)</p>\n</blockquote>\n\n<p>Here I gave repository as <a href=\"http://central.maven.org/maven2/org/apache/bahir/spark-streaming-mqtt_2.11/2.3.0/\" rel=\"nofollow noreferrer\">http://central.maven.org/maven2/org/apache/bahir/spark-streaming-mqtt_2.11/2.3.0/</a>  But it automatically connect to <a href=\"https://central.maven.org/org/apache/bahir/bahir-parent_2.11/2.3.2/bahir-parent_2.11-2.3.2.jar\" rel=\"nofollow noreferrer\">https://central.maven.org/org/apache/bahir/bahir-parent_2.11/2.3.2/bahir-parent_2.11-2.3.2.jar</a> which is not present in internet. </p>\n\n<p>How to add these two modules in my spark-shell? My aim is to build a spark-streaming mqtt application, which handles multiple topics. </p>\n"
    }, {
        "tags": ["python", "json", "parsing", "aws-sdk", "iot"],
        "is_answered": false,
        "view_count": 67,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1552052685,
        "creation_date": 1552052059,
        "question_id": 55064313,
        "link": "https://stackoverflow.com/questions/55064313/converting-json-file-into-a-suitable-string-issue-with-python",
        "title": "Converting JSON file into a suitable string issue with Python",
        "body": "<p>I have a JSON file as follows :</p>\n\n<pre><code>{  \n   \"desired\":{\n        \"property1\":{  \n          \"port\":\"/dev/usbserial\",\n          \"rx\":{  \n             \"watchdoginterval\":3600\n          },\n          \"state\":{  \n             \"path\":\"/Users/user1\"\n          },\n          \"enabled\":\"true\",\n          \"active\":{\n             \"enabled\":\"true\"\n          }\n       },\n       \"property2\":{  \n          \"signal_interrupt\":\"USR2\",\n          \"signal_description_path\":\"/tmp/logger.log\"\n       },\n       \"property3\":{  \n          \"periodmins\":40\n       },\n   }\n}\n</code></pre>\n\n<p>I am having issues trying to convert this into a string for use with AWS IoT. The function I am using is <code>deviceShadowHandler.shadowUpdate(JSONPayload, customShadowCallback_Update, 5)</code></p>\n\n<p>Where JSONPayload should be the JSON string.</p>\n\n<p>I have tried :</p>\n\n<pre><code>with open('JSONfile.json' , 'r') as f:\n    dict = json.load(f)\n\nJSONPayload = str(dict)\n</code></pre>\n\n<p>but I receive an \"Invalid JSON file error\".</p>\n\n<p>An attempt to manually create a literal string from the jSON file gets messy with complaints about \"EOL while scanning string literal\" etc. </p>\n\n<p>What is the best solution to solve this? I am new to JSON and stuff and Python.</p>\n"
    }, {
        "tags": ["raspberry-pi", "wso2", "mqtt", "iot", "broker"],
        "is_answered": true,
        "view_count": 37,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1552037735,
        "creation_date": 1552037608,
        "last_edit_date": 1552037735,
        "question_id": 55060330,
        "link": "https://stackoverflow.com/questions/55060330/wso2-iot-server-disconnected-from-broker",
        "title": "WSO2 IOT Server disconnected from broker",
        "body": "<p>Why cannot I run two testAgents(of raspberry pi) at the same time? </p>\n\n<p>When I run them in two separate raspberry pi boards with different deviceIds, when one is connected to the broker other one gets disconnected. Then the next one is connected and 1st gets disconnected... They don't do anything else.</p>\n\n<p>I cannot guess any reason for this and I tried my best to solve this. I tried with same user, different users, same access token, different access tokens. But same thing happened. </p>\n"
    }, {
        "tags": ["android", "mqtt", "iot", "amazon-cognito", "aws-iot"],
        "is_answered": true,
        "view_count": 3294,
        "favorite_count": 1,
        "score": 7,
        "last_activity_date": 1551623514,
        "creation_date": 1496066499,
        "last_edit_date": 1496136184,
        "question_id": 44244375,
        "link": "https://stackoverflow.com/questions/44244375/aws-iot-android-application-over-mqtt-throws-mqttexception-0-java-io-ioexcep",
        "title": "AWS IoT Android application over MQTT throws MqttException (0) - java.io.IOException: Already connected",
        "body": "<p>I am trying to use 'Authenticate using Cognito-Identity with Cognito user pool' in my Android application. My Cognito user pool authentication works well, when I run that separately and I had seen a JWTToken as well. When I run the the 'PubSub' sample application with Unauthenticated role, it worked as expected.  When I integrate these two features in one application, the application threw following error.</p>\n\n<pre><code>W/System.err: MqttException (0) - java.io.IOException: Already connected\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:664)\nW/System.err:     at java.lang.Thread.run(Thread.java:761)\nW/System.err: Caused by: java.io.IOException: Already connected\nW/System.err:     at java.io.PipedOutputStream.connect(PipedOutputStream.java:100)\nW/System.err:     at java.io.PipedInputStream.connect(PipedInputStream.java:195)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.websocket.WebSocketReceiver.&lt;init&gt;(WebSocketReceiver.java:42)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.websocket.WebSocketSecureNetworkModule.start(WebSocketSecureNetworkModule.java:78)\nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650)\nW/System.err:   ... 1 more\n</code></pre>\n\n<p>I have been trying to resolve this issue since last Thursday and still stuck at the same place. Really No idea where should i check.!</p>\n\n<p>I am adding my Authentication(Cognito user pool authentication) activity and Connect activity.</p>\n\n<pre><code>AmazonCognitoIdentityProviderClient identityProviderClient = new \nAmazonCognitoIdentityProviderClient(new AnonymousAWSCredentials(), new ClientConfiguration());\nidentityProviderClient.setRegion(Region.getRegion(Regions.US_WEST_2));\nCognitoUserPool userPool = new CognitoUserPool(getApplicationContext(), \"us-west-2_ghtcc6ho9\", \"4t0mk45hNso69dp2j4jvel5ghm\", \"1jmq0lhhq721oif9k6nug31c29i760vihua8hvrgu5umfr2a1vd7\", identityProviderClient);\ncogUser = userPool.getUser();\nauthenticationHandler = new AuthenticationHandler() {\n\n\n\n        @Override\n        public void onSuccess(CognitoUserSession userSession, CognitoDevice newDevice) {\n            String ids = userSession.getIdToken().getJWTToken();\n            Log.d(\"MyToken\",\"session id___\"+userSession.getIdToken().getExpiration()+\"___\"+userSession.getIdToken().getIssuedAt());\n            Intent pubSub = new Intent(MainActivity.this, PubSubActivity.class);\n            pubSub.putExtra(\"token\",\"\"+ids);\n            startActivity(pubSub);\n            //MainActivity.this.finish();\n\n        }\n\n        @Override\n        public void getAuthenticationDetails(AuthenticationContinuation authenticationContinuation, String userId) {\n            Log.d(\"MyToken\",\"getAuthenticationDetails\");\n            AuthenticationDetails authenticationDetails = new AuthenticationDetails(\"shone\", \"172737\", null);\n            authenticationContinuation.setAuthenticationDetails(authenticationDetails);\n            // Allow the sign-in to continue\n            authenticationContinuation.continueTask();\n        }\n\n        @Override\n        public void getMFACode(MultiFactorAuthenticationContinuation multiFactorAuthenticationContinuation) {\n            Log.d(\"MyToken\",\"getMFACode\");\n            multiFactorAuthenticationContinuation.continueTask();\n        }\n\n        @Override\n        public void authenticationChallenge(ChallengeContinuation continuation) {\n            Log.d(\"MyToken\",\"authenticationChallenge\"+continuation.getChallengeName());\n            newPasswordContinuation.continueTask();\n        }\n\n        @Override\n        public void onFailure(Exception exception) {\n            exception.printStackTrace();\n            Log.d(\"MyToken\",\"onFailure\");\n        }\n    };\n     cogUser.getSessionInBackground(authenticationHandler); \n</code></pre>\n\n<p>When It reaches 'OnSuccess' I am launching my connect activity and passing my session token along with the Intent. Moving to the next activity</p>\n\n<pre><code>private static final String COGNITO_POOL_ID = \"us-west-2:a153a090-508c-44c0-a9dd-efd450298c4b\";\nprivate static final Regions MY_REGION = Regions.US_WEST_2;\nAWSIotMqttManager mqttManager;\nString clientId;\nAWSCredentials awsCredentials;\nCognitoCachingCredentialsProvider credentialsProvider;\n @Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    Intent intent = getIntent();\nif(null == intent){\n    Toast.makeText(getApplicationContext(), \"Token is null\", Toast.LENGTH_SHORT).show();\n}else {\n    token = intent.getStringExtra(\"token\");\n}\n clientId = UUID.randomUUID().toString();\n    credentialsProvider = new CognitoCachingCredentialsProvider(\n            getApplicationContext(), \n            COGNITO_POOL_ID, \n            MY_REGION \n    );\nmqttManager = new AWSIotMqttManager(clientId, CUSTOMER_SPECIFIC_ENDPOINT);\n Map loginsMap = new HashMap();\n    loginsMap.put(\"cognito-idp.us-west-2.amazonaws.com/us-west-2_ghtcc6ho9\", token);\n    credentialsProvider.setLogins(loginsMap);\n    Log.d(\"SESSION_ID\", \"\"+token);\n    new Thread(new Runnable() {\n        @Override\n        public void run() {\n            credentialsProvider.refresh();\n            awsCredentials = credentialsProvider.getCredentials();\n            Log.d(\"SESSION_ID B: \", \"\"+awsCredentials.getAWSAccessKeyId());\n            Log.d(\"SESSION_ID C: \", \"\"+awsCredentials.getAWSSecretKey());\n        }\n    }).start();\n}\n\n View.OnClickListener connectClick = new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n\n        Log.d(LOG_TAG, \"clientId = \" + clientId);\n\n        try {\n            mqttManager.connect(credentialsProvider, new AWSIotMqttClientStatusCallback() {\n                @Override\n                public void onStatusChanged(final AWSIotMqttClientStatus status,\n                        final Throwable throwable) {\n                    Log.d(LOG_TAG, \"Status = \" + String.valueOf(status)+\"______\"+((null !=throwable)?throwable.getMessage():\"\"));\n\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            if (status == AWSIotMqttClientStatus.Connecting) {\n                                tvStatus.setText(\"Connecting...\");\n\n                            } else if (status == AWSIotMqttClientStatus.Connected) {\n                                tvStatus.setText(\"Connected\");\n\n                            } else if (status == AWSIotMqttClientStatus.Reconnecting) {\n                                if (throwable != null) {\n                                    Log.e(LOG_TAG, \"Connection error.\", throwable);\n                                }\n                                tvStatus.setText(\"Reconnecting\");\n                            } else if (status == AWSIotMqttClientStatus.ConnectionLost) {\n                                if (throwable != null) {\n                                    Log.e(LOG_TAG, \"Connection error.\", throwable);\n                                    throwable.printStackTrace();\n                                }\n                                tvStatus.setText(\"Disconnected\");\n                            } else {\n                                tvStatus.setText(\"Disconnected\");\n\n                            }\n                        }\n                    });\n                }\n            });\n        } catch (final Exception e) {\n            Log.e(LOG_TAG, \"Connection error.\", e);\n        }\n    }\n};\n</code></pre>\n\n<p>What is wrong in my code? Why it throws exception when the MQTT connect is being invoked? Any help would be appreciated. </p>\n"
    }, {
        "tags": ["python", "json", "api", "iot"],
        "is_answered": true,
        "view_count": 56,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1551350886,
        "creation_date": 1551350434,
        "question_id": 54923696,
        "link": "https://stackoverflow.com/questions/54923696/send-login-headers-python-2-7",
        "title": "Send login headers python 2.7",
        "body": "<p>Hi I need to send login headers to sigfox. However they are always rejected or the code fails when I insert the auth variable in a call. </p>\n\n<p>This is the code that does work but does reject. </p>\n\n<pre><code>print 'end of the dummy'\ndevices = requests.get(\"https://api.sigfox.com/v2/devices\", auth=(API_USER, API_PWD)).json()\nr = requests.get('https://api.sigfox.com/v2/devices', data=users, stream=True)\ndata = r.raw.read(r)\n</code></pre>\n\n<p>print(data) </p>\n\n<p>And this is the code that fails. </p>\n\n<pre><code>credentials = b64encode(b\"somebase64string:somebase64string\").decode(\"ascii\")\nheaders = { 'Authorization' : 'Basic %s' %  credentials }\n\n\nprint 'end of the dummy'\ndevices = requests.get(\"https://api.sigfox.com/v2/devices\", auth=(API_USER, API_PWD)).json() r = requests.get('https://api.sigfox.com/v2/devices', auth=credentials, data=users, stream=True) data = r.raw.read(r)\n\n\nprint(data) \n</code></pre>\n\n<p>The second code is less messy but stackoverflow works with idention. I think I need to pass the auth with in the r variable but I cannot figure out how I do that correctly. I am using Python 2.7 </p>\n"
    }, {
        "tags": ["python", "iot"],
        "is_answered": false,
        "view_count": 81,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1550670255,
        "creation_date": 1550670255,
        "question_id": 54787792,
        "link": "https://stackoverflow.com/questions/54787792/how-do-i-transfer-environment-variables-with-a-parallel-ssh-library",
        "title": "How Do I Transfer Environment Variables with a Parallel-SSH Library",
        "body": "<p>I'm connecting to a SSH enable IoT device using the parallel-ssh library. The devices changes its behavior if an environment variable is present or not.</p>\n\n<p>This device has a very limited, proprietary shell. I cannot set the variable by sending an export PERSONA=BOB command to it. I can test it with Putty by setting the environment in the GUI:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yvbS5.png\" rel=\"nofollow noreferrer\">SEE IMAGE (MIGHT HELP)</a></p>\n\n<p>How can I set an environment variable on my parallel-ssh connexion?</p>\n"
    }, {
        "tags": ["iot", "ibm-watson", "texas-instruments", "watson-iot"],
        "is_answered": true,
        "view_count": 64,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1550418431,
        "creation_date": 1549999383,
        "last_edit_date": 1550056517,
        "question_id": 54657300,
        "link": "https://stackoverflow.com/questions/54657300/how-to-subscribe-ibm-watson-iot-platform-with-cc3220s-launchpad-and-code-compose",
        "title": "How to subscribe IBM Watson IOT Platform with CC3220s launchpad and Code Composer Studio?",
        "body": "<p>I have been trying to send messages to IBM IOT Platform using CC3220s Launchpad and Code Composer Studio cc32xx SDK, watson_mqttclient_CC3220S_Launchxl_tirtos_ccs project.</p>\n\n<hr>\n\n<p>I can send the messages to quickstart broker.<br>\nHowever, I got: </p>\n\n<ul>\n<li><strong><em>Invalid userID () for device auth:<br>\nClientID='d:u45vsd:ti-simplelink:9884e34e0611',<br>\nClientIP=178.241.108.68</em></strong><br>\nConnection Log Message on IBM Watson IOT Platform</li>\n<li><strong><em>CONNACK:<br>\nConnection Error: 5<br>\nConnection to broker failed, Error code: -5<br>\nBRIDGE DISCONNECTION</em></strong><br>\nError on CCS serial terminal</li>\n</ul>\n\n<hr>\n\n<p>I have done following changes on CCS mqttclient code and IBM Watson IOT Platform:</p>\n\n<ol>\n<li><p>I have changed the security level as \"TLS Optional\" on the security options IBM Watson IOT Platform and I have added new device with following informations:  </p>\n\n<blockquote>\n  <p>Organization ID       : u45vsd<br>\n  Device Type       : ti-simplelink<br>\n  Device ID     : 9884e34e0611<br>\n  Authentication Method : use-token-auth<br>\n  Authentication Token  : zzzzzzzzzzzzz</p>\n</blockquote></li>\n<li><p>Following codes were changed in network_if.h:</p>\n\n<blockquote>\n  <p>define SSID_NAME               \"Netmaster EB75-G\"<br>\n  define SECURITY_KEY             \"<em>password</em>\"<br>\n  define SECURITY_TYPE           SL_WLAN_SEC_TYPE_WPA_WPA2</p>\n</blockquote></li>\n<li><p>Following codes were changed in mqtt_client_app.c:</p>\n\n<blockquote>\n  <p>define SERVER_ADDRESS       \"u45vsd.messaging.internetofthings.ibmcloud.com\"<br>\n  char ClientId[64] = \"d:u45vsd:ti-simplelink:9884e34e0611\";<br>\n  const char *ClientUsername = \"use-token-auth\";<br>\n  const char *ClientPassword = \"zzzzzzzzzzzzzzzzzzz\";<br>\n  sprintf(ClientId, \"d:u45vsd:ti-simplelink:%02x%02x%02x%02x%02x%02x\",\n           macAddress[0], macAddress[1], macAddress[2],\n           macAddress[3], macAddress[4], macAddress[5]);</p>\n</blockquote></li>\n</ol>\n\n<hr>\n\n<p>What am I missing?<br>\nAny help will be appreciated.<br>\nThanks in advance.</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion"],
        "is_answered": true,
        "view_count": 117,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1550262285,
        "creation_date": 1549384489,
        "question_id": 54539021,
        "link": "https://stackoverflow.com/questions/54539021/how-to-use-bluetooth-devices-and-fiware-iot-agent",
        "title": "How to use bluetooth devices and FIWARE IoT Agent",
        "body": "<p>I would like to use my bluetooth device (for example I'm going to create an app to be installed in a tablet) to send data (set of attributes) in Orion Context Broker via IoT Agent.</p>\n\n<p>I'm looking for the FIWARE IoT Agent and probably I've to use IoT Agent LWM2M. Is it correct?\nThanks in advance and regards.</p>\n\n<p>Pasquale</p>\n"
    }, {
        "tags": ["sql", "amazon-web-services", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 123,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1549376497,
        "creation_date": 1549364537,
        "last_edit_date": 1549376497,
        "question_id": 54532954,
        "link": "https://stackoverflow.com/questions/54532954/aws-iot-hub-sql-unexpected-character",
        "title": "AWS IoT hub SQL: Unexpected character &#39;$&#39;",
        "body": "<p>I want to set up the just-in-time-registration atIoT core at Amazon AWS with help of this tutorial:\n<a href=\"https://aws.amazon.com/de/blogs/iot/just-in-time-registration-of-device-certificates-on-aws-iot/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/de/blogs/iot/just-in-time-registration-of-device-certificates-on-aws-iot/</a> \nIf the registration succeeds, a mqtt message is pushed to the topic \n$aws/events/certificates/registered/\nSo to add a device and set the certificate as active, i want to add a rule to trigger a lambda.</p>\n\n<p>I tried to set the rule via aws cli but i get the same error as in the management console.</p>\n\n<pre><code>SELECT * FROM $aws/events/certificates/registered/#\n</code></pre>\n\n<p>I get this error: \"An error occurred (SqlParseException) when calling the CreateTopicRule operation: Unexpected character '$'\" </p>\n"
    }, {
        "tags": ["firebase", "firebase-realtime-database", "iot", "sensors", "nodemcu"],
        "is_answered": true,
        "view_count": 2260,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1549375719,
        "creation_date": 1549093828,
        "question_id": 54491119,
        "link": "https://stackoverflow.com/questions/54491119/how-to-structure-my-sensor-data-when-sending-to-firebase-from-nodemcu",
        "title": "How to structure my sensor data when sending to Firebase from NodeMCU?",
        "body": "<p>I have sent my DHT sensor data from my NodeMCU to Firebase with the following code.</p>\n\n<pre><code>void loop() {\n  if(timeSinceLastRead &gt; 2000) {\n    float h = dht.readHumidity();\n    float t = dht.readTemperature();\n    float f = dht.readTemperature(true);\n    if (isnan(h) || isnan(t) || isnan(f)) {\n      Serial.println(\"Failed to read from DHT sensor!\");\n      timeSinceLastRead = 0;\n      return;\n    }\n\n    float hif = dht.computeHeatIndex(f, h);\n    float hic = dht.computeHeatIndex(t, h, false);\n\n    Serial.print(\"Humidity: \");\n    Serial.print(h);\n    Serial.print(\" %\\t\");\n    Serial.print(\"Temperature: \");\n    Serial.print(t);\n    Serial.print(\" *C \");\n    Serial.print(f);\n    Serial.print(\" *F\\t\");\n    Serial.print(\"Heat index: \");\n    Serial.print(hic);\n    Serial.print(\" *C \");\n    Serial.print(hif);\n    Serial.println(\" *F\");\n    Firebase.setFloat(\"Temp\",t);\n    Firebase.setFloat(\"Humidity\",h);\n    Firebase.setFloat(\"HeatIndex\",hic);\n\n    timeSinceLastRead = 0;\n  }\n  delay(100);\n  timeSinceLastRead += 100;\n }\n</code></pre>\n\n<p>It has successfully sent the data to Firebase but in the following structure.</p>\n\n<pre><code>Field-Root\n|_ HeatIndex: &lt;value&gt;\n|_ Humidity : &lt;value&gt;\n|_ Temp     : &lt;value&gt;\n</code></pre>\n\n<p>But, I have two more user-defined ID parameters which I want to sent to Firebase and I need the following structure.</p>\n\n<pre><code>Field-Root\n|_ ID1\n   |_ ID2\n      |_ HeatIndex: &lt;value&gt;\n      |_ Humidity : &lt;value&gt;\n      |_ Temp     : &lt;value&gt;\n</code></pre>\n\n<p>But, I am not getting the hierarchical structure which I need where instead I am getting the old structure. How do I get that?</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion"],
        "is_answered": false,
        "view_count": 147,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1549104290,
        "creation_date": 1549041142,
        "last_edit_date": 1549052307,
        "question_id": 54484127,
        "link": "https://stackoverflow.com/questions/54484127/how-to-send-commands-to-iot-sensors-using-android-application",
        "title": "How to send commands to iot-sensors using android application",
        "body": "<p>I setup an the fiware201:iot-sensor inside an Ubuntu 16.04 instance on FIWARE-lab , and am currently building an android application to be able to send commands to access the dummy devices provided by the context provider , i setup a class that formats the data and sends it to the endpoint provided by the tutorial , but i cant seem to get it to work , i get a 422 error whenever i try to send any command.</p>\n\n<p>additional details:<br>\ni am using volley -> a package to send post,get requests in android<br>\nfiware-lab region : crete</p>\n\n<p>here is the code:</p>\n\n<p><br></p>\n\n<pre><code>import android.content.Context;\nimport android.util.Log;\n\nimport com.android.volley.AuthFailureError;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport java.util.HashMap;\nimport java.util.Locale;\nimport java.util.Map;\n\n\npublic class ApiController {\n    private String urlString\n    public String serverResponse;\n    private RequestQueue queue ;\n\n    public ApiController(Context context) {\n        //set context variables if required\n\n        serverResponse = \"\";\n        queue = Volley.newRequestQueue(context);\n\n\n    }\n\n    public void setDevice(String device) {\n        this.device = device;\n        urlString = \"http://myFloatingIp:3001/iot/\" +\"Lamp001\"; // URL to call\n\n}\n\n\n    public void send() {\n        String uri = String.format(Locale.US, urlString);\n\n        // Request a string response from the provided URL.\n        StringRequest stringRequest = new StringRequest(Request.Method.POST,uri,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                               serverResponse = response;\n                    }\n                }, new Response.ErrorListener() {\n            @Override\n            public void onErrorResponse(VolleyError error) {\n              serverResponse = \"Error\";\n            }\n        }\n                      ) {\n            @Override\n            protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                Map&lt;String,String&gt; params=new HashMap&lt;String,String&gt;();\n                params.put(\"data\",\"urn:ngsi-ld:Lamp:001\"@On\");\n                return params;\n\n            }\n\n            @Override\n            public Map&lt;String, String&gt; getHeaders() throws AuthFailureError {\n                Map&lt;String,String&gt; headers=new HashMap&lt;String,String&gt;();\n                headers.put(\"Content-Type\",\"text/plain\");\n                return headers;\n            }\n\n        };\n\n// Add the request to the RequestQueue.\n        queue.add(stringRequest);\n    }\n\n\n}\n</code></pre>\n"
    }, {
        "tags": ["java", "jdbc", "iot", "thingworx"],
        "is_answered": true,
        "view_count": 71,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1547803383,
        "creation_date": 1547796639,
        "question_id": 54249471,
        "link": "https://stackoverflow.com/questions/54249471/access-the-jdbc-url-of-the-thingworx-persistence-provider",
        "title": "Access the JDBC URL of the Thingworx Persistence Provider",
        "body": "<p>I'm developing an extension using Java for the Thingworx platform, for some reason I want to access the JDBC URL of the ThingworxPersistenceProvider Entity, How can I access it from the Thingworx's Java SDK library?</p>\n"
    }, {
        "tags": ["iot", "node-red"],
        "is_answered": true,
        "view_count": 3371,
        "favorite_count": 0,
        "closed_date": 1547587494,
        "score": 1,
        "last_activity_date": 1547567271,
        "creation_date": 1547561623,
        "last_edit_date": 1547567271,
        "question_id": 54200639,
        "link": "https://stackoverflow.com/questions/54200639/node-red-unable-to-listen-on-http-127-0-0-11880",
        "title": "Node-red Unable to listen on http://127.0.0.1:1880",
        "body": "<p>When I try to start node-red by PUTTY with the cmd line: </p>\n\n<pre><code>node-red \n</code></pre>\n\n<p>I receive the following error and I can't open node-red by my browser:</p>\n\n<blockquote>\n  <p>9 Jan 14:13:05 - [error] Unable to listen on <a href=\"http://127.0.0.1:1880/\" rel=\"nofollow noreferrer\">http://127.0.0.1:1880/</a>\n  9 Jan 14:13:05 - [error] Error: port in use</p>\n</blockquote>\n\n<p>I don't know how to fix this problem!\nThanks</p>\n"
    }, {
        "tags": ["amazon-web-services", "mqtt", "iot", "tls1.2", "mbed"],
        "is_answered": false,
        "view_count": 127,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1545072581,
        "creation_date": 1544794100,
        "last_edit_date": 1545072581,
        "question_id": 53780702,
        "link": "https://stackoverflow.com/questions/53780702/iot-board-disconnects-from-mqtt-protocol-after-first-attempt",
        "title": "Iot Board Disconnects from MQTT protocol after first attempt",
        "body": "<p>I am currently using the AT&amp;T IoT Starter kit, equipped with FRDM-K64F development board w/ cellular shield attached. I am using this kit to subscribe to a MQTT protocol via AWS and I am running into some issues. I successfully connect the first time, but then after a few seconds the connection is lost and when it reconnects it will either reconnect successfully or give me the following error (see link below)</p>\n\n<p><strong>Error1</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/Bih9k.png\" alt=\"Error1\"></p>\n\n<p>After it attempts to reconnect a few times the following error shows up, which I think means there is no more RAM on the board and as a result there is no input.(see link below)</p>\n\n<p><strong>Error2</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/NTZGn.png\" alt=\"Error2\"></p>\n\n<p>Can someone please help me figure why it cannot maintain a connection? It says tls handshake error, could it be a issue with the certificates? I'm at a loss. </p>\n\n<p>EDIT: Looks like the pictures don't work so here are the errors</p>\n\n<p>1.Error: failed</p>\n\n<pre><code>   !mbedtls_ssl_handshake returned 0x1. \n</code></pre>\n\n<p>The other two errors it gives after attempting connection a few times is </p>\n\n<p>2.Error: failed </p>\n\n<pre><code>   !mbedtls_ssl_setup returned 0x7f00 \n</code></pre>\n\n<p>and </p>\n\n<p>3.Error: failed </p>\n\n<pre><code>   !mbedtls_ssl_write returned 0x7100 \n</code></pre>\n"
    }, {
        "tags": ["ios", "amazon-web-services", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 726,
        "favorite_count": 2,
        "score": 3,
        "last_activity_date": 1544475274,
        "creation_date": 1544207189,
        "last_edit_date": 1544295261,
        "question_id": 53675028,
        "link": "https://stackoverflow.com/questions/53675028/aws-iot-connection-is-getting-closed-on-ipad-os-v12-1-1",
        "title": "AWS IOT connection is getting closed on IPAD OS v12.1.1",
        "body": "<p>When we are connecting to AWS IoT using wss protocol on ios version 12.1.1, we were able to connect to IoT successfully, but immediately we could see onError event being triggered from IoT and then the connection gets closed. It tries to reconnect again but without any luck. The error we are getting from IoT is \"{IsTrusted : true}\". \nWe are not using any certificates, just using a profile access key and secret key.</p>\n\n<p>The same build is able to connect properly on ios 12.0.1, 12.1</p>\n\n<p>IOS version:12.1.1(Not working version)</p>\n\n<p>AWS IOT SDK:2.0.0</p>\n"
    }, {
        "tags": ["c++", "arduino", "iot", "esp8266"],
        "is_answered": true,
        "view_count": 926,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1544222019,
        "creation_date": 1544217559,
        "last_edit_date": 1544219186,
        "question_id": 53676929,
        "link": "https://stackoverflow.com/questions/53676929/esp8266-getting-garbage-data-from-char-array",
        "title": "ESP8266 getting garbage data from char array",
        "body": "<p>I'm honestly at a loss here. I'm trying to store an SSID and password that the user sends through a post request in the flash EEPROM section. To do that I convert the data sent from the post request to a char array and index it to EEPROM. The SSID runs without any problems, but the password always ends up with junk data before it even gets to EEPROM.\nHere is the bit of code in question:</p>\n\n<pre><code>// Recieve data from the HTTP server\nvoid changeConfig(String parameter, String value){\n  int memoffset = 0;\n  if(parameter == \"ssid\")\n    memoffset = 0;\n  else if(parameter == \"pass\")\n    memoffset = 32;\n  else\n    return;\n  #ifdef DEBUG\n  Serial.println(\"Updating Data\");\n  Serial.print(\"Param: \");\n  Serial.println(parameter);\n  Serial.print(\"Value: \");\n  Serial.println(value);\n  #endif\n  EEPROM.begin(64);\n  char _data[sizeof(value)];\n  value.toCharArray(_data, sizeof(value));\n  for(int i = memoffset; i &lt; memoffset + sizeof(value); i++)\n  {\n    #ifdef DEBUG\n      Serial.print(\"addr \");\n      Serial.print(i);\n      Serial.print(\" data \");\n      Serial.println(_data[i]);\n      #endif \n      EEPROM.write(i,_data[i]);\n  }\n  EEPROM.end();\n}\n</code></pre>\n\n<p>And the Serial monitor output:<br>\nPost parameter: ssid, Value: NetworkName<br>\nUpdating Data<br>\nParam: ssid<br>\nValue: NetworkName<br>\naddr 0 data N<br>\naddr 1 data e<br>\naddr 2 data t<br>\naddr 3 data w<br>\naddr 4 data o<br>\naddr 5 data r<br>\naddr 6 data k<br>\naddr 7 data N<br>\naddr 8 data a<br>\naddr 9 data m<br>\naddr 10 data e<br>\naddr 11 data \u2400<br>\nPost parameter: pass, Value: Networkpass<br>\nUpdating Data<br>\nParam: pass<br>\nValue: Networkpass<br>\naddr 32 data |<br>\naddr 33 data (<br>\naddr 34 data \ufffd<br>\naddr 35 data ?<br>\naddr 36 data L<br>\naddr 37 data \u241b<br>\naddr 38 data \ufffd<br>\naddr 39 data ?<br>\naddr 40 data \u2401<br>\naddr 41 data \u2400<br>\naddr 42 data \u2400<br>\naddr 43 data \u2400<br></p>\n\n<p>As you can see, when the name of the POST parameter is ssid, it works alright. With pass on the other hand, the char array is just filled with gibberish. Any insight would be helpful. I'm using platformio in the arduino environment. Generic ESP01 with 1M of flash.\nThanks in advance. </p>\n"
    }, {
        "tags": ["amazon-web-services", "aws-sdk", "mqtt", "iot", "mosquitto"],
        "is_answered": false,
        "view_count": 378,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1543432175,
        "creation_date": 1543432175,
        "question_id": 53526482,
        "link": "https://stackoverflow.com/questions/53526482/using-aws-iot-and-mosquitto-client-causes-a-tls-error",
        "title": "Using AWS IoT and Mosquitto client causes a TLS error",
        "body": "<p>I am new to AWS IoT. I am following the example in the link below about setting up JITP (Just In Time Provisioning). Everything goes fine such as registering the Root CA, private key verification certificate etc. </p>\n\n<p><a href=\"https://aws.amazon.com/blogs/iot/setting-up-just-in-time-provisioning-with-aws-iot-core/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/iot/setting-up-just-in-time-provisioning-with-aws-iot-core/</a></p>\n\n<p>I don't normally post \"what is wrong with my code\" kind of questions, but i'm out of ideas with this one. When I try the last step to use the MQTT Mosquitto client to connect and publish to AWS IoT Core with the below command</p>\n\n<pre><code>mosquitto_pub --cafile root.cert --cert deviceCertAndCACert.crt --key deviceJITPCert.key -h a9bqki6ij1hx9.iot.us-east-1.amazonaws.com -p 8883 -q 1 -t foo/bar -I anyclientID --tls-version tlsv1.2 -m \"Hello\" -d\n</code></pre>\n\n<p>I get the error :</p>\n\n<pre><code>Client anyclientID4406 sending CONNECT\nError: A TLS error occurred.\n</code></pre>\n\n<p>I can't understand whatsoever what is the problem here with the handshake. All the keys and certificates are generated correctly. I have tried it from the start time and time again. Perhaps i'm missing one obvious step. If anyone with some experience might know what is going wrong i'd greatly appreciate it.</p>\n"
    }, {
        "tags": ["java", "groovy", "iot"],
        "is_answered": false,
        "view_count": 28,
        "favorite_count": 1,
        "score": -2,
        "last_activity_date": 1542451758,
        "creation_date": 1542389196,
        "last_edit_date": 1542451606,
        "question_id": 53342680,
        "link": "https://stackoverflow.com/questions/53342680/having-error-when-represent-data-to-the-platform",
        "title": "having error when represent data to the platform",
        "body": "<p>I get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Message: exception \nDetails: 'Cannot get property \\'data\\' on null object\n</code></pre>\n\n<p>Here\u2019s my code:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>import javax.xml.bind.DatatypeConverter;\n\nimport com.carriots.sdk.utils.BasicHttp;\n\ndef APIKEY = '1c7021dfcc02e4f52a8db39'\n\n//// Data Fetching ////\ndef inc_data = context.data.data;\ndef d1 = inc_data[0..1];\n\n//// Custom Rules declaration ////\ndef device_id = context.data.id;\ndef devicename = device_id + '23A2B@User.User';\ndef rssi = context.data.rssi;\ndef avgSnr = context.data.avgSnr;\n\ndef D1 = Long.parseLong(d1, 16)\n\n//// Filter Status ////\nif (D1 &gt;= 1) {\n    fltstatus = \"motion detected\";\n} else {\n    fltstatus = \"No motion\";\n}\n\n//// Payload ////\n// Build Stream to persist.\n// I think the error from the data variable but I do not why...\ndef data = '{\"motion detection\": \"' + fltstatus + '\"}'\ndef payload_data = '{\"at\": \"now\", \"protocol\": \"v2\", \"device\": \"' + \n  devicename + '\", \"data\": \"' + data +'\"}'\n\ndef basicHttp = new BasicHttp();\nbasicHttp.verb = \"POST\";\nbasicHttp.payload = payload_data;\nbasicHttp.url = \"http://api.m.om/status/\";\nbasicHttp.headers = [\n    \"Content-type\": \"application/json\",\n    \"Accept\": \"application/json\",\n    \"User-Agent\": \"Listener-Carriots\",\n    \"carriots.apikey\": APIKEY\n]\nbasicHttp.send();\n</code></pre>\n"
    }, {
        "tags": ["websocket", "mqtt", "iot", "http-status-code-403", "aws-iot"],
        "is_answered": true,
        "view_count": 1200,
        "favorite_count": 5,
        "score": 6,
        "last_activity_date": 1542288527,
        "creation_date": 1532512726,
        "last_edit_date": 1532936807,
        "question_id": 51516052,
        "link": "https://stackoverflow.com/questions/51516052/mqtt-connection-gives-403-for-aws-iot-pre-signed-url",
        "title": "Mqtt connection gives 403 for aws IOT Pre-Signed URL",
        "body": "<p>I have aws lambda function that generates IOT websocket URL as below.</p>\n\n<pre><code>const v4 = require('aws-signature-v4');\nconst crypto = require('crypto');\n\nconst WSSURL = v4.createPresignedURL(\n        'GET',\n        process.env.IOT_ENDPOINT_HOST.toLowerCase(),\n        '/mqtt',\n        'iotdevicegateway',\n        crypto.createHash('sha256').update('', 'utf8').digest('hex'),\n        {\n            'key': process.env.IOT_ACCESS_KEY,\n            'secret': process.env.IOT_SECRET_KEY,\n            'protocol': 'wss',\n            'region': process.env.IOT_AWS_REGION,\n        }\n    );\n</code></pre>\n\n<p>and I have mqttjs at client side that use this url and try to connect web socket as following.</p>\n\n<pre><code>var options = {\n        will    : {\n            topic  : LAST_WILL_TOPIC,\n            payload: getMessageString(wss_userId, wss_email, wss_userType, {})\n        },\n        clientId: wss_userType + '||' + wss_userId\n    };\n\n    wssClient = mqtt.connect(WSSURL, options); \n</code></pre>\n\n<p>This code was working perfect before few months but now connection doesn't initiate and gives following error </p>\n\n<pre><code>failed: Error during WebSocket handshake: Unexpected response code: 403\n</code></pre>\n"
    }, {
        "tags": ["mqtt", "iot", "node-red"],
        "is_answered": false,
        "view_count": 201,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1541873200,
        "creation_date": 1541783769,
        "last_edit_date": 1541873200,
        "question_id": 53230464,
        "link": "https://stackoverflow.com/questions/53230464/mqtt-node-red-iot-platfform",
        "title": "mqtt node-red iot platfform",
        "body": "<p>Read an event from a device in Watson IoTPlatform using <a href=\"https://nodered.org/docs/\" rel=\"nofollow noreferrer\">node-red</a> and occur following error <code>missing broker configuration</code></p>\n\n<p>Request Data</p>\n\n<pre><code>[{\"id\":\"e045d0f1.7d3b6\",\"type\":\"mqtt in\",\"z\":\"128ab415.c6150c\",\"name\":\"DHT22_001\",\"topic\":\"iot-2/type/DHT22/id/DTH22001/evt/data/fmt/json\",\"qos\":\"2\",\"broker\":\"3a8caa38.c01576\",\"x\":162,\"y\":99,\"wires\":[[\"dd729941.33d4e8\"]]},{\"id\":\"dd729941.33d4e8\",\"type\":\"debug\",\"z\":\"128ab415.c6150c\",\"name\":\"\",\"active\":true,\"console\":\"false\",\"complete\":\"false\",\"x\":421,\"y\":99,\"wires\":[]},{\"id\":\"3a8caa38.c01576\",\"type\":\"mqtt-broker\",\"z\":\"\",\"broker\":\"s16hxe.messaging.internetofthings.ibmcloud.com\",\"port\":\"1883\",\"clientid\":\"d:s16hxe:DHT22:DHT22_001\",\"usetls\":false,\"compatmode\":true,\"keepalive\":\"60\",\"cleansession\":true,\"willTopic\":\"\",\"willQos\":\"0\",\"willPayload\":\"\",\"birthTopic\":\"\",\"birthQos\":\"0\",\"birthPayload\":\"\"}]\n</code></pre>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": false,
        "view_count": 158,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1541755148,
        "creation_date": 1541660813,
        "question_id": 53202885,
        "link": "https://stackoverflow.com/questions/53202885/aws-iot-rule-select-does-not-working-with-a-hex-string-as-json-key",
        "title": "AWS IoT Rule SELECT does not working with a &#39;hex&#39; string as JSON key?",
        "body": "<p>I have an input payload like this. </p>\n\n<pre><code>{\n    \"state\" : {\n        \"0x1234\" : {\n            \"value\" : 0\n        }\n    }\n}\n</code></pre>\n\n<p>When I use SELECT state.<strong>0x1234</strong>.value FROM ****, it prompts error message. It seems SELECT does not work in this way. But my JSON format is totally valid. Is there a workaround? </p>\n\n<p>Thanks.</p>\n"
    }, {
        "tags": ["amazon-web-services", "mqtt", "iot", "paho"],
        "is_answered": false,
        "view_count": 102,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1541583500,
        "creation_date": 1541583500,
        "question_id": 53186808,
        "link": "https://stackoverflow.com/questions/53186808/connect-fails-from-paho-to-aws",
        "title": "Connect fails from paho to AWS",
        "body": "<p>I am trying to connect to AWS using the paho MQTT C library. I have correctly set up my AWS thing and certificates. I tested it by publishing using mosquitto and MQTTFx tools.</p>\n\n<p>I tried mapping the connect URL, certificate files and keys to the parameters needed by MQTTClient.ssl., but the connect call keeps failing. </p>\n\n<p>I can't post the entire code here, so I'll just post the relevant bits.</p>\n\n<pre><code> #define ADDRESS     \"ssl://xxxxxxxxxxxxxxxx-2.amazonaws.com:8883\"\n #define CLIENTID    \"testclient\"\n #define TOPIC_REQ   \"req/16000393\" //this is the topic I'm subscribing to at AWS side (publishing from client laptop)\n...\n#define CRT_FILE    \"./certificate.pem.crt\"\n#define KEY_FILE    \"./private.pem.key\"\n#define CA_FILE     \"./rootCA.pem\" \n...\n int main(int argc, char* argv[])\n {\n      MQTTClient client;\n      MQTTClient_connectOptions conn_opts = MQTTClient_connectOptions_initializer;\n      MQTTClient_message pubmsg = MQTTClient_message_initializer;\n      MQTTClient_deliveryToken token;\n\n      MQTTClient_SSLOptions sslopts = MQTTClient_SSLOptions_initializer;\n\n      int rc;\n      int ch;\n\n      conn_opts.ssl = &amp;sslopts;\n      conn_opts.ssl-&gt;trustStore = CRT_FILE;\n      conn_opts.ssl-&gt;keyStore = CA_FILE;\n      conn_opts.ssl-&gt;privateKey = KEY_FILE;\n      conn_opts.ssl-&gt;verify = 1;\n\n      MQTTClient_create(&amp;client, ADDRESS, CLIENTID,\n          MQTTCLIENT_PERSISTENCE_NONE, NULL);\n      conn_opts.keepAliveInterval = 20;\n      conn_opts.cleansession = 1;\n\n      MQTTClient_setCallbacks(client, NULL, connlost, msgarrvd, delivered);\n\n      if ((rc = MQTTClient_connect(client, &amp;conn_opts)) != MQTTCLIENT_SUCCESS)\n      {\n          printf(\"Failed to connect, return code %d\\n\", rc);\n          exit(EXIT_FAILURE);\n      }\n...\n</code></pre>\n\n<p>The connection keeps failing. Kindly help! I'm out of ideas.</p>\n"
    }, {
        "tags": ["python", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 2104,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1539337093,
        "creation_date": 1536646663,
        "last_edit_date": 1539337093,
        "question_id": 52269759,
        "link": "https://stackoverflow.com/questions/52269759/serialexception-could-not-open-port-dev-ttys0-errno-13-permission-denied",
        "title": "SerialException: could not open port /dev/ttyS0: [Errno 13] Permission denied: &#39;/dev/ttyS0&#39;",
        "body": "<p>I am try to execute python code for <code>gsm module</code> in <code>raspberry pi</code>. </p>\n\n<p>I got an error at next code:</p>\n\n<pre><code>port=serial.Serial(\"/dev/ttyS0\",baudrate=9600,timeout=1)\n</code></pre>\n\n<p>Error info:</p>\n\n<blockquote>\n  <p>SerialException: could not open port /dev/ttyS0: [Errno 13] Permission denied: '/dev/ttyS0'</p>\n</blockquote>\n\n<p>How to solve these plz help me.</p>\n"
    }, {
        "tags": ["java", "multithreading", "iot"],
        "is_answered": true,
        "view_count": 186,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1537722668,
        "creation_date": 1525074678,
        "last_edit_date": 1537722668,
        "question_id": 50096145,
        "link": "https://stackoverflow.com/questions/50096145/setting-a-stop-flag-in-a-thread-to-true-thread-is-null",
        "title": "Setting a stop flag in a thread to true, thread is null?",
        "body": "<p>Obviously my current approach isn't how it should be done as it isn't working.\nMy project is software that plays audio based on a schedule received from a web server.</p>\n\n<p>I have three threads, one thread is a listener which listens on a web socket for notifications about whether there is a new schedule we should download. This thread starts another thread which is a \"Schedule Downloader\", this makes http requests and downloads files. When it starts it checks the schedule and downloads files, after it does this once there is a flag set to false with a while loop on flag, so the thread is still running but not doing anything until that flag is changed. This flag is <code>boolean newSchedule</code>. When it is finished it starts a thread to play the music</p>\n\n<p>The way I currently have it setup is that my method <code>onMessage()</code> in my listener <code>MyTopicClass</code> changes a flag in the schedule downloader to start downloading a schedule again. I can see this works from debugging. Receiving a notification calls the <code>getScheduleAgain()</code> method in my <code>ScheduleDownloader</code> class which changes the flag and my code starts checking/downloading schedules again. I can see this works correctly. What doesn't work as I intend is I am trying to set a flag in my <code>AudioPlayer</code> so it finishes so I can start a new one with the new schedule. What is going wrong is when I call the <code>setStopFlagToTrue()</code> on my audio player inside my <code>getScheduleAgain()</code> method, according to the debugger the audioplayer is <code>null</code>?</p>\n\n<p>So my workflow is <code>MyTopic</code> within my <code>IotClient</code> listener thread when it receives a notification, it calls <code>onMessage()</code> in my <code>myTopic</code> which calls my <code>getScheduleAgain()</code> in my <code>Scheduledownloader</code>. This all works as intended except my <code>getScheduleAgain()</code> method calls a <code>setStopFlagToTrue</code> on my audioplayer thread but according to the debugger it is <code>null</code>?</p>\n\n<p>Main.java</p>\n\n<pre><code>      IotClient client = new IotClient(\"username\");\n  client.start();\n</code></pre>\n\n<p>IotClient</p>\n\n<pre><code>     public class IotClient extends Thread {\n   Thread t;\n   String username;\n   ScheduleDownloader downloader;\npublic IotClient(String username)  {\n    this.username = username;\n    downloader = new ScheduleDownloader(\"username,\",\"password2\",\"thread\");\n}\n   public void run(){\n    this.currentThread().setPriority(Thread.MAX_PRIORITY);\nThread.currentThread().setPriority(Thread.MAX_PRIORITY);\nString clientEndpoint = \"removed my end point here\";       \n// replace &lt;prefix&gt; and &lt;region&gt; with your own\nString clientId = \"1\";                              // replace with your own client ID. Use unique client IDs for concurrent connections.\n\n// AWS IAM credentials could be retrieved from AWS Cognito, STS, or other secure sources\nAWSIotMqttClient client = new AWSIotMqttClient(clientEndpoint, clientId, \"removed credentials \", \"removed credentials\");\n\n// optional parameters can be set before connect()\ntry {\n    client.connect();\n} catch (AWSIotException e) {\n    e.printStackTrace();\n}\nAWSIotQos qos = AWSIotQos.QOS0;\nnew ScheduleDownloader(\"dunnesdrogheda\",\"password2\",\"thread\").start();\nAWSIotTopic topic = new MyTopic(\"schedule/\"+ username, qos,downloader);\n\ntry {\n    client.subscribe(topic, true);\n} catch (AWSIotException e) {\n    e.printStackTrace();\n}\n\nwhile(true){\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\n}\npublic void start(){\nif (t == null) {\n    t = new Thread (this, \"IotClientThread\");\n    t.start ();\n}\n}\n\n\n  }\n</code></pre>\n\n<p>MyTopic</p>\n\n<pre><code>public class MyTopic extends AWSIotTopic {\nScheduleDownloader downloader;\n\npublic MyTopic(String topic, AWSIotQos qos, ScheduleDownloader downloader) {\n\n    super(topic, qos);\n    this.downloader = downloader;\n}\n\n@Override\npublic void onMessage(AWSIotMessage message) {\n    System.out.println(\"Message recieved from topic: \"+ message.getStringPayload());\n    try {\n        downloader.getScheduleAgain();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n}\n}\n</code></pre>\n\n<p>ScheduleDownloader, removed non-relevant util methods for downloading files</p>\n\n<pre><code>public class ScheduleDownloader extends Thread {\nprivate Thread t;\nprivate String threadName;\n\n    String username;\n    String password;\n     volatile boolean newSchedule = true;\n     AudioPlayer audioPlayer;\n\n    public ScheduleDownloader(String username,String password,String threadName){\n        this.username = username;\n        this.password = password;\n        this.threadName= threadName;\n    }\n    public void startPlayerThread(){\n\n    }\n    public void startAudioPlayer(Schedule schedule) throws UnsupportedAudioFileException, IOException, LineUnavailableException {\n        audioPlayer = new AudioPlayer(schedule);\n        audioPlayer.start();\n    }\n public void start () {\n    System.out.println(\"Starting \" +  threadName );\n    if (t == null) {\n        t = new Thread (this, threadName);\n        t.start ();\n    }}\npublic synchronized void run() {\n    try {\n\n  while(true){\nThread.sleep(1000);\n        while(newSchedule == true) {\n            Schedule schedule = null;\n            while (schedule == null) {\n                System.out.println(\"Searching for schedule\");\n                schedule = getTodaysSchedule();\n            }\n            System.out.println(\"Schedule Found\");\n            boolean result = false;\n            while (result == false) {\n                result = downloadFiles(schedule);\n            }\n            System.out.println(\"Files Downloaded\");\n            startAudioPlayer(schedule);\n\n            newSchedule = false;\n\n         }\n       }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }  catch (UnsupportedAudioFileException e) {\n        e.printStackTrace();\n    } catch (LineUnavailableException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\npublic void getScheduleAgain() throws InterruptedException {\n        this.audioPlayer.setStopFlagToTrue();\n        Thread.sleep(4000);\n        newSchedule = true;\n}\n</code></pre>\n\n<p>AudioDownloader, the <code>checkShouldWePlayAnAdvertisement</code> is the method that loops until the finish flag is supposed to be set to true</p>\n\n<pre><code>public class AudioPlayer extends Thread {\nLong currentFrameMusic;\nLong currentFrameAdvertisement;\nClip clipMusic;\nClip clipAdvertisement;\nprivate Thread t;\nprivate volatile boolean stopFlag = false;\n\n// current status of clip\nString statusMusic;\nString statusAdvertisement;\n\nstatic AudioInputStream musicInputStream;\nstatic AudioInputStream advertisementInputStream;\nstatic String filePath;\nSchedule schedule;\n\n// constructor to initialize streams and clip\npublic AudioPlayer(Schedule schedule)\n        throws UnsupportedAudioFileException,\n        IOException, LineUnavailableException\n{\n    //setup audio stream for music first\n    // create AudioInputStream object\nthis.schedule = schedule;\n    appendMusicFiles(schedule);\n\n    // create clip reference\n    clipMusic = AudioSystem.getClip();\n\n    // open audioInputStream to the clip\n    clipMusic.open(musicInputStream);\n\n    clipMusic.loop(Clip.LOOP_CONTINUOUSLY);\n}\n\npublic void run(){\n    playMusic();\n    try {\n        checkShouldWePlayAnAdvertisement();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (UnsupportedAudioFileException e) {\n        e.printStackTrace();\n    } catch (LineUnavailableException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n\n    try {\n        checkShouldWePlayAnAdvertisement();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (UnsupportedAudioFileException e) {\n        e.printStackTrace();\n    } catch (LineUnavailableException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n    try {\n        checkShouldWePlayAnAdvertisement();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } catch (UnsupportedAudioFileException e) {\n        e.printStackTrace();\n    } catch (LineUnavailableException e) {\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    }\n}\npublic void start(){\n    t = new Thread (this, \"AudioPlayerThread\");\n    t.start ();\n}\npublic void checkShouldWePlayAnAdvertisement() throws IOException, UnsupportedAudioFileException, LineUnavailableException, InterruptedException {\n    ArrayList&lt;String&gt; playedAtTimes = new ArrayList&lt;&gt;();\n    ArrayList&lt;Advertisement&gt; advertisementsToBePlayed = new ArrayList&lt;&gt;();\n    boolean found;\n    //played at times is used to keep track of what time we played advertisements\n    //so when the loop reruns and the time hasnt changed it doesnt play it again\n    while(stopFlag ==false){\n        Thread.sleep(1000);\n        found = false;\n        ZonedDateTime zdt = ZonedDateTime.now();\n        String timeHHMM =zdt.toString().substring(11,16);\n        for(int i =0;i&lt;schedule.getAdvertisementScheduleItems().size();i++){\n            if(schedule.getAdvertisementScheduleItems().get(i).getTimes().contains(timeHHMM)){\n                //this item should be played now\n                if(playedAtTimes.contains(timeHHMM)){\n                    //we already played this,but the time hasnt changed when the loop ran again\n                }else{\n                    advertisementsToBePlayed.add(schedule.getAdvertisementScheduleItems().get(i).getAdvertisement());\n                    found = true;\n                }\n            }\n        }\n        if(found== true) {\n            playedAtTimes.add(timeHHMM);\n            appendAdvertisementFiles(advertisementsToBePlayed);\n            pauseMusic();\n            playAdvertisements();\n            stopAdvertisement();\n\n            resumeAudioMusic();\n        }\n    }\n\n    System.out.println(\"audio player is closing\");\n clipMusic.close();\n}\npublic synchronized void setStopFlagToTrue(){\n    stopFlag = true;\n}\n</code></pre>\n"
    }, {
        "tags": ["java", "iot", "stm32f7"],
        "is_answered": true,
        "view_count": 110,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1535454016,
        "creation_date": 1535352487,
        "last_edit_date": 1535353875,
        "question_id": 52033891,
        "link": "https://stackoverflow.com/questions/52033891/using-uart-with-stm32f746g-disco-in-microej",
        "title": "using UART with STM32f746g-DISCO in MicroEj",
        "body": "<p>I'm trying to use UART serial communication with MicroEj in STM32F7 using java, and I've got exception throw opening the Com Port. Here is the simple code to open a connection:</p>\n\n<pre><code>private static final String CONNECTION_STRING = \"comm:com42;baudrate=9600;bitsperchar=8;stopbits=1;parity=none\";\ntry {\n    CommConnection comm = (CommConnection) Connector.open(CONNECTION_STRING);\n} catch (IOException e1) {\n    e1.printStackTrace();\n}\n</code></pre>\n\n<p>And here is the exception:</p>\n\n<blockquote>\n  <p>java.io.IOException: ECOM-COMM: Invalid connection descriptor.</p>\n</blockquote>\n\n<p>I think there might be some problems with the <code>CONNECTION_STRING</code> but I couldn't find any examples. anyone can help me?</p>\n"
    }, {
        "tags": ["c#", "multithreading", "websocket", "event-handling", "iot"],
        "is_answered": false,
        "view_count": 1306,
        "favorite_count": 2,
        "score": 1,
        "last_activity_date": 1534881906,
        "creation_date": 1534881090,
        "last_edit_date": 1534881906,
        "question_id": 51955756,
        "link": "https://stackoverflow.com/questions/51955756/c-sending-value-from-websocket-server-thread-to-main",
        "title": "C# Sending value from WebSocket Server Thread to Main()",
        "body": "<p>I am trying to write a program to control home automation devices. This involves a <code>WebSocket</code> server that runs infinitely in a background thread listening for clients. The client sends JSON packets that contain settings. When the server gets a JSON packet, I want it to read and change any settings as needed in the <code>Main()</code></p>\n\n<p>I have a working <code>WebSocket</code> server and I have tried to use the <code>PropertyChangedEvent</code> but it never seems to see the handler. I suspect this occurs because they exist in different threads.</p>\n\n<p>I have attached my code below as well as the example I have been working off of. There is a chance I am way off the mark here but this is the best I could find with the reading I have been doing.</p>\n\n<p>Any help would be appreciated!</p>\n\n<p>This is the Main():</p>\n\n<pre><code>using System;\nusing System.Threading;\nusing System.ComponentModel;\n\nnamespace HomeAutomation\n{\n    class Controller\n    {\n        static void Main(string[] args)\n        {\n            bool passGo = false;\n            Thread SocketThread = new Thread(Socket.WebSocketServer);\n            SocketThread.IsBackground = true;\n            SocketThread.Start();\n\n            //This line lets the user know the Socket Thread is running in the background\n            Console.WriteLine(\"Socket Thread is running in the background: {0}\", SocketThread.IsBackground);\n            do {\n\n                char input = Console.ReadKey().KeyChar;\n                if (input == 'x')\n                {\n                    passGo = true;\n                }\n            } while (passGo == false);\n            Console.ReadLine();\n            /*\n            Settings s = new Settings();\n            s.PropertyChanged += new PropertyChangedEventHandler(S_PropertyChanged);\n            while (true)\n            {\n                string str = Console.ReadLine();\n                s.State = str;\n            }*/\n        }\n\n        public static void S_PropertyChanged(object sender, PropertyChangedEventArgs e)\n        {\n            Settings RecSettings = (Settings)sender;\n\n            Console.WriteLine(\"The {0} has changed to {1}\", e.PropertyName, RecSettings.State);\n        }\n\n    }\n\n    public class Settings : INotifyPropertyChanged\n    //The Class Object 'Settings' is used to recieve the variable(s) from the client software\n    {\n        #region INotifyPropertyChanged Members\n        public event PropertyChangedEventHandler PropertyChanged;\n        #endregion\n\n        string state = string.Empty;\n        public string State\n        {\n            get { return state; }\n            set\n            {\n                state = value;\n                if (PropertyChanged != null)\n                {\n                    PropertyChanged(this, new PropertyChangedEventArgs(\"State\"));\n                    Console.WriteLine(\"Event has been called\");\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is my webSocket:</p>\n\n<pre><code>using System;\nusing System.Net;\nusing System.Net.Sockets;\nusing System.Text;\nusing System.Threading;\nusing Newtonsoft.Json;\n\nnamespace HomeAutomation\n{\n    class Socket\n    {\n        public static void WebSocketServer()\n        {\n            //Declaring variables used in the program\n            IPAddress ipAddress = Dns.GetHostEntry(\"localhost\").AddressList[0];\n            TcpListener server = new TcpListener(ipAddress, 8080);\n\n            try\n            {\n                //Starts the server\n                server.Start();\n                Console.WriteLine(\"Starting Server...\");\n            }\n            catch (Exception ex)\n            {\n                //If the server cannot start the error will be caught and printed to console\n                Console.WriteLine(ex.ToString());\n                Console.ReadLine();\n            }\n            while (true)\n            {\n                TcpClient client = server.AcceptTcpClient();\n                MakeNewConnection(client);\n            }\n        }\n\n        public static void MakeNewConnection(TcpClient client)\n        {\n            var thread = new Thread(NewClient);\n            thread.Start(client);\n        }\n\n        public static void NewClient(object data)\n        {\n            var client = (TcpClient)data;\n            Settings RecSettings = new Settings();\n\n            //Lets you know the address of the connected client\n            string address = client.Client.AddressFamily.ToString();\n            Console.WriteLine(\"{0} has connected!\", address);\n\n            //creates a network stream for information to flow through\n            NetworkStream stream = client.GetStream();\n\n            byte[] receivedBuffer = new byte[100];\n            stream.Read(receivedBuffer, 0, receivedBuffer.Length);\n\n            StringBuilder msg = new StringBuilder();\n\n            foreach (byte b in receivedBuffer)\n            {\n                if (b.Equals(00))\n                {\n                    break;\n                }\n                else\n                {\n                    msg.Append(Convert.ToChar(b).ToString());\n                }\n            }\n\n            Console.WriteLine(\"Client Says: {0}\", msg.ToString());\n\n            RecSettings = JsonConvert.DeserializeObject&lt;Settings&gt;(msg.ToString());\n\n            Console.WriteLine(RecSettings.State.ToString());\n\n            RecSettings.State = \"Off\";\n\n            int byteCount = Encoding.ASCII.GetByteCount(\"Thank you\");\n            byte[] sendData = new byte[byteCount];\n            sendData = Encoding.ASCII.GetBytes(\"Thank you\");\n            stream.Write(sendData, 0, sendData.Length);\n        }\n    }\n}\n</code></pre>\n\n<p>This is the event handler example I am using:</p>\n\n<pre><code>using System;\nusing System.ComponentModel;\n\nnamespace HomeAutomation\n{\n    class Program\n    {\n        static void Main(string[] args)\n        {\n            TestClass sample = new TestClass();\n            sample.PropertyChanged += new PropertyChangedEventHandler(sample_PropertyChanged);\n            while (true)\n            {\n                string str = Console.ReadLine();\n                int val;\n                if (int.TryParse(str, out val))\n                    sample.TestValue = val;\n            }\n        }\n\n        static void sample_PropertyChanged(object sender, PropertyChangedEventArgs e)\n        {\n            TestClass sample = (TestClass)sender;\n            /*\n             * Use expression behind if you have more the one property instead sample.TestValue\n             * typeof(TestClass).GetProperty(e.PropertyName).GetValue(sample, null)*/\n            Console.WriteLine(\"Value of property {0} was changed! New value is {1}\", e.PropertyName, sample.TestValue);\n        }\n    }\n\n    public class TestClass : INotifyPropertyChanged\n    {\n\n        #region INotifyPropertyChanged Members\n\n        public event PropertyChangedEventHandler PropertyChanged;\n\n        #endregion\n\n        int testValue = 0;\n        public int TestValue\n        {\n            get { return testValue; }\n            set\n            {\n                testValue = value;\n                if (PropertyChanged != null)\n                    PropertyChanged(this, new PropertyChangedEventArgs(\"TestValue\"));\n            }\n        }\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["firebase", "firebase-authentication", "iot"],
        "is_answered": false,
        "view_count": 445,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1534258447,
        "creation_date": 1534183524,
        "last_edit_date": 1534257477,
        "question_id": 51828152,
        "link": "https://stackoverflow.com/questions/51828152/authenticate-iot-appliance-using-firebase-auth",
        "title": "Authenticate IoT Appliance Using Firebase Auth",
        "body": "<p>I can't figure out how to authenticate my IoT appliance to call Google Cloud App Engine APIs I've written using Firebase Auth.</p>\n\n<p>We currently do this with our browser app using Firebase Auth tokens.  We use the username and password to issue a token and then use that token during the life of the session to access APIs from our browser app.</p>\n\n<p>This doesn't translate well to our IoT appliance as there is no username/password - so we are thinking we will need to use Firebase custom tokens.  Unfortunately these tokens expire every hour - so we will need to use the Firebase Auth APIs to renew the tokens automatically - we think this is the way this works based on documentation.</p>\n\n<p>A constraint we have is that this appliance doesn't have any user experience but instead needs to be able to restart at any time and reestablish it's authenticity with the server by retrieving a fresh token.</p>\n\n<p>I'm having a hard time finding an example of how to do this - and I'm hoping someone can give me a simple example or some clear direction on how to keep a authentication token current while the appliance is on and establish a new one if it needs to restart.</p>\n\n<p>Thanks!</p>\n"
    }, {
        "tags": ["iot"],
        "is_answered": true,
        "view_count": 1319,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1534011123,
        "creation_date": 1493188562,
        "question_id": 43626711,
        "link": "https://stackoverflow.com/questions/43626711/esp8266-exception29-storeprohibited",
        "title": "ESP8266 - Exception(29) StoreProhibited",
        "body": "<p>Friends I am working on NodeMCU v3 using MQTT Protocol. The client gets Connected and when I send a long message there arises a expection 29.</p>\n\n<p>My code is :</p>\n\n<pre><code>#include &lt;ESP8266WiFi.h&gt;\n#include &lt;PubSubClient.h&gt;\nconst char* ssid = \"ABCDEFG\";\nconst char* password = \"Hello12345\";\nconst char* mqtt_server = \"broker.mqtt-dashboard.com\";\nWiFiClient espClient;\nPubSubClient client(espClient);\nvoid setup_wifi() {\n   delay(100);\n  // We start by connecting to a WiFi network\nSerial.print(\"Connecting to \");\nSerial.println(ssid);\nWiFi.begin(ssid, password);\nwhile (WiFi.status() != WL_CONNECTED) \n{\n  delay(500);\n  Serial.print(\".\");\n}\n  randomSeed(micros());\n  Serial.println(\"\");\n  Serial.println(\"WiFi connected\");\n  Serial.println(\"IP address: \");\n  Serial.println(WiFi.localIP());\n }\n\n  void callback(char* topic, byte* payload, unsigned int length) \n{\n  Serial.print(\"Command is : [\");\n  Serial.print(topic);\n  Serial.print(\"]\");\n  for (int i=0;i&lt;length;i++) {\n   Serial.print((char)payload[i]);\n  }\n} \n\nvoid reconnect() {\n    while (!client.connected()) \n  {\n    Serial.print(\"Attempting MQTT connection...\");\n    // Create a random client ID\n    String clientId = \"ESP8266Client-\";\n    clientId += String(random(0xffff), HEX);\n    if (client.connect(clientId.c_str()))\n    {\n      Serial.println(\"connected\");\n     //once connected to MQTT broker, subscribe command if any\n      client.subscribe(\"hello_hi\");\n    } else {\n      Serial.print(\"failed, rc=\");\n      Serial.print(client.state());\n      Serial.println(\" try again in 5 seconds\");\n      // Wait 6 seconds before retrying\n      delay(6000);\n    }\n  }\n} \n\nvoid setup() {\n Serial.begin(115200);\n Serial.println(\"Setup completato...\");\n setup_wifi();\n client.setServer(mqtt_server, 1883);\n client.setCallback(callback);\n }\n\nvoid loop() {\n  if (!client.connected()) {\n   reconnect();\n  }\n\n  client.loop();\n} \n</code></pre>\n\n<p>I get this exception after decoding:</p>\n\n<p>Exception 29: StoreProhibited: A store referenced a page mapped with an attribute that does not permit stores\nDecoding 2 results\n0x40203376: PubSubClient::loop() at /home/softwares/arduino-1.8.2/libraries/pubsubclient/src/PubSubClient.cpp line 584</p>\n\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["java", "wso2", "iot", "wso2iot"],
        "is_answered": true,
        "view_count": 912,
        "favorite_count": 1,
        "score": 3,
        "last_activity_date": 1533025113,
        "creation_date": 1507779014,
        "last_edit_date": 1507790677,
        "question_id": 46700936,
        "link": "https://stackoverflow.com/questions/46700936/cant-enroll-device-error-500",
        "title": "Can&#39;t enroll device. Error 500",
        "body": "<p>I just installed <strong><em>WSO2 iotserver 3.1.0</em></strong> . \nWhen i try to enroll a device (Android) i get :</p>\n\n<blockquote>\n  <p>Enrollment failed</p>\n  \n  <p>Please contact administrator. Code : 500</p>\n  \n  <p>Error : java.io.EOFException</p>\n</blockquote>\n\n<p>I have yet to figure out the issue.\nDoes anyone know how to fix this?</p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["tcp", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 243,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1528398942,
        "creation_date": 1528387465,
        "question_id": 50745726,
        "link": "https://stackoverflow.com/questions/50745726/mqtt-connect-header-how-to-define-username-and-password",
        "title": "MQTT CONNECT header: how to define username and password?",
        "body": "<p>I'm attempting to send data to a MQTT broker from a device with very limited capabilities, so I need to build up my request manually before sending it out through TCP/IP. </p>\n\n<p>I understand the username and password are held in the message payload, but I don't understand how they are delimited.  The overall length is given in the header, but I can't see how this is broken down into distinct strings once it arrives at the broker.</p>\n\n<p>Could someone help me with an example of a working CONNECT request and some explanation of how it's formatted?</p>\n\n<p>This page gives an overview that seems to make sense, but lacks any example with username and password.\n<a href=\"http://www.steves-internet-guide.com/mqtt-protocol-messages-overview/\" rel=\"nofollow noreferrer\">http://www.steves-internet-guide.com/mqtt-protocol-messages-overview/</a></p>\n\n<p>The specification document doesn't seem very helpful either, but I may just not be taking it in properly.\n<a href=\"http://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/mqtt-v3r1.html#connect\" rel=\"nofollow noreferrer\">http://public.dhe.ibm.com/software/dw/webservices/ws-mqtt/mqtt-v3r1.html#connect</a></p>\n\n<p>I'm new to Stack Overflow, so do let me know if I've missed out anything or phrased my request incorrectly.</p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["json", "curl", "postman", "iot", "kaa"],
        "is_answered": false,
        "view_count": 1128,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1527051926,
        "creation_date": 1501648536,
        "last_edit_date": 1501652655,
        "question_id": 45451558,
        "link": "https://stackoverflow.com/questions/45451558/how-fix-error-unsupported-media-type-for-send-notification-with-postman",
        "title": "How fix error &quot;Unsupported Media Type&quot; for send notification with Postman",
        "body": "<p>I try send Notification using Kaa sandbox with Postman; but given an error (Unsupported Media Type).</p>\n\n<p>I try with header <strong>\"Content-type\"</strong>: </p>\n\n<ol>\n<li>application/json </li>\n<li>Octed-Steram</li>\n</ol>\n\n<p>But not solved this problem.</p>\n\n<p><strong>Scenario is:</strong></p>\n\n<p><strong>First</strong> - structure of schema is : </p>\n\n<pre><code>{\n    \"type\": \"record\",\n    \"name\": \"Notification\",\n    \"namespace\": \"org.kaa.config\",\n    \"fields\": [\n        {\n            \"name\": \"message\",\n            \"type\": \"string\"\n        }\n    ]\n}\n</code></pre>\n\n<p><strong>Second</strong> - data param is:</p>\n\n<pre><code>{\"applicationId\":\"111\",\"schemaId\":\"139\",\"topicId\":\"171\",\"type\":\"USER\"}\n</code></pre>\n\n<p>(Hint: value according of my required.)</p>\n\n<p><strong>Third</strong>:</p>\n\n<p>Json file contend is:</p>\n\n<pre><code>{\n  \"message\" : \"Hello world!\"\n}\n</code></pre>\n\n<p>This is error in Postman:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n    &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/&gt;\n    &lt;title&gt;Error 415 Unsupported Media Type&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h2&gt;HTTP ERROR 415&lt;/h2&gt;\n    &lt;p&gt;Problem accessing /kaaAdmin/rest/api/sendUnicastNotification. Reason:\n\n        &lt;pre&gt;    Unsupported Media Type&lt;/pre&gt;\n    &lt;/p&gt;\n    &lt;hr&gt;\n    &lt;i&gt;\n        &lt;small&gt;Powered by Jetty://&lt;/small&gt;\n    &lt;/i&gt;\n    &lt;hr/&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>And I try with cURL command but given an same error (Unsupported Media Type)</p>\n\n<pre><code>curl -v -S -u devuser:devuser123 -F'notification={\"applicationId\":\"111\",\"schemaId\":\"139\",\"topicId\":\"171\",\"type\":\"USER\"};type=application/json' -F file=@notification.json \"http://localhost:8080/kaaAdmin/rest/api/sendNotification\" | python -mjson.tool\n</code></pre>\n\n<p>(Hint: I trying with Notification Demo in Sandbox).</p>\n\n<p>This is reference link :</p>\n\n<p><a href=\"http://docs.kaaproject.org/display/KAA/Admin+REST+API#AdminRESTAPI-Sendnotification\" rel=\"nofollow noreferrer\">http://docs.kaaproject.org/display/KAA/Admin+REST+API#AdminRESTAPI-Sendnotification</a></p>\n"
    }, {
        "tags": ["node.js", "iot", "node-red"],
        "is_answered": true,
        "view_count": 774,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1526148597,
        "creation_date": 1526137083,
        "last_edit_date": 1526138293,
        "question_id": 50307568,
        "link": "https://stackoverflow.com/questions/50307568/node-red-ui-how-to-get-logged-user-name",
        "title": "Node Red UI - How to get logged user name?",
        "body": "<p>I want to save the logged user name of Node Red UI in database.</p>\n\n<p>I get some inspiration from here <a href=\"https://nodered.org/docs/configuration\" rel=\"nofollow noreferrer\">https://nodered.org/docs/configuration</a> and implemented the user authentication for Node red editor and node red ui as well and its working fine. </p>\n\n<p>Node Red Editor - User Authentication:</p>\n\n<pre><code>adminAuth: {\ntype: \"credentials\",\nusers: [{\n    username: \"admin\",\n    password: \"$2a$08$zZWtXTja0fB1pzD4sHCMyOCMYz2Z6dNbM6tl8sJogENOMcxWV9DN.\",\n    permissions: \"*\"\n}]},\n</code></pre>\n\n<p>Node Red UI - User Authentication:</p>\n\n<pre><code>httpNodeAuth: {user:\"user\",pass:\"$2a$08$zZWtXTja0fB1pzD4sHCMyOCMYz2Z6dNbM6tl8sJogENOMcxWV9DN.\"},\n</code></pre>\n\n<p>I want to update table in database based on user input and i want to know who was updated that table So i want the logged user name of dashboard. From where i could get this?</p>\n\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["azure", "routes", "iot", "servicebus", "endpoints"],
        "is_answered": false,
        "view_count": 101,
        "favorite_count": 0,
        "score": -3,
        "last_activity_date": 1524119085,
        "creation_date": 1500207169,
        "last_edit_date": 1500219073,
        "question_id": 45128456,
        "link": "https://stackoverflow.com/questions/45128456/error-while-executing-automated-script-generated-from-azure",
        "title": "Error while executing automated script generated from Azure",
        "body": "<p>I'm trying to execute automated script generated from Azure for iothub end points, but getting the following the error:</p>\n\n<pre><code>New-AzureRmResourceGroupDeployment : 12:25:25 AM - Error: \nCode=InvalidTemplate; Message=Deployment template validation failed: 'The \ntemplate resource 'ServiceBus1/Topic1/iothubroutes_tst-IOTHUB' at line '216' \nand column '10' is not valid: Unable to evaluate template language function \n'resourceId': function requires exactly one multi-segmented argument which \nmust be resource type including resource provider namespace. Current function \narguments 'Microsoft.ServiceBus/namespaces/topics,ServiceBus1/Topic1'. Please \nsee https://aka.ms/arm-template-expressions/#resourceid for usage details.. \nPlease see https://aka.ms/arm-template-expressions for usage details.'.\nAt C:\\Users\\user\\Desktop\\testEndpoints\\CIMS-ResourceGrp\\deplo\ny.ps1:104 char:5\n+     New-AzureRmResourceGroupDeployment -ResourceGroupName $resourceGr ...\n+     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n    + CategoryInfo          : NotSpecified: (:) [New-AzureRmResourceGroupDeplo \n   yment], Exception\n    + FullyQualifiedErrorId : Microsoft.Azure.Commands.ResourceManager.Cmdlets \n   .Implementation.NewAzureResourceGroupDeploymentCmdlet\n</code></pre>\n\n<p>Please find below is the template file piece of code:</p>\n\n<pre><code>\"enableExpress\": false\n        },\n        \"dependsOn\": [\n            \"[resourceId('Microsoft.ServiceBus/namespaces', parameters('namespaces_CS_ServiceBus_name'))]\"\n        ]\n    },\n    {\n        \"comments\": \"Generalized from resource: '/subscriptions/7dshsjdh/resourcegroups/CS-ResourceGrp/providers/Microsoft.ServiceBus/namespaces/CS-ServiceBus/topics/cs-topic/authorizationRules/iothubroutes_Cs-IOTHUB'.\",\n        \"type\": \"Microsoft.ServiceBus/namespaces/topics/authorizationRules\",\n        \"name\": \"[parameters('authorizationRules_iothubroutes_CS_IOTHUB_name')]\",\n        \"apiVersion\": \"2015-08-01\",\n        \"location\": \"East US\",\n        \"scale\": null,\n        \"properties\": {\n            \"rights\": [\n                \"Send\"\n            ]\n        },\n        \"dependsOn\": [\n            \"[resourceId('Microsoft.ServiceBus/namespaces', parameters('namespaces_CS_ServiceBus_name'))]\",\n            \"[resourceId('Microsoft.ServiceBus/namespaces/topics', parameters('topics_cs_topic_name'))]\"\n        ]\n</code></pre>\n"
    }, {
        "tags": ["python", "iot", "fiware"],
        "is_answered": false,
        "view_count": 83,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1523766736,
        "creation_date": 1523539220,
        "last_edit_date": 1523541458,
        "question_id": 49797699,
        "link": "https://stackoverflow.com/questions/49797699/fiware-figway-python-idas4-is-still-working",
        "title": "fiware-figway python IDAS4 is still working?",
        "body": "<p>I'm new to FIWARE and I have started learning FIWARE IOT capabilities by running this example: <a href=\"https://github.com/telefonicaid/fiware-figway\" rel=\"nofollow noreferrer\">https://github.com/telefonicaid/fiware-figway</a>. </p>\n\n<p>The  python <code>RegisterDevice.py</code> of python-IDAS4 does not work. I have followed all required steps: create the token, and fulfilled the <code>config.ini</code> with the required information, but I still get this error:</p>\n\n<blockquote>\n  <p>...\"requests.exceptions.ConnectionError: \n      HTTPConnectionPool(host='130.206.80.47', port=5371): Max retries exceeded \n      with url: /m2m/v2/services/OpenIoT/assets (Caused by \n      NewConnectionError(': Failed to establish a new connection: [Errno 10060] Se produjo \n      un error durante el intento de conexion ya que la parte conectada no \n      respondio adecuadamente tras un periodo de tiempo, o bien se produjo un \n      error en la conexion establecida ya que el host conectado no ha podido \n      responder',))\"</p>\n</blockquote>\n\n<p>As this example was written in 2015 maybe something has changed in FIWARE configuration, or maybe I'm missing something....</p>\n\n<p>I'm running python 2.7 in Windows 7. Thanks for any help. </p>\n"
    }, {
        "tags": ["google-cloud-platform", "jwt", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 184,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1523467974,
        "creation_date": 1523463362,
        "last_edit_date": 1523467758,
        "question_id": 49779991,
        "link": "https://stackoverflow.com/questions/49779991/error-generating-jwt-key-using-google-cloud-platform-mqtt",
        "title": "Error generating JWT key using Google Cloud Platform MQTT",
        "body": "<p>Using these instructions from Google Cloud Platform IOT Core website <a href=\"https://cloud.google.com/iot/docs/how-tos/credentials/jwts#iot-core-jwt-java\" rel=\"nofollow noreferrer\">https://cloud.google.com/iot/docs/how-tos/credentials/jwts#iot-core-jwt-java</a> run generates this error:</p>\n\n<blockquote>\n  <p>java.security.spec.InvalidKeySpecException: \n  java.security.InvalidKeyException: invalid key format</p>\n</blockquote>\n\n<p>The method used: </p>\n\n<pre><code>createJwtRsa(String projectId, String privateKeyFile)\n</code></pre>\n\n<p>The \"privateKeyFile\" parm is coded: to the file: rsa_private.pem like:</p>\n\n<pre><code>private static final String PRIVATE_KEY_FILE_PATH = \"/Volumes/Code/mqtt/nodejs-docs-samples/iot/mqtt_example/rsa_private.pem\";\n</code></pre>\n\n<p>The key was generated following these instructions:\n<a href=\"https://cloud.google.com/iot/docs/quickstart\" rel=\"nofollow noreferrer\">https://cloud.google.com/iot/docs/quickstart</a></p>\n\n<p>Any help to understand how to fix this error would be appreciated.</p>\n"
    }, {
        "tags": ["python-3.x", "amazon-web-services", "amazon-s3", "iot"],
        "is_answered": true,
        "view_count": 2200,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1523248820,
        "creation_date": 1523104931,
        "last_edit_date": 1523105122,
        "question_id": 49707489,
        "link": "https://stackoverflow.com/questions/49707489/how-to-upload-the-file-under-different-region-of-aws-s3-bucket-using-python",
        "title": "how to upload the file under different region of AWS-s3 bucket using python",
        "body": "<pre><code>import boto\nimport boto.s3\nimport sys\nfrom boto.s3.key import Key\n\nAWS_ACCESS_KEY_ID = 'XXXXXXXXXXXXXXXXX'\nAWS_SECRET_ACCESS_KEY = 'XXXXXXXXXXXXXXXXXXXXXXXXX'\nbucket_name=\"s3 bucket_name\"\nconn = boto.connect_s3(AWS_ACCESS_KEY_ID,AWS_SECRET_ACCESS_KEY)\n\nbucket=conn.get_bucket(bucket_name,validate=True,headers=None)s\n\ntestfile = \"file_path\"\nprint ('Uploading %s to Amazon S3 bucket %s' % (testfile, bucket_name))\n\ndef percent_cb(complete, total):\n    sys.stdout.write('.')\n    sys.stdout.flush()\n\nk = Key(bucket)\nk.key = 'mytestfile.csv'\nk.set_contents_from_filename(testfile,\n    cb=percent_cb, num_cb=10)\n</code></pre>\n\n<ul>\n<li>this is the program which i used to upload the <strong>.csv</strong> file in s3 bucket,its was working in expected manner if the region which i selected is <strong>US East (N. Virginia)</strong> but i need to upload the file under <strong>'US East (Ohio)'</strong> region. if i trying to do it i'm getting following exception  <strong>boto.exception.S3ResponseError: S3ResponseError: 400 Bad Request</strong>.if anyone having a solution for this,share with me.</li>\n</ul>\n"
    }, {
        "tags": ["amazon-web-services", "aws-sdk", "iot"],
        "is_answered": false,
        "view_count": 23,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1523009918,
        "creation_date": 1523009918,
        "question_id": 49690555,
        "link": "https://stackoverflow.com/questions/49690555/unable-to-connect-iot-development-kit-to-aws-cloud-services",
        "title": "Unable to connect IoT Development Kit to AWS cloud Services",
        "body": "<p>I have a marvell iot kit (mw302)which contains various sensors whose data needs to be uploaded on the AWS cloud. I have followed the steps given in this link <a href=\"https://github.com/DewMobility/IoT-Marvell/wiki\" rel=\"nofollow noreferrer\">https://github.com/DewMobility/IoT-Marvell/wiki</a>. A the last step instead of uploading data it gives me an error \"aws shadow connect failed : -3  \" . I have already tried 2 different flash files both gives the same error. Googling the error results to nothing. </p>\n"
    }, {
        "tags": ["c#", "post", "uwp", "iot"],
        "is_answered": true,
        "view_count": 617,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1522274101,
        "creation_date": 1518672110,
        "question_id": 48800401,
        "link": "https://stackoverflow.com/questions/48800401/how-to-send-a-post-in-uwp-c",
        "title": "How to send a POST in UWP c#",
        "body": "<p>I need to send a POST method but it says invalid JSON content, do somebody knows what im doing wrong in the JSON format \u00bf?, ill apreciate a lot.</p>\n\n<pre><code>Uri resourceAddress;\n        if (!Helpers.TryGetUri(pcHost + pcPort + \"/api/code/scan\", out resourceAddress))\n        {\n            rootPage.NotifyUser(\"Invalid URI.\", NotifyType.ErrorMessage);\n            return;\n        }\n        try\n        {\n            terminalRef = \"1\";\n            //code = \"Uc0E17G4nW\";\n            IHttpContent jsonContent = new HttpJsonContent(JsonValue.Parse(\"{\\\"code\\\":\\\"\" + code +\n                                                                            \",\\\"ref\\\" : \\\"\"+ terminalRef +\n                                                                            \"\\\"}\"));\n\n\n\n\n\n            HttpResponseMessage response = await httpClient.PostAsync(resourceAddress, jsonContent).AsTask(cts.Token);\n            Debug.WriteLine(\".\");\n            //await Helpers.DisplayTextResultAsync(response, cts.Token);\n            rootPage.NotifyUser(\"Completed\", NotifyType.StatusMessage);\n\n\n        }\n        catch (Exception ex)\n        {\n            rootPage.NotifyUser(\"Error: \" + ex.Message, NotifyType.ErrorMessage);\n            String errorMessage = ex.Message.ToString();\n        }\n</code></pre>\n"
    }, {
        "tags": ["raspberry-pi", "beagleboneblack", "gprs", "iot", "apn"],
        "is_answered": true,
        "view_count": 763,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1522101262,
        "creation_date": 1446934974,
        "question_id": 33588488,
        "link": "https://stackoverflow.com/questions/33588488/connect-beaglebone-black-to-internet-via-fona-and-a-sim-needing-apn-authenticati",
        "title": "Connect Beaglebone black to Internet via Fona and a Sim needing APN authentication",
        "body": "<p>I have a BBB, a Fona from Adafruit and a LycaMobile 3G Sim card and I wanted to connect BBB to internet using this 3G sim. I followed : <a href=\"https://learn.adafruit.com/fona-tethering-to-raspberry-pi-or-beaglebone-black\" rel=\"nofollow\">this tutorial from adafruit</a> to do so. </p>\n\n<p>But to connect to my APN I need to set username and password. SO I did this :</p>\n\n<p>in my <em>/etc/ppp/peers/fona</em> :<br>\nInstead of<br>\n<code>noauth</code><br>\nI put :<br>\n<code>auth\nuser lmfr\nname lycamobile</code>  </p>\n\n<p>and in my <em>/etc/ppp/chap-secrets</em> as well as in my <em>etc/ppp/pap-secrets</em> I put :  </p>\n\n<pre><code>\"lmfr\"    *    \"plus\"\n</code></pre>\n\n<p>But I have the following error when i do this : </p>\n\n<pre><code>sudo pon fona\n\n/usr/sbin/pppd: The remote system is required to authenticate itself\n/usr/sbin/pppd: but I couldn't find any suitable secret (password) for it to use to do so\n/usr/sbin/pppd: (None of the available passwords would let it use an IP address)\n</code></pre>\n\n<p>Does anyone knows how to fix this or another way to connect to Fona with APN authentication ? </p>\n"
    }, {
        "tags": ["c#", "iot", "systemmanagement"],
        "is_answered": true,
        "view_count": 187,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1521774464,
        "creation_date": 1521149963,
        "question_id": 49309685,
        "link": "https://stackoverflow.com/questions/49309685/shutdown-iot-device-from-code",
        "title": "Shutdown IoT device from code",
        "body": "<p>What I have is: VS 2017 Community, C#, Raspberry 3, IoT-Extension referenced.\nI want to shutdown the Raspberry from code.\nWhat I have found on the web everywhere is this:\nEdit the AppManifest. Add \n  ...IgnorableNamespaces=\"uap mp iot\">\n(- which already was there when I looked into it)\nThen add:</p>\n\n<p>   </p>\n\n<pre><code>&lt;iot:Capability Name=\"systemManagement\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>But: \"iot:Capability\" stays undercurled, saying, that it \"has invalid child element 'Capabilities' in namespace 'http:... appX/manifest/iot/win10'</p>\n\n<p>I had already 2 other capabilites selected</p>\n\n<pre><code>&lt;Capability Name=\"internetClient\" /&gt;\n&lt;Capability Name=\"privateNetworkClientServer\" /&gt;\n</code></pre>\n\n<p>Can they interfere?\nI could not find this error somewhere else on the whole web. Would be great if someone had an explanation for this. Thanks in advance!</p>\n"
    }, {
        "tags": ["iot", "alexa", "alexa-skills-kit", "smarthomeskill"],
        "is_answered": true,
        "view_count": 127,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1521508506,
        "creation_date": 1521396388,
        "last_edit_date": 1521501255,
        "question_id": 49351241,
        "link": "https://stackoverflow.com/questions/49351241/alexa-smart-home-skills-iot-alexa-playbackcontroller",
        "title": "Alexa Smart Home Skills IoT Alexa.PlaybackController",
        "body": "<p>I have an IoT device that needs to support various operations, one of which is <code>next</code> from the <code>Alexa.PlaybackController</code>. My device is a multimedia device and requires many of the other Controllers as well. I'm including the <code>Alexa.PlaybackController</code> in the discovery response for my devices like so:</p>\n\n<pre><code>{\n    \"type\": \"AlexaInterface\",\n    \"interface\": \"Alexa.PlaybackController\",\n    \"version\": \"3\",\n    \"supportedOperations\": [\"Next\"],\n}\n</code></pre>\n\n<p>I've also tried:</p>\n\n<pre><code>{\n    \"type\": \"AlexaInterface\",\n    \"interface\": \"Alexa.PlaybackController\",\n    \"version\": \"3\",\n    \"properties\": {\n        \"supported\": [\n            {\"name\": \"next\"}\n        ]\n    },\n}\n</code></pre>\n\n<p>but neither work. I get a schema error on CloudWatch:</p>\n\n<p><code>is not valid under any of the given schemas</code></p>\n\n<p>Looking below at the schema, I see that <code>PlaybackController</code> indeed is not included inside the schema. However, all of the documentation makes it seem like this should be trivial. I'm wondering if I need to include something else to indicate that playback is something that I need. </p>\n\n<p>Is <code>PlaybackController</code> special in some way and unable to be included in combination with other Controllers? I've tried googling about this schema error but it's too vague and nothing's coming up.</p>\n\n<p>Any help would be much appreciated!</p>\n\n<p>__</p>\n\n<p>EDIT:</p>\n\n<p>I see now that video devices seem to get a different set of available Controllers, but there is still reference to using <code>PlaybackController</code> in a lot of places around the regular Smart Home Skill for entertainment devices. Really hope that it's possible! </p>\n"
    }, {
        "tags": ["mqtt", "iot", "watson-iot"],
        "is_answered": false,
        "view_count": 815,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1518807145,
        "creation_date": 1518792096,
        "last_edit_date": 1518807145,
        "question_id": 48829107,
        "link": "https://stackoverflow.com/questions/48829107/how-to-connect-iot-device-to-ibm-watson-iot-platform-using-mqtt-server",
        "title": "How to connect IoT device to IBM Watson IoT Platform using MQTT server",
        "body": "<p>I have an IoT device that is set up and running via MQTT server with following parameters: hostname, port, clientId, username, password etc.</p>\n\n<p>How am I supposed to connect such device with Watson IoT platform when there is no field for such parameters? During device registration process at Watson IoT Platform, I could not find any of these parameters.</p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["python", "google-cloud-platform", "iot", "paho"],
        "is_answered": true,
        "view_count": 1356,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1518748674,
        "creation_date": 1518208399,
        "question_id": 48713679,
        "link": "https://stackoverflow.com/questions/48713679/google-cloud-iot-python-mqtt-out-of-memory-error",
        "title": "Google Cloud IoT Python MQTT &quot;out of memory&quot; error",
        "body": "<p>I'm seeing a hard to track down error with Google Cloud IoT. I have 2 projects set up with IoT API enabled. I'm using the same \"quickstart\" instructions to test, by setting up \"my-registry\" and \"my-device\". Let's call them projects A and B. I then run both the python and node examples pulled straight from git. The node example runs fine for both projects A and B, validated by pulling using gcloud. However, the python example works for project A, but with project b gets a \"on disconnect. 1. out of memory\" error. There is never a \"connection accepted\" message for B, but yes for A. \"Out of memory\" seems to be a generic error, not really the issue. It could represent a variety of issues in connectivity. Nothing on the server side Anyone encountered this one before? I appreciate any help in resolving or at least trace the eror.</p>\n"
    }, {
        "tags": ["python", "python-3.x", "firebase", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 364,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1518300279,
        "creation_date": 1518300279,
        "question_id": 48726044,
        "link": "https://stackoverflow.com/questions/48726044/pyrebase-raspberry-pi-python-error",
        "title": "Pyrebase Raspberry Pi Python Error",
        "body": "<p>I'm using this code for on/off led using raspberry pi 3 and firebase for raspberry pi 3 but getting error. I'm new on python. So what is this error means and how to solve this error?</p>\n\n<pre><code>#import Libraries\nimport RPi.GPIO as GPIO\nimport time\nimport pyrebase\n\n#Firebase Configuration\nconfig = {\n  \"apiKey\": \"xxxxx\",\n  \"authDomain\": \"xxxxx\",\n  \"databaseURL\": \"xxxxx\",\n  \"storageBucket\": \"xxxxx\"\n}\n\nfirebase = pyrebase.initialize_app(config)\n\n#GPIO Setup\nGPIO.setmode(GPIO.BCM)\nGPIO.setwarnings(False)\nGPIO.setup(18, GPIO.OUT)\n\n#Firebase Database Intialization\ndb = firebase.database()\n\n#While loop to run until user kills program\nwhile(True):\n    #Get value of LED \n    led = db.child(\"led\").get()\n\n    #Sort through children of LED(we only have one)\n    for user in led.each():\n        #Check value of child(which is 'state')\n        if(user.val() == \"OFF\"):\n            #If value is off, turn LED off\n            GPIO.output(18, False)\n        else:\n            #If value is not off(implies it's on), turn LED on\n            GPIO.output(18, True)\n\n        #0.1 Second Delay\n        time.sleep(0.1)   \n</code></pre>\n\n<p>The error is;</p>\n\n<pre><code>Traceback (most recent call last);\n File \"/home/pi/Desktop/led.py\", line 30, in &lt;module&gt;\n  for user in led.each():\nTypeError: 'NoneType' object is not iterable\n</code></pre>\n"
    }, {
        "tags": ["cloud", "protocols", "iot", "fiware", "lora"],
        "is_answered": false,
        "view_count": 407,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1517348807,
        "creation_date": 1517171859,
        "last_edit_date": 1517348807,
        "question_id": 48491033,
        "link": "https://stackoverflow.com/questions/48491033/sending-decrypted-lora-frame-payload-to-the-fiwares-json-mqtt-iot-agent",
        "title": "Sending decrypted LoRa Frame Payload to the Fiware&#39;s JSON/MQTT IOT agent",
        "body": "<p>I have a gateway which catches LoRa packets(decrypted with AES-128 and encoded as base64) and converts them to UDP.\nIn addition, i execute a service on my gateway (lora-gateway-bridge: <a href=\"https://github.com/brocaar/lora-gateway-bridge\" rel=\"nofollow noreferrer\">https://github.com/brocaar/lora-gateway-bridge</a>) which abstracts the UDP protocol and converts my packet to MQTT.\nOn cloud,the packets are published as they are to the mosquitto MQTT broker in JSON format which includes the gateway's metadata and the phypayload as key value pairs. \nI also run the Fiware's JSON/MQTT IOT agent service and the Context Broker.\nWhat should i do in order to send the measures from the mosquitto to the IOT agent in order to be compatible?\nFor example i want to make a post request to iotagent service to send the measure of the temperature and humidity....these are published until now to the mosquitto as </p>\n\n<pre><code>gateway/1dee18c14948a955/rx {\"rxInfo\":\n{\"mac\":\"1dee18c14948a955\",\"time\":\"0001-01-01T00:00:00Z\",\"timestamp\":38099540,\n\"frequency\":868500000,\"channel\":2,\"rfChain\":1,\"crcStatus\":1,\"codeRate\":\"4/5\",\n\"rssi\":-28,\"loRaSNR\":9,\"size\":20,\"dataRate\":{\"modulation\":\"LORA\",\"spreadFactor\":9,\n\"bandwidth\":125}},\"phyPayload\":\"gFY0EjoAAgABCCpbg+AkKM1gHnQ=\"}\n</code></pre>\n\n<p>Essentially i want to send to my IOT agent the decrypted frame payload that the phypayload includes,which is 006700ED016866 HEX.This means that the temperature is 00ED(HEX) and the humidity 66(HEX) according the cayenne low power payload format.\nThen i had to post to the IOT agent the temperature t:23,7 and the humidity h:54</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson"],
        "is_answered": true,
        "view_count": 314,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1516703595,
        "creation_date": 1516533775,
        "question_id": 48366228,
        "link": "https://stackoverflow.com/questions/48366228/trying-to-create-a-schema-in-ibm-watson-iot-gives-me-internal-error-why",
        "title": "Trying to create a schema in IBM Watson IoT gives me &#39;Internal Error&#39; - why..?",
        "body": "<p>I'm trying to follow this guide: <a href=\"https://console.bluemix.net/docs/services/IoT/GA_information_management/ga_im_index_scenario.html#scenario\" rel=\"nofollow noreferrer\">https://console.bluemix.net/docs/services/IoT/GA_information_management/ga_im_index_scenario.html#scenario</a></p>\n\n<p>But as soon as I hit \"Manage Schemas\" in the device type section I get an \"Internal Error\", saying I should contact the Admin... I'm not able to create schemas. What's going wrong?</p>\n\n<p>Thanks in advance!\nTom</p>\n"
    }, {
        "tags": ["webview", "uwp", "iot"],
        "is_answered": false,
        "view_count": 172,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1515549039,
        "creation_date": 1515537030,
        "question_id": 48177584,
        "link": "https://stackoverflow.com/questions/48177584/microsoft-uwp-using-an-in-web-view-on-windows-iot",
        "title": "Microsoft UWP using an &amp; in web view on windows IOT",
        "body": "<p>I am trying to use an &amp; in the middle of my HTML URL inside the source tags in the webview in UWP so i can run it on an IOT device. does anyone know how to do this without throwing an error in Visual Studios?</p>\n"
    }, {
        "tags": ["c#", "raspberry-pi", "iot"],
        "is_answered": true,
        "view_count": 101,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1513754375,
        "creation_date": 1513675560,
        "last_edit_date": 1513725643,
        "question_id": 47883709,
        "link": "https://stackoverflow.com/questions/47883709/windows-iot-app-add-parameter",
        "title": "Windows IOT app add parameter",
        "body": "<p>I am using IOT on a rpi3 to fire up a browser what I need to do is add a parameter so that I can run the same image with slightly modified behaviour instead of having to produce multiple images. I was wondering if it is possible to fire the app and pass a simple parameter\nSomething like - </p>\n\n<p>C:\\Data\\Users\\administrator\\Documents>IoTStartup add headed App[<em>parameter</em>]</p>\n\n<p>and then pick up the parameter in the c# application</p>\n"
    }, {
        "tags": ["iot", "yocto", "intel-edison", "ubuntu-13.04"],
        "is_answered": false,
        "view_count": 221,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1512626686,
        "creation_date": 1512575753,
        "question_id": 47678443,
        "link": "https://stackoverflow.com/questions/47678443/intel-edison-ubilinux-usb-to-uart-usb-device-not-created",
        "title": "Intel Edison + Ubilinux + USB to UART = USB Device not created",
        "body": "<p>Dear community members,</p>\n\n<p>We are working in the development of a robot autonomous control system running inside an Intel Edison, which -in turn- runs in a PixHawk automatic pilot module . This system uses ROS (Robot Operating System) and therefore we had to install Ubilinux. Our system requires being connected with a 360-degree laser (RPLIDAR-360) that sends data through a serial channel, so we are trying to get laser's data through USB-to-UART adapter (Silicon lab's CP2102) (the PixHawk only has a USB available for data transfer).</p>\n\n<p>In summary, the laser is connected to the USB2UART adapter, and the adapter is connected to Edison's serial port.</p>\n\n<p>However, we are stuck with some kind of driver issue. When tracing 'dmesg' the device is detected (idVendor=10c4, idProduct=ea60):</p>\n\n<pre><code>[  917.812195] usb usb2: Product: xHCI Host Controller\n[  917.812214] usb usb2: Manufacturer: Linux 3.10.17-yocto-standard-r2 dwc-xhci\n[  917.812232] usb usb2: SerialNumber: dwc3-host.2\n[  917.812858] xHCI xhci_add_endpoint called for root hub\n[  917.812878] xHCI xhci_check_bandwidth called for root hub\n[  917.813141] hub 2-0:1.0: USB hub found\n[  917.813185] hub 2-0:1.0: 1 port detected\n[  918.128982] usb 1-1: new full-speed USB device number 2 using dwc3-host\n[  918.151786] usb 1-1: New USB device found, idVendor=10c4, idProduct=ea60\n[  918.151818] usb 1-1: New USB device strings: Mfr=1, Product=2, SerialNumber=3\n[  918.151839] usb 1-1: Product: CP2102 USB to UART Bridge Controller\n[  918.151857] usb 1-1: Manufacturer: Silicon Labs\n[  918.151875] usb 1-1: SerialNumber: 0001\n</code></pre>\n\n<p>With the following details:</p>\n\n<pre><code>T:  Bus=01 Lev=01 Prnt=01 Port=00 Cnt=01 Dev#=  2 Spd=12   MxCh= 0\nD:  Ver= 1.10 Cls=00(&gt;ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs=  1\nP:  Vendor=10c4 ProdID=ea60 Rev= 1.00\nS:  Manufacturer=Silicon Labs\nS:  Product=CP2102 USB to UART Bridge Controller\nS:  SerialNumber=0001\nC:* #Ifs= 1 Cfg#= 1 Atr=80 MxPwr=100mA\nI:* If#= 0 Alt= 0 #EPs= 2 Cls=ff(vend.) Sub=00 Prot=00 Driver=(none)\nE:  Ad=81(I) Atr=02(Bulk) MxPS=  64 Ivl=0ms\nE:  Ad=01(O) Atr=02(Bulk) MxPS=  64 Ivl=0ms\n</code></pre>\n\n<p>But no /dev/ttyUSBX device is created, and there are no error messages about missing Drivers or configuration failures.</p>\n\n<p>We are using Ubilinux 3, which reports the following with the 'uname' command:</p>\n\n<pre><code> **  3.10.17-yocto-standard-r2\n</code></pre>\n\n<p>And the following is the listing of the installed drivers:</p>\n\n<pre><code>usb\n/lib/modules/3.10.17-yocto-standard-r2/kernel/drivers/media/usb:\n/lib/modules/3.10.17-yocto-standard-r2/kernel/drivers/media/usb/gspca:\n/lib/modules/3.10.17-yocto-standard-r2/kernel/drivers/media/usb/uvc:\n/lib/modules/3.10.17-yocto-standard-r2/kernel/drivers/usb:\n/lib/modules/3.10.17-yocto-standard-r2/kernel/drivers/usb/gadget:\nusb_f_acm.ko\n/lib/modules/3.10.17-yocto-standard-r2/kernel/drivers/usb/serial:\nusb_wwan.ko\n</code></pre>\n\n<p>Does anyone has had a similar configuration and managed to make work a CP2102 adapter?</p>\n\n<p>As a last resort, we are trying to compile and install the driver by ourselves, using this reference: [url=<a href=\"https://askubuntu.com/questions/941594/installing-cp210x-driver]Installing\">https://askubuntu.com/questions/941594/installing-cp210x-driver]Installing</a> CP210x Driver?Installing CP210x Driver? - Ask Ubuntu[/url]</p>\n\n<p>The 'make' process crashes due to a lack of headers. We were unable to download the headers through APT, but at the end, we managed to compile the '.ko' module by downloading the headers manually from a Website.</p>\n\n<p>However, after doing:</p>\n\n<pre><code>insmod cp210x.ko\n</code></pre>\n\n<p>We got:</p>\n\n<pre><code>Insmod: ERROR: could not insert module cp210x.ko: Invalid module format\n</code></pre>\n\n<p>So, at this point we have several questions... any advice about any of them would be really appreciated:</p>\n\n<ol>\n<li>Does anybody know how to install the Kernel headers in Ubilinux - 3.10.17?</li>\n<li>What is the official procedure to upgrade the Kernel in Ubilinux?, we already have ROS working on the board... do you think a kernel upgrade could mess our ROS configuration?</li>\n<li>In general, do you have any successful experience in the configuration of a cp210x device?</li>\n</ol>\n\n<p>Thanks in advance,</p>\n\n<p>H\u00e9ctor</p>\n"
    }, {
        "tags": ["android", "raspberry-pi", "iot", "android-things"],
        "is_answered": false,
        "view_count": 490,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1507402912,
        "creation_date": 1503962706,
        "question_id": 45928619,
        "link": "https://stackoverflow.com/questions/45928619/how-to-rotate-hdmi-display-in-android-things-0-5-1",
        "title": "How to rotate hdmi display in Android things 0.5.1?",
        "body": "<p>I have Android Things 0.5.1 installed in a Raspberry Pi 3 and connected to a HDMI monitor. But I want to use the monitor in portrait mode, although nothing seems to work. Ive tried with lcd_rotation, and display_rotation, even setting the resolution manually. Any ideas?</p>\n"
    }, {
        "tags": ["security", "iot"],
        "is_answered": false,
        "view_count": 125,
        "favorite_count": 0,
        "score": -5,
        "last_activity_date": 1507316544,
        "creation_date": 1507283743,
        "last_edit_date": 1507291740,
        "question_id": 46603080,
        "link": "https://stackoverflow.com/questions/46603080/why-iot-devices-oftently-have-a-poor-security-implementation",
        "title": "Why IoT devices oftently have a poor security implementation?",
        "body": "<p>I recently gain interest in both IoT and cybersecurity. I was amazed that the designers of these devices, which can vary in function and prices, almost always poorly implement security. here are a few article and videos related to these subject :</p>\n\n<p>An alarm with no mecanism against bruteforce :\n<a href=\"https://www.pentestpartners.com/security-blog/hack-demo-video/disabling-wireless-alarms-issue-3-pin-brute-force/\" rel=\"nofollow noreferrer\">https://www.pentestpartners.com/security-blog/hack-demo-video/disabling-wireless-alarms-issue-3-pin-brute-force/</a></p>\n\n<p>Smart sex toys being hacked :\n<a href=\"https://www.pentestpartners.com/security-blog/screwdriving-locating-and-exploiting-smart-adult-toys/\" rel=\"nofollow noreferrer\">https://www.pentestpartners.com/security-blog/screwdriving-locating-and-exploiting-smart-adult-toys/</a></p>\n\n<p>(I am new to StackOverflow, so I can't post more than 2 links, but there are many more exemples, I'll try to post the in the comment section)</p>\n\n<p>There is several exemples of bad practices regarding the security of this kind of devices. So my question is the following :</p>\n\n<p><strong>Why is the security so often neglected in this field ? Is because of a lack a skill in the domain ? Is it because of laziness ?</strong></p>\n"
    }, {
        "tags": ["curl", "sensors", "iot", "pipeline"],
        "is_answered": false,
        "view_count": 2023,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1505977766,
        "creation_date": 1505923188,
        "last_edit_date": 1505934410,
        "question_id": 46326784,
        "link": "https://stackoverflow.com/questions/46326784/how-do-i-pipe-the-output-of-a-tool-to-curl-x-post",
        "title": "How do I pipe the output of a tool to curl -X POST?",
        "body": "<p>I want to constantly send the outputs of the program <code>./airsensor -v</code> to Ubidots platform using their <code>curl -X POST</code> command on my Raspberry Pi.</p>\n\n<hr>\n\n<p>Sending <code>entropy_avail</code> number works.</p>\n\n<p>Everytime I issue the following command, I get feedback in terminal and the values appear in Ubidots:</p>\n\n<p><code>cat /proc/sys/kernel/random/entropy_avail | curl -X POST --data-urlencode value@- https://things.ubidots.com/api/v1.6/variables/[VARIABLE-ID]/values/?token=[TOKEN-ID]</code></p>\n\n<hr>\n\n<h2>Airsensor constantly (every ~ 15sec.) outputs a number:</h2>\n\n<pre><code>./airsensor -v\n450\n453\n452\n457\n</code></pre>\n\n<hr>\n\n<p>... now if I use the following command, it won't work. As it gives no feedback at the terminal at all. And also no values recieved at Ubidots.</p>\n\n<p><code>./airsensor -v | curl -X POST --data-urlencode value@- https://things.ubidots.com/api/v1.6/variables/[VARIABLE-ID]/values/?token=[TOKEN-ID]</code></p>\n\n<hr>\n\n<p>Resources:</p>\n\n<p><a href=\"https://ubidots.com/docs/#send-one-value-to-ubidots\" rel=\"nofollow noreferrer\">https://ubidots.com/docs/#send-one-value-to-ubidots</a></p>\n\n<p><a href=\"https://github.com/tuxedo0801/usb-sensors-linux/blob/master/airsensor/airsensor.c\" rel=\"nofollow noreferrer\">https://github.com/tuxedo0801/usb-sensors-linux/blob/master/airsensor/airsensor.c</a></p>\n\n<p><a href=\"https://github.com/tuxedo0801/usb-sensors-linux\" rel=\"nofollow noreferrer\">https://github.com/tuxedo0801/usb-sensors-linux</a></p>\n"
    }, {
        "tags": ["arduino", "iot", "arduino-yun"],
        "is_answered": false,
        "view_count": 941,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1505501505,
        "creation_date": 1469109138,
        "last_edit_date": 1469121252,
        "question_id": 38506166,
        "link": "https://stackoverflow.com/questions/38506166/arduino-yun-rest-api-http-post",
        "title": "Arduino YUN Rest Api HTTP Post",
        "body": "<p>I use <code>Arduino YUN</code> for <code>IoT</code> project. </p>\n\n<p>I have a web service which requires headers and bodies, and I want to post data from <code>arduino</code>.</p>\n\n<p>Default <code>HttpClient</code> library supports put, get and delete methods but doesn't support post method.</p>\n\n<p>Any suggestion would be great. Thanks.</p>\n"
    }, {
        "tags": ["wso2", "iot", "broker"],
        "is_answered": false,
        "view_count": 519,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1505456840,
        "creation_date": 1505374789,
        "last_edit_date": 1505456840,
        "question_id": 46213230,
        "link": "https://stackoverflow.com/questions/46213230/wso2-iot-broker-error-403-forbidden-on-carbon",
        "title": "WSO2 IoT (Broker) Error 403 - Forbidden on Carbon",
        "body": "<p>I Installed IoT Server 3.1.0 and I launched the change-ip.sh script to change the hostname (iot.wso2.com) and create a new wildcard certificate <code>*.wso2.com</code>.</p>\n\n<p>Carbon access in IoT-Core (hostname \"iot.wso2.com\") and IoT-Analytics (hostname \"iot-das.wso2.com\") is OK, but when I try to access the IoT Broker Carbon Interface (hostname iot-mb.wso2.com) I have:</p>\n\n<blockquote>\n  <p>Error 403 - Forbidden</p>\n</blockquote>\n\n<p>No error messages on <code>wso2carbon.log</code>, also with all DEBUG switch on.</p>\n"
    }, {
        "tags": ["azure", "post", "arduino", "iot", "azure-mobile-services"],
        "is_answered": true,
        "view_count": 641,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1503466710,
        "creation_date": 1461576291,
        "last_edit_date": 1461647350,
        "question_id": 36836566,
        "link": "https://stackoverflow.com/questions/36836566/post-for-azure-mobile-web-app-working-from-arduino",
        "title": "POST for Azure Mobile/Web App (working from Arduino)",
        "body": "<p>I want to find samples of how to work with Mobile/Web App by sending POST.<br>\nPreviously in Mobile Services it was possible to send POST like this:</p>\n\n<pre><code>POST /tables/table_name HTTP/1.1\nHost: http://arduinounoserver.azure-mobile.net/\nX-ZUMO-APPLICATION: YaRWxxxxzKGRxxxxLPiNxxxxXYOvxxxx\n{\"value\": 234}\n</code></pre>\n\n<p>But now authentication was absolutely changed.<br>\nHow to do it now and is it possible to find somewhere POST samples?</p>\n\n<p>Have found only <a href=\"https://msdn.microsoft.com/en-us/library/azure/dd179423.aspx\" rel=\"nofollow\">Table Service REST API</a> but it's still not clear for me</p>\n"
    }, {
        "tags": ["java", "wso2", "iot", "wso2iot"],
        "is_answered": false,
        "view_count": 121,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1502869522,
        "creation_date": 1502122117,
        "question_id": 45551318,
        "link": "https://stackoverflow.com/questions/45551318/wso2-iot-can-not-run-iot-analytics-server",
        "title": "WSO2 IoT Can not run IoT Analytics server",
        "body": "<p>Windows 10<br>\nJDK version 8.0.45  </p>\n\n<p>I downloaded and installed the WSO2 IoT 3.0.0.</p>\n\n<p>I followed steps here to run servers:<br>\ndocs.wso2.com/display/IoTS300/Running+the+Product#995f288dd90d4800a671282c23a2cb68</p>\n\n<p>(installed plugins ok)<br>\nrun <a href=\"https://i.stack.imgur.com/P9jhL.png\" rel=\"nofollow noreferrer\">broker ok</a><br>\nrun <a href=\"https://i.stack.imgur.com/6mRcY.png\" rel=\"nofollow noreferrer\">core ok</a><br>\nrun <strong>analytics error</strong>:</p>\n\n<p><code>JAVA_HOME environment variable is set to c:\\Program Files\\Java\\jdk1.8.0_45\nCARBON_HOME environment variable is set to C:\\Softver\\WSO2\\WSO2IO~1.0\\ANALYT~1\\bin\\..\nLoading spark environment variables\nJava HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\n[2017-08-02 14:28:33,171] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Starting WSO2 Carbon...\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Operating System : Windows 8.1 6.3, amd64\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Home        : c:\\Program Files\\Java\\jdk1.8.0_45\\jre\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Version     : 1.8.0_45\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java VM          : Java HotSpot(TM) 64-Bit Server VM 25.45-b02,Oracle Corporation\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Carbon Home      : C:\\Softver\\WSO2\\WSO2IO~1.0\\ANALYT~1\\bin\\..\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  Java Temp Dir    : C:\\Softver\\WSO2\\WSO2IO~1.0\\ANALYT~1\\bin\\..\\tmp\n[2017-08-02 14:28:33,187] [IoT-Analytics]  INFO {org.wso2.carbon.core.internal.CarbonCoreActivator} -  User             : karjam, en-US, Europe/Prague\n[2017-08-02 14:28:33,343] [IoT-Analytics]  WARN {org.wso2.carbon.core.bootup.validator.util.ValidationResultPrinter} -  The running OS : Windows 8.1 is not a tested Operating System for running WSO2 Carbon\n[2017-08-02 14:28:33,343] [IoT-Analytics]  WARN {org.wso2.carbon.core.bootup.validator.util.ValidationResultPrinter} -  Carbon is configured to use the default keystore (wso2carbon.jks). To maximize security when deploying to a production environment, configure a new keystore with a unique password in the production server profile.</code></p>\n\n<p>End of log:</p>\n\n<p><code>[2017-08-02 14:29:31,437] [IoT-Analytics]  INFO {org.wso2.carbon.analytics.eventsink.AnalyticsEventStoreDeployer} -  Deployed successfully analytics event store: org_wso2_iot_devices_wordcount.xml\n[2017-08-02 14:29:34,234] [IoT-Analytics] ERROR {org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener} -  MQTT Exception occurred when starting listener\nMqttException (128)\n        at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:327)\n        at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:295)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.startListener(MQTTAdapterListener.java:201)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.run(MQTTAdapterListener.java:269)\n        at java.lang.Thread.run(Thread.java:745)\n[2017-08-02 14:29:36,906] [IoT-Analytics] ERROR {org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener} -  MQTT Exception occurred when starting listener\nMqttException (128)\n        at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:327)\n        at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:295)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.startListener(MQTTAdapterListener.java:201)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.run(MQTTAdapterListener.java:269)\n        at java.lang.Thread.run(Thread.java:745)\n[2017-08-02 14:29:37,890] [IoT-Analytics] ERROR {org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener} -  MQTT Exception occurred when starting listener\nMqttException (128)\n        at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:327)\n        at org.eclipse.paho.client.mqttv3.MqttClient.subscribe(MqttClient.java:295)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.startListener(MQTTAdapterListener.java:201)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.run(MQTTAdapterListener.java:269)\n        at java.lang.Thread.run(Thread.java:745)\n[2017-08-02 14:29:39,805] [IoT-Analytics]  INFO {org.wso2.carbon.event.processor.manager.core.internal.CarbonEventManagementService} -  Starting polling event receivers\n[2017-08-02 14:29:50,399] [IoT-Analytics] ERROR {org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener} -  MQTT Exception occurred when starting listener\nClient is connected (32100)\n        at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:31)\n        at org.eclipse.paho.client.mqttv3.MqttAsyncClient.connect(MqttAsyncClient.java:465)\n        at org.eclipse.paho.client.mqttv3.MqttClient.connect(MqttClient.java:238)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.startListener(MQTTAdapterListener.java:200)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.run(MQTTAdapterListener.java:269)\n        at java.lang.Thread.run(Thread.java:745)\n[2017-08-02 14:29:53,118] [IoT-Analytics] ERROR {org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener} -  MQTT Exception occurred when starting listener\nClient is connected (32100)\n        at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:31)\n        at org.eclipse.paho.client.mqttv3.MqttAsyncClient.connect(MqttAsyncClient.java:465)\n        at org.eclipse.paho.client.mqttv3.MqttClient.connect(MqttClient.java:238)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.startListener(MQTTAdapterListener.java:200)\n        at org.wso2.carbon.device.mgt.input.adapter.mqtt.util.MQTTAdapterListener.run(MQTTAdapterListener.java:269)\n        at java.lang.Thread.run(Thread.java:745)</code></p>\n\n<p>Any ideas? First time problem like this with WSO2 product (already used esb, dss, ..).</p>\n"
    }, {
        "tags": ["authentication", "oauth", "wso2", "iot", "wso2iot"],
        "is_answered": false,
        "view_count": 226,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1502867285,
        "creation_date": 1496140322,
        "last_edit_date": 1496141772,
        "question_id": 44259802,
        "link": "https://stackoverflow.com/questions/44259802/wso2-iot-server-with-mysql",
        "title": "WSO2 IOT Server With Mysql",
        "body": "<p>I have configured all the datasources and created the required tables too. But I am not able to access to the devicemgt. While accessing the devicemgt I just keep getting below errors</p>\n\n<pre><code>[2017-05-30 15:58:29,300] [IoT-Core]  INFO - OAuthServerConfiguration The default OAuth token issuer will be used. No custom token generator is set.\n[2017-05-30 15:58:29,301] [IoT-Core]  INFO - OAuthServerConfiguration The default Identity OAuth token issuer will be used. No custom token generator is set.\n[2017-05-30 15:58:30,414] [IoT-Core]  INFO - DefaultKeyValidationHandler org.wso2.carbon.apimgt.keymgt.handlers.DefaultKeyValidationHandler Initialised\n[2017-05-30 15:58:30,415] [IoT-Core]  INFO - APIKeyValidationService Initialised KeyValidationHandler instance successfully\n[2017-05-30 15:58:30,437] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:30,683] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:30,799] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:30,928] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:31,026] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:33,648] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:33,836] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:38,764] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:38,769] [IoT-Core] ERROR - js Unable to fetch device types data\n[2017-05-30 15:58:38,772] [IoT-Core] ERROR - handlebars-module An exception thrown when executing the script '/app/units/cdmf.unit.device.types.listing/listing.js'.\n[2017-05-30 15:58:38,772] [IoT-Core] ERROR - dynamic-files-renderer Unable to fetch device types!\n[2017-05-30 15:58:40,611] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n[2017-05-30 15:58:40,702] [IoT-Core]  WARN - APIAuthenticationHandler API authentication failure due to Unclassified Authentication Failure\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DHYOC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DHYOC.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/mwLso.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mwLso.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please any one help me on this, I have been working on this for about a week.</p>\n"
    }, {
        "tags": ["android", "ibm-cloud", "iot", "cloudant", "nosql"],
        "is_answered": true,
        "view_count": 73,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1502174414,
        "creation_date": 1480513231,
        "last_edit_date": 1506103282,
        "question_id": 40889889,
        "link": "https://stackoverflow.com/questions/40889889/not-able-to-read-sensor-data-from-cloudant-nosql-db-using-the-sync-android-libra",
        "title": "Not able to read sensor data from Cloudant NoSQL db using the sync-android library",
        "body": "<p>I'm not able fetch sensor data uploaded to a Cloudant NoSQL DB through the IoT Platform using the sync-android library for some reason. </p>\n\n<p>Please find the code, the error message and the line where the error is occurring below:</p>\n\n<pre><code>try {\n    uri = new URI(\"https://user:password@somehost.cloudant.com/database\");\n} catch (URISyntaxException e) {\n    e.printStackTrace();\n}\ntry {\n    ds = manager.openDatastore(\"my_datastores\");\n} catch (DatastoreNotCreatedException e) {\n\n            }\nReplicator replicator = ReplicatorBuilder.pull().from(uri).to(ds).build();\nLog.e(\"aaaaa\",String.valueOf(replicator));\nCountDownLatch latch = new CountDownLatch(1);\nListener listener = new Listener(latch);\nToast.makeText(MainActivity.this,String.valueOf(listener),Toast.LENGTH_LONG).show();\nreplicator.getEventBus().register(listener);\nreplicator.start();\ntry {\n    latch.await();\n} catch (InterruptedException e) {\n    e.printStackTrace();\n}\nreplicator.getEventBus().unregister(listener);\nif (replicator.getState() != Replicator.State.COMPLETE) {\n    System.out.println(\"Error replicating FROM remote\");\n    System.out.println(listener.error);\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'com.cloudant.sync.datastore.Datastore com.cloudant.sync.datastore.DatastoreManager.openDatastore(java.lang.String)' on a null object reference\n                                                                                      at com.example.imb_bng_04.cloudserver.MainActivity.onCreate(MainActivity.java:42)\n</code></pre>\n\n<p>error in line:\n   ds = manager.openDatastore(\"my_datastores\");</p>\n"
    }, {
        "tags": ["javascript", "node.js", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 14076,
        "favorite_count": 2,
        "score": 12,
        "last_activity_date": 1501774069,
        "creation_date": 1459924891,
        "last_edit_date": 1459928065,
        "question_id": 36443406,
        "link": "https://stackoverflow.com/questions/36443406/connecting-nodejs-and-cloud-mqtt",
        "title": "Connecting nodejs and cloud mqtt",
        "body": "<p>I am doing a project based on IOT. So I need to connect <code>cloudmqtt</code> and <code>nodejs</code> server.</p>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>// Create a MQTT Client\nvar mqtt = require('mqtt');\n\n// Create a client connection to CloudMQTT for live data\nvar client = mqtt.connect('xxxxxxxxxxx', {\n  username: 'xxxxx',\n  password: 'xxxxxxx' \n});\n\nclient.on('connect', function() { // When connected\n    console.log(\"Connected to CloudMQTT\");\n  // Subscribe to the temperature\n  client.subscribe('Motion', function() {\n    // When a message arrives, do something with it\n    client.on('message', function(topic, message, packet) {\n      // ** Need to pass message out **\n    });\n  });\n\n});\n</code></pre>\n\n<p>Then started my server. But nothing is happening(No error message and no warning).Please help me on this?</p>\n"
    }, {
        "tags": ["python", "json", "dictionary", "iot"],
        "is_answered": false,
        "view_count": 292,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1500829735,
        "creation_date": 1500807436,
        "last_edit_date": 1500829735,
        "question_id": 45264293,
        "link": "https://stackoverflow.com/questions/45264293/list-index-out-of-range-json-dict",
        "title": "list index out of range json dict",
        "body": "<p>im trying to get a varible from ubidots on omega2, this variable is a json dict and the values are 1 or 0 (its a switch). When a start the code remind me list index out of range error. (sorry for my english :( )<br>\nError:\nFile \"main.py\", line 23 in <strong>main</strong>\nif tapparellasu[0]['value']:\nIndexError: list index out of range</p>\n\n<p>The output of: print (tapparellasu) is []\nand the output of print TapparellaSu is the name of the Ubidots variable (and so the program can get the ubidots variable but i can read the value from the dict.)</p>\n\n<pre><code>import os\nimport json\nimport onionGpio\nimport time\nimport ubidots\nfrom ubidots import ApiClient\napi = ApiClient(token='wefwfwfwefwefwefwefrwgewrgerfgwef')\ngpio6 = onionGpio.OnionGpio(6)\ngpio7 = onionGpio.OnionGpio(7)\ntapparellasu = 0\nstatus = gpio6.setOutputDirection(0)\nstatus = gpio7.setOutputDirection(0)\n\n\ndef __main__():\n    TapparellaSu = api.get_variable('uywqegfuywefkwaeuiyfyuwefjukghwef')\n    tapparellasu = TapparellaSu.get_values(1)\n    if tapparellasu[0]['value']:\n        status = gpio6.setValue(1)\n    else:\n        status = gpio6.setValue(0)\n    print tapparellasu[0]['value']\n    time.sleep(1)\nif __name__ == '__main__':\n    __main__()\n</code></pre>\n"
    }, {
        "tags": ["iot", "nodemcu"],
        "is_answered": true,
        "view_count": 363,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1500606614,
        "creation_date": 1500606269,
        "question_id": 45228316,
        "link": "https://stackoverflow.com/questions/45228316/nodemcu-always-stating-connection-failed-always",
        "title": "NODEmcu Always stating connection failed always",
        "body": "<p>This is the code I have written for the node mcu</p>\n\n<pre><code>#include &lt;ESP8266WiFi.h&gt;\n\nconst char* host = \"*.*.*.*\";  \nString path = \"/cgi-bin/ts.py?field1=\";  \n\n\nconst char* ssid = \"my_ssid\";\nconst char* pass = \"********\";\n\nint sensor = A0;\n\nfloat tempc;\nfloat svoltage;\n\n\nvoid setup(void){\n  Serial.begin(115200);\n  Serial.println(\"\");\n\n  WiFi.begin(ssid, pass);\n  // Wait for connection\n  while (WiFi.status() != WL_CONNECTED) {\n    delay(100);\n    Serial.print(\".\");\n  }\n\n  Serial.println(\"\");\n  Serial.print(\"Connected to \");\n  Serial.println(ssid);\n  Serial.print(\"IP address: \");\n  Serial.println(WiFi.localIP());  \n}\n\n\nvoid loop() {\n\n  float xval = analogRead(sensor);\n\n\n  svoltage = (xval*3100.0)/1023;\n  tempc = svoltage/10;\n  Serial.println(tempc);\n\n\n\n  WiFiClient client;\n  const int httpPort = 8000;\n  if (client.connect(httpPort)) {\n    Serial.println(\"connection failed\");\n    return;\n  }\n\n  client.print(String(\"GET \") + path + String(tempc) + \" HTTP/1.1\\r\\n\" +\n               \"Host: \" + host + \"\\r\\n\" + \n               \"Connection: keep-alive\\r\\n\\r\\n\");\n  delay(10000);\n\n}\n</code></pre>\n\n<p>I have checked the syntax several time. I don't see any errors in my code. but it never connects to the network eventhough all the other devices can connect to the network. Take a look and tell me where I went wrong.\nThank you.</p>\n"
    }, {
        "tags": ["javascript", "amazon-web-services", "iot", "amazon-cognito"],
        "is_answered": true,
        "view_count": 859,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1500597809,
        "creation_date": 1490500586,
        "question_id": 43024822,
        "link": "https://stackoverflow.com/questions/43024822/aws-iot-websocket-connection-returns-a-403",
        "title": "AWS IoT websocket connection returns a 403",
        "body": "<p>I keep receiving a 403 when trying to connect via Websocket to AWS IoT. I have a Cognito federated pool setup, which connects fine and returns credentials. It's after that step when I update the websocket credentials that I start getting 403's.</p>\n\n<p>I've done the following steps:</p>\n\n<ol>\n<li>I've setup IoT and have a certificate and policy setup.</li>\n<li>I created a Cognito Federated Identity Pool that allows unauthenticated users.</li>\n<li>The unauthenticated role has full access to IoT (policy below)</li>\n</ol>\n\n<p>Here's the unauthenticated role policy:</p>\n\n<pre><code>{\n\"Version\": \"2012-10-17\",\n\"Statement\": [\n    {\n        \"Effect\": \"Allow\",\n        \"Action\": [\n            \"mobileanalytics:PutEvents\",\n            \"cognito-sync:*\",\n            \"iot:*\"\n        ],\n        \"Resource\": [\n            \"*\"\n        ]\n    }\n]\n}\n</code></pre>\n\n<p>Any ideas? Am I missing a step?</p>\n"
    }, {
        "tags": ["azure", "c#-4.0", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 65,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1497989052,
        "creation_date": 1497549421,
        "last_edit_date": 1497594151,
        "question_id": 44573973,
        "link": "https://stackoverflow.com/questions/44573973/create-azure-iot-hub-w-new-azurermiothub",
        "title": "Create Azure IOT Hub w/ New-AzureRmIotHub",
        "body": "<p>Attempting to write a PowerShell script to automate creation of an Azure IOT Hub resource. Using the function New-AzureRmIotHub to create the hub. All is well, except that I can't figure out how to define some of the more advanced settings. In particular, I want to define the Cloud2Device Partitions parameter. This setting is under the Monitoring settings within the Azure portal. I was thinking it can be set through 'Properties', but I can't find any doc for this.. Here is what I came up with, but it does not work...</p>\n\n<pre><code>$c2dprops = New-Object Microsoft.Azure.Commands.Management.IotHub.Models.PSCloudToDeviceProperties -Property @{Partions=32} \n$props = New-Object Microsoft.Azure.Commands.Management.IotHub.Models.PSIotHubInputProperties -Property @{CloudToDevice=$c2dprops} \n\n$IotHub = @{\n  ResourceGroupName = $resourcegroup;\n  Name = $hubname;\n  SkuName = $skuname;\n  Units = $units;\n  Location = $location;\n  Properties = $props;\n};\nNew-AzureRmIotHub @IotHub;\n</code></pre>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 213,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1496718732,
        "creation_date": 1496520042,
        "question_id": 44348071,
        "link": "https://stackoverflow.com/questions/44348071/azure-iot-exportdevicesasync-internal-server-error",
        "title": "Azure IOT ExportDevicesAsync internal server error",
        "body": "<p>Same problem as <a href=\"https://stackoverflow.com/questions/42651680/azure-iothub-exportdevicesasync-throws-internal-server-error/\">here</a>. I'm following the <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-bulk-identity-mgmt#export-devices\" rel=\"nofollow noreferrer\">simple sample to export the IOT</a> device list to blob storage but hitting an internal server error on ExportDevicesAsync. \nI'm using North Europe, but I don't think changing servers is really a valid fix.</p>\n\n<p>All I'm getting back is:</p>\n\n<pre><code>An exception of type 'Microsoft.Azure.Devices.Common.Exceptions.ServerErrorException' occurred in mscorlib.dll but was not handled in user code\n\nAdditional information: {\"Message\":\"ErrorCode:ServerError;InternalServerError\",\"ExceptionMessage\":\"Tracking ID:c51dad0227604f21b9af3e8acbd77f4c-G:5-TimeStamp:06/03/2017 19:56:10\"}\n</code></pre>\n\n<p>Sample Code (connection strings and keys masked)</p>\n\n<pre><code>internal async Task GetAllDevices()\n{\n\n    var ConnectionString =\n        \"HostName=xxxx.azure-devices.net;SharedAccessKeyName=xxxxowner;SharedAccessKey=xxxxLr3xxxxXKKILLxxxxx\";\n   registryManager = RegistryManager.CreateFromConnectionString(ConnectionString);\n\n    var key = \"https://xxxxotblob1.blob.core.windows.newt/?sv=2016-05-31&amp;ss=bfqt&amp;srt=sco&amp;sp=rwdlxxxxup&amp;se=2017-06-04T04:42:14Z&amp;st=2017-06-03T20:42:14Z&amp;spr=https&amp;sig=kxxxxxxxxxxxxxxx%3D\";\n\n    JobProperties exportJob = await registryManager.ExportDevicesAsync(key,\"device.txt\", false);\n\n    while (true)\n    {\n        exportJob = await registryManager.GetJobAsync(exportJob.JobId);\n        if (exportJob.Status == JobStatus.Completed ||\n            exportJob.Status == JobStatus.Failed ||\n            exportJob.Status == JobStatus.Cancelled)\n        {\n            break;\n        }\n\n        await Task.Delay(TimeSpan.FromSeconds(5));\n    }\n\n}\n</code></pre>\n\n<p>Am I doing something wrong here? Is there a way to catch the real exception I'm missing?</p>\n"
    }, {
        "tags": ["android", "wso2", "iot"],
        "is_answered": false,
        "view_count": 65,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1495590792,
        "creation_date": 1494416004,
        "question_id": 43891282,
        "link": "https://stackoverflow.com/questions/43891282/do-not-do-download-apk-in-enterprise-mode-of-wso2-iot-and-emm",
        "title": "do not do download apk in enterprise mode of WSO2 IOT and EMM",
        "body": "<p>I am implementing an IOT WSO2 and we are not able to download\nOf the apks that we put in it, already in public mode at the time of downloading, redirects\nFor Google play and we were able to download it.\nHas anyone caught this problem yet? Is this a WSO2 IOT Bug? Do you have any patches for correction?</p>\n"
    }, {
        "tags": ["iot", "fiware", "fiware-orion"],
        "is_answered": false,
        "view_count": 233,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1488452510,
        "creation_date": 1488368451,
        "last_edit_date": 1488452510,
        "question_id": 42530765,
        "link": "https://stackoverflow.com/questions/42530765/fiware-iot-stack-open-source-code",
        "title": "FIWARE IoT Stack open source code",
        "body": "<p>Is there a place where I can find the source code of Fiware IoT Stack? ( <a href=\"https://catalogue.fiware.org/iot_stack\" rel=\"nofollow noreferrer\">https://catalogue.fiware.org/iot_stack</a>) </p>\n"
    }, {
        "tags": ["python", "networking", "iot", "scapy"],
        "is_answered": true,
        "view_count": 890,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1486869918,
        "creation_date": 1472846017,
        "last_edit_date": 1486869918,
        "question_id": 39299825,
        "link": "https://stackoverflow.com/questions/39299825/scapy-not-picking-up-a-single-arp-request",
        "title": "Scapy not picking up a single ARP request",
        "body": "<p>I have the following running (finally after installing libnet etc) on my Mac trying to listen for a Dash button's MAC address:</p>\n\n<pre><code>from scapy.all import *\n\ndef arp_display(pkt):\n  if pkt[ARP].op == 1: #who-has (request)\n    if pkt[ARP].psrc == '0.0.0.0': # ARP Probe\n      print (\"ARP Probe from: \" + pkt[ARP].hwsrc)\n\nprint (sniff(prn=arp_display, filter=\"arp\", store=0, count=300))\n</code></pre>\n\n<p>However, this just runs indefinitely and nothing is picked up even after numerous presses on the Dash and many other devices connecting and disconnecting.</p>\n\n<p>I tried the following too</p>\n\n<pre><code>from scapy.all import *\n\nprint (sniff(filter=\"arp\",count=10).summary())\n</code></pre>\n\n<p>Which also yields no results. Nothing I find online tells me what might be causing this.</p>\n\n<p>Any ideas? Or even how I could debug?</p>\n"
    }, {
        "tags": ["ibm-cloud", "mqtt", "iot", "cloudant", "node-red"],
        "is_answered": true,
        "view_count": 303,
        "favorite_count": 1,
        "score": -1,
        "last_activity_date": 1485486291,
        "creation_date": 1485352175,
        "question_id": 41853321,
        "link": "https://stackoverflow.com/questions/41853321/inserting-multiple-key-value-pair-data-under-single-id-in-cloudant-db-at-variou",
        "title": "Inserting multiple key value pair data under single _id in cloudant db at various timings?",
        "body": "<p>My requirement is to get json pair from mqtt subscriber at different timings under single_id in cloudant,  but I'm facing error while trying to insert new json pair in existing _id,  it simply replace old one. I need at least 10 json pair under one _id. Injecting at different timings. </p>\n"
    }, {
        "tags": ["makefile", "ubuntu-14.04", "iot"],
        "is_answered": false,
        "view_count": 70,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1485247420,
        "creation_date": 1485154312,
        "last_edit_date": 1485247420,
        "question_id": 41800705,
        "link": "https://stackoverflow.com/questions/41800705/unable-to-recognize-the-global-variables-set-in-ubuntu",
        "title": "Unable to recognize the global variables set in Ubuntu",
        "body": "<p>I have been following the steps mentioned here <a href=\"http://weave.googlesource.com/weave/libiota/+/HEAD/docs/GETTING_STARTED.md\" rel=\"nofollow noreferrer\">Google Weave-Libiota</a> on Ubuntu. It's been successful until running test step. Later on, we need to write a header file defining the api_keys, Client_secret key and client_id and set its path to a Global Environment variable so that the program main.c uses API KEY file through header files and Global variable. But it's not recognizing.</p>\n\n<p>Errors to the command <code>make -C /host/examples/light</code> image:</p>\n\n<pre><code>wozartubuntu@wozartubuntu-iMac:~$ cd libiota/\n\nwozartubuntu@wozartubuntu-iMac:~/libiota$ sudo make -C examples/host/light/\n\n[sudo] password for wozartubuntu: \n\nmake: Entering directory '/home/wozartubuntu/libiota/examples/host/light'\ngcc  -Wall -Werror -Os -fno-builtin -ffunction-sections -fdata-sections -fstack-usage  -DIOTA_BUILD_TIME=1485236028 -DSUPPORTS_FLOATING_POINT_FORMAT -I/usr/local/include -std=gnu99  -MMD -I$IOTA_ROOT -I$IOTA_ROOT/include -DJSMN_PARENT_LINKS -DJSMN_SHORT_TOKENS -I$IOTA_ROOT/third_party/jsmn -c -o /home/wozartubuntu/libiota/out/host/examples/light/main.o /home/wozartubuntu/libiota/examples/host/light/main.c\nIn file included from /home/wozartubuntu/libiota/examples/host/light/main.c:22:0:\n/home/wozartubuntu/libiota/include/iota/oauth_keys.h:23:38: fatal error: IOTA_OAUTH2_KEYS_HEADER.h: No such file or directory\ncompilation terminated.\n../../../examples/host/common.mk:33: recipe for target '/home/wozartubuntu/libiota/out/host/examples/light/main.o' failed\nmake: *** [/home/wozartubuntu/libiota/out/host/examples/light/main.o] Error 1\nmake: Leaving directory '/home/wozartubuntu/libiota/examples/host/light'\nwozartubuntu@wozartubuntu-iMac:~/libiota$ \n</code></pre>\n\n<p>Program causing the error:</p>\n\n<pre><code>/* \n* Copyright 2016 Google Inc.\n\n *\n\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n\n * you may not use this file except in compliance with the License.\n\n * You may obtain a copy of the License at\n\n *\n\n *      http://www.apache.org/licenses/LICENSE-2.0\n\n *\n\n * Unless required by applicable law or agreed to in writing, software\n\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n\n * See the License for the specific language governing permissions and\n\n * limitations under the License.\n\n */\n\n\n#ifndef LIBIOTA_INCLUDE_IOTA_OAUTH_KEYS_H_\n#define LIBIOTA_INCLUDE_IOTA_OAUTH_KEYS_H_\n\n\n\n\n#include \"IOTA_OAUTH2_KEYS_HEADER\" \n\n\n\n\n#endif  // LIBIOTA_INCLUDE_IOTA_OAUTH_KEYS_H_\n</code></pre>\n\n<p>How to resolve these errors?</p>\n"
    }, {
        "tags": ["java", "mqtt", "iot", "paho"],
        "is_answered": true,
        "view_count": 172,
        "favorite_count": 0,
        "score": -6,
        "last_activity_date": 1484892365,
        "creation_date": 1484889910,
        "question_id": 41756668,
        "link": "https://stackoverflow.com/questions/41756668/why-an-instance-of-class-mqttclient-must-be-enclosed-by-try-catch",
        "title": "Why an instance of class MqttClient must be enclosed by try/catch?",
        "body": "<p>I'm trying to figure it out. I have this line of code:</p>\n\n<pre><code>MqttClient Client = new MqttClient(Broker, ClientId, Persistence);\n</code></pre>\n\n<p>But shows an <strong>\"Unhandled exception\"</strong> error. So I fixed it by enclosing it with a try/catch.</p>\n\n<pre><code> try {\n        MqttClient Client = new MqttClient(Broker, ClientId, Persistence);\n    } catch (MqttException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>It actually works but can't understand why the need of this. Thanks in advance.</p>\n"
    }, {
        "tags": ["iot", "kaa"],
        "is_answered": false,
        "view_count": 187,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1484147966,
        "creation_date": 1483956682,
        "question_id": 41545535,
        "link": "https://stackoverflow.com/questions/41545535/kaa-iot-credential-service",
        "title": "Kaa IOT Credential service",
        "body": "<p>How does the credential service work (Hope this is authentication in Kaa) ? How are the credentials passed from a simple kaa client program (in the context of custom credential service) ? How to use the custom credential service ?</p>\n"
    }, {
        "tags": ["java", "maven", "iot", "kaa"],
        "is_answered": true,
        "view_count": 151,
        "favorite_count": 0,
        "score": -3,
        "last_activity_date": 1479232849,
        "creation_date": 1478860052,
        "last_edit_date": 1479120930,
        "question_id": 40545985,
        "link": "https://stackoverflow.com/questions/40545985/cant-build-kaa-on-os-x",
        "title": "Can&#39;t build KAA on OS X",
        "body": "<p>After running mvn -f kaa/pom.xml clean install -DskipTests</p>\n\n<p>i got:\n<a href=\"http://res.cloudinary.com/faradey27/raw/upload/v1479120734/Projects_mvn_-f_kaa_2Fpom_ee84gg.txt\" rel=\"nofollow noreferrer\">Full log</a></p>\n\n<p>My environment:</p>\n\n<blockquote>\n  <p>kaa git:(master) mvn -v\n  Picked up JAVA_TOOL_OPTIONS: -Xmx4096m -XX:MaxPermSize=2048m -Xms4096m\n  Java HotSpot(TM) 64-Bit Server VM warning: ignoring option MaxPermSize=2048m; support was removed in 8.0\n  Apache Maven 3.3.9 (bb52d8502b132ec0a5a3f4c09453c07478323dc5; 2015-11-10T18:41:47+02:00)\n  Maven home: /usr/local/Cellar/maven/3.3.9/libexec\n  Java version: 1.8.0_101, vendor: Oracle Corporation\n  Java home: /Library/Java/JavaVirtualMachines/jdk1.8.0_101.jdk/Contents/Home/jre\n  Default locale: en_US, platform encoding: UTF-8\n  OS name: \"mac os x\", version: \"10.12.1\", arch: \"x86_64\", family: \"mac\"</p>\n</blockquote>\n\n<p><a href=\"http://res.cloudinary.com/faradey27/raw/upload/v1479120734/Projects_mvn_-f_kaa_2Fpom_ee84gg.txt\" rel=\"nofollow noreferrer\">Full log</a></p>\n"
    }, {
        "tags": ["javascript", "iot", "pm2", "node-red"],
        "is_answered": true,
        "view_count": 1741,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1478869328,
        "creation_date": 1452847223,
        "last_edit_date": 1478766049,
        "question_id": 34807135,
        "link": "https://stackoverflow.com/questions/34807135/node-red-pm2-setup",
        "title": "Node-Red Pm2 Setup",
        "body": "<p>I am trying to start my node-red on a raspberry pi 2 using pm2. I am using the startup command:</p>\n\n<pre><code>pm2 start /usr/bin/node-red-pi --node-args=\"--max-old-space-size=128\" -- -v\n</code></pre>\n\n<p>At first it seems to work:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1AOPh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1AOPh.png\" alt=\"NodeRed Startup pm2\"></a></p>\n\n<p>But unfortunatly then it errors:</p>\n\n<p><a href=\"https://i.stack.imgur.com/N97ym.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N97ym.png\" alt=\"NodeRed Error pm2\"></a></p>\n\n<p>Thats the log:</p>\n\n<pre><code>SyntaxError: Unexpected token ILLEGAL\nat exports.runInThisContext (vm.js:53:16)\nat Module._compile (module.js:373:25)\nat Object.Module._extensions..js (module.js:404:10)\nat Module.load (module.js:343:32)\nat Function.Module._load (module.js:300:12)\nat Function._load (/usr/local/lib/node_modules/pm2/node_modules/pmx/lib/transaction.js:62:21)\nat Object.&lt;anonymous&gt; (/usr/local/lib/node_modules/pm2/lib/ProcessContainerFork.js:28:21)\nat Module._compile (module.js:397:26)\nat Object.Module._extensions..js (module.js:404:10)\nat Module.load (module.js:343:32)\n</code></pre>\n"
    }, {
        "tags": ["ibm-cloud", "geospatial", "iot"],
        "is_answered": true,
        "view_count": 477,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1472226716,
        "creation_date": 1472121936,
        "last_edit_date": 1495540837,
        "question_id": 39143190,
        "link": "https://stackoverflow.com/questions/39143190/not-authorized-error-connecting-bluemix-geospatial-service-to-watson-iot-platfor",
        "title": "Not authorized error connecting Bluemix geospatial service to Watson IoT Platform",
        "body": "<p>I have deployed the Bluemix GeoSpatial starter application in Bluemix. </p>\n\n<p>It works fine until I want to connect to the Watson IoT Platform instead of the demo MQTT server.</p>\n\n<p>I changed <code>mqtt1.m2m4connectedlife.com</code> to <code>dzqml6.messaging.internetofthings.ibmcloud.com</code> and added <code>mqtt_uid</code> and <code>mqtt_pw</code> to the start parameters jsonObject.</p>\n\n<p>I created an API key in the Watson IoT Platform Dashboard and used these values for <code>mqtt_uid</code> and <code>mqtt_pw</code>.</p>\n\n<p>Then I get an \"Error: Connection refused: Not authorized\" in the log when starting the application.</p>\n\n<p>Then I also tried the apiKey and apiToken form the Watson IoT Platform environment variables for <code>mqtt_uid</code> and <code>mqtt_pw</code> but still got the same error.</p>\n\n<p>I also tried different values for clientid and notify/input topics but without success.</p>\n\n<p>I read a couple of other posts with similar errors that were resolved after some time because of a delay between when an organization is created and is distributed to all servers.</p>\n\n<p><a href=\"https://developer.ibm.com/answers/questions/163862/iot-cloud-error-not-authorized.html\" rel=\"nofollow noreferrer\">https://developer.ibm.com/answers/questions/163862/iot-cloud-error-not-authorized.html</a></p>\n\n<p>So I waited a day but still have the same error.</p>\n\n<p>I also added myself as a permanent member to the organization as suggested in this post: <a href=\"https://stackoverflow.com/questions/33309617/refused-not-authorized-error-occurs-with-ibm-iot-foundation-on-bluemix\">Refused: not authorized error occurs with IBM IoT Foundation on Bluemix</a></p>\n\n<p>I would be very gratefull for any assistance on this!</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 267,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1470299739,
        "creation_date": 1470292850,
        "last_edit_date": 1470299739,
        "question_id": 38760155,
        "link": "https://stackoverflow.com/questions/38760155/bluemix-websocketlistener-start-error-connecting-to-a-doppler-server",
        "title": "Bluemix WebsocketListener.Start: Error connecting to a doppler server",
        "body": "<p>Has anyone faced this issue with Bluemix? One of my Bluemix instances crashes repeatedly and the log file shows the following error. Seems to be an internal error within Bluemix environment, and I could not understand the reason for it.\n......</p>\n\n<blockquote>\n  <p>2016-08-04T12:02:07.617+0530[DEA/75]OUTStopped app instance (index 0) with guid 9b4ebc26-e5f9-4c61-a54e-f8c7437185a7\n  2016-08-04T12:02:17.783+0530[LGR/null]ERRWebsocketListener.Start: Error connecting to a doppler server\n  2016-08-04T12:02:17.799+0530[LGR/null]ERRproxy: error connecting to 158.85.134.172:8081: dial tcp 158.85.134.172:8081: getsockopt: connection refused\n  2016-08-04T12:02:17.899+0530[LGR/null]ERRproxy: error connecting to 158.85.134.172:8081: dial tcp 158.85.134.172:8081: getsockopt: connection refused</p>\n</blockquote>\n"
    }, {
        "tags": ["ssl", "iot", "ipsec"],
        "is_answered": true,
        "view_count": 829,
        "favorite_count": 2,
        "score": -2,
        "last_activity_date": 1469639077,
        "creation_date": 1469633618,
        "last_edit_date": 1469638820,
        "question_id": 38617443,
        "link": "https://stackoverflow.com/questions/38617443/tls-or-ipsec-with-aes-for-iot-security",
        "title": "TLS or IPSec with AES for IoT security",
        "body": "<p>We need to find a way to protect the data from the IoT devices to the cloud server. We use MQTT for the messaging.</p>\n\n<p>Since we use STM32 in our IoT devices, TLS seems not a viable solution as there is only very limited ROM(about 60K) on the STM32 board. </p>\n\n<p>And We use GPRS as the communication . It doesn't support TLS either.</p>\n\n<p>But as AES alone is not sufficient, I am thinking about using IPSec for the transport layer security. </p>\n\n<p>Can anyone provide any suggestion on the questions below?</p>\n\n<p>1.Is there a way to use TLS in the environment with limited ROM?</p>\n\n<p>2.Can IPSec be used in such IoT environment?</p>\n\n<p>3.Is IPSec + AES sufficient or any other security we need to consider?</p>\n"
    }, {
        "tags": ["c#", "windows", "iot", "datareader", "serial-communication"],
        "is_answered": false,
        "view_count": 357,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1468589320,
        "creation_date": 1468588951,
        "last_edit_date": 1468589320,
        "question_id": 38397257,
        "link": "https://stackoverflow.com/questions/38397257/reading-data-from-usb-raspberry-piheadless-mode",
        "title": "Reading data from usb raspberry pi(headless mode)",
        "body": "<p>I am trying read data from USB device using data reader object.\nThe code is </p>\n\n<pre><code>public async void Run(IBackgroundTaskInstance taskInstance)\n    {\n\n        deferral = taskInstance.GetDeferral();\n        await config();\n        await WriteAsync();\n        while(true)\n        await ReadAsync()\n        deferral.Complete();\n\n    }\nasync Task config()\n{\n  ....\n}\n async Task WriteAsync()\n{\n  ....\n}\n\n async Task ReadAsync()\n{\n  try\n        {\n\n            dataReaderObject = new DataReader(serialPort.InputStream);\n\n            var bytesRead = await dataReaderObject.LoadAsync(1);\n            if (bytesRead &gt; 0)\n            {\n\n                string a = dataReaderObject.ReadString(bytesRead).Trim();\n                byte[] pass_byte = Encoding.ASCII.GetBytes(a);\n                Debug.WriteLine(pass_byte[0]);\n\n\n            }\n        }\n        catch (Exception e)\n        {\n            Debug.WriteLine(\"exception in read async\", e);\n        }\n\n}\n</code></pre>\n\n<p>I was able to get data as intended but for a little amount of time after that, It throws an exception.\nIt shows exceptions like<code>arguments out of range exception and SEHE exception</code></p>\n"
    }, {
        "tags": ["protocols", "iot", "coap", "http-protocols"],
        "is_answered": false,
        "view_count": 36,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1468426383,
        "creation_date": 1468422049,
        "last_edit_date": 1468426383,
        "question_id": 38355309,
        "link": "https://stackoverflow.com/questions/38355309/does-a-description-file-exist-for-coap-services",
        "title": "Does a description file exist for coap services?",
        "body": "<p>Is there an equivalent of WADL or WSDL for COAP? APIs for Rest services like Restlet have functions like addQueryParameter for Request which can be used to make the request JSON after knowing the query or path parameters through the WADL. But COAP just gives and takes strings. So what delimiter is used to separate different parameters? Shouldn't a description file be giving information about this?  </p>\n"
    }, {
        "tags": ["c++", "curl", "libcurl", "iot"],
        "is_answered": true,
        "view_count": 525,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1467396015,
        "creation_date": 1467394706,
        "question_id": 38151154,
        "link": "https://stackoverflow.com/questions/38151154/posting-with-libcurl-in-c-write-callback-params-are-garbage",
        "title": "Posting with libcurl in C++, write callback params are garbage",
        "body": "<p>Developing on Win64 with Visual Studio 2013 Community, deploying to both Win64 and Linux with cross platform wxWidgets. I am trying to emulate the following curl.exe command line with C++ using libcurl: </p>\n\n<pre><code>curl.exe -X POST -g \"single-url-string\"\n</code></pre>\n\n<p>This is for an IoT feature of an app, where an end-user supplies the single-url-string to control their device. The reason this logic is not just executing curl.exe as an external process is because this logic runs in its own thread, and wxWidgets does not support launching external executables when outside the main thread. </p>\n\n<p>Normally when performing a POST with curl.exe, the post data is supplied as an option. This tells curl.exe the operation is a POST to the supplied url, and here is the data for that POST. As you can see, what I'm trying to do is a GET style url (with the parameters embedded in the url) but then changing the operation to a POST. It's done this way because research shows asking end-users to supply two separate url and data strings is simply too complex for them. So we came up with this easier single string end-users must supply, which is usually just copying a string from their device manual without having to interpret the string, much less break it into separate meaningful strings.</p>\n\n<p>So, the issue at hand is: I have my simple C++ libcurl POST routine in two versions, but in both versions the parameters received by the write callback are bad. The two versions are a POST with a single url string, and a POST with the post data provided as a separate option to the url string. </p>\n\n<p>The problems are 1) using the single string version does not execute a POST, and it's write callback params are bad; and 2) using the two string version does execute a POST, but the write callback params are bad, in a different way. </p>\n\n<p>The data pointer parameter in the write callback points to memory address 1 in both versions, the size parameter appears good in both versions, but the nmemb parameter is either a huge random value (single string version) or zero (two string POST version). </p>\n\n<p>Here's my code, and yes I call curl_global_init() at app start. </p>\n\n<pre><code>size_t CX_IOT_THREAD::curl_write_callback(char *ptr, size_t size, size_t nmemb, void *userdata)\n{\n  // storage for transferred data:\n  const int dataStoreSize = CURL_MAX_WRITE_SIZE + 1;\n  char dataStore[dataStoreSize];\n  memset(dataStore, 0, dataStoreSize); // zeroed out\n\n  size_t dataSize = size * nmemb; // bytes sent\n\n  if (dataSize)\n  {\n    memcpy(dataStore, ptr, dataSize); // copy into buffer sized so we'll have a terminating NULL char\n\n    wxString msg = wxString::Format(wxT(\"%s\"), dataStore); // send as event, eventually to the log\n    mp_queue-&gt;Report(CX_IOTTHR_CMD_ACCESS_JOB, msg);\n\n    // must return byte count processed for libcurl to be happy:\n    return dataSize; /**/\n  }\n\nreturn size; // should be dataSize, but because nmemb is bad, I\u2019m using size; it works. \n} \n\ncx_int CX_IOT_THREAD::Post(std::string&amp; url)\n{\n  if (url.length() == 0)\n     return -1;\n\n  char errBuf[CURL_ERROR_SIZE];\n  errBuf[0] = '\\0';\n  static const char *postthis = \"name=Bloke&amp;age=67\";\n\n  CURLcode ret;\n  CURL *hnd = curl_easy_init();\n  curl_easy_setopt(hnd, CURLOPT_URL, url.c_str());\n  curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, postthis);\n  curl_easy_setopt(hnd, CURLOPT_POSTFIELDSIZE, (long)strlen(postthis));\n  curl_easy_setopt(hnd, CURLOPT_ERRORBUFFER, errBuf);\n  curl_easy_setopt(hnd, CURLOPT_WRITEFUNCTION, &amp;CX_IOT_THREAD::curl_write_callback);\n  curl_easy_setopt(hnd, CURLOPT_WRITEDATA, NULL);\n  curl_easy_setopt(hnd, CURLOPT_NOPROGRESS, 1L);\n  curl_easy_setopt(hnd, CURLOPT_USERAGENT, \"curl/7.49.1\");\n  curl_easy_setopt(hnd, CURLOPT_MAXREDIRS, 50L);\n//  curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, \"POST\");\n  ret = curl_easy_perform(hnd);\n  curl_easy_cleanup(hnd);\n\n   if (ret != CURLE_OK)\n   {\n      wxString msg = wxString::Format(wxT(\"Attempted POST failed, libcurl return code '%d'.\"), (cx_int)ret);\n      mp_queue-&gt;Report(CX_IOTTHR_CMD_ACCESS_JOB, msg, (cx_int)ret);\n\n      cx_int len = strlen(errBuf);\n      if (len &gt; 0)\n         msg = wxString::Format(\"%s%s\", errBuf, ((errBuf[len - 1] != '\\n') ? \"\\n\" : \"\"));\n      else msg = wxString::Format(\"%s\\n\", curl_easy_strerror(ret));\n      mp_queue-&gt;Report(CX_IOTTHR_CMD_ACCESS_JOB, msg, (cx_int)ret);\n    }\n    return (cx_int)ret;\n}\n</code></pre>\n\n<p>Any ideas why the write callback parameters are bad? Any idea why the single string version does not even do a post? (The single string version is the above with the 2 POSTFIELDS options commented out and the CUSTOMREQUEST one enabled.)</p>\n"
    }, {
        "tags": ["algorithm", "iot"],
        "is_answered": true,
        "view_count": 337,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1467001610,
        "creation_date": 1466997610,
        "question_id": 38045408,
        "link": "https://stackoverflow.com/questions/38045408/resources-to-learn-how-to-design-algorithms-like-which-nest-thermostat-uses",
        "title": "Resources to learn how to design algorithms like which Nest Thermostat uses?",
        "body": "<p>I am trying to build some smart home devices by myself. And I am very interested in building IoT algorithms like Nest Thermostat does which is able to learn the characteristics of the house and the behavior of the family members.</p>\n\n<p>Though I have some machine learning basics, I barely know about thermal model which is all the researches and methods of Nest based on.</p>\n\n<p>So if I want do some study and create similar algorithms like Nest do by myself, how should I get started? Any suggested references?</p>\n"
    }, {
        "tags": ["wso2", "iot"],
        "is_answered": false,
        "view_count": 88,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1465860452,
        "creation_date": 1465273184,
        "last_edit_date": 1465273714,
        "question_id": 37670414,
        "link": "https://stackoverflow.com/questions/37670414/wso2-iots-http-status-500-cannot-call-method-getuipermissions-of-undefined",
        "title": "WSO2 IOTS: HTTP Status 500 - Cannot call method &quot;getUIPermissions&quot; of undefined",
        "body": "<p>when I trying to start <code>WSO2 IoTs Server</code> and go to <code>https://localhost:9443/devicemgt</code>, I'm getting the <code>error</code> </p>\n\n<blockquote>\n  <p>HTTP Status 500 - Cannot call method getUIPermissions of undefined.</p>\n</blockquote>\n\n<p>I'm using MySQL and run <code>WSO2 IoTs</code> alone on <code>localhost</code>.</p>\n\n<p><a href=\"http://pastebin.com/FuThFcNS\" rel=\"nofollow\">Carbon Logs here</a></p>\n"
    }, {
        "tags": ["wso2", "iot"],
        "is_answered": false,
        "view_count": 217,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1465829056,
        "creation_date": 1465375910,
        "last_edit_date": 1465438925,
        "question_id": 37697673,
        "link": "https://stackoverflow.com/questions/37697673/wso-iots-device-token-oauth",
        "title": "WSO IOTS: device token (OAuth)",
        "body": "<p>I have some question:</p>\n\n<ol>\n<li>How to refresh <code>device token</code> with only <code>refresh token</code> in <code>device agent</code>?</li>\n<li>How to find <code>device token</code> when token changed by device (use <code>refresh token</code>)?</li>\n<li>And can I use one token for many device?</li>\n</ol>\n"
    }, {
        "tags": ["wso2", "iot"],
        "is_answered": false,
        "view_count": 65,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1465265176,
        "creation_date": 1465261739,
        "last_edit_date": 1465265176,
        "question_id": 37669020,
        "link": "https://stackoverflow.com/questions/37669020/wso2-iots-store-device-data-to-rdms",
        "title": "WSO2 IOTS: Store device data to RDMS",
        "body": "<p>sorry for my bad English.</p>\n\n<p>I'm trying to store device data in RDMS. I've changed:</p>\n\n<pre><code>&lt;url&gt;jdbc:h2:repository/database/customdeviceDM_DB;DB_CLOSE_ON_EXIT=FALSE&lt;/url&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>&lt;url&gt;jdbc:mysql://localhost:3306/customdeviceDM_DB&lt;/url&gt;\n</code></pre>\n\n<p>and change user name, password, mysql driver installed too.\nbut it is not working. I tried to create table manually, but I can't create new device. Please help and thanks.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 47,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1463302660,
        "creation_date": 1462967809,
        "last_edit_date": 1463003669,
        "question_id": 37161959,
        "link": "https://stackoverflow.com/questions/37161959/mqtt-settings-not-getting-reflected-if-they-are-changed-after-deploying-the-code",
        "title": "MQTT settings not getting reflected if they are changed after deploying the code on Bluemix",
        "body": "<p>I created an app under IoT on Bluemix. I added a key and an auth token under the MQTT settings and then deployed the application. Now due to some reason I changed the access key, updated the key and token in the MQTT settings, and delivered the code. However, the new key isn't reflected in the VCAP_SERVICES variable. It still shows the old key and token values.</p>\n\n<p>Is this an expected behaviour or a bug?\nIs there a solution or workaround for this issue?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "ibm-mobile-services"],
        "is_answered": true,
        "view_count": 60,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1463088951,
        "creation_date": 1462947319,
        "last_edit_date": 1463088951,
        "question_id": 37154426,
        "link": "https://stackoverflow.com/questions/37154426/unable-to-start-bluemix-mobilefirst-services-starter-app",
        "title": "Unable to start Bluemix MobileFirst services starter app",
        "body": "<p>I have created a MobileFirst starter app on the Bluemix platform. I am using the default code generated on an app creation. On app start, <code>cf logs &lt;appname&gt;</code> shows </p>\n\n<blockquote>\n  <p>ERR Instance (index 0) failed to start accepting connections</p>\n</blockquote>\n\n<p>Is there any issue with the US-South region? \nWhat could be causing this issue?</p>\n"
    }, {
        "tags": ["iot"],
        "is_answered": true,
        "view_count": 92,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1460666712,
        "creation_date": 1460640518,
        "last_edit_date": 1460666712,
        "question_id": 36624631,
        "link": "https://stackoverflow.com/questions/36624631/restricting-results-of-expand-parameter-in-sensorthings-api",
        "title": "Restricting results of $expand parameter in SensorThings API",
        "body": "<p>I am attempting to truncate the results of an $expand parameter from SensorThingsAPI (<a href=\"https://en.wikipedia.org/wiki/SensorThings_API\" rel=\"nofollow\">https://en.wikipedia.org/wiki/SensorThings_API</a>) e.g.</p>\n\n<pre><code>http://example.org/v1.0/Things?$expand=Datastreams    \n</code></pre>\n\n<p>However, $top only restricts the trunk of the query (e.g. Things).  Is there a way to truncate the results of the 'leaves' of an $expand?</p>\n"
    }, {
        "tags": ["arduino", "iot", "esp8266"],
        "is_answered": false,
        "view_count": 2737,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1459433861,
        "creation_date": 1457677772,
        "question_id": 35933669,
        "link": "https://stackoverflow.com/questions/35933669/esp8266-wpa-enterprise-login-without-ca-certificate",
        "title": "ESP8266 : WPA ENTERPRISE LOGIN WITHOUT CA CERTIFICATE",
        "body": "<p>Thanks a lot for giving your time and reading this,</p>\n\n<p>I have gone though the WPA enterprise question posted in the ESP8266 forum and the related links, but it's not able to help me so I'm starting another topic.</p>\n\n<p>I am trying to connect my ESP to my office network.\nTo connect through mobile this is usually is the setting:</p>\n\n<ol>\n<li>SSID:PanLAN </li>\n<li>EAP methode : PEAP </li>\n<li>Phase 2 authentication: None </li>\n<li>Ca Certificate: None </li>\n<li>Identity: Asia-Pacific\\SLAIK </li>\n<li>password: Badonkadong</li>\n</ol>\n\n<p>I took the edurom.ino from joostd's github and tried to run it.\n<a href=\"https://github.com/genomics-admin/esp8266-eduroam/tree/master/Arduino\" rel=\"nofollow\">https://github.com/genomics-admin/esp8266-eduroam/tree/master/Arduino</a>\nI got the following error.</p>\n\n<pre><code>    error: 'wifi_station_set_username' was not declared in this scope\n\n   wifi_station_set_username(identity, sizeof(identity));\n\n                                                       ^\n\nESP8266_PEAPAuth:323: error: 'wifi_station_set_cert_key' was not declared in this scope\n\n   if( wifi_station_set_cert_key(testuser_cert_pem, testuser_cert_pem_len, testuser_key_pem, testuser_key_pem_len, NULL, 0) == 0 ) {\n\n                                                                                                                          ^\n\nESP8266_PEAPAuth:337: error: 'wifi_station_clear_cert_key' was not declared in this scope\n\n   wifi_station_clear_cert_key();\n\n                               ^\n\nESP8266_PEAPAuth:338: error: 'wifi_station_clear_username' was not declared in this scope\n\n   wifi_station_clear_username();\n\n                               ^\nexit status 1\n'wifi_station_set_username' was not declared in this scope.\n</code></pre>\n\n<p>I'm new to ESP/Arduino however to my eyes it looks like i'm missing the user_interface.h and c_type.h file.</p>\n\n<ol>\n<li>The github account don't have them, so where can I get\nthem from? </li>\n<li>I know user_interface.h is available on github\nfrom other projects, but can I use them? </li>\n<li>If yes, then\nwhere shall I put the user_interface.h after downloading? </li>\n<li>I found ctype.h in my computer @ \"C:\\Program Files\n(x86)\\Arduino\\hardware\\tools\\avr\\avr\\include\" is it the same as\nc_type.h mentioned in the code? can I rename and use ctype.h?</li>\n<li>Is there any other/better example available for me to\nfollow and get my ESP connected to the network?</li>\n</ol>\n"
    }, {
        "tags": ["windows", "powershell", "iot", "windows-10-iot-core", "raspberry-pi3"],
        "is_answered": true,
        "view_count": 729,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1458934135,
        "creation_date": 1458892573,
        "last_edit_date": 1495539909,
        "question_id": 36216127,
        "link": "https://stackoverflow.com/questions/36216127/im-trying-to-install-windows-10-iot-on-my-raspberry-pi-3-with-windows-powershell",
        "title": "im trying to install windows 10 IoT on my raspberry pi 3 with windows powershell",
        "body": "<p>so far in windows powershell ive inputed the command:\nnet start WinRM</p>\n\n<p>now when i try to use the command:\nSet-Item WSMan:\\localhost\\Client\\TrustedHosts -Value \"minwinpc\"</p>\n\n<p>i get the error message of:</p>\n\n<ul>\n<li>Set-Item : Access is denied.</li>\n<li><p>At line:1 char:9</p>\n\n<ul>\n<li><p>Set-Item &lt;&lt;&lt;&lt;  WSMan:\\localhost\\Client\\TrustedHosts -Value minwinpc</p></li>\n<li><p>CategoryInfo          : NotSpecified: (:) [Set-Item], InvalidOperationException</p></li>\n<li>FullyQualifiedErrorId : \nSystem.InvalidOperationException,Microsoft.PowerShell.Commands.SetItemCommand</li>\n</ul></li>\n</ul>\n\n<p>im sorry, ik others have posted simmilar issues such as\n<a href=\"https://stackoverflow.com/questions/30928902/why-doesnt-set-item-work-on-windows-7-powershell\">Why doesn&#39;t &quot;Set-Item&quot; work on Windows 7 PowerShell?</a></p>\n\n<p>but my error says: \"char:9\" not \"char:54\"</p>\n\n<p>i dont realy understand much coding, but im good at following instructions! please, i need some help and THANKS!</p>\n"
    }, {
        "tags": ["python", "ibm-cloud", "mqtt", "iot", "tls1.2"],
        "is_answered": false,
        "view_count": 349,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1458565486,
        "creation_date": 1458544831,
        "last_edit_date": 1458565486,
        "question_id": 36125148,
        "link": "https://stackoverflow.com/questions/36125148/bluemix-iotf-connection-error-python",
        "title": "Bluemix IoTF connection error - Python",
        "body": "<p>Friends,</p>\n\n<p>I have created a device in IBM Bluemix IoTF, generated authentication tokens and everything is set. I am trying to connect and send messages to this device using Python (ibm-iotf library) and the program has been created. But when I run the program, I am getting the following errors. Please help.</p>\n\n<pre><code>2016-03-21 11:04:15,786 ibmiotf.device.Client WARNING Unable to encrypt messages because TLSv1.2 is unavailable (MQTT over SSL requires at least Python v2.7.9 or 3.4 and openssl v1.0.1)\n\n[Errno 10054] An existing connection was forcibly closed by the remote host\n\n2016-03-21 11:04:16,446 ibmiotf.device.Client ERROR Unexpected disconnect from the IBM Internet of Things Foundation\n\n2016-03-21 11:04:16,446 ibmiotf.device.Client INFO Messages published : 0, life: 1s, rate: 1/0.00s\n\n2016-03-21 11:04:16,446 ibmiotf.device.Client INFO Messages received : 0, life: 1s, rate: 1/0.00s\n</code></pre>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 98,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1457729081,
        "creation_date": 1457640962,
        "last_edit_date": 1457729081,
        "question_id": 35926367,
        "link": "https://stackoverflow.com/questions/35926367/bluemix-iot-foundation-starter-app-error",
        "title": "Bluemix IoT Foundation Starter app error",
        "body": "<p>I'm following <a href=\"http://m2m.demos.ibm.com/iotstarter.html\" rel=\"nofollow\">http://m2m.demos.ibm.com/iotstarter.html</a>. An attempt to connect from an Android app results in the following error messages:</p>\n\n<pre><code>3-10 23:14:40.402 2486-2486/com.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.fragments.LoginPagerFragment: .handleActivate() entered\n03-10 23:14:40.402 2486-2486/com.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.iot.IoTClient: .getInstance() entered\n03-10 23:14:40.402 2486-2486/com.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.iot.IoTClient: .connectDevice() entered\n03-10 23:14:40.403 2486-2486/com.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.iot.IoTClient: .isMqttConnected() entered \n03-10 23:14:40.403 2486-2486/com.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.iot.IoTClient: .isMqttConnected() - \nreturning false 03-10 23:14:40.405 2486-2486/com.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.iot.IoTClient: Connecting to server: \ntcp://ffjnbk.messaging.internetofthings.ibmcloud.com:1883 03-10 \n23:14:40.603 2486-10945/com.ibm.iot.android.iotstarter D/AlarmPingSender: \nUnregister alarmreceiver to MqttServiced:ffjnbk:Android:CCC 03-10 23:14:40.611 2486-2486/\ncom.ibm.iot.android.iotstarter E/com.ibm.iot.android.iotstarter.utils.MyIoTActionListener: \n.onFailure() entered 03-10 23:14:40.611 2486-2486/com.ibm.iot.android.iotstarter E/\ncom.ibm.iot.android.iotstarter.utils.MyIoTActionListener: .handleConnectFailure() \nentered 03-10 23:14:40.611 2486-2486/com.ibm.iot.android.iotstarter E/\ncom.ibm.iot.android.iotstarter.utils.MyIoTActionListener: .handleConnectFailure() - \nFailed with exception 03-10 23:14:40.611 2486-2486/com.ibm.iot.android.iotstarter \nW/System.err: Not authorized to connect (5) 03-10 23:14:40.611 \n2486-2486/com.ibm.iot.android.iotstarter W/System.err:     \nat org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException\n(ExceptionHelper.java:24) 03-10 23:14:40.611 2486-2486/com.ibm.iot.android.iotstarter \nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.ClientState.notifyReceivedAck\n(ClientState.java:815) 03-10 23:14:40.611 2486-2486/com.ibm.iot.android.iotstarter \nW/System.err:     at org.eclipse.paho.client.mqttv3.internal.CommsReceiver.run\n(CommsReceiver.java:114) 03-10 23:14:40.611 2486-2486/com.ibm.iot.android.iotstarter \nW/System.err:     at java.lang.Thread.run(Thread.java:818) 03-10 23:14:40.612 2486-2486/\ncom.ibm.iot.android.iotstarter D/\ncom.ibm.iot.android.iotstarter.fragments.LoginPagerFragment: .onReceive() - \nReceived intent for loginBroadcastReceiver 03-10 23:14:40.612 \n2486-2486/com.ibm.iot.android.iotstarter \nD/com.ibm.iot.android.iotstarter.fragments.LoginPagerFragment: .processIntent() \nentered 03-10 23:14:40.612 2486-2486/com.ibm.iot.android.iotstarter \nD/com.ibm.iot.android.iotstarter.fragments.LoginPagerFragment: .updateViewStrings() \nentered 03-10 23:14:40.618 2486-2486/com.ibm.iot.android.iotstarter \nD/com.ibm.iot.android.iotstarter.fragments.LoginPagerFragment: \n.processDisconnectIntent() entered\n</code></pre>\n"
    }, {
        "tags": ["web", "cloud", "distributed", "iot", "distributed-system"],
        "is_answered": true,
        "view_count": 100,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1456492199,
        "creation_date": 1455173909,
        "last_edit_date": 1455177304,
        "question_id": 35332721,
        "link": "https://stackoverflow.com/questions/35332721/what-is-the-difference-between-an-internet-of-things-iot-environment-and-other",
        "title": "What is the difference between an Internet of Things (IoT) environment and other environments?",
        "body": "<p>What makes IoT environment different from other environments (e.g., cloud, pervasive, web)? In general, the latter are components of the IoT environment, but what are the specific properties of IoT?</p>\n"
    }, {
        "tags": ["azure", "windows-10", "win-universal-app", "iot"],
        "is_answered": true,
        "view_count": 144,
        "favorite_count": 0,
        "closed_date": 1457265081,
        "score": -1,
        "last_activity_date": 1455910846,
        "creation_date": 1455635132,
        "question_id": 35435960,
        "link": "https://stackoverflow.com/questions/35435960/uwp-and-headers",
        "title": "UWP and headers",
        "body": "<p>I am building UWP application sending HTTP(s) requests to remote server and I have problem adding HTTP headers \"Content-Type\". I have tried to use method HttpRequestMessage.Headers.Add, ended with exception. Then HttpClient.DefaultRequestHeaders.TryAddWithoutValidation, not doing anything. Any idea/hint what to do, please?</p>\n"
    }, {
        "tags": ["java", "web", "iot", "kura"],
        "is_answered": true,
        "view_count": 416,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1455030534,
        "creation_date": 1454848781,
        "last_edit_date": 1454922671,
        "question_id": 35253575,
        "link": "https://stackoverflow.com/questions/35253575/http-error-404-in-accessing-to-kura-web-ui",
        "title": "HTTP ERROR: 404 in accessing to kura web ui",
        "body": "<p>I cant access to <strong>kura</strong> web UI. It gives me <strong>HTTP ERROR: 404</strong> error.</p>\n\n<p><img src=\"https://i.stack.imgur.com/bm9g6.png\" alt=\"enter image description here\"></p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 175,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1449030477,
        "creation_date": 1446097930,
        "last_edit_date": 1446457777,
        "question_id": 33406860,
        "link": "https://stackoverflow.com/questions/33406860/unable-to-retrieve-historical-events-within-specified-time-range-from-ibm-iot-fo",
        "title": "Unable to retrieve historical events within specified time range from IBM IoT Foundation",
        "body": "<p>I am trying to retrieve historical events within a certain time range using <a href=\"https://docs.internetofthings.ibmcloud.com/swagger/v0002.html#!/Historical_Event_Retrieval/get_historian_types_deviceType_devices_deviceId\" rel=\"nofollow\">IoT Foundation's rest API</a> .\nBut if I specify optional start/end parameter of the API call, IoT Foundation doesn't recognize them as expected and returns the events within unexpected time range.<br/>\nI wonder if I used the API incorrectly or it is an IoT Foundation's bug. \n<br/>\nFollowing is the code(test_hist.js) which retrieves events within last 24 hours.<br/>\n(My credential parameters are replaced with *s.)</p>\n\n<pre><code>/* IBM Internet of Things Foundation instance specific parameters */\nvar httpHost = '******.internetofthings.ibmcloud.com';\nvar authOptions= {\n    'user': '*******************', // apikey\n    'password': '******************' // apiToken\n};\nvar deviceId = '******************';\n\nvar Client = require('node-rest-client').Client;\nvar restClient = new Client(authOptions);\nvar endMs   = new Date().valueOf();\nvar startMs = endMs - 24 * 60 * 60 * 1000;\nconsole.error('DEBUG: start=' + startMs + ' : ' + new Date(startMs));\nconsole.error('DEBUG: end  =' + endMs   + ' : ' + new Date(endMs));\nvar params = {};\nif (process.argv.indexOf('-s') === -1) params.start = startMs; // -s option to omit start parameter\nif (process.argv.indexOf('-e') === -1) params.end = endMs; // -e option to omit end parameter\nvar verbose = (process.argv.indexOf('-v') &gt;= 0); // -v option to output events to stdout.\ndoGet(params);\n\nfunction doGet(params, allEvents) {\n    var url = 'https://' + httpHost + '/api/v0002/historian/types/HARemoteControl/devices/' + deviceId;\n    var args = { parameters: params };\n    var req = restClient.get(url, args, function(data, response) {\n        if (response.statusCode != 200) {\n            console.error(response.statusMessage);\n        } else {\n            var events = data.events;\n            var eventSize = events.length;\n            allEvents = !allEvents ? events : allEvents.concat(events);\n            var getMore = false;\n            if ('bookmark' in data) {\n                if (!('_bookmark' in params)) console.error('DEBUG: bookmark=' + data.bookmark);\n                params._bookmark = data.bookmark;\n                if (0 &lt; eventSize &amp;&amp; startMs &lt; events[eventSize-1].timestamp.$date) {\n                    doGet(params, allEvents);\n                    getMore = true;\n                }\n            }\n            if (eventSize &gt; 0) {\n                var lastTime = new Date(events[0].timestamp.$date);\n                var firstTime = new Date(events[eventSize-1].timestamp.$date);\n                console.error('DEBUG: ' + firstTime + ' ... ' + lastTime + ' events.length=' + eventSize + ('bookmark' in data ? ' more...' : ''));\n            } else {\n                console.error('DEBUG: events.length=0' + ('bookmark' in data ? ' more...' : ''));\n            }\n            if (verbose &amp;&amp; !getMore) console.log( allEvents );\n        }\n    });\n    if (!allEvents) console.error('DEBUG: path=' + req.options.path);\n}\n</code></pre>\n\n<p><strong>Result:</strong><br/> \nWhen I ran this code for the first time, the API returned 24 hours of events, as expected.  </p>\n\n<pre><code>    $ node test_hist.js \n    DEBUG: start=1445993284029 : Wed Oct 28 2015 09:48:04 GMT+0900 (JST)\n    DEBUG: end  =1446079684029 : Thu Oct 29 2015 09:48:04 GMT+0900 (JST)\n    DEBUG: path=/api/v0002/historian/types/HARemoteControl/devices/HARemoteControl001?start=1445993284029&amp;end=1446079684029\n    DEBUG: bookmark=1:iotHistorianSessionId=AnLL7ocgqFvkmyqAKXERIiNCBPvZttRNy7%2bIP7Vi8xJJCQq56QVBE0cSkQMI1W1L; HttpOnly\n    DEBUG: Thu Oct 29 2015 08:09:03 GMT+0900 (JST) ... Thu Oct 29 2015 09:48:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 06:29:03 GMT+0900 (JST) ... Thu Oct 29 2015 08:08:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 04:49:03 GMT+0900 (JST) ... Thu Oct 29 2015 06:28:08 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 03:09:03 GMT+0900 (JST) ... Thu Oct 29 2015 04:48:05 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 01:29:03 GMT+0900 (JST) ... Thu Oct 29 2015 03:08:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 23:49:03 GMT+0900 (JST) ... Thu Oct 29 2015 01:28:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 22:09:08 GMT+0900 (JST) ... Wed Oct 28 2015 23:48:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 20:39:03 GMT+0900 (JST) ... Wed Oct 28 2015 22:08:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 18:59:03 GMT+0900 (JST) ... Wed Oct 28 2015 20:38:05 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 17:19:02 GMT+0900 (JST) ... Wed Oct 28 2015 18:58:05 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 15:39:02 GMT+0900 (JST) ... Wed Oct 28 2015 17:18:08 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 14:02:12 GMT+0900 (JST) ... Wed Oct 28 2015 15:38:02 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 12:22:02 GMT+0900 (JST) ... Wed Oct 28 2015 14:01:02 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 10:44:02 GMT+0900 (JST) ... Wed Oct 28 2015 12:21:05 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 09:49:02 GMT+0900 (JST) ... Wed Oct 28 2015 10:43:02 GMT+0900 (JST) events.length=55\n    $\n</code></pre>\n\n<p>But when I ran the same code later, the API returned unexpected time period of events.</p>\n\n<ul>\n<li>11:45 of yesterday is specified as start parameter but the API returned the older events(11:16...) than 11:45.</li>\n<li>11:45 (of today) is specified as end parameter but the API didn't return events between 10:23 and 11:45 but older than 10:23.</li>\n</ul>\n\n<p>as follows.</p>\n\n<pre><code>    $ node test_hist.js \n    DEBUG: start=1446000327271 : Wed Oct 28 2015 11:45:27 GMT+0900 (JST)\n    DEBUG: end  =1446086727271 : Thu Oct 29 2015 11:45:27 GMT+0900 (JST)\n    DEBUG: path=/api/v0002/historian/types/HARemoteControl/devices/HARemoteControl001?start=1446000327271&amp;end=1446086727271\n    DEBUG: bookmark=1:iotHistorianSessionId=vbazIN0SDWrJTaep06zTipWS1TqbPMv/9m8EEumw5uuL6Gj6FiWl5z9POLeB5xLv; HttpOnly\n    DEBUG: Thu Oct 29 2015 08:43:03 GMT+0900 (JST) ... Thu Oct 29 2015 10:22:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 07:03:03 GMT+0900 (JST) ... Thu Oct 29 2015 08:42:13 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 05:23:05 GMT+0900 (JST) ... Thu Oct 29 2015 07:02:06 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 03:43:08 GMT+0900 (JST) ... Thu Oct 29 2015 05:22:05 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 02:03:08 GMT+0900 (JST) ... Thu Oct 29 2015 03:42:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Thu Oct 29 2015 00:23:03 GMT+0900 (JST) ... Thu Oct 29 2015 02:02:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 22:43:03 GMT+0900 (JST) ... Thu Oct 29 2015 00:22:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 21:13:08 GMT+0900 (JST) ... Wed Oct 28 2015 22:42:13 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 19:33:03 GMT+0900 (JST) ... Wed Oct 28 2015 21:12:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 17:53:03 GMT+0900 (JST) ... Wed Oct 28 2015 19:32:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 16:13:02 GMT+0900 (JST) ... Wed Oct 28 2015 17:52:03 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 14:33:02 GMT+0900 (JST) ... Wed Oct 28 2015 16:12:05 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 12:56:02 GMT+0900 (JST) ... Wed Oct 28 2015 14:32:02 GMT+0900 (JST) events.length=100 more...\n    DEBUG: Wed Oct 28 2015 11:16:02 GMT+0900 (JST) ... Wed Oct 28 2015 12:55:02 GMT+0900 (JST) events.length=100 more...\n    $\n</code></pre>\n\n<p>Nodes:</p>\n\n<ul>\n<li>The events are sent from my RaspberryPi periodically (every 1 minutes) and sometime sporadically. Therefor 1440+ events are expected to be returned with this code.</li>\n<li><p>After this symptom occurred and if start and end parameters are omitted, the API returned the last 100 events, as expected. Which means IoT Foundation has events between 10:23 and 11:45 but did not return them when end parameter is specified.</p>\n\n<pre><code>$ node test_hist.js -s -e\nDEBUG: start=1446000368159 : Wed Oct 28 2015 11:46:08 GMT+0900 (JST)\nDEBUG: end  =1446086768159 : Thu Oct 29 2015 11:46:08 GMT+0900 (JST)\nDEBUG: path=/api/v0002/historian/types/HARemoteControl/devices/HARemoteControl001\nDEBUG: Thu Oct 29 2015 10:07:06 GMT+0900 (JST) ... Thu Oct 29 2015 11:46:03 GMT+0900 (JST) events.length=100\n$\n</code></pre></li>\n<li><p>Above 3 execution results are of a Bluemix VM (Ubuntu 14.4) and between the normal and abnormal results, I ran the same code(test_hist.js) on a local Windows PC at about 10:22AM. So it seems to me that this API memorizes the start/end parameters in some circumstance and keeps replacing start/end parameters of following API calls with that memorized values.</p></li>\n</ul>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 1040,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1445661481,
        "creation_date": 1445626830,
        "question_id": 33309617,
        "link": "https://stackoverflow.com/questions/33309617/refused-not-authorized-error-occurs-with-ibm-iot-foundation-on-bluemix",
        "title": "Refused: not authorized error occurs with IBM IoT Foundation on Bluemix",
        "body": "<p>When I attempt to connect to the IBM IoT Foundation with a registered device, I receive the following error message:</p>\n\n<blockquote>\n  <p>Error connecting to IBM IoT: {\"errorCode\":6,\"errorMessage\":\"AMQJS0006E Bad Connack return code:5 Connection Refused: not authorized.\"}</p>\n</blockquote>\n\n<p>How do I resolve this problem?</p>\n"
    }, {
        "tags": ["centos7", "fiware", "iot", "fiware-cygnus"],
        "is_answered": false,
        "view_count": 217,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1444319600,
        "creation_date": 1444212862,
        "last_edit_date": 1444319600,
        "question_id": 32989596,
        "link": "https://stackoverflow.com/questions/32989596/fiware-can-not-start-cygnus-as-service",
        "title": "Fiware: can not start cygnus as service",
        "body": "<p>I installed cygnus using RPMs on fiware image  CentOS-7-x64 and I can't start it as a service, Here is my logs: </p>\n\n<pre><code>[centos@cygnus-mongo conf]$ sudo service cygnus start\nStarting cygnus (via systemctl):  Job for cygnus.service failed. See 'systemctl status cygnus.service' and 'journalctl -xn' for details.\n                                                           [FAILED]\n[centos@cygnus-mongo conf]$ sudo journalctl -xn\n-- Logs begin at mer. 2015-10-07 07:48:29 UTC, end at mer. 2015-10-07 10:02:35 UTC. --\noct. 07 10:02:20 cygnus-mongo.novalocal su[5700]: pam_unix(su:session): session closed for user cygnus\noct. 07 10:02:22 cygnus-mongo.novalocal cygnus[5695]: cat: /var/run/cygnus/cygnus_mongo.pid: No such file or directory\noct. 07 10:02:22 cygnus-mongo.novalocal cygnus[5695]: [FAILED]\noct. 07 10:02:22 cygnus-mongo.novalocal cygnus[5695]: rm: cannot remove \u2018/var/run/cygnus/cygnus_mongo.pid\u2019: No such file or directory\noct. 07 10:02:22 cygnus-mongo.novalocal systemd[1]: cygnus.service: control process exited, code=exited status=1\noct. 07 10:02:22 cygnus-mongo.novalocal systemd[1]: Failed to start SYSV: cygnus.\n-- Subject: Unit cygnus.service has failed\n-- Defined-By: systemd\n-- Support: http://lists.freedesktop.org/mailman/listinfo/systemd-devel\n-- \n-- Unit cygnus.service has failed.\n-- \n-- The result is failed.\noct. 07 10:02:22 cygnus-mongo.novalocal systemd[1]: Unit cygnus.service entered failed state.\noct. 07 10:02:34 cygnus-mongo.novalocal dhclient[1064]: DHCPREQUEST on eth0 to 192.168.111.71 port 67 (xid=0x761299ef)\noct. 07 10:02:34 cygnus-mongo.novalocal dhclient[1064]: DHCPACK from 192.168.111.71 (xid=0x761299ef)\noct. 07 10:02:35 cygnus-mongo.novalocal sudo[5774]: centos : TTY=pts/0 ; PWD=/usr/cygnus/conf ; USER=root ; COMMAND=/bin/journalctl -xn\n</code></pre>\n\n<p>Actually the directory /var/run/cygnus was not created, is it going to be created automatically?</p>\n\n<p>Here is my configuration files:</p>\n\n<p>agent_mongo.conf</p>\n\n<pre><code>cygnusagent.sources = http-source\ncygnusagent.sinks = mongo-sink \ncygnusagent.channels = mongo-channel \n\n#=============================================\n# source configuration\n# channel name where to write the notification events\ncygnusagent.sources.http-source.channels = mongo-channel \n# source class, must not be changed\ncygnusagent.sources.http-source.type = org.apache.flume.source.http.HTTPSource\n# listening port the Flume source will use for receiving incoming notifications\ncygnusagent.sources.http-source.port = 5050\n# Flume handler that will parse the notifications, must not be changed\ncygnusagent.sources.http-source.handler = com.telefonica.iot.cygnus.handlers.OrionRestHandler\n# URL target\ncygnusagent.sources.http-source.handler.notification_target = /notify\n# Default service (service semantic depends on the persistence sink)\ncygnusagent.sources.http-source.handler.default_service = def_serv\n# Default service path (service path semantic depends on the persistence sink)\ncygnusagent.sources.http-source.handler.default_service_path = def_servpath\n# Number of channel re-injection retries before a Flume event is definitely discarded (-1 means infinite retries)\ncygnusagent.sources.http-source.handler.events_ttl = 10\n# Source interceptors, do not change\ncygnusagent.sources.http-source.interceptors = ts gi\n# TimestampInterceptor, do not change\ncygnusagent.sources.http-source.interceptors.ts.type = timestamp\n# GroupinInterceptor, do not change\ncygnusagent.sources.http-source.interceptors.gi.type = com.telefonica.iot.cygnus.interceptors.GroupingInterceptor$Builder\n# Grouping rules for the GroupingInterceptor, put the right absolute path to the file if necessary\n# See the doc/design/interceptors document for more details\ncygnusagent.sources.http-source.interceptors.gi.grouping_rules_conf_file = /usr/cygnus/conf/grouping_rules.conf\n\n# ============================================\n# OrionMongoSink configuration\n# sink class, must not be changed\ncygnusagent.sinks.mongo-sink.type = com.telefonica.iot.cygnus.sinks.OrionMongoSink\n# channel name from where to read notification events\ncygnusagent.sinks.mongo-sink.channel = mongo-channel\n# FQDN/IP:port where the MongoDB server runs (standalone case) or comma-separated list of FQDN/IP:port pairs where the MongoDB replica set members run\ncygnusagent.sinks.mongo-sink.mongo_hosts = 127.0.0.1:27017\n# a valid user in the MongoDB server (or empty if authentication is not enabled in MongoDB)\ncygnusagent.sinks.mongo-sink.mongo_username = \n# password for the user above (or empty if authentication is not enabled in MongoDB)\ncygnusagent.sinks.mongo-sink.mongo_password =\n# prefix for the MongoDB databases\ncygnusagent.sinks.mongo-sink.db_prefix = kura_\n# prefix pro the MongoDB collections\ncygnusagent.sinks.mongo-sink.collection_prefix = kura_\n# true is collection names are based on a hash, false for human redable collections\ncygnusagent.sinks.mongo-sink.should_hash = false\n\n#=============================================\n# mongo-channel configuration\n# channel type (must not be changed)\ncygnusagent.channels.mongo-channel.type = memory\n# capacity of the channel\ncygnusagent.channels.mongo-channel.capacity = 1000\n# amount of bytes that can be sent per transaction\ncygnusagent.channels.mongo-channel.transactionCapacity = 100\n</code></pre>\n\n<p>cygnus_instance_mongo.conf :</p>\n\n<pre><code># Who to run cygnus as. Note that you may need to use root if you want\n# to run cygnus in a privileged port (&lt;1024)\nCYGNUS_USER=cygnus\n\n# Where is the config folder\nCONFIG_FOLDER=/usr/cygnus/conf\n\n# Which is the config file\nCONFIG_FILE=/usr/cygnus/conf/agent_mongo.conf\n\n# Name of the agent. The name of the agent is not trivial, since it is the base for the Flume parameters \n# naming conventions, e.g. it appears in .sources.http-source.channels=...\nAGENT_NAME=cygnusagent\n\n# Name of the logfile located at /var/log/cygnus. It is important to put the extension '.log' in order to the log rotation works properly\nLOGFILE_NAME=cygnus.log\n\n# Administration port. Must be unique per instance\nADMIN_PORT=8081\n\n# Polling interval (seconds) for the configuration reloading\nPOLLING_INTERVAL=30\n</code></pre>\n\n<p>Edit: add logs after lunching cygnus as a standalone application:</p>\n\n<pre><code>[centos@cygnus-mongo iot]$ ./cygnus.sh \n+ exec /usr/lib/jvm/java-1.6.0-openjdk.x86_64/bin/java -Xmx20m -Dflume.root.logger=INFO,console -cp '/usr/cygnus/conf:/usr/cygnus/lib/*:/usr/cygnus/plugins.d/cygnus/lib/*:/usr/cygnus/plugins.d/cygnus/libext/*' -Djava.library.path= com.telefonica.iot.cygnus.nodes.CygnusApplication -f /usr/cygnus/conf/agent_mongo.conf -n cygnusagent\nSLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/usr/cygnus/lib/slf4j-log4j12-1.6.1.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/usr/cygnus/plugins.d/cygnus/lib/cygnus-0.8.2-jar-with-dependencies.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\n2015-10-08 15:50:32,629 (main) [INFO - com.telefonica.iot.cygnus.nodes.CygnusApplication.main(CygnusApplication.java:235)] Starting a Jetty server listening on port 8081 (Management Interface)\n2015-10-08 15:50:32,655 (main) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] Logging to org.slf4j.impl.Log4jLoggerAdapter(org.mortbay.log) via org.mortbay.log.Slf4jLog\n2015-10-08 15:50:32,656 (main) [INFO - com.telefonica.iot.cygnus.nodes.CygnusApplication.main(CygnusApplication.java:238)] Starting Cygnus application\n2015-10-08 15:50:32,656 (Thread-1) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] jetty-6.1.26\n2015-10-08 15:50:32,684 (lifecycleSupervisor-1-0) [INFO - org.apache.flume.node.PollingPropertiesFileConfigurationProvider.start(PollingPropertiesFileConfigurationProvider.java:61)] Configuration provider starting\n2015-10-08 15:50:32,694 (conf-file-poller-0) [INFO - org.apache.flume.node.PollingPropertiesFileConfigurationProvider$FileWatcherRunnable.run(PollingPropertiesFileConfigurationProvider.java:133)] Reloading configuration file:/usr/cygnus/conf/agent_mongo.conf\n2015-10-08 15:50:32,714 (conf-file-poller-0) [WARN - org.apache.flume.conf.FlumeConfiguration.&lt;init&gt;(FlumeConfiguration.java:101)] Configuration property ignored: cygnusagent.sinks.mongo-sink.mongo_username = \n2015-10-08 15:50:32,714 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:1016)] Processing:mongo-sink\n2015-10-08 15:50:32,715 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:1016)] Processing:mongo-sink\n2015-10-08 15:50:32,715 (conf-file-poller-0) [WARN - org.apache.flume.conf.FlumeConfiguration.&lt;init&gt;(FlumeConfiguration.java:101)] Configuration property ignored: cygnusagent.sinks.mongo-sink.mongo_password = \n2015-10-08 15:50:32,715 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:930)] Added sinks: mongo-sink Agent: cygnusagent\n2015-10-08 15:50:32,716 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:1016)] Processing:mongo-sink\n2015-10-08 15:50:32,716 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:1016)] Processing:mongo-sink\n2015-10-08 15:50:32,716 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:1016)] Processing:mongo-sink\n2015-10-08 15:50:32,716 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration$AgentConfiguration.addProperty(FlumeConfiguration.java:1016)] Processing:mongo-sink\n2015-10-08 15:50:32,731 (Thread-1) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] Started SocketConnector@0.0.0.0:8081\n2015-10-08 15:50:32,744 (conf-file-poller-0) [INFO - org.apache.flume.conf.FlumeConfiguration.validateConfiguration(FlumeConfiguration.java:140)] Post-validation flume configuration contains configuration for agents: [cygnusagent]\n2015-10-08 15:50:32,745 (conf-file-poller-0) [INFO - org.apache.flume.node.AbstractConfigurationProvider.loadChannels(AbstractConfigurationProvider.java:150)] Creating channels\n2015-10-08 15:50:32,758 (conf-file-poller-0) [INFO - org.apache.flume.channel.DefaultChannelFactory.create(DefaultChannelFactory.java:40)] Creating instance of channel mongo-channel type memory\n2015-10-08 15:50:32,765 (conf-file-poller-0) [INFO - org.apache.flume.node.AbstractConfigurationProvider.loadChannels(AbstractConfigurationProvider.java:205)] Created channel mongo-channel\n2015-10-08 15:50:32,766 (conf-file-poller-0) [INFO - org.apache.flume.source.DefaultSourceFactory.create(DefaultSourceFactory.java:39)] Creating instance of source http-source, type org.apache.flume.source.http.HTTPSource\n2015-10-08 15:50:32,782 (conf-file-poller-0) [INFO - com.telefonica.iot.cygnus.handlers.OrionRestHandler.&lt;init&gt;(OrionRestHandler.java:75)] Cygnus version (0.8.2.UNKNOWN)\n2015-10-08 15:50:32,808 (conf-file-poller-0) [INFO - com.telefonica.iot.cygnus.handlers.OrionRestHandler.configure(OrionRestHandler.java:141)] Startup completed\n2015-10-08 15:50:32,836 (conf-file-poller-0) [INFO - org.apache.flume.sink.DefaultSinkFactory.create(DefaultSinkFactory.java:40)] Creating instance of sink: mongo-sink, type: com.telefonica.iot.cygnus.sinks.OrionMongoSink\n2015-10-08 15:50:32,856 (conf-file-poller-0) [INFO - org.apache.flume.node.AbstractConfigurationProvider.getConfiguration(AbstractConfigurationProvider.java:119)] Channel mongo-channel connected to [http-source, mongo-sink]\n2015-10-08 15:50:32,872 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:138)] Starting new configuration:{ sourceRunners:{http-source=EventDrivenSourceRunner: { source:org.apache.flume.source.http.HTTPSource{name:http-source,state:IDLE} }} sinkRunners:{mongo-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@7caba647 counterGroup:{ name:null counters:{} } }} channels:{mongo-channel=org.apache.flume.channel.MemoryChannel{name: mongo-channel}} }\n2015-10-08 15:50:32,872 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:145)] Starting Channel mongo-channel\n2015-10-08 15:50:32,968 (lifecycleSupervisor-1-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.register(MonitoredCounterGroup.java:110)] Monitoried counter group for type: CHANNEL, name: mongo-channel, registered successfully.\n2015-10-08 15:50:32,968 (lifecycleSupervisor-1-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.start(MonitoredCounterGroup.java:94)] Component type: CHANNEL, name: mongo-channel started\n2015-10-08 15:50:32,969 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:173)] Starting Sink mongo-sink\n2015-10-08 15:50:32,970 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:184)] Starting Source http-source\n2015-10-08 15:50:32,972 (lifecycleSupervisor-1-4) [INFO - com.telefonica.iot.cygnus.interceptors.GroupingInterceptor.initialize(GroupingInterceptor.java:92)] Grouping rules read: \n2015-10-08 15:50:32,974 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.stopAllComponents(Application.java:101)] Shutting down configuration: { sourceRunners:{http-source=EventDrivenSourceRunner: { source:org.apache.flume.source.http.HTTPSource{name:http-source,state:IDLE} }} sinkRunners:{mongo-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@7caba647 counterGroup:{ name:null counters:{} } }} channels:{mongo-channel=org.apache.flume.channel.MemoryChannel{name: mongo-channel}} }\n2015-10-08 15:50:32,975 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.stopAllComponents(Application.java:105)] Stopping Source http-source\n2015-10-08 15:50:32,978 (lifecycleSupervisor-1-1) [INFO - com.telefonica.iot.cygnus.sinks.OrionMongoBaseSink.start(OrionMongoBaseSink.java:139)] [mongo-sink] Startup completed\n2015-10-08 15:50:32,984 (lifecycleSupervisor-1-4) [\n - com.telefonica.iot.cygnus.interceptors.GroupingInterceptor.parseGroupingRules(GroupingInterceptor.java:165)] Error while parsing the Json-based grouping rules file. Details=null\n2015-10-08 15:50:32,984 (lifecycleSupervisor-1-4) [WARN - com.telefonica.iot.cygnus.interceptors.GroupingInterceptor.initialize(GroupingInterceptor.java:98)] Grouping rules syntax has errors\n2015-10-08 15:50:33,030 (lifecycleSupervisor-1-4) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] jetty-6.1.26\n2015-10-08 15:50:33,081 (lifecycleSupervisor-1-4) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] Started SocketConnector@0.0.0.0:5050\n2015-10-08 15:50:33,082 (lifecycleSupervisor-1-4) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.register(MonitoredCounterGroup.java:110)] Monitoried counter group for type: SOURCE, name: http-source, registered successfully.\n2015-10-08 15:50:33,082 (lifecycleSupervisor-1-4) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.start(MonitoredCounterGroup.java:94)] Component type: SOURCE, name: http-source started\n2015-10-08 15:50:33,083 (conf-file-poller-0) [INFO - org.apache.flume.lifecycle.LifecycleSupervisor.unsupervise(LifecycleSupervisor.java:171)] Stopping component: EventDrivenSourceRunner: { source:org.apache.flume.source.http.HTTPSource{name:http-source,state:START} }\n2015-10-08 15:50:33,083 (conf-file-poller-0) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] Stopped SocketConnector@0.0.0.0:5050\n2015-10-08 15:50:33,185 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:139)] Component type: SOURCE, name: http-source stopped\n2015-10-08 15:50:33,185 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:145)] Shutdown Metric for type: SOURCE, name: http-source. source.start.time == 1444319433082\n2015-10-08 15:50:33,185 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:151)] Shutdown Metric for type: SOURCE, name: http-source. source.stop.time == 1444319433185\n2015-10-08 15:50:33,186 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.append-batch.accepted == 0\n2015-10-08 15:50:33,186 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.append-batch.received == 0\n2015-10-08 15:50:33,186 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.append.accepted == 0\n2015-10-08 15:50:33,186 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.append.received == 0\n2015-10-08 15:50:33,187 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.events.accepted == 0\n2015-10-08 15:50:33,187 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.events.received == 0\n2015-10-08 15:50:33,187 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: SOURCE, name: http-source. src.open-connection.count == 0\n2015-10-08 15:50:33,187 (conf-file-poller-0) [INFO - org.apache.flume.source.http.HTTPSource.stop(HTTPSource.java:172)] Http source http-source stopped. Metrics: SOURCE:http-source{src.events.accepted=0, src.events.received=0, src.append.accepted=0, src.append-batch.accepted=0, src.open-connection.count=0, src.append-batch.received=0, src.append.received=0}\n2015-10-08 15:50:33,187 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.stopAllComponents(Application.java:115)] Stopping Sink mongo-sink\n2015-10-08 15:50:33,188 (conf-file-poller-0) [INFO - org.apache.flume.lifecycle.LifecycleSupervisor.unsupervise(LifecycleSupervisor.java:171)] Stopping component: SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@7caba647 counterGroup:{ name:null counters:{} } }\n2015-10-08 15:50:33,189 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.stopAllComponents(Application.java:125)] Stopping Channel mongo-channel\n2015-10-08 15:50:33,190 (conf-file-poller-0) [INFO - org.apache.flume.lifecycle.LifecycleSupervisor.unsupervise(LifecycleSupervisor.java:171)] Stopping component: org.apache.flume.channel.MemoryChannel{name: mongo-channel}\n2015-10-08 15:50:33,190 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:139)] Component type: CHANNEL, name: mongo-channel stopped\n2015-10-08 15:50:33,190 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:145)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.start.time == 1444319432968\n2015-10-08 15:50:33,190 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:151)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.stop.time == 1444319433190\n2015-10-08 15:50:33,190 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.capacity == 1000\n2015-10-08 15:50:33,190 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.current.size == 0\n2015-10-08 15:50:33,191 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.event.put.attempt == 0\n2015-10-08 15:50:33,191 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.event.put.success == 0\n2015-10-08 15:50:33,191 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.event.take.attempt == 1\n2015-10-08 15:50:33,191 (conf-file-poller-0) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.stop(MonitoredCounterGroup.java:167)] Shutdown Metric for type: CHANNEL, name: mongo-channel. channel.event.take.success == 0\n2015-10-08 15:50:33,191 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:138)] Starting new configuration:{ sourceRunners:{http-source=EventDrivenSourceRunner: { source:org.apache.flume.source.http.HTTPSource{name:http-source,state:START} }} sinkRunners:{mongo-sink=SinkRunner: { policy:org.apache.flume.sink.DefaultSinkProcessor@7caba647 counterGroup:{ name:null counters:{runner.backoffs.consecutive=0} } }} channels:{mongo-channel=org.apache.flume.channel.MemoryChannel{name: mongo-channel}} }\n2015-10-08 15:50:33,191 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:145)] Starting Channel mongo-channel\n2015-10-08 15:50:33,192 (lifecycleSupervisor-1-2) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.start(MonitoredCounterGroup.java:94)] Component type: CHANNEL, name: mongo-channel started\n2015-10-08 15:50:33,192 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:173)] Starting Sink mongo-sink\n2015-10-08 15:50:33,193 (conf-file-poller-0) [INFO - org.apache.flume.node.Application.startAllComponents(Application.java:184)] Starting Source http-source\n2015-10-08 15:50:33,193 (lifecycleSupervisor-1-1) [INFO - com.telefonica.iot.cygnus.sinks.OrionMongoBaseSink.start(OrionMongoBaseSink.java:139)] [mongo-sink] Startup completed\n2015-10-08 15:50:33,194 (lifecycleSupervisor-1-6) [INFO - com.telefonica.iot.cygnus.interceptors.GroupingInterceptor.initialize(GroupingInterceptor.java:92)] Grouping rules read: \n2015-10-08 15:50:33,194 (lifecycleSupervisor-1-6) [ERROR - com.telefonica.iot.cygnus.interceptors.GroupingInterceptor.parseGroupingRules(GroupingInterceptor.java:165)] Error while parsing the Json-based grouping rules file. Details=null\n2015-10-08 15:50:33,194 (lifecycleSupervisor-1-6) [WARN - com.telefonica.iot.cygnus.interceptors.GroupingInterceptor.initialize(GroupingInterceptor.java:98)] Grouping rules syntax has errors\n2015-10-08 15:50:33,195 (lifecycleSupervisor-1-6) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] jetty-6.1.26\n2015-10-08 15:50:33,197 (lifecycleSupervisor-1-6) [INFO - org.mortbay.log.Slf4jLog.info(Slf4jLog.java:67)] Started SocketConnector@0.0.0.0:5050\n2015-10-08 15:50:33,197 (lifecycleSupervisor-1-6) [INFO - org.apache.flume.instrumentation.MonitoredCounterGroup.start(MonitoredCounterGroup.java:94)] Component type: SOURCE, name: http-source started\n</code></pre>\n"
    }, {
        "tags": ["fiware", "iot", "fiware-orion", "fiware-cygnus"],
        "is_answered": true,
        "view_count": 162,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1444206805,
        "creation_date": 1444147253,
        "last_edit_date": 1444204532,
        "question_id": 32974492,
        "link": "https://stackoverflow.com/questions/32974492/cygnus-instance-not-reached-from-orion-context-broker",
        "title": "cygnus instance not reached from orion context broker",
        "body": "<p>I have installed cygnus 0.8.2 on fiware image CentOS-7-x64, I subscribed to orion context broker using:</p>\n\n<pre><code>(curl 193.48.247.246:1026/v1/subscribeContext -s -S --header 'Content-Type: application/json' --header 'Accept: application/json' --header 'Fiware-Service: egmmqtt' --header 'Fiware-ServicePath: /egmmqttpath' -d @- | python -mjson.tool) &lt;&lt;EOF\n{\n    \"entities\": [\n        {\n            \"type\": \"sensors\",\n            \"isPattern\": \"false\",\n            \"id\": \"sensors:switch2A\"\n        }\n    ],\n    \"attributes\": [\n        \"switch2A\"\n    ],\n    \"reference\": \"http://193.48.247.223:5050/notify\",\n    \"duration\": \"P1M\",\n    \"notifyConditions\": [\n        {\n            \"type\": \"ONCHANGE\",\n            \"condValues\": [\n                \"switch2A\"\n            ]\n        }\n    ],\n    \"throttling\": \"PT1S\"\n}\nEOF\n</code></pre>\n\n<p>No notification has reached cygnus and I got this error on  orionContextBroker logs:</p>\n\n<pre><code>time=2015-10-06T17:43:37.898CEST | lvl=WARNING | trans=1443447780-161-00000000423 | function=sendHttpSocket | comp=Orion | msg=clientSocketHttp.cpp[358]: Notification failure for 193.48.247.223:5050 (curl_easy_perform failed: Couldn't connect to server)\n</code></pre>\n\n<p>I dont know why the cygnus instance is not reached under the associated public IP adress. In fact I can't ping cygnus machine instance from Orion instance. Any ideas of what I have missed? thanks!</p>\n"
    }, {
        "tags": ["fiware", "iot", "fiware-cygnus"],
        "is_answered": true,
        "view_count": 360,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1444205591,
        "creation_date": 1444144774,
        "question_id": 32973654,
        "link": "https://stackoverflow.com/questions/32973654/cygnus-bad-http-notification-curl-7-29-0-user-agent-not-supported",
        "title": "Cygnus: Bad HTTP notification (curl/7.29.0 user agent not supported)",
        "body": "<p>I installed cygnus version 0.8.2 on Fiware instance basing on the image <strong>CentOS-7-x64</strong> using:</p>\n\n<pre><code>sudo yum install cygnus\n</code></pre>\n\n<p>I configured my agent as the following:</p>\n\n<pre><code>cygnusagent.sources = http-source\ncygnusagent.sinks = mongo-sink \ncygnusagent.channels = mongo-channel \n\n#=============================================\n# source configuration\n# channel name where to write the notification events\ncygnusagent.sources.http-source.channels = mongo-channel \n# source class, must not be changed\ncygnusagent.sources.http-source.type = org.apache.flume.source.http.HTTPSource\n# listening port the Flume source will use for receiving incoming notifications\ncygnusagent.sources.http-source.port = 5050\n# Flume handler that will parse the notifications, must not be changed\ncygnusagent.sources.http-source.handler = com.telefonica.iot.cygnus.handlers.OrionRestHandler\n# URL target\ncygnusagent.sources.http-source.handler.notification_target = /notify\n# Default service (service semantic depends on the persistence sink)\ncygnusagent.sources.http-source.handler.default_service = def_serv\n# Default service path (service path semantic depends on the persistence sink)\ncygnusagent.sources.http-source.handler.default_service_path = def_servpath\n# Number of channel re-injection retries before a Flume event is definitely discarded (-1 means infinite retries)\ncygnusagent.sources.http-source.handler.events_ttl = 10\n# Source interceptors, do not change\ncygnusagent.sources.http-source.interceptors = ts gi\n# TimestampInterceptor, do not change\ncygnusagent.sources.http-source.interceptors.ts.type = timestamp\n# GroupinInterceptor, do not change\ncygnusagent.sources.http-source.interceptors.gi.type = com.telefonica.iot.cygnus.interceptors.GroupingInterceptor$Builder\n# Grouping rules for the GroupingInterceptor, put the right absolute path to the file if necessary\n# See the doc/design/interceptors document for more details\ncygnusagent.sources.http-source.interceptors.gi.grouping_rules_conf_file = /usr/cygnus/conf/grouping_rules.conf\n\n# ============================================\n# OrionMongoSink configuration\n# sink class, must not be changed\ncygnusagent.sinks.mongo-sink.type = com.telefonica.iot.cygnus.sinks.OrionMongoSink\n# channel name from where to read notification events\ncygnusagent.sinks.mongo-sink.channel = mongo-channel\n# FQDN/IP:port where the MongoDB server runs (standalone case) or comma-separated list of FQDN/IP:port pairs where the MongoDB replica set members run\ncygnusagent.sinks.mongo-sink.mongo_hosts = 127.0.0.1:27017\n# a valid user in the MongoDB server (or empty if authentication is not enabled in MongoDB)\ncygnusagent.sinks.mongo-sink.mongo_username = \n# password for the user above (or empty if authentication is not enabled in MongoDB)\ncygnusagent.sinks.mongo-sink.mongo_password =\n# prefix for the MongoDB databases\ncygnusagent.sinks.mongo-sink.db_prefix = kura_\n# prefix pro the MongoDB collections\ncygnusagent.sinks.mongo-sink.collection_prefix = kura_\n# true is collection names are based on a hash, false for human redable collections\ncygnusagent.sinks.mongo-sink.should_hash = false\n\n#=============================================\n# mongo-channel configuration\n# channel type (must not be changed)\ncygnusagent.channels.mongo-channel.type = memory\n# capacity of the channel\ncygnusagent.channels.mongo-channel.capacity = 1000\n# amount of bytes that can be sent per transaction\ncygnusagent.channels.mongo-channel.transactionCapacity = 100\n</code></pre>\n\n<p>I tried to test it locally using the following curl command:</p>\n\n<pre><code>URL=$1\n\ncurl $URL -v -s -S --header 'Content-Type: application/json' --header 'Accept: application/json' --header \"Fiware-Service: qsg\" --header \"Fiware-ServicePath: testsink\" -d @- &lt;&lt;EOF\n{\n    \"subscriptionId\" : \"51c0ac9ed714fb3b37d7d5a8\",\n    \"originator\" : \"localhost\",\n    \"contextResponses\" : [\n        {\n            \"contextElement\" : {\n                \"attributes\" : [\n                    {\n                        \"name\" : \"temperature\",\n                        \"type\" : \"float\",\n                        \"value\" : \"26.5\"\n                    }\n                ],\n                \"type\" : \"Room\",\n                \"isPattern\" : \"false\",\n                \"id\" : \"Room1\"\n            },\n            \"statusCode\" : {\n                \"code\" : \"200\",\n                \"reasonPhrase\" : \"OK\"\n            }\n        }\n    ]\n}\nEOF\n</code></pre>\n\n<p>but I got this exception:</p>\n\n<pre><code>2015-10-06 14:38:50,138 (1251445230@qtp-1186065012-0) [INFO - com.telefonica.iot.cygnus.handlers.OrionRestHandler.getEvents(OrionRestHandler.java:150)] Starting transaction (1444142307-244-0000000000)\n2015-10-06 14:38:50,140 (1251445230@qtp-1186065012-0) [WARN - com.telefonica.iot.cygnus.handlers.OrionRestHandler.getEvents(OrionRestHandler.java:180)] Bad HTTP notification (curl/7.29.0 user agent not supported)\n2015-10-06 14:38:50,140 (1251445230@qtp-1186065012-0) [WARN - org.apache.flume.source.http.HTTPSource$FlumeHTTPServlet.doPost(HTTPSource.java:186)] Received bad request from client. \norg.apache.flume.source.http.HTTPBadRequestException: curl/7.29.0 user agent not supported\n    at com.telefonica.iot.cygnus.handlers.OrionRestHandler.getEvents(OrionRestHandler.java:181)\n    at org.apache.flume.source.http.HTTPSource$FlumeHTTPServlet.doPost(HTTPSource.java:184)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:814)\n    at org.mortbay.jetty.servlet.ServletHolder.handle(ServletHolder.java:511)\n    at org.mortbay.jetty.servlet.ServletHandler.handle(ServletHandler.java:401)\n    at org.mortbay.jetty.servlet.SessionHandler.handle(SessionHandler.java:182)\n    at org.mortbay.jetty.handler.ContextHandler.handle(ContextHandler.java:766)\n    at org.mortbay.jetty.handler.HandlerWrapper.handle(HandlerWrapper.java:152)\n    at org.mortbay.jetty.Server.handle(Server.java:326)\n    at org.mortbay.jetty.HttpConnection.handleRequest(HttpConnection.java:542)\n    at org.mortbay.jetty.HttpConnection$RequestHandler.content(HttpConnection.java:945)\n    at org.mortbay.jetty.HttpParser.parseNext(HttpParser.java:756)\n    at org.mortbay.jetty.HttpParser.parseAvailable(HttpParser.java:218)\n    at org.mortbay.jetty.HttpConnection.handle(HttpConnection.java:404)\n    at org.mortbay.jetty.bio.SocketConnector$Connection.run(SocketConnector.java:228)\n    at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:582)\n</code></pre>\n\n<p>Any idea of what can be the cause of this exception?</p>\n"
    }, {
        "tags": ["linux", "centos7", "fiware", "iot"],
        "is_answered": false,
        "view_count": 188,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1443781365,
        "creation_date": 1441120667,
        "last_edit_date": 1441121073,
        "question_id": 32335279,
        "link": "https://stackoverflow.com/questions/32335279/fiware-iot-agent-install-from-rpms",
        "title": "FIWARE IoT Agent: install from RPMs",
        "body": "<p>We have build FIWARE IoT Agent on centos7 and then we wanted to install thoses RPMs on our instance based on the image: CentOS-7-x64</p>\n\n<p>but we have got the following errors:</p>\n\n<pre><code>[centos@mqtt-iot-agent ~]$ sudo rpm -i iot-agent-base-egm42-egmre42.x86_64.rpm \nBDB2053 Freeing read locks for locker 0xa5: 19063/140136414238720\nBDB2053 Freeing read locks for locker 0xa7: 19063/140136414238720\n[centos@mqtt-iot-agent ~]$ sudo rpm -i iot-agent-mqtt-egm42-egmre42.x86_64.rpm \nBDB2053 Freeing read locks for locker 0xa8: 19683/139977937053696\nBDB2053 Freeing read locks for locker 0xaa: 19683/139977937053696\n</code></pre>\n"
    }, {
        "tags": ["python-2.7", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 356,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1440435634,
        "creation_date": 1439316581,
        "last_edit_date": 1439431175,
        "question_id": 31948986,
        "link": "https://stackoverflow.com/questions/31948986/ibmiotf-bluemix-publish-command-syntax",
        "title": "IBMIOTF/BlueMix Publish Command Syntax",
        "body": "<p>I am attempting to assemble a small proof of concept system on IBM's Bluemix/Internet of Things. Currently this comprises of a Raspberry Pi feeding events up to the cloudbased app, which currently stores those events away, and periodically attempts to send down a command, using the following code block:</p>\n\n<pre><code>def sendCmd(command, payload, device=\"raspberrypi\" ):\n    deviceId = #Fixed value\n    global cmdCount\n    client.publishCommand(\"raspberrypi\", deviceId, str(command), \"json\", payload)\n    print \"Sending '%s' cmd, payload '%s' to device %s\" % (command, payload, deviceId)\n    cmdCount = cmdCount + 1\n</code></pre>\n\n<p>As far as the documentation is concerned this appears to be the correct syntax, as described by the <a href=\"https://docs.internetofthings.ibmcloud.com/libraries/python_cli_for_apps.html#/publishing-commands-to-devices\" rel=\"nofollow\">documentation</a> :</p>\n\n<pre><code>   client.connect()\n   commandData={'rebootDelay' : 50}\n   client.publishCommand(myDeviceType, myDeviceId, \"reboot\", \"json\", myData)\n</code></pre>\n\n<p>No exceptions are thrown in this block of code, however the device is not receiving any commands; and the cloud foundry log is not throwing any errors. Is there a subtle point about the syntax I am missing?</p>\n"
    }, {
        "tags": ["java", "mqtt", "ibm-cloud", "iot", "paho"],
        "is_answered": true,
        "view_count": 2887,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1433248798,
        "creation_date": 1432807033,
        "question_id": 30503207,
        "link": "https://stackoverflow.com/questions/30503207/connection-lost-on-mqtt-subscribe-to-internet-of-things-server",
        "title": "Connection lost on MQTT subscribe to Internet of Things Server",
        "body": "<p>I'm writing a Java application to publish/subscribe to Internet of Things MQTT server using the Eclipse Paho Lib (org.eclipse.paho.client.mqtt3-1.0.2.jar), both on Device and Application side.</p>\n\n<p>Connect works well with both credential types, and same seems to be the publish... What gives me the error is the subscribe:</p>\n\n<p>Trying it by mosquitto_sub command line, it loops like this:</p>\n\n<pre><code>Client a:u5o0ux:tws sending CONNECT\nClient a:u5o0ux:tws received CONNACK\nClient a:u5o0ux:tws sending SUBSCRIBE (Mid: 1, Topic: matteo, QoS: 0)\nClient a:u5o0ux:tws sending CONNECT\nClient a:u5o0ux:tws received CONNACK\nClient a:u5o0ux:tws sending SUBSCRIBE (Mid: 2, Topic: matteo, QoS: 0)\nClient a:u5o0ux:tws sending CONNECT\nClient a:u5o0ux:tws received CONNACK\nClient a:u5o0ux:tws sending SUBSCRIBE (Mid: 3, Topic: matteo, QoS: 0)\nClient a:u5o0ux:tws sending CONNECT\nClient a:u5o0ux:tws received CONNACK\nClient a:u5o0ux:tws sending SUBSCRIBE (Mid: 4, Topic: matteo, QoS: 0)\n...\n</code></pre>\n\n<p>And so on.</p>\n\n<p>When trying from java with an MqttAsyncClient, the subcribe() method returns, but then the waitForCompletion() method istantly trows:</p>\n\n<pre><code>Connection lost (32109) - java.io.EOFException\n</code></pre>\n\n<p>This is the code I am running:</p>\n\n<pre><code>String tmpDir = System.getProperty(\"java.io.tmpdir\");\nMqttDefaultFilePersistence dataStore = new MqttDefaultFilePersistence(tmpDir); \n\n...\n\n// Construct a non blocking MQTT client instance\nclient = new MqttAsyncClient(getMQTTBrokerURL(), clientId, dataStore);\n\n// Set this wrapper as the callback handler\nclient.setCallback(this);\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>connect();\n\n...\n\nIMqttToken subToken = client.subscribe(topic, qos, null, null);\nsubToken.waitForCompletion();\n</code></pre>\n\n<p>Also, this error makes the lib to not relese the persistence path user by the AsyncClient, making it to trow a \"Persistence Already in Use\" exception on every retry, until I stop the JVM and manually clear that path, but i suppose this to be some sort of library bug.</p>\n\n<p>Unfortunately, I can't (or don't know how) access the IoT-side mqtt server to realize what's going on in there.</p>\n\n<p>Any ideas? Thank you</p>\n"
    }, {
        "tags": ["contiki", "iot"],
        "is_answered": true,
        "view_count": 75,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1430142975,
        "creation_date": 1429969415,
        "question_id": 29865975,
        "link": "https://stackoverflow.com/questions/29865975/disabling-neighbour-solicitation",
        "title": "Disabling neighbour solicitation",
        "body": "<p>I would like to disable the neighbour advertisement and neighbour solicitation in contiki. What is the configuration that needs to be disabled in the config file of my application. </p>\n"
    }, {
        "tags": ["java", "mqtt", "paho", "iot"],
        "is_answered": true,
        "view_count": 3255,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1423596966,
        "creation_date": 1423596323,
        "question_id": 28440131,
        "link": "https://stackoverflow.com/questions/28440131/paho-mqtt-throws-exception",
        "title": "Paho MQTT throws Exception",
        "body": "<p>I have downloaded an example in Java in order to demonstrate Paho MQTT.</p>\n\n<pre><code> public class Thermometer {\n\n    public static final String BROKER_URL = \"tcp://test.mosquitto.org:1883\";\n\n    public static final String TOPIC = \"xyz.abc\";\n\n    private MqttClient client;\n\n\n    public Thermometer() {\n        try {\n            MemoryPersistence per = new MemoryPersistence();\n            String clientId = UUID.randomUUID().toString();\n            client = new MqttClient(BROKER_URL, clientId, per);\n        } catch (MqttException e) {\n            e.printStackTrace();\n            System.exit(1);\n        }\n    }\n</code></pre>\n\n<p>Problem occurs when I run it, it locates at <code>client = new MqttClient(BROKER_URL, clientId, per);</code> with </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.IllegalArgumentException\n      at org.eclipse.paho.client.mqttv3.MqttClient.(MqttClient.java:170)\n      at mqtt_pub.Thermometer.(Thermometer.java:26)\n      at mqtt_pub.Thermometer.main(Thermometer.java:65)</p>\n</blockquote>\n\n<p>I have found that @throws IllegalArgumentException if value of QoS is not 0, 1 or 2 but in class MemoryPersistence they did not mentioned. Please help, thank you in advance.</p>\n"
    }]
}