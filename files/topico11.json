{
    "items": [{
        "tags": ["azure", "mqtt", "iot", "esp32"],
        "is_answered": false,
        "view_count": 29,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1631607249,
        "creation_date": 1631607249,
        "question_id": 69174217,
        "link": "https://stackoverflow.com/questions/69174217/esp32-mqtt-event-data-not",
        "title": "ESP32 MQTT_EVENT_DATA NOT",
        "body": "<p>I am trying to use arduino-esp32 methods defined in file mqtt_client.h for my project.\nI've used this: <a href=\"https://docs.microsoft.com/en-us/samples/azure/azure-sdk-for-c/how-to-setup-and-run-azure-sdk-for-embedded-c-iot-hub-client-on-espressif-esp32/\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/samples/azure/azure-sdk-for-c/how-to-setup-and-run-azure-sdk-for-embedded-c-iot-hub-client-on-espressif-esp32/</a> example.</p>\n<p>My device is connecting to IoT Hub Azure and successfully sends data to it.\nMy problem is when I'm trying to send a message from IoTHub to device from azure console. The MQTT_EVENT_DATA is not fired.</p>\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;string.h&gt;\n#include &lt;time.h&gt;\n\n#include &lt;WiFi.h&gt;\n#include &lt;mqtt_client.h&gt;\n\n#include &lt;az_iot_hub_client.h&gt;\n#include &lt;az_result.h&gt;\n#include &lt;az_span.h&gt;\n\n#include &quot;AzIoTSasToken.h&quot;\n#include &quot;SerialLogger.h&quot;\n#include &quot;ca.h&quot;\n#include &quot;iot_configs.h&quot;\n\n#define sizeofarray(a) (sizeof(a) / sizeof(a[0]))\n#define NTP_SERVERS &quot;pool.ntp.org&quot;, &quot;time.nist.gov&quot;\n#define MQTT_QOS1 1\n#define DO_NOT_RETAIN_MSG 0\n#define SAS_TOKEN_DURATION_IN_MINUTES 60\n#define UNIX_TIME_NOV_13_2017 1510592825\n\n#define PST_TIME_ZONE -8\n#define PST_TIME_ZONE_DST_DIFF   1\n\n#define GMT_OFFSET_SECS (PST_TIME_ZONE * 3600)\n#define GMT_OFFSET_SECS_DST ((PST_TIME_ZONE + PST_TIME_ZONE_DST_DIFF) * 3600)\n\nstatic const char* ssid = IOT_CONFIG_WIFI_SSID;\nstatic const char* password = IOT_CONFIG_WIFI_PASSWORD;\nstatic const char* host = IOT_CONFIG_IOTHUB_FQDN;\nstatic const char* mqtt_broker_uri = &quot;mqtts://&quot; IOT_CONFIG_IOTHUB_FQDN;\nstatic const char* device_id = IOT_CONFIG_DEVICE_ID;\nstatic const int mqtt_port = 8883;\n\nstatic esp_mqtt_client_handle_t mqtt_client;\nstatic az_iot_hub_client client;\n\nstatic char mqtt_client_id[128];\nstatic char mqtt_username[128];\nstatic char mqtt_password[200];\nstatic uint8_t sas_signature_buffer[256];\nstatic unsigned long next_telemetry_send_time_ms = 0;\nstatic char telemetry_topic[128];\nstatic uint8_t telemetry_payload[100];\nstatic uint32_t telemetry_send_count = 0;\n\nstatic AzIoTSasToken sasToken(\n    &amp;client,\n    AZ_SPAN_FROM_STR(IOT_CONFIG_DEVICE_KEY),\n    AZ_SPAN_FROM_BUFFER(sas_signature_buffer),\n    AZ_SPAN_FROM_BUFFER(mqtt_password));\n\nstatic void connectToWiFi()\n{\n  Logger.Info(&quot;Connecting to WIFI SSID &quot; + String(ssid));\n\n  WiFi.mode(WIFI_STA);\n  WiFi.begin(ssid, password);\n  while (WiFi.status() != WL_CONNECTED)\n  {\n    delay(500);\n    Serial.print(&quot;.&quot;);\n  }\n\n  Serial.println(&quot;&quot;);\n\n  Logger.Info(&quot;WiFi connected, IP address: &quot; + WiFi.localIP().toString());\n}\n\nstatic void initializeTime()\n{\n  Logger.Info(&quot;Setting time using SNTP&quot;);\n\n  configTime(GMT_OFFSET_SECS, GMT_OFFSET_SECS_DST, NTP_SERVERS);\n  time_t now = time(NULL);\n  while (now &lt; UNIX_TIME_NOV_13_2017)\n  {\n    delay(500);\n    Serial.print(&quot;.&quot;);\n    now = time(nullptr);\n  }\n  Serial.println(&quot;&quot;);\n  Logger.Info(&quot;Time initialized!&quot;);\n}\n\nvoid receivedCallback(char* topic, byte* payload, unsigned int length)\n{\n  Logger.Info(&quot;Received [&quot;);\n  Logger.Info(topic);\n  Logger.Info(&quot;]: &quot;);\n  for (int i = 0; i &lt; length; i++)\n  {\n    Serial.print((char)payload[i]);\n  }\n}\n\nstatic esp_err_t mqtt_event_handler(esp_mqtt_event_handle_t event)\n{\n   Logger.Info(&quot;mqtt_event_handler fired!&quot;);\n  switch (event-&gt;event_id)\n  {\n    case MQTT_EVENT_ERROR:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_ERROR&quot;);\n      break;\n    case MQTT_EVENT_CONNECTED:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_CONNECTED&quot;);\n      break;\n    case MQTT_EVENT_DISCONNECTED:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_DISCONNECTED&quot;);\n      break;\n    case MQTT_EVENT_SUBSCRIBED:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_SUBSCRIBED&quot;);\n      break;\n    case MQTT_EVENT_UNSUBSCRIBED:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_UNSUBSCRIBED&quot;);\n      break;\n    case MQTT_EVENT_PUBLISHED:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_PUBLISHED&quot;);\n      break;\n    case MQTT_EVENT_DATA:\n      //THIS EVENT IS NOT FIRERING\n      Logger.Info(&quot;MQTT event MQTT_EVENT_DATA&quot;);\n      break;\n    case MQTT_EVENT_BEFORE_CONNECT:\n      Logger.Info(&quot;MQTT event MQTT_EVENT_BEFORE_CONNECT&quot;);\n      break;\n    default:\n      Logger.Error(&quot;MQTT event UNKNOWN&quot;);\n      break;\n  }\n}\n\nstatic void initializeIoTHubClient()\n{\n  if (az_result_failed(az_iot_hub_client_init(\n          &amp;client,\n          az_span_create((uint8_t*)host, strlen(host)),\n          az_span_create((uint8_t*)device_id, strlen(device_id)),\n          NULL)))\n  {\n    Logger.Error(&quot;Failed initializing Azure IoT Hub client&quot;);\n    return;\n  }\n\n  size_t client_id_length;\n  if (az_result_failed(az_iot_hub_client_get_client_id(\n          &amp;client, mqtt_client_id, sizeof(mqtt_client_id) - 1, &amp;client_id_length)))\n  {\n    Logger.Error(&quot;Failed getting client id&quot;);\n    return;\n  }\n\n  // Get the MQTT user name used to connect to IoT Hub\n  if (az_result_failed(az_iot_hub_client_get_user_name(\n          &amp;client, mqtt_username, sizeofarray(mqtt_username), NULL)))\n  {\n    Logger.Error(&quot;Failed to get MQTT clientId, return code&quot;);\n    return;\n  }\n\n  Logger.Info(&quot;Client ID: &quot; + String(mqtt_client_id));\n  Logger.Info(&quot;Username: &quot; + String(mqtt_username));\n}\n\nstatic int initializeMqttClient()\n{\n  if (sasToken.Generate(SAS_TOKEN_DURATION_IN_MINUTES) != 0)\n  {\n    Logger.Error(&quot;Failed generating SAS token&quot;);\n    return 1;\n  }\n\n  esp_mqtt_client_config_t mqtt_config;\n  memset(&amp;mqtt_config, 0, sizeof(mqtt_config));\n  mqtt_config.uri = mqtt_broker_uri;\n  mqtt_config.port = mqtt_port;\n  mqtt_config.client_id = mqtt_client_id;\n  mqtt_config.username = mqtt_username;\n  mqtt_config.password = (const char*)az_span_ptr(sasToken.Get());\n  mqtt_config.keepalive = 30;\n  mqtt_config.disable_clean_session = 0;\n  mqtt_config.disable_auto_reconnect = false;\n  mqtt_config.event_handle = mqtt_event_handler;\n  mqtt_config.user_context = NULL;\n  mqtt_config.cert_pem = (const char*)ca_pem;\n\n  mqtt_client = esp_mqtt_client_init(&amp;mqtt_config);\n\n  if (mqtt_client == NULL)\n  {\n    Logger.Error(&quot;Failed creating mqtt client&quot;);\n    return 1;\n  }\n\n  esp_err_t start_result = esp_mqtt_client_start(mqtt_client);\n\n  if (start_result != ESP_OK)\n  {\n    Logger.Error(&quot;Could not start mqtt client; error code:&quot; + start_result);\n    return 1;\n  }\n  else\n  {\n    Logger.Info(&quot;MQTT client started&quot;);\n    return 0;\n  }\n}\n\nstatic uint32_t getEpochTimeInSecs() \n{ \n  return (uint32_t)time(NULL);\n}\n\nstatic int establishConnection()\n{\n  connectToWiFi();\n  initializeTime();\n  initializeIoTHubClient();\n  (void)initializeMqttClient();\n}\n\nvoid setup() { establishConnection(); }\n\nstatic void getTelemetryPayload(az_span payload, az_span* out_payload)\n{\n  az_span original_payload = payload;\n\n  payload = az_span_copy(\n      payload, AZ_SPAN_FROM_STR(&quot;{ \\&quot;deviceId\\&quot;: \\&quot;&quot; IOT_CONFIG_DEVICE_ID &quot;\\&quot;, \\&quot;msgCount\\&quot;: &quot;));\n  (void)az_span_u32toa(payload, telemetry_send_count++, &amp;payload);\n  payload = az_span_copy(payload, AZ_SPAN_FROM_STR(&quot; }&quot;));\n  payload = az_span_copy_u8(payload, '\\0');\n\n  *out_payload = az_span_slice(original_payload, 0, az_span_size(original_payload) - az_span_size(payload));\n}\n\nstatic void sendTelemetry()\n{\n  az_span telemetry = AZ_SPAN_FROM_BUFFER(telemetry_payload);\n\n  Logger.Info(&quot;Sending telemetry ...&quot;);\n\n  // The topic could be obtained just once during setup,\n  // however if properties are used the topic need to be generated again to reflect the\n  // current values of the properties.\n  if (az_result_failed(az_iot_hub_client_telemetry_get_publish_topic(\n          &amp;client, NULL, telemetry_topic, sizeof(telemetry_topic), NULL)))\n  {\n    Logger.Error(&quot;Failed az_iot_hub_client_telemetry_get_publish_topic&quot;);\n    return;\n  }\n\n  getTelemetryPayload(telemetry, &amp;telemetry);\n\n  if (esp_mqtt_client_publish(\n          mqtt_client,\n          telemetry_topic,\n          (const char*)az_span_ptr(telemetry),\n          az_span_size(telemetry),\n          MQTT_QOS1,\n          DO_NOT_RETAIN_MSG)\n      == 0)\n  {\n    Logger.Error(&quot;Failed publishing&quot;);\n  }\n  else\n  {\n    Logger.Info(&quot;Message published successfully&quot;);\n  }\n}\n\nvoid loop()\n{\n  if (WiFi.status() != WL_CONNECTED)\n  {\n    connectToWiFi();\n  }\n  else if (sasToken.IsExpired())\n  {\n    Logger.Info(&quot;SAS token expired; reconnecting with a new one.&quot;);\n    (void)esp_mqtt_client_destroy(mqtt_client);\n    initializeMqttClient();\n  }\n  else if (millis() &gt; next_telemetry_send_time_ms)\n  {\n    sendTelemetry();\n    next_telemetry_send_time_ms = millis() + TELEMETRY_FREQUENCY_MILLISECS;\n  }\n}\n</code></pre>\n<p>COM LOG:</p>\n<pre><code>11:07:37.286 -&gt; 1970/1/1 00:00:00 [INFO] Connecting to WIFI SSID ELMA\n11:07:37.904 -&gt; .....\n11:07:39.898 -&gt; 1970/1/1 00:00:02 [INFO] WiFi connected, IP address: 192.168.3.90\n11:07:39.898 -&gt; 1970/1/1 00:00:02 [INFO] Setting time using SNTP\n11:07:40.399 -&gt; .\n11:07:40.399 -&gt; 2021/9/14 08:07:39 [INFO] Time initialized!\n11:07:40.399 -&gt; 2021/9/14 08:07:39 [INFO] Client ID: DEVICETEST\n11:07:40.399 -&gt; 2021/9/14 08:07:39 [INFO] Username: xxxx\n11:07:40.399 -&gt; 2021/9/14 08:07:39 [INFO] 2021/9/14 08:07:39 [INFO] mqtt_event_handler fired!\n11:07:40.399 -&gt; 2021/9/14 08:07:39 [INFO] MQTT event MQTT_EVENT_BEFORE_CONNECT\n11:07:40.446 -&gt; MQTT client started\n11:07:40.446 -&gt; 2021/9/14 08:07:39 [INFO] Sending telemetry ...\n11:07:41.954 -&gt; 2021/9/14 08:07:41 [INFO] mqtt_event_handler fired!\n11:07:41.954 -&gt; 2021/9/14 08:07:41 [INFO] MQTT event MQTT_EVENT_CONNECTED\n11:07:41.954 -&gt; 2021/9/14 08:07:41 [INFO] Message published successfully\n11:07:42.268 -&gt; 2021/9/14 08:07:41 [INFO] mqtt_event_handler fired!\n11:07:42.268 -&gt; 2021/9/14 08:07:41 [INFO] MQTT event MQTT_EVENT_PUBLISHED\n11:07:51.948 -&gt; 2021/9/14 08:07:51 [INFO] Sending telemetry ...\n11:07:51.948 -&gt; 2021/9/14 08:07:51 [INFO] Message published successfully\n11:07:52.095 -&gt; 2021/9/14 08:07:51 [INFO] mqtt_event_handler fired!\n11:07:52.095 -&gt; 2021/9/14 08:07:51 [INFO] MQTT event MQTT_EVENT_PUBLISHED\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hNR34.png\" rel=\"nofollow noreferrer\">Azure console to send message to device</a></p>\n"
    }, {
        "tags": ["ubuntu", "cloud", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 16,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1631476510,
        "creation_date": 1631208141,
        "last_edit_date": 1631476510,
        "question_id": 69122387,
        "link": "https://stackoverflow.com/questions/69122387/facing-these-errors-while-running-cmake-command-for-aws-iot-device-sdk",
        "title": "Facing these errors while running cmake .. command for aws iot device sdk",
        "body": "<p><a href=\"https://i.stack.imgur.com/pSanG.png\" rel=\"nofollow noreferrer\">IMAGE -1 </a>\n<a href=\"https://i.stack.imgur.com/7PTGj.png\" rel=\"nofollow noreferrer\">IMAGE - 2</a><a href=\"https://i.stack.imgur.com/9hYe7.png\" rel=\"nofollow noreferrer\">Image -3</a></p>\n<p>Link for the aws iot sdk-\n<a href=\"https://github.com/aws/aws-iot-device-sdk-embedded-C/blob/main/demos/fleet_provisioning/fleet_provisioning_with_csr/fleet_provisioning_with_csr_demo.c\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-iot-device-sdk-embedded-C/blob/main/demos/fleet_provisioning/fleet_provisioning_with_csr/fleet_provisioning_with_csr_demo.c</a></p>\n<p>I AM FACING THESE ERRORS WHICH ARE  IN THE ABOVE IMAGES</p>\n<p>-&gt;INCLUDE COULD NOT FIND LOAD FILES\n-&gt;MOSQUITTO WAS NOT INSTALLED</p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "azure-keyvault", "azure-iot-dps"],
        "is_answered": false,
        "view_count": 41,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1631173032,
        "creation_date": 1630585859,
        "last_edit_date": 1630587372,
        "question_id": 69030343,
        "link": "https://stackoverflow.com/questions/69030343/upload-certificate-in-azure-device-provisioning-service",
        "title": "Upload certificate in Azure device provisioning service",
        "body": "<p>How to upload a new certificate programmatically in a device provisioning ?\nI am able to it manually but how can you upload it from a C# code ? Is there any Api ? I don't see anything about it on the Microsoft Documentation.</p>\n<p>Moreover, is it possible to use the certificates from the Azure Key Vault ?</p>\n<p><a href=\"https://i.stack.imgur.com/3pY0p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3pY0p.png\" alt=\"DPS screenshot\" /></a></p>\n<p>EDIT:</p>\n<p>I found how to do it with Azure Cli, but I would like to do it with C#</p>\n<p>az iot dps certificate create --dps-name MyDps --resource-group MyResourceGroup --name MyCertificate --path /certificates/Certificate.pem</p>\n<p><a href=\"https://docs.microsoft.com/en-us/cli/azure/iot/dps/certificate?view=azure-cli-latest#az_iot_dps_certificate_create\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/cli/azure/iot/dps/certificate?view=azure-cli-latest#az_iot_dps_certificate_create</a></p>\n<p>EDIT:</p>\n<p>I found how to do it by API.</p>\n<p>PUT <a href=\"https://management.azure.com/subscriptions/%7BsubscriptionId%7D/resourceGroups/%7BresourceGroupName%7D/providers/Microsoft.Devices/provisioningServices/%7BprovisioningServiceName%7D/certificates/%7BcertificateName%7D?api-version=2018-01-22\" rel=\"nofollow noreferrer\">https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Devices/provisioningServices/{provisioningServiceName}/certificates/{certificateName}?api-version=2018-01-22</a></p>\n<p><a href=\"https://docs.microsoft.com/en-us/rest/api/iot-dps/dps-certificate/create-or-update\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/rest/api/iot-dps/dps-certificate/create-or-update</a></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-stream-analytics"],
        "is_answered": false,
        "view_count": 67,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1630955981,
        "creation_date": 1630610110,
        "last_edit_date": 1630617272,
        "question_id": 69035915,
        "link": "https://stackoverflow.com/questions/69035915/stream-analytics-jobs-there-is-no-data-from-input",
        "title": "Stream Analytics jobs &quot;There is no data from input&quot;",
        "body": "<p>I'm trying to create a stream pipeline with the azure IoT hub and a Stream Analytics jobs.</p>\n<p>For the first part I'm using a python script to send data from a device in the IoThub, then I set up the routing of the hub to a container where the data is saved.</p>\n<p><a href=\"https://i.stack.imgur.com/5LZbZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5LZbZ.png\" alt=\"enter image description here\" /></a></p>\n<p>After a few minutes, this is the content of the container:</p>\n<p><a href=\"https://i.stack.imgur.com/UTBLG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTBLG.png\" alt=\"enter image description here\" /></a></p>\n<p>Now, the part that fails is the Stream Analytics jobs, I have set the input of the job to the iothub:</p>\n<p><a href=\"https://i.stack.imgur.com/lgb9z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lgb9z.png\" alt=\"enter image description here\" /></a></p>\n<p>And the output to a container:</p>\n<p><a href=\"https://i.stack.imgur.com/QYDWl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYDWl.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I test the query:</p>\n<pre><code>SELECT\n    *\nINTO\n    streamdataoutput\nFROM\n    streamdatainput\n</code></pre>\n<p>I get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/2u4Oh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2u4Oh.png\" alt=\"enter image description here\" /></a></p>\n<p>Either way I started the job:</p>\n<p><a href=\"https://i.stack.imgur.com/smnZq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/smnZq.png\" alt=\"enter image description here\" /></a></p>\n<p>But no data is been saved in the output container, since the query does not work</p>\n<p>This is the python code I'm using:</p>\n<pre><code>device_client = IoTHubDeviceClient.create_from_connection_string(conn_str)\ndevice_client.connect()\n\n\nfor i in range(1, 180):\n    print(&quot;sending message #&quot; + str(i))\n    msg = Message(&quot;test wind speed &quot; + str(i))\n    msg.message_id = uuid.uuid4()\n    msg.correlation_id = &quot;correlation-1234&quot;\n    msg.custom_properties[&quot;payload&quot;] ={&quot;temp&quot;:1,&quot;speed&quot;:1}\n    msg.content_encoding = &quot;utf-8&quot;\n    msg.content_type = &quot;application/json&quot;\n    device_client.send_message(msg)\n    time.sleep(3)\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>At this point I have deleted the routing to the storage blob, I wasn-t able to view the telemetry in the <strong>Azure IoT Explorer</strong> once I deleted the routing that part work again, but I-m still not able to read the data from the Stream Analytics Job.</p>\n<p>This is a sample of the data I can see in the Azure IoT Explorer, could it be that the format of the data is worng? Not sure what the <strong>body</strong> means, since I'm not sending that, also the main message: &quot;msg = Message(&quot;test wind speed &quot; + str(i))&quot; is not visible there</p>\n<pre><code>Thu Sep 02 2021 17:12:30 GMT-0400 (Chile Standard Time):\n{\n  &quot;body&quot;: {\n    &quot;0&quot;: 116,\n    &quot;1&quot;: 101,\n    &quot;2&quot;: 109,\n    &quot;3&quot;: 112,\n    &quot;4&quot;: 58,\n    &quot;5&quot;: 32,\n    &quot;6&quot;: 49,\n    &quot;7&quot;: 48\n  },\n  &quot;enqueuedTime&quot;: &quot;Thu Sep 02 2021 17:12:30 GMT-0400 (Chile Standard Time)&quot;,\n  &quot;properties&quot;: {\n    &quot;payload&quot;: &quot;{'temp': 1, 'speed': 1}&quot;\n  },\n  &quot;systemProperties&quot;: {\n    &quot;iothub-connection-device-id&quot;: &quot;TempSensor&quot;,\n    &quot;iothub-connection-auth-method&quot;: &quot;{\\&quot;scope\\&quot;:\\&quot;device\\&quot;,\\&quot;type\\&quot;:\\&quot;sas\\&quot;,\\&quot;issuer\\&quot;:\\&quot;iothub\\&quot;,\\&quot;acceptingIpFilterRule\\&quot;:null}&quot;,\n    &quot;iothub-connection-auth-generation-id&quot;: &quot;637662038417651333&quot;,\n    &quot;iothub-enqueuedtime&quot;: 1630617150538,\n    &quot;iothub-message-source&quot;: &quot;Telemetry&quot;,\n    &quot;x-opt-sequence-number&quot;: 1154,\n    &quot;x-opt-offset&quot;: &quot;550808&quot;,\n    &quot;x-opt-enqueued-time&quot;: 1630617150616\n  }\n}\n</code></pre>\n<p>As mention by  Florian Eiden,</p>\n"
    }, {
        "tags": ["html", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 22,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1627273538,
        "creation_date": 1627272813,
        "last_edit_date": 1627273538,
        "question_id": 68524422,
        "link": "https://stackoverflow.com/questions/68524422/raspi-problem-running-script-to-toggle-gpio-over-web-with-a-webpage",
        "title": "Raspi / Problem running script to toggle GPIO over web with a webpage",
        "body": "<p>I'm trying to control an LED light by toggling GPIO pin on a RaspberryPi over the web.</p>\n<p>index.html (below) has two buttons to run functions which will trigger the two scripts (lighton.cgi and lightoff.cgi) to control GPIO directly. I verified the scripts which will turn on or off the LED. But somehow when I click the button on index.html, it will not turn on or off LED.</p>\n<p>Is there a syntax error in my index.html? or has there been a change in html convention? Can someone please help me?</p>\n<p><strong>index.html code:</strong></p>\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;button onclick=&quot;lighton()&quot;&gt;Turn On&lt;/button&gt;\n&lt;br&gt;&lt;br&gt;\n&lt;button onclick=&quot;lightoff()&quot;&gt;Turn Off&lt;/button&gt;\n&lt;script&gt;\nvar xmlhttp;\nxmlhttp=new XMLHttpRequest();\nfunction lighton()\n    {\n        xmlhttp.open(&quot;GET&quot;,&quot;cgi-bin/lighton.cgi&quot;,true);\n        xmlhttp.send();\n    }\nfunction lightoff()\n    {\n        xmlhttp.open(&quot;GET&quot;,&quot;cgi-bin/lightoff.cgi&quot;,true);\n        xmlhttp.send();\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p><strong>lighton.cgi code:</strong></p>\n<pre><code>#!/bin/bash\ngpio -g write 10 1\n</code></pre>\n<p>[b]lightoff.cgi code:[/b]</p>\n<pre><code>#!/bin/bash\ngpio -g write 10 0\n</code></pre>\n<p>I basically followed MJRoBot's tutorial below:\n<a href=\"https://www.hackster.io/mjrobot/iot-controlling-a-raspberry-pi-robot-over-internet-6988d4#toc-step-1--bill-of-material-1\" rel=\"nofollow noreferrer\">https://www.hackster.io/mjrobot/iot-controlling-a-raspberry-pi-robot-over-internet-6988d4#toc-step-1--bill-of-material-1</a></p>\n"
    }, {
        "tags": ["docker", "iot", "gateway"],
        "is_answered": false,
        "view_count": 20,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1627043644,
        "creation_date": 1627043644,
        "question_id": 68499271,
        "link": "https://stackoverflow.com/questions/68499271/running-edgex-ui-go-using-docker-compose",
        "title": "Running Edgex-UI-GO using docker-compose",
        "body": "<p>Hey I am new to using EdgeX IoT hub. The issue I am facing is that I can add devices etc. using the api through postman on port 48081. I face a problem when trying to add devices etc. using the edgex-ui-go image.</p>\n<p><a href=\"https://i.stack.imgur.com/aVwvl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aVwvl.png\" alt=\"enter image description here\" /></a></p>\n<p>Are there any settings I have to change in my docker-compose gui container?</p>\n<pre><code>ui:\n  container_name: edgex-ui-go\n  hostname: edgex-ui-go\n  image: nexus3.edgexfoundry.org:10004/docker-edgex-ui-go:master\n  networks:\n      - edgex-network\n  ports:\n      - &quot;127.0.0.1:4000:4000/tcp&quot;\n  read_only: true\n</code></pre>\n<p>Ideally the device information should be retrieved from <code>http://localhost:48081/api/v1/device</code></p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "azure-iot-edge", "azure-iot-central"],
        "is_answered": false,
        "view_count": 137,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1626396751,
        "creation_date": 1625397259,
        "last_edit_date": 1625397666,
        "question_id": 68244155,
        "link": "https://stackoverflow.com/questions/68244155/how-to-connect-tcp-ip-device-with-azure-iot-hub-and-also-the-device-is-non-progr",
        "title": "How to connect TCP/IP device with Azure IoT hub and also the device is non programmable",
        "body": "<p>I want to connect a device that is working on TCP/IP protocol with the Azure IoT hub the thing which can be modified in the device is the IP address and port number I went through the azure IoT hub documentation and came to know it supports the following communication protocol:</p>\n<ol>\n<li>MQTT</li>\n<li>MQTT over WebSockets</li>\n<li>AMQP</li>\n<li>AMQP over WebSockets</li>\n<li>HTTPS</li>\n</ol>\n<p>This is the link <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-protocols\" rel=\"nofollow noreferrer\">here</a></p>\n<p>so my question is how can I connect this type of device with the Azure IoT hub</p>\n<p>Thanks</p>\n"
    }, {
        "tags": ["azure", "vpn", "iot"],
        "is_answered": true,
        "view_count": 982,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1626241712,
        "creation_date": 1445072509,
        "last_edit_date": 1445118342,
        "question_id": 33184753,
        "link": "https://stackoverflow.com/questions/33184753/is-it-possible-to-install-the-microsoft-azure-iot-suite-on-premise-in-my-vpn",
        "title": "is it possible to install the Microsoft &quot;Azure IoT Suite&quot; on premise in my vpn?",
        "body": "<p>Azure IoT Suite [1] seems awesome, nevertheless I would like to use the IoT Suite on premises in my vpn. </p>\n\n<p>Who can tell me whether Microsoft provides such local functionalities?</p>\n\n<p>[1] <a href=\"http://www.microsoft.com/en-us/server-cloud/internet-of-things/azure-iot-suite.aspx\" rel=\"nofollow\">http://www.microsoft.com/en-us/server-cloud/internet-of-things/azure-iot-suite.aspx</a></p>\n"
    }, {
        "tags": ["pubnub", "iot"],
        "is_answered": true,
        "view_count": 295,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1625047651,
        "creation_date": 1420936515,
        "last_edit_date": 1625047651,
        "question_id": 27882739,
        "link": "https://stackoverflow.com/questions/27882739/cant-publish-data-from-cc3100-msp430f5529-on-pubnub",
        "title": "Can&#39;t publish data from CC3100 + MSP430F5529 on PUBNUB",
        "body": "<p>I followed the following tutorial: <a href=\"http://www.pubnub.com/blog/pubnub-streaming-texas-instruments-iot/\" rel=\"nofollow noreferrer\">http://www.pubnub.com/blog/pubnub-streaming-texas-instruments-iot/</a>\nstep by step and I managed to compile and code and connect to my Wi-Fi access point.\nI think I managed to connect to PubNub (the code prints on the terminal screen &quot;PubNub Set Up&quot; but in the code there is no real verification that it was indeed set up.</p>\n<p>I opened an account on PubNub and I named my channel &quot;testing&quot; (I named it the same in the code I uploaded - I checked that a million times) and when I go to the Dev Console and click on subscribe I can't see anything! I mean I can post messages through the Dev Console but what I really want to see are the messages from the CC3100.\nI checked the UART terminal on my computer and I see the data being printed constantly so I know it is working.\nI went over the tutorial again and again and I'm doing the same thing but it just doesn't work.\nAny help would be appreciated!</p>\n<p>What am I missing?</p>\n<p>Thanks</p>\n"
    }, {
        "tags": ["azure", "docker", "iot"],
        "is_answered": false,
        "view_count": 747,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1623679327,
        "creation_date": 1540910103,
        "question_id": 53066695,
        "link": "https://stackoverflow.com/questions/53066695/iot-edge-custom-module-not-reported-by-device",
        "title": "IoT Edge custom module not reported by device",
        "body": "<p>I'm using Microsoft Azure to set an IoT network to connect a laptop with Linux as the device to the IoT Hub run with Windows, and while the device connects without problems I can't make the custom module built on Docker and coded in Python run. This is how the device details look like: </p>\n\n<p><a href=\"https://i.stack.imgur.com/FAiDe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FAiDe.jpg\" alt=\"Device details\"></a></p>\n\n<p>When following the steps on Microsoft's <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/quickstart-linux\" rel=\"nofollow noreferrer\">tutorial</a> everything works like a charm with the temperature sensor example, which makes me guess the issue comes from my custom image URI pushed to Docker. In such field I've copied the address in the shape of <code>docker pull dockerhubname/container:module</code>, which I'm not entirely certain of.</p>\n\n<p>Any clue on what could be wrong? Thanks!</p>\n"
    }, {
        "tags": ["java", "azure", "iot", "azure-iot-hub", "azure-iot-sdk"],
        "is_answered": true,
        "view_count": 289,
        "favorite_count": 2,
        "score": 2,
        "last_activity_date": 1623256408,
        "creation_date": 1553677761,
        "last_edit_date": 1553870943,
        "question_id": 55373391,
        "link": "https://stackoverflow.com/questions/55373391/how-to-send-custom-payload-while-provisioning-device-in-azure-iot",
        "title": "How to send custom payload while provisioning device in Azure IoT?",
        "body": "<p>I am trying to provision my device into Azure IoT using Azure IoT Device Provisioning Service in which I am using the custom allocation policy, under manage enrollment group.</p>\n\n<p>When the device registers to DPS (device provisioning service), it triggers an Azure Function in which I will decide which IoT Hub the device will be assigned to.</p>\n\n<p>In my function, I have to take this decision based on some custom payload which I need to send from the device at the time of registering itself to DPS.</p>\n\n<p>How will I send that custom payload from the device to the DPS at the time of registering itself, so I can get that payload in my Azure Function and can take a decision?</p>\n\n<p>I am using Java as a programming language for the same.</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "azure-stream-analytics", "azure-iot-central"],
        "is_answered": false,
        "view_count": 55,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1621245056,
        "creation_date": 1620828446,
        "last_edit_date": 1621245056,
        "question_id": 67505280,
        "link": "https://stackoverflow.com/questions/67505280/iot-central-custom-rules",
        "title": "IOT Central Custom Rules",
        "body": "<p>Currently seeking assistance with the code on this site <a href=\"https://docs.microsoft.com/en-us/azure/iot-central/core/howto-create-custom-rules\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-central/core/howto-create-custom-rules</a>. Upon using the stream analytics job that uses a query to detect a disconnected deviceId, it returns null. Please see as follows:[all deviceId's for the disconnected device return a null, but timestamp is there.][1]</p>\n<p>This is the query I used.</p>\n<pre><code>with\nLeftSide as\n(\n    SELECT\n    -- Get the device ID from the message metadata and create a column\n    GetMetadataPropertyValue([centraltelemetry], '[EventHub].[IoTConnectionDeviceId]') as deviceid1, \n    EventEnqueuedUtcTime AS time1\n    FROM\n    -- Use the event enqueued time for time-based operations\n    [centraltelemetry] TIMESTAMP BY EventEnqueuedUtcTime\n),\nRightSide as\n(\n    SELECT\n    -- Get the device ID from the message metadata and create a column\n    GetMetadataPropertyValue([centraltelemetry], '[EventHub].[IoTConnectionDeviceId]') as deviceid2, \n    EventEnqueuedUtcTime AS time2\n    FROM\n    -- Use the event enqueued time for time-based operations\n    [centraltelemetry] TIMESTAMP BY EventEnqueuedUtcTime\n)\n\nSELECT\n    LeftSide.deviceid1 as deviceid,\n    LeftSide.time1 as time\nINTO\n    [emailnotification]\nFROM\n    LeftSide\n    LEFT OUTER JOIN\n    RightSide \n    ON\n    LeftSide.deviceid1=RightSide.deviceid2 AND DATEDIFF(second,LeftSide,RightSide) BETWEEN 1 AND 120\n    where\n    -- Find records where a device didn't send a message 120 seconds\n    RightSide.deviceid2 is NULL\n```[enter image description here][2]\n\n\n  [1]: https://i.stack.imgur.com/CLOQv.png\n  [2]: https://i.stack.imgur.com/IU3SX.png\n</code></pre>\n"
    }, {
        "tags": ["wifi", "webhooks", "iot", "esp8266", "ifttt"],
        "is_answered": false,
        "view_count": 33,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1620539667,
        "creation_date": 1620330347,
        "last_edit_date": 1620539667,
        "question_id": 67425032,
        "link": "https://stackoverflow.com/questions/67425032/how-to-incorporate-deep-sleep-to-esp8266-01-with-button-trigger",
        "title": "How to incorporate deep sleep to ESP8266-01 with button trigger",
        "body": "<p>I am working on an IOT button using esp8266-01 which is triggered by a button press to activate a webhook request via IFTTT. I have created the following circuit:</p>\n<p><a href=\"https://i.stack.imgur.com/Mnq6y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mnq6y.jpg\" alt=\"circuit diagram\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/px5hA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/px5hA.jpg\" alt=\"wiring to esp8266-01\" /></a></p>\n<p>I am hoping to active the webhook request by pressing a push button that should connect GND to RST and reset the circuit.</p>\n<p>Currently, the following code can automatically activate a webhook once a WiFi connection is established. I am trying to change the below code to be in a deep sleep until the button is pressed and then return to deep sleep once the webhook request is carried out and await the next button press. Can anyone tell me how to achieve this?</p>\n<p>Current code:</p>\n<pre><code>#include &lt;ESP8266WiFi.h&gt;\n#include &lt;ESP8266HTTPClient.h&gt;\n\nconst char* ssid=&quot;XXXX&quot;;\nconst char* password = &quot;XXXXXXXX&quot;;\n\nint ledPin = 2;\n\nvoid setup() {\n\n  pinMode(ledPin,OUTPUT);\n  digitalWrite(ledPin,HIGH);\n\n  Serial.begin(115200);\n  Serial.println();\n  Serial.print(&quot;Wifi connecting to &quot;);\n  Serial.println( ssid );\n\n  WiFi.begin(ssid,password);\n\n  Serial.println();\n  Serial.print(&quot;Connecting&quot;);\n\n  while( WiFi.status() != WL_CONNECTED ){\n      delay(500);\n      Serial.print(&quot;.&quot;);        \n  }\n\n\n  Serial.println();\n\n  Serial.println(&quot;Wifi Connected Success!&quot;);\n  Serial.print(&quot;NodeMCU IP Address : &quot;);\n  Serial.println(WiFi.localIP() );\n\n  digitalWrite( ledPin , LOW);\n\n}\n\nvoid loop() {\n\n  if (WiFi.status() != WL_CONNECTED){\n    digitalWrite( ledPin , HIGH);\n  }\n\n  if (1==1) { //Check WiFi connection status\n\n    HTTPClient http;  //Declare an object of class HTTPClient\n\n    http.begin(&quot;https://maker.ifttt.com/trigger/csalarm/with/key/XXXXXXXXXXX&quot;);  //Specify request destination\n    int httpCode = http.GET(); //Send the request\n    Serial.println(httpCode);\n\n    if (httpCode &gt; 0) { //Check the returning code\n\n      String payload = http.getString();   //Get the request response payload\n      Serial.println(1);                     //Print the response payload\n\n    }\n\n    http.end();   //Close connection\n\n  }\n\n  delay(30000);    //Send a request every 30 seconds\n}\n</code></pre>\n"
    }, {
        "tags": ["azure", "arduino", "mqtt", "iot", "esp8266"],
        "is_answered": false,
        "view_count": 396,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619346299,
        "creation_date": 1581875289,
        "last_edit_date": 1581880083,
        "question_id": 60251368,
        "link": "https://stackoverflow.com/questions/60251368/cant-connect-esp8266-device-to-azure-iot-hub",
        "title": "can&#39;t connect esp8266 device to azure IoT hub",
        "body": "<p>I am trying to connect a esp8266(esp-12e node mcu 1.0) to azure iot hub with code written in arduino. I've created a iot hub and a device using symmetric key authentication. Using the <a href=\"https://github.com/knolleary/pubsubclient\" rel=\"nofollow noreferrer\">PubSubClient</a> along with WifiClientSecure library to provide a secure mqtt connection(port 8883). generated a SAS token for the device. can't seem to connect to azure and keep getting mqtt disconnected error (-1). Oh and have the azure Baltimore CyberTrust Root CA downloaded and added </p>\n\n<pre><code>#define AZURE\n//#define AWS\n\n#ifdef AZURE\n#include \"secretsAzure.h\"\n#elif defined(AWS)\n#include \"secretsAws.h\"\n#endif\n\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;WiFiClientSecure.h&gt;\n#include &lt;ArduinoJson.h&gt;\n#include &lt;PubSubClient.h&gt;\n\nBearSSL::WiFiClientSecure net;\nBearSSL::X509List cert(cacert);\nPubSubClient client(net);\n\nvoid connectToWiFi()\n{\n    Serial.print(\"connecting to wifi\");\n    while (WiFi.status() != WL_CONNECTED)\n    {\n        Serial.print(\".\");\n        delay(1000);\n    }\n    Serial.println(\"ok!\");\n}\n\n\nvoid connectToMqtt()\n{\n    Serial.print(\"MQTT connecting \");\n    while (!client.connected())\n    {\n        if (client.connect(THINGNAME, USER, SAS_TOKEN))\n        {\n            Serial.println(\"connected!\");\n            if (!client.subscribe(MQTT_SUB_TOPIC))\n                Serial.println(client.state());\n        }\n        else\n        {\n            Serial.print(\"failed \");\n            Serial.println(client.state());\n            delay(5000);\n        }\n    }\n}\n\nvoid setup()\n{\n    pinMode(MYPIN, OUTPUT);\n    Serial.begin(115200);\n\n    WiFi.hostname(THINGNAME);\n    WiFi.mode(WIFI_STA);\n    WiFi.begin(ssid, pass);\n    connectToWiFi();\n\n    net.setTrustAnchors(&amp;cert);\n\n    client.setServer(MQTT_HOST, MQTT_PORT);\n    delay(5000);\n\n    connectToMqtt();\n}\n\nunsigned long lastMillis = 0;\nvoid loop()\n{\n    if (!client.connected())\n        connectToMqtt();\n    else\n    {\n        client.loop();\n        if (millis() - lastMillis &gt; 5000)\n        {\n            lastMillis = millis();\n            //sendData();\n        }\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["azure", "ip", "terraform", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 134,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1619080255,
        "creation_date": 1611131541,
        "last_edit_date": 1611218371,
        "question_id": 65805744,
        "link": "https://stackoverflow.com/questions/65805744/terraform-order-of-ip-filter-rules-for-iot-hub",
        "title": "Terraform order of ip filter rules for IoT Hub",
        "body": "<p>I want to deploy multiple azure cloud resources with terraform. My problem is with the terraform script for an azure IoT Hub, exspecially the ip restriction rules. According to the documentation I can do something like this</p>\n<pre><code> resource &quot;azurerm_iothub&quot; &quot;iothubname&quot; {\n  name                = &quot;somename&quot;\n  resource_group_name = azurerm_resource_group.someresourcegroup\n  location            = azurerm_resource_group.somelocation\n\n  sku {\n    name     = &quot;B2&quot;\n    capacity = &quot;2&quot;\n  }\n\n  fallback_route {\n    enabled = true\n  }\n\n\n\nip_filter_rule {\n    action = &quot;Accept&quot;\n    ip_mask =&quot;some_ip_range_1&quot;\n    name = &quot;some_name_1&quot;\n}\n\n\n\n ip_filter_rule {\n      action = &quot;Accept&quot;\n        ip_mask =&quot;some_ip_range_2&quot;\n        name = &quot;some_name_2&quot;   }\n\n\n\nip_filter_rule {\n      action = &quot;Accept&quot;\n        ip_mask =&quot;some_ip_range_3&quot;\n        name = &quot;some_name_3&quot;\n  }\n\n\n\n ip_filter_rule {\n      action = &quot;Reject&quot;\n        ip_mask =&quot;0.0.0.0/0&quot;\n        name = &quot;everything_else&quot;\n  }\n</code></pre>\n<p>}</p>\n<p>Everything works fine, ecept that the ordering of the ip rules is not the same as above and in my case I definitely want the last rule to be the the one with the lowest priority on azure. Azure IoT hub applies the filter rules in order.</p>\n<p>How can I enforce a certain ordering of ip filter?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 31,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1619040287,
        "creation_date": 1615878474,
        "last_edit_date": 1619040287,
        "question_id": 66650460,
        "link": "https://stackoverflow.com/questions/66650460/register-iot-device-both-in-azure-hk-china-iot-hub-via-dps",
        "title": "Register IoT Device both in Azure HK &amp; China IoT Hub via DPS",
        "body": "<p>As our customer requirement, we would like to store the telemetry on Azure HK IoT Hub and Azure China one.</p>\n<p>I'm just wondering whether we could use the same certification on the IoT device to register to both IoT hubs via DPS. If yes, please give an example. Any changes required to adjusted while sending the data to both hubs. Thanks in advance.</p>\n"
    }, {
        "tags": ["azure", "iot", "raspbian", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 247,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1617873120,
        "creation_date": 1596034215,
        "question_id": 63156340,
        "link": "https://stackoverflow.com/questions/63156340/malformed-line-1-in-source-list-etc-apt-sources-list-d-microsoft-prod-list-inst",
        "title": "Malformed line 1 in source list /etc/apt/sources.list.d/microsoft-prod.list Install Azure IoT Edge runtime on Linux",
        "body": "<p>I am trying to install Azure IoT Edge runtime on Raspberry OS and I am always getting this error &quot;Malformed line 1 in source list /etc/apt/sources.list.d/microsoft-prod.list (type)&quot; when I follow <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/how-to-install-iot-edge-linux\" rel=\"nofollow noreferrer\">this tutorial</a>. Please check the preceding image.</p>\n<p><a href=\"https://i.stack.imgur.com/fffXs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fffXs.png\" alt=\"enter image description here\" /></a></p>\n<p>Anyone else faced this issue?</p>\n"
    }, {
        "tags": ["azure", "cloud", "iot", "openvpn"],
        "is_answered": false,
        "view_count": 22,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1617373576,
        "creation_date": 1617272371,
        "last_edit_date": 1617373576,
        "question_id": 66902701,
        "link": "https://stackoverflow.com/questions/66902701/connect-azure-virtual-network-to-an-existing-openvpn",
        "title": "Connect azure virtual network to an existing OpenVPN",
        "body": "<p>I wanted to use Azure services for an University assignment. The IoT sensors I need to access from azure are only available through an OpenVPN. This is the configuration file we normally use to connect:</p>\n<pre><code>client\ndev tap\nproto tcp\nport 1194\nremote vpn.kpi.fei.tuke.sk\nresolv-retry infinite\nnobind\npersist-key\n&lt;ca&gt;\n-----BEGIN CERTIFICATE-----\nMIIDTTCCAjWgAwIBAgIJAJkFVUZOZOnIMA0GCSqGSIb3DQEBCwUAMB4xHDAaBgNV\nBAMTE3Zwbi5rcGkuZmVpLnR1a2Uuc2swHhcNMTgxMjEzMTI1NTQ5WhcNMzgxMjA4\nMTI1NTQ5WjAeMRwwGgYDVQQDExN2cG4ua3BpLmZlaS50dWtlLnNrMIIBIjANBgkq\nhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA25aTOGRTlrzN7O8vD+zTpYou2d9uu+C5\nuHd8sZntlEsgJmgqFY4PGAtq5EedtbYV3dj3sK50c4GrT3WnZM8lO8HFQaMvpv35\nFN4RW/7P+KwahyRCC0f53g7sH4zDzafPMja984hO4jHyJUAWtRrzi7/id4rkt0r9\nogFsn4TmBp+9EjcfF6/fjmh28XaoPw8/NtSJKaH+N2s63yf/otlhKnGxCbrKW8zz\nJ3rVq9+hekCL4BaDhJ66S/JAdc5IBroAIdWFNceck0oR9F111QhhC8y2hCsbSeI4\nOipNl2P8tWuNVFIzEkpyeRdxvTbjkf/YBNQkD9n+C2L/TgUnR6MTWQIDAQABo4GN\nMIGKMB0GA1UdDgQWBBSP/ve8tihuxk64CmFK9prs2W/v0zBOBgNVHSMERzBFgBSP\n/ve8tihuxk64CmFK9prs2W/v06EipCAwHjEcMBoGA1UEAxMTdnBuLmtwaS5mZWku\ndHVrZS5za4IJAJkFVUZOZOnIMAwGA1UdEwQFMAMBAf8wCwYDVR0PBAQDAgEGMA0G\nCSqGSIb3DQEBCwUAA4IBAQA64u660PnbnTtcMUDkMAFWsEdsZkm4W9b9dhaJvbqB\n0O9uLpH/BVPKFmg+3GrD5kQcFyVr7nRNGD8Nz4yPHjsXVU0wkewjqAJNy46Iu3Zp\nvreMXDuo0qMKJsHYq/TNq2GNwOlwZTAUfQF2h2eWbQmVoF9hrOIk+qjxXLIO7SW4\nfAYfBsi7kV9f5cENJjzTKRa5WkO2+WNMEwkAxHEsY5ODDwMK7/72JyAT+9UA3K8T\n6o02yPJnjioc9Ea3rufkcdVXnNf437ltneHaoEdI3H6qCsgfK0IepjWsVU3G7Vav\ndn6t4WOhiwmg98msxsPSRowlkQmfTdhJCY73EjZ2wBHm\n-----END CERTIFICATE-----\n&lt;/ca&gt;\ncipher AES-256-CBC\ncomp-lzo\nverb 3\nauth-user-pass\n</code></pre>\n<p>How would I use this to connect azure to this VPN? I thought about adding a VM into the network and using that, but it seems really wasteful. I also ran through these guides: <a href=\"https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-openvpn\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/vpn-gateway/vpn-gateway-howto-openvpn</a></p>\n<p>But they only seem to show how to create a VPN on azure and connect to that.</p>\n"
    }, {
        "tags": ["wifi", "iot", "wifi-direct", "microchip"],
        "is_answered": false,
        "view_count": 11,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1615901401,
        "creation_date": 1615901401,
        "question_id": 66656203,
        "link": "https://stackoverflow.com/questions/66656203/rn1810-udp-communication-with-computer",
        "title": "RN1810 UDP communication with computer",
        "body": "<p>I'm trying to establish UDP communication with RM1810 WiFi module beatween MCU (stm32f070rb) and my computer. Both devices are connected to the same WiFi.\nFor theexample, I'm using following datasheet: <a href=\"http://ww1.microchip.com/downloads/en/DeviceDoc/50002467A.pdf\" rel=\"nofollow noreferrer\">http://ww1.microchip.com/downloads/en/DeviceDoc/50002467A.pdf</a></p>\n<p>I set all the parameters written in example 4-1, 4-2 and then join the module to the same Wifi as the computer is (192.168.1.253).\nThe set parameters are visible in the picture:\n<a href=\"https://i.stack.imgur.com/g3vwR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/g3vwR.png</a></p>\n<p>After that I eastablished UDP socket in my computer with Hercules program (presented in link below):\n<a href=\"https://i.stack.imgur.com/ErHDn.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ErHDn.png</a></p>\n<p>If I'm writing in module (via MCU USART interface), the data are succesfully  delivered to my computer. If I'm writing from my computer (via herculese program) to module, the data are not delivered.</p>\n<p>So the communication is working only in one way (from module to my computer). The other way don't working.</p>\n<p>Can anyone please help me with this issue or give me any advice? I would be very pleased.\nThank you and have a nice day!</p>\n"
    }, {
        "tags": ["azure", "azure-functions", "iot", "azure-iot-hub", "azure-iot-central"],
        "is_answered": false,
        "view_count": 36,
        "favorite_count": 0,
        "score": -2,
        "last_activity_date": 1614756765,
        "creation_date": 1614750388,
        "question_id": 66451425,
        "link": "https://stackoverflow.com/questions/66451425/how-to-connect-third-party-device-with-azure-iot-central",
        "title": "How to connect third party device with azure iot central",
        "body": "<p>I want to make my own IoT solution software through which i can control and monitor third party products using azure IoT central so problem i am facing is to connect third party cloud with azure iot central can anyone suggest me how to achieve this task.</p>\n<p>Thanks,</p>\n"
    }, {
        "tags": ["azure-functions", "iot", "azure-iot-hub", "azure-iot-edge", "azure-iot-sdk"],
        "is_answered": true,
        "view_count": 257,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1613594530,
        "creation_date": 1600171843,
        "question_id": 63901561,
        "link": "https://stackoverflow.com/questions/63901561/is-there-a-way-to-update-device-initial-twin-from-azure-function-app",
        "title": "Is there a way to update device initial twin from azure function app?",
        "body": "<p>I'm using custom allocation policy to register my device through DPS. Reference code for C# can be found <a href=\"https://docs.microsoft.com/en-us/azure/iot-dps/how-to-use-custom-allocation-policies#create-the-custom-allocation-function\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>I have ported most of the code for Azure function from C# to NodeJS as below:-</p>\n<pre><code>module.exports = async function (context, req) {\n    const regId = req.body.deviceRuntimeContext.registrationId;\n    const response = {\n        status: 200,\n        message: 'Device registered successfully'\n    };\n    if (!regId)\n    {\n        response.status = 500\n    }\n    const requestCustomPayload = req.body.deviceRuntimeContext.payload;\n    context.res = {\n        iotHubHostName: req.body.deviceRuntimeContext.payload.hubName\n    };\n}\n</code></pre>\n<p>Now, the issue I'm facing is updating the initial twin for the device in above code. If you check the above link for c# code it has an class called TwinState and TwinCollection which are used to update the intial twin of the device, but same classes or similar api's I was not able to find in NodeJS.</p>\n<p>Does the nodejs Azure IoT sdk provide a way to update the initial twin?</p>\n"
    }, {
        "tags": ["raspberry-pi", "raspberry-pi3", "iot"],
        "is_answered": true,
        "view_count": 3041,
        "favorite_count": 1,
        "closed_date": 1612540684,
        "score": -1,
        "last_activity_date": 1612651602,
        "creation_date": 1489596205,
        "last_edit_date": 1612651602,
        "question_id": 42815835,
        "link": "https://stackoverflow.com/questions/42815835/how-to-make-webpage-to-show-real-time-values-sent-from-raspberry-pi",
        "title": "How to make Webpage to show real time values sent from raspberry pi",
        "body": "<p>I am working on a project in which I am using Heartbeat Temperature and ECG Sensor to get the patient data and using Raspberry Pi as Controller; I want to show the values from the sensors to be shown on a web page in real time, values will be in numeric form and an ECG graph. Please suggest a tutorial or method that can help in this regard. </p>\n"
    }, {
        "tags": ["socket.io", "iot", "esp32", "micropython"],
        "is_answered": true,
        "view_count": 483,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1612298067,
        "creation_date": 1611984413,
        "question_id": 65964936,
        "link": "https://stackoverflow.com/questions/65964936/is-there-client-socket-library-for-micropython-esp32",
        "title": "Is there client socket library for micropython (esp32)?",
        "body": "<p>I am facing an issue in connecting my ESP-32(in micropython) to my socket server(in nodejs). I have successfully connected to server via browser or flutter but I am unable to connect to it using my esp32.\nI am new to micropython , please help me to find the &quot;correct approach&quot; or &quot;some library&quot; so that I can move ahead. I am stuck due to this.\nAny help or suggestion will be appreciated.</p>\n<p>Thank you in advance</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 24,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1611648400,
        "creation_date": 1611648400,
        "question_id": 65897730,
        "link": "https://stackoverflow.com/questions/65897730/aws-iot-rule-does-not-process-escaped-json-strings",
        "title": "AWS IoT Rule does not process escaped JSON strings",
        "body": "<p>Dear Stackoverflow users,</p>\n<p>currently I am working with AWS IoT Rules and have found one issue.</p>\n<p><strong>Setup:</strong></p>\n<ul>\n<li>An IoT Rule that is subscribed on the Topic a/b/c</li>\n<li>Action - send a message to a Lambda function</li>\n<li>Error Action - send a message to an SQS queue</li>\n<li>SQL Query - SELECT * as mqttMessage, topic() as topicName FROM 'a/b/c'</li>\n</ul>\n<p><strong>Issue:</strong></p>\n<p>The setup works absolutely fine, if I publish a message in a form of a valid JSON object. Example:</p>\n<pre><code>{&quot;input&quot;: &quot;test&quot;}\n</code></pre>\n<p>But doesn`t work at all if I publish the same JSON object in a form of an escaped string. Example:</p>\n<pre><code>&quot;{\\&quot;input\\&quot;: \\&quot;test\\&quot;}&quot;\n</code></pre>\n<p>Moreover, with an escaped String as an Input, the message just disappear, without being send to an SQS queue.</p>\n<p>Could you please explain me what could be the issue and how can I fix it? Thank you.</p>\n<p>Kind regards</p>\n<p>Oleksii</p>\n"
    }, {
        "tags": ["iot", "endpoint", "ifttt"],
        "is_answered": false,
        "view_count": 23,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1611568796,
        "creation_date": 1611567066,
        "last_edit_date": 1611568796,
        "question_id": 65882060,
        "link": "https://stackoverflow.com/questions/65882060/how-to-create-a-delete-endpoint-in-iftttt-for-different-users",
        "title": "How to create a DELETE endpoint in IFTTTT for different users",
        "body": "<p>I need to create a DELETE end-point in IFTTT as suggested in the documentation (<a href=\"https://platform.ifttt.com/docs/api_reference#trigger-identity\" rel=\"nofollow noreferrer\">https://platform.ifttt.com/docs/api_reference#trigger-identity</a>). The DELETE endpoint is given as</p>\n<p><code>{{api_url_prefix}}/ifttt/v1/triggers/{{trigger_slug}}/trigger_identity/{{trigger_identity}}</code>\nso here the end-point needs the value of <code>{{trigger_identity}}</code>. Here the <code>trigger_identity</code> is a <strong>unique signature of a specific user, trigger, and trigger fields</strong> and it varies accordingly. So with as many users of ifttt that many DELETE end-point would be needed which is practically not possible. I need to have like a single DELETE endpoint of IFTTT that will catch all the delete request when user disconnects or archives the applet. Is there any solution to this issue? Thanks in advance for all the inputs.</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "azure-iot-sdk"],
        "is_answered": true,
        "view_count": 767,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1611311340,
        "creation_date": 1498039467,
        "last_edit_date": 1498108135,
        "question_id": 44672990,
        "link": "https://stackoverflow.com/questions/44672990/android-app-is-not-connecting-azure-iot-hub",
        "title": "Android app is not connecting Azure-iot Hub",
        "body": "<p>I have cloned android application from </p>\n\n<blockquote>\n  <p><a href=\"https://github.com/Azure/azure-iot-sdk-java/tree/master/device/iot-device-samples/android-sample\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-sdk-java/tree/master/device/iot-device-samples/android-sample</a> </p>\n</blockquote>\n\n<p>and created a IOT Hub as directed Here</p>\n\n<blockquote>\n  <p><a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted</a> </p>\n</blockquote>\n\n<p>and I got Connection string as mentioned there</p>\n\n<p>My code is as bellow</p>\n\n<pre><code>String connString = \"HostName=********.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=FYhyjH***************c1rQ22g=\";\n\nIotHubClientProtocol protocol = IotHubClientProtocol.MQTT;\n\n    DeviceClient client = new DeviceClient(connString, protocol); // error at this line \n\n    try {\n        client.open();\n    }\n    catch(IOException e1)\n    {\n        System.out.println(\"Exception while opening IoTHub connection3: \" + e1.toString());\n    }\n    catch(Exception e2)\n    {\n        System.out.println(\"Exception while opening IoTHub connection4: \" + e2.toString());\n    }\n</code></pre>\n\n<p>but getting this error while running app,  please correct me </p>\n\n<pre><code>06-21 17:29:13.865 12640-12640/com.ccc.iot_demo I/System.out: Exception while opening IoTHub connection2: java.lang.IllegalArgumentException: Device ID cannot be null.\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err: java.lang.IllegalArgumentException: Device ID cannot be null.\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at com.microsoft.azure.sdk.iot.device.IotHubConnectionString.validateTerms(IotHubConnectionString.java:206)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at com.microsoft.azure.sdk.iot.device.IotHubConnectionString.&lt;init&gt;(IotHubConnectionString.java:90)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at com.microsoft.azure.sdk.iot.device.DeviceClient.&lt;init&gt;(DeviceClient.java:141)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at com.ccc.iot_demo.MainActivity.SendMessage(MainActivity.java:52)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at com.ccc.iot_demo.MainActivity.onCreate(MainActivity.java:33)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.Activity.performCreate(Activity.java:6259)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1130)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2379)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2490)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.ActivityThread.-wrap11(ActivityThread.java)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1354)\n06-21 17:29:13.865 12640-12640/com.ccc.iot_demo W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:102)\n06-21 17:29:13.866 12640-12640/com.ccc.iot_demo W/System.err:     at android.os.Looper.loop(Looper.java:148)\n06-21 17:29:13.866 12640-12640/com.ccc.iot_demo W/System.err:     at android.app.ActivityThread.main(ActivityThread.java:5443)\n06-21 17:29:13.866 12640-12640/com.ccc.iot_demo W/System.err:     at java.lang.reflect.Method.invoke(Native Method)\n06-21 17:29:13.866 12640-12640/com.ccc.iot_demo W/System.err:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:728)\n06-21 17:29:13.866 12640-12640/com.ccc.iot_demo W/System.err:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:618)\n</code></pre>\n"
    }, {
        "tags": ["raspberry-pi", "cloud", "iot", "sensors", "fog"],
        "is_answered": true,
        "view_count": 42,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1611309684,
        "creation_date": 1611264140,
        "question_id": 65835920,
        "link": "https://stackoverflow.com/questions/65835920/how-do-i-create-a-near-edge-computing-system-send-sensor-data-with-raspberry-p",
        "title": "How do I create a Near Edge computing system? (Send sensor data with Raspberry Pi/DHT11 sensor)",
        "body": "<p>I am working on edge computing for IoT applications and expected to create a system that acts as a near edge computer with the use of a raspberry pi hooked up to a dht11 sensor. How do I send this data over to a computer that is at the edge? Ideally I want to use my PC as this device but I have no clue how to send this data over in real time.</p>\n<p>So far I have created the circuit and can view the temperature and humidity readings on the raspberry pi in python. Unsure of what the next steps are - I don't want to send this data over to the cloud just yet.</p>\n<p>Side note: I believe i may be missing knowledge regarding this but is the raspberry pi an edge device because it is hooked up to the sensor directly?</p>\n<p>Any help is greatly appreciated.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 144,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1610465989,
        "creation_date": 1610373063,
        "question_id": 65668120,
        "link": "https://stackoverflow.com/questions/65668120/azure-iot-hub-message-routing-on-boolean-application-property",
        "title": "Azure IoT Hub Message Routing on boolean application property",
        "body": "<p>I'm trying to achieve a very simple routing logic in Azure IoT Hub. Whenever a telemetry message should trigger an alert the application property &quot;hasEvents&quot; is set to true and should be routed to a different endpoint.</p>\n<p>I'm trying to test this in the Azure Portal but I can't seem to find the correct query syntax.\n<a href=\"https://i.stack.imgur.com/SYY7D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SYY7D.png\" alt=\"enter image description here\" /></a></p>\n<p>When I hit the &quot;Test route&quot; button, this is what I'm getting:</p>\n<ul>\n<li><p>For both <code>hasEvents</code> and <code>&quot;hasEvents&quot;</code> I receive this warning in the browser: <code>The server didn't understand your query. Check your query syntax and try again.</code></p>\n</li>\n<li><p><code>hasEvents = true</code> results in <code>Invalid operands to binary operator '=': have 'string' and 'bool', expected 'string' and 'string'</code></p>\n</li>\n<li><p><code>&quot;hasEvents&quot; = &quot;true&quot;</code> results in `The message didn't match the query.</p>\n</li>\n</ul>\n<p>Could this be an issue with the Portal or am I missing here something?</p>\n"
    }, {
        "tags": ["c#", "azure", "cloud", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 241,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1610436983,
        "creation_date": 1610366462,
        "last_edit_date": 1610371681,
        "question_id": 65666490,
        "link": "https://stackoverflow.com/questions/65666490/how-to-send-messages-from-cloud-to-device-with-iot-hub",
        "title": "How to send messages from Cloud to Device with IOT Hub?",
        "body": "<p>I have tried to receive cloud to device message through IOT Hub using the steps mentioned in the link below:\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-c2d\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-c2d</a></p>\n<p>I have attached the code that I am using and the result I am getting.</p>\n<p>In the simulated device app, I am calling this method &quot;ReceiveMessageAsync()&quot;.</p>\n<p>I have updated the screenshot of the output that I am getting.\nAfter entering the &quot;Enter&quot;, I am not getting any output.\nAfter decoding the code, I could see that in the ReceiveMessageAsync() method, I am getting <code>receivedMessage == null</code>.</p>\n<p>Please help me with this code and suggest the changes that I should make to make it work perfectly.</p>\n<p>=======================================</p>\n<pre><code>public async void ReceiveMessageAsync()\n{\n    try\n    {\n        Message receivedMessage = await _deviceClient?.ReceiveAsync();\n        if(receivedMessage == null)\n        {\n            ReceivedMessage = null;\n            return;\n        }\n\n        ReceivedMessage = Encoding.ASCII.GetString(receivedMessage.GetBytes());\n        if(double.TryParse(ReceivedMessage, out var requestedNoise))\n        {\n            ReceivedNoiseSetting = requestedNoise;\n        }\n\n        else\n        {\n            ReceivedNoiseSetting = null;\n        }\n\n        await _DeviceClient?.CompleteAsync(receivedMessage);\n    }\n    catch (NullReferenceException ex)\n    {\n        System.Diagnostics.Debug.WriteLine(&quot;The DeviceClient is null.&quot;);\n    }       \n}\n</code></pre>\n<p>==================================================</p>\n<pre><code>using System;\nusing Ststem.Text;\nusing System.Threading.Tasks;\nusing Microsoft.Azure.Devices;\nusing System.Linq;\n\nnamespace SendCloudToDevice\n{\n    internal class Program\n    {\n        static ServiceClient serviceClient;\n        static string connectionString = &quot;&lt;connectionString&gt;&quot;;\n        static string targetDevice = &quot;&lt;deviceID&gt;&quot;;\n\n        public static async Task Main(String[] args)\n        {\n            console.WriteLine(&quot;Send Cloud to device Message&quot;);\n            serviceClient = ServiceClient.CreateFromConnectionString(connectionString);\n            ReceiveFeedbackAsync();\n            Console.WriteLine(&quot;Press any key to send C2D mesage.&quot;);\n            Console.ReadLine();\n            sendCloudToDeviceMessageAsync().Wait();\n            Console.ReadLine();\n        }\n\n        private async static Task SendCloudToDeviceMessageAsync()\n        {\n            var commandMessage = new Message(Encoding.ASCII.GetBytes(&quot;Cloud to device message.&quot;));\n            commandMessage.Ack = DeliveryAcknowledgement.Full;\n            await serviceClient.sendAsync(targetDevice,commandMessage);\n        }\n\n        private async static void ReceiveFeedbackAsync()\n        {\n            var feedbackReceiver = serviceClient.GetFeedbackReceiver();\n\n            Console.WriteLine(&quot;\\n Receiving c2d feedback from service&quot;);\n            while (true)\n            {\n                var feedbackBatch = await feedbackReceiver.ReceiveAsync();\n                if(feedbackBatch == null) continue;\n\n                Console.ForegroundColor = ConsoleColor.Yellow;\n                Console.WriteLine(&quot;Received feedback: {0}&quot;,string.Join(&quot;, &quot;, feedbackBatch.Recorfds.Select(f =&gt; f.StatusCode)));\n                Console.ResetColor();\n\n                await feedbackReceiver.CompleteAsync(feedbackBatch);\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>[1]: <a href=\"https://i.stack.imgur.com/sS8N0.jpg!%5Benter\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/sS8N0.jpg![enter</a> image description here](<a href=\"https://i.stack.imgur.com/THylN.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/THylN.jpg</a>)<img src=\"https://i.stack.imgur.com/Bv6r2.jpg\" alt=\"enter image description here\" /></p>\n"
    }, {
        "tags": ["php", "iot", "yocto", "lighttpd"],
        "is_answered": true,
        "view_count": 366,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1610005121,
        "creation_date": 1609964073,
        "question_id": 65602813,
        "link": "https://stackoverflow.com/questions/65602813/how-to-add-lighttpd-in-yocto",
        "title": "How to add lighttpd in yocto",
        "body": "<p>I want to add lighttpd and php-cgi in my &quot;rpi-basic-image&quot;. I have in my <code>bblayers.conf</code>:</p>\n<pre><code>BBLAYERS ?= &quot; \\\n  /home/osboxes/Desktop/SI_Labs/Lab_06/poky/meta \\\n  /home/osboxes/Desktop/SI_Labs/Lab_06/poky/meta-yocto \\\n  /home/osboxes/Desktop/SI_Labs/Lab_06/poky/meta-yocto-bsp \\\n  &quot;\nBBLAYERS_NON_REMOVABLE ?= &quot; \\\n  /home/osboxes/Desktop/SI_Labs/Lab_06/poky/meta \\\n  /home/osboxes/Desktop/SI_Labs/Lab_06/poky/meta-yocto \\\n  &quot;\n</code></pre>\n<p>In <code>meta</code>, I have a directory called <code>recipes-extended/lighttpd</code>. I read that I must add in my <code>layer.conf</code></p>\n<pre><code>CORE_EXTRA_IMAGES_INSTALL += &quot;lighttpd-module-fastcgi&quot;\n</code></pre>\n<p>or</p>\n<pre><code>IMAGE_INSTALL_append = &quot;lighttpd-module-fastcgi&quot;\n</code></pre>\n<p>but the image still doesn't have lighttpd. I don't want to add apt in my image.\nCan somebody make me understand what I have done wrong?</p>\n<p>P.S. I followed instructions from <a href=\"https://www.yoctoproject.org/docs/latest/dev-manual/dev-manual.html#usingpoky-extend-customimage\" rel=\"nofollow noreferrer\">https://www.yoctoproject.org/docs/latest/dev-manual/dev-manual.html#usingpoky-extend-customimage</a>, but I failed.</p>\n"
    }, {
        "tags": ["iot", "esp32", "lorawan"],
        "is_answered": true,
        "view_count": 772,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1609847984,
        "creation_date": 1592526868,
        "last_edit_date": 1592528472,
        "question_id": 62461504,
        "link": "https://stackoverflow.com/questions/62461504/esp32-lora-lmic-ttn-not-connecting",
        "title": "Esp32 LoRa lmic TTN not connecting",
        "body": "<p>I am trying to get my ESP32 + RFM95C connected to The Things Network.</p>\n\n<p>The Error I recieve is simple this:\n24951: EV_JOINING\n24970: EV_TXSTART\n426696: EV_JOIN_TXCOMPLETE: no JoinAccept</p>\n\n<p>And that repeats, Here is my setup code:</p>\n\n<pre><code>static const u1_t PROGMEM APPEUI[8]= { secret stuff here };\n\nvoid os_getArtEui (u1_t* buf) { memcpy_P(buf, APPEUI, 8);}\n\n// This should also be in little endian format, see above.\n// static const u1_t PROGMEM DEVEUI[8]= { secret stuff here };\nstatic const u1_t PROGMEM DEVEUI[8]= { secret stuff here };\nvoid os_getDevEui (u1_t* buf) { memcpy_P(buf, DEVEUI, 8);}\n\n// This key should be in big endian format (or, since it is not really a\n// number but a block of memory, endianness does not really apply). In\n// practice, a key taken from ttnctl can be copied as-is.\nstatic const u1_t PROGMEM APPKEY[16] = { secret stuff here };\nvoid os_getDevKey (u1_t* buf) {  memcpy_P(buf, APPKEY, 16);}\n\nstatic uint8_t mydata[] = \"Hello, world!\";\nstatic osjob_t sendjob;\n\n// Schedule TX every this many seconds (might become longer due to duty\n// cycle limitations).\nconst unsigned TX_INTERVAL = 60;\n\n// Pin mapping\n\nconst lmic_pinmap lmic_pins = {\n    .nss = 5,\n    .rxtx = LMIC_UNUSED_PIN,\n    .rst = 27,\n    .dio = {2, 26, 25},\n};\n\n\nvoid printHex2(unsigned v) {\n    v &amp;= 0xff;\n    if (v &lt; 16)\n        Serial.print('0');\n    Serial.print(v, HEX);\n}\n\nvoid onEvent (ev_t ev) {\n    Serial.print(os_getTime());\n    Serial.print(\": \");\n    switch(ev) {\n        case EV_SCAN_TIMEOUT:\n            Serial.println(F(\"EV_SCAN_TIMEOUT\"));\n            break;\n        case EV_BEACON_FOUND:\n            Serial.println(F(\"EV_BEACON_FOUND\"));\n            break;\n        case EV_BEACON_MISSED:\n            Serial.println(F(\"EV_BEACON_MISSED\"));\n            break;\n        case EV_BEACON_TRACKED:\n            Serial.println(F(\"EV_BEACON_TRACKED\"));\n            break;\n        case EV_JOINING:\n            Serial.println(F(\"EV_JOINING\"));\n            break;\n        case EV_JOINED:\n            Serial.println(F(\"EV_JOINED\"));\n            {\n              u4_t netid = 0;\n              devaddr_t devaddr = 0;\n              u1_t nwkKey[16];\n              u1_t artKey[16];\n              LMIC_getSessionKeys(&amp;netid, &amp;devaddr, nwkKey, artKey);\n              Serial.print(\"netid: \");\n              Serial.println(netid, DEC);\n              Serial.print(\"devaddr: \");\n              Serial.println(devaddr, HEX);\n              Serial.print(\"AppSKey: \");\n              for (size_t i=0; i&lt;sizeof(artKey); ++i) {\n                if (i != 0)\n                  Serial.print(\"-\");\n                printHex2(artKey[i]);\n              }\n              Serial.println(\"\");\n              Serial.print(\"NwkSKey: \");\n              for (size_t i=0; i&lt;sizeof(nwkKey); ++i) {\n                      if (i != 0)\n                              Serial.print(\"-\");\n                      printHex2(nwkKey[i]);\n              }\n              Serial.println();\n            }\n            // Disable link check validation (automatically enabled\n            // during join, but because slow data rates change max TX\n        // size, we don't use it in this example.\n            LMIC_setLinkCheckMode(0);\n\n            break;\n        /*\n        || This event is defined but not used in the code. No\n        || point in wasting codespace on it.\n        ||\n        || case EV_RFU1:\n        ||     Serial.println(F(\"EV_RFU1\"));\n        ||     break;\n        */\n        case EV_JOIN_FAILED:\n            Serial.println(F(\"EV_JOIN_FAILED\"));\n            break;\n        case EV_REJOIN_FAILED:\n            Serial.println(F(\"EV_REJOIN_FAILED\"));\n            break;\n        case EV_TXCOMPLETE:\n            Serial.println(F(\"EV_TXCOMPLETE (includes waiting for RX windows)\"));\n            if (LMIC.txrxFlags &amp; TXRX_ACK)\n              Serial.println(F(\"Received ack\"));\n            if (LMIC.dataLen) {\n              Serial.print(F(\"Received \"));\n              Serial.print(LMIC.dataLen);\n              Serial.println(F(\" bytes of payload\"));\n\n              //Now we sleep\n              esp_sleep_enable_timer_wakeup(TIME_TO_SLEEP * uS_TO_S_FACTOR);\n              esp_deep_sleep_start();\n            }\n            // Schedule next transmission\n            os_setTimedCallback(&amp;sendjob, os_getTime()+sec2osticks(TX_INTERVAL), do_send);\n            break;\n        case EV_LOST_TSYNC:\n            Serial.println(F(\"EV_LOST_TSYNC\"));\n            break;\n        case EV_RESET:\n            Serial.println(F(\"EV_RESET\"));\n            break;\n        case EV_RXCOMPLETE:\n            // data received in ping slot\n            Serial.println(F(\"EV_RXCOMPLETE\"));\n            break;\n        case EV_LINK_DEAD:\n            Serial.println(F(\"EV_LINK_DEAD\"));\n            break;\n        case EV_LINK_ALIVE:\n            Serial.println(F(\"EV_LINK_ALIVE\"));\n            break;\n        /*\n        || This event is defined but not used in the code. No\n        || point in wasting codespace on it.\n        ||\n        || case EV_SCAN_FOUND:\n        ||    Serial.println(F(\"EV_SCAN_FOUND\"));\n        ||    break;\n        */\n        case EV_TXSTART:\n            Serial.println(F(\"EV_TXSTART\"));\n            break;\n        case EV_TXCANCELED:\n            Serial.println(F(\"EV_TXCANCELED\"));\n            break;\n        case EV_RXSTART:\n            /* do not print anything -- it wrecks timing */\n            break;\n        case EV_JOIN_TXCOMPLETE:\n            Serial.println(F(\"EV_JOIN_TXCOMPLETE: no JoinAccept\"));\n            break;\n\n        default:\n            Serial.print(F(\"Unknown event: \"));\n            Serial.println((unsigned) ev);\n            break;\n    }\n}\n\nvoid do_send(osjob_t* j){\n    // Check if there is not a current TX/RX job running\n    if (LMIC.opmode &amp; OP_TXRXPEND) {\n        Serial.println(F(\"OP_TXRXPEND, not sending\"));\n    } else {\n        // Prepare upstream data transmission at the next possible time.\n        LMIC_setTxData2(1, mydata, sizeof(mydata)-1, 0);\n        Serial.println(F(\"Packet queued\"));\n    }\n    // Next TX is scheduled after TX_COMPLETE event.\n}\n</code></pre>\n\n<p>Nothing all that special, just boilerplate sketch code.</p>\n\n<p>I have a Dragino LPS8 LoRaWan Gateway with these settings:\n<a href=\"https://i.stack.imgur.com/5Y4Ga.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5Y4Ga.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/cdGJg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cdGJg.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/Jslos.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jslos.png\" alt=\"enter image description here\"></a></p>\n\n<p>Does anyone know why my connection will not go through?</p>\n"
    }, {
        "tags": ["python", "iot", "industrial", "cognex"],
        "is_answered": false,
        "view_count": 240,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1609788293,
        "creation_date": 1605192693,
        "last_edit_date": 1609788293,
        "question_id": 64806205,
        "link": "https://stackoverflow.com/questions/64806205/read-ethernet-ip-device-with-known-object-class-assembly-instance-attribute-id",
        "title": "Read Ethernet/IP Device with Known Object Class, Assembly Instance, Attribute ID using CPPPO",
        "body": "<p>Having a little trouble getting basic information out of an Industrial Ethernet/IP Cognex Barcode Scanner.</p>\n<p>Per the Cognex Documentation <em>&quot;The DataMan ID Reader Object (Class Code: 0x79)&quot;</em>  Input Assembly Instance = 11  It then shows a table for this object and at Byte 14~15 = Result Data Length with is a 16-bit Integer.</p>\n<pre><code>From cpppo.server.enip.get_attribute import proxy_simple, proxy \nvendor, product_name, zz = proxy_simple( '10.202.180.90' ).read( [('@1/1/1','INT'),('@1/1/7','SSTRING'),('@0x79/11/14','UINT')] )\nprint(product_name)\nprint(vendor)\nprint(zz)\n\n&gt;&gt;&gt;['DataMan DM262 Reader']\n&gt;&gt;&gt;[678]\n&gt;&gt;&gt;None\n</code></pre>\n<p>I get the product name, vendor number, but can not get it to return anything for the Result Data Length.  Another table in the documentation states Attribute ID 0X17 AND type UNIT for this same data.  So I tried ('@0x79/11/0x17','UNIT') but that returned 'None' also.</p>\n<p>I would greatly appreciate any ideas.</p>\n<p><a href=\"https://i.stack.imgur.com/sMF5N.png\" rel=\"nofollow noreferrer\">Picture of AttributeID Table</a><br>\n<a href=\"https://i.stack.imgur.com/Tm7HD.png\" rel=\"nofollow noreferrer\">Picture of Input Assembly</a><br>\n<a href=\"https://github.com/pjkundert/cpppo\" rel=\"nofollow noreferrer\">https://github.com/pjkundert/cpppo</a></p>\n"
    }, {
        "tags": ["node.js", "azure", "iot"],
        "is_answered": true,
        "view_count": 2301,
        "favorite_count": 3,
        "score": 2,
        "last_activity_date": 1609394169,
        "creation_date": 1450428076,
        "last_edit_date": 1609394169,
        "question_id": 34351539,
        "link": "https://stackoverflow.com/questions/34351539/error-from-azure-iot-hub-library-when-sending-a-message",
        "title": "Error from Azure IoT Hub library when sending a message",
        "body": "<p>Im using the Node.JS libraries for Azure IoT Hub to send some telemetry data, and intermittently I get the following error thrown from the libraries.</p>\n<blockquote>\n<p>Unhandled rejection TypeError: Cannot read property 'on' of undefined\nat C:\\Source\\Messenger\\app.js:156:17\nat Amqp. (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\lib\\amqp.js:157:17)\nat C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\lib\\amqp.js:54:19\nat C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\lib\\amqp.js:84:17\nat tryCatcher (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\util.js:11:23)\nat Promise._settlePromiseFromHandler (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\promise.js:489:31)\nat Promise._settlePromise (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\promise.js:546:18)\nat Promise._settlePromise0 (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\promise.js:591:10)\nat Promise._settlePromises (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\promise.js:670:18)\nat Async._drainQueue (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\async.js:129:16)\nat Async._drainQueues (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\async.js:139:10)\nat Immediate.Async.drainQueues [as _onImmediate] (C:\\Source\\Messenger\\node_modules\\azure-iot-device\\node_modules\\azure-iot-common\\node_modules\\amqp10\\node_modules\\bluebird\\js\\release\\async.js:16:14)</p>\n</blockquote>\n<p>At the moment im running my scripts through forever so it recovers when the error is generated.</p>\n<p>Has anyone else had this issue and managed to resolve it ?</p>\n<p>My code looks like as follows</p>\n<pre><code>azureClient = azureDevice.Client.fromConnectionString(connectionString, azureDevice.Amqp);\n\nvar message = new azureDevice.Message(JSON.stringify('TEST MESSAGE'));\n\nazureClient.sendEvent(message, function (err) {\n    if (err != null) {\n        Configure();\n    }                        \n});          \n</code></pre>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 366,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1609328723,
        "creation_date": 1608223681,
        "last_edit_date": 1608458768,
        "question_id": 65344907,
        "link": "https://stackoverflow.com/questions/65344907/how-to-locate-messages-on-azure-iot-hub",
        "title": "How to locate messages on Azure IoT hub?",
        "body": "<p>I'm just starting to use the <strong>Azure IoT Hub</strong> and I am having trouble locating the incoming messages.</p>\n<p>So far I believe I am successfully sending data from an Esp32 Device to the Hub.</p>\n<p>Here are the logs from the Esp32.\n<a href=\"https://i.stack.imgur.com/aba6y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aba6y.png\" alt=\"Esp32 Logs VsCode\" /></a></p>\n<p>The problem is in the <strong>portal</strong>. I can see some messages have been received in my hub on the overview page.</p>\n<p>In the first section, &quot;<em>Messages used today</em>&quot; it shows messages have been received. But in all of the other graphs, nothing is shown.</p>\n<p><a href=\"https://i.stack.imgur.com/jYCgn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYCgn.png\" alt=\"enter image description here\" /></a></p>\n<p>I have looked in many other places to locate the messages but have found nothing.</p>\n<p>When using the VS code extension the events do not come through\n<a href=\"https://i.stack.imgur.com/O7t4M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O7t4M.png\" alt=\"enter image description here\" /></a></p>\n<p>Also using the Azure Cli on the portal no events come through\n<a href=\"https://i.stack.imgur.com/808jD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/808jD.png\" alt=\"enter image description here\" /></a></p>\n<p>My message routing configuration at the moment is:\n<a href=\"https://i.stack.imgur.com/AJtrC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AJtrC.png\" alt=\"enter image description here\" /></a></p>\n<p>So somehow the messages get to the portal, but the only sign of them at all is in the first panel in the overview of the IoT hub.</p>\n<p>Am I missing something here?</p>\n<p>Thanks</p>\n"
    }, {
        "tags": ["node.js", "raspberry-pi3", "iot", "aws-iot"],
        "is_answered": false,
        "view_count": 22,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1608622676,
        "creation_date": 1608591375,
        "last_edit_date": 1608622676,
        "question_id": 65401078,
        "link": "https://stackoverflow.com/questions/65401078/raspberrypi3-never-connects-to-aws-iot",
        "title": "Raspberrypi3 never connects to aws iot",
        "body": "<p>I installed aws-iot-device-sdk module for nodejs , i wrote the code  in the text below</p>\n<pre><code>var awsIot = require('aws-iot-device-sdk');\n var device = awsIot.device({\n keyPath: 'certs/private.pem.key',\n certPath: 'certs/certificate.pem.crt',\n caPath: 'certs/rootCA.pem',\n host: &lt;my host&gt;, //i replaced &lt;my host&gt; with my host from aws console settings\n clientId: 'user-testing'\n });\ndevice\n .on('connect', function() {\n console.log('connected');\n device.subscribe('topic_1');\n device.publish('topic_1', JSON.stringify({ test_data: 1}));\n });\n device\n .on('message', function(topic, payload) {\n console.log('message', topic, payload.toString());\n});\n</code></pre>\n<p>and i triple checked my iot device configurations in the cloud side , but it never connects as shown in the picture below</p>\n<p><a href=\"https://i.stack.imgur.com/zXu61.png\" rel=\"nofollow noreferrer\">the terminal after running the node js code</a></p>\n<p>i've been struggling with this issue\nThank you</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-edge", "azure-iot-sdk", "azure-iot-dps"],
        "is_answered": false,
        "view_count": 52,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1608198874,
        "creation_date": 1608198874,
        "question_id": 65338334,
        "link": "https://stackoverflow.com/questions/65338334/how-to-build-ca-cert-and-chain-for-edge-device-in-azure-keyvault",
        "title": "How to build CA cert and chain for edge device in Azure/Keyvault",
        "body": "<p>There is a tutorial &quot;Managing test CA certificates for samples and tutorials&quot; for creationg CA cert and chain certificate for use with device provisioning on the iothub (<a href=\"https://github.com/Azure/azure-iot-sdk-c/blob/master/tools/CACertificates/CACertificateOverview.md\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-sdk-c/blob/master/tools/CACertificates/CACertificateOverview.md</a>). By running this manually I am able get the device to provision against the DPS.</p>\n<p>However I would like to create these in the cloud (Azure) and have them stored in a Keyvault before setting up a device with the certificate and provisioning the the device in the DPS.</p>\n<p>Through the KeyVault API I am able to create certificates, however I am unsure how to get the details right. Would be greatful with help on this matter.</p>\n"
    }, {
        "tags": ["linux", "docker", "raspberry-pi", "iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 565,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1608087964,
        "creation_date": 1606206618,
        "last_edit_date": 1608087964,
        "question_id": 64982776,
        "link": "https://stackoverflow.com/questions/64982776/one-or-more-errors-occurred-permission-denied-var-run-iotedge-mgmt-sock-caus",
        "title": "One or more errors occurred. (Permission denied /var/run/iotedge/mgmt.sock) caused by: docker returned exit code:",
        "body": "<p>I just installed IoTEdge on Raspberry strech following this:<a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/how-to-install-iot-edge?view=iotedge-2018-06&amp;tabs=linux\" rel=\"nofollow noreferrer\">Azure/InternetofThings/IoTEdge/Install or uninstall the Azure IoT Edge runtime</a></p>\n<p>However I get these errors below.</p>\n<p>3 weeks I installed another one and it worked perfectly with the same instructions.</p>\n<pre><code>pi@raspberrypi:/etc/iotedge $ sudo iotedge check --verbose\nConfiguration checks\n--------------------\n\u221a config.yaml is well-formed - OK\n\u221a config.yaml has well-formed connection string - OK\n\u221a container engine is installed and functional - OK\n\u221a config.yaml has correct hostname - OK\n\u00d7 config.yaml has correct URIs for daemon mgmt endpoint - Error\n    One or more errors occurred. (Permission denied /var/run/iotedge/mgmt.sock)\n        caused by: docker returned exit code: 1, stderr = One or more errors occurred. (Permission denied /var/run/iotedge/mgmt.sock)\n\u221a latest security daemon - OK\n\u221a host time is close to real time - OK\n\u221a container time is close to host time - OK\n\u203c DNS server - Warning\n    Container engine is not configured with DNS server setting, which may impact connectivity to IoT Hub.\n    Please see https://aka.ms/iotedge-prod-checklist-dns for best practices.\n    You can ignore this warning if you are setting DNS server per module in the Edge deployment.\n        caused by: Could not open container engine config file /etc/docker/daemon.json\n        caused by: No such file or directory (os error 2)\n\u203c production readiness: certificates - Warning\n    The Edge device is using self-signed automatically-generated development certificates.\n    They will expire in 89 days (at 2021-02-22 07:24:52 UTC) causing module-to-module and downstream device communication to fail on an active deployment.\n    After the certs have expired, restarting the IoT Edge daemon will trigger it to generate new development certs.\n    Please consider using production certificates instead. See https://aka.ms/iotedge-prod-checklist-certs for best practices.\n\u221a production readiness: container engine - OK\n\u203c production readiness: logs policy - Warning\n    Container engine is not configured to rotate module logs which may cause it run out of disk space.\n    Please see https://aka.ms/iotedge-prod-checklist-logs for best practices.\n    You can ignore this warning if you are setting log policy per module in the Edge deployment.\n        caused by: Could not open container engine config file /etc/docker/daemon.json\n        caused by: No such file or directory (os error 2)\n\u203c production readiness: Edge Agent's storage directory is persisted on the host filesystem - Warning\n    The edgeAgent module is not configured to persist its /tmp/edgeAgent directory on the host filesystem.\n    Data might be lost if the module is deleted or updated.\n    Please see https://aka.ms/iotedge-storage-host for best practices.\n\u00d7 production readiness: Edge Hub's storage directory is persisted on the host filesystem - Error\n    Could not check current state of edgeHub container\n        caused by: docker returned exit code: 1, stderr = Error: No such object: edgeHub\n\nConnectivity checks\n-------------------\n\u221a host can connect to and perform TLS handshake with IoT Hub AMQP port - OK\n\u221a host can connect to and perform TLS handshake with IoT Hub HTTPS / WebSockets port - OK\n\u221a host can connect to and perform TLS handshake with IoT Hub MQTT port - OK\n\u221a container on the default network can connect to IoT Hub AMQP port - OK\n\u221a container on the default network can connect to IoT Hub HTTPS / WebSockets port - OK\n\u221a container on the default network can connect to IoT Hub MQTT port - OK\n\u221a container on the IoT Edge module network can connect to IoT Hub AMQP port - OK\n\u221a container on the IoT Edge module network can connect to IoT Hub HTTPS / WebSockets port - OK\n\u221a container on the IoT Edge module network can connect to IoT Hub MQTT port - OK\n\n17 check(s) succeeded.\n4 check(s) raised warnings.\n2 check(s) raised errors.\n</code></pre>\n<p>iotedge list</p>\n<pre><code>pi@raspberrypi:~ $ sudo iotedge list\nA module runtime error occurred\n        caused by: Could not list modules\n        caused by: connection error: Connection reset by peer (os error 104)\n</code></pre>\n"
    }, {
        "tags": ["raspberry-pi", "iot", "azure-iot-hub", "windows-iot-core-10", "tpm"],
        "is_answered": true,
        "view_count": 75,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1607656445,
        "creation_date": 1607587664,
        "question_id": 65230656,
        "link": "https://stackoverflow.com/questions/65230656/how-to-uninstall-the-tpm-simulator-and-use-the-real-tpm-chip-on-raspberry-pi",
        "title": "How to uninstall the TPM simulator and use the real TPM chip on raspberry pi?",
        "body": "<p>I'm using a raspberry pi running on Window IoT Core, and connects to Azure IoT hub. When I initially wanted to provision the device I just used a TPM simulator (via the Windows Device Portal). Now I've chucked in a real TPM chip to the pi, and I want to provision the device using that chip.</p>\n<p>But I'm not seeing an option to do that on the device portal - TPM Configuration section.\n<a href=\"https://i.stack.imgur.com/AXpDE.png\" rel=\"nofollow noreferrer\">How it looks now on the device portal now.</a>\nMaybe I'm missing something obvious. Any help is greatly appreciated.</p>\n"
    }, {
        "tags": ["node.js", "azure", "iot", "azure-eventhub", "cortana-intelligence"],
        "is_answered": true,
        "view_count": 1816,
        "favorite_count": 1,
        "score": 3,
        "last_activity_date": 1607412793,
        "creation_date": 1452640135,
        "last_edit_date": 1456813184,
        "question_id": 34755509,
        "link": "https://stackoverflow.com/questions/34755509/azure-iot-and-event-hub",
        "title": "Azure ioT and Event Hub?",
        "body": "<p>I am trying to read the events that my device is sending. I am using azure npm lib to read the what i think is right.</p>\n\n<p>Ok so first, under my Azure ioT Hub account for that service there is a tab call Messaging. There is something called \"Event Hub-compatible name\" and \"Event Hub-compativle endpoint\". Do i have to create a new Event hub with the name of \"Event Hub-compatible name\" or what? I am a bit confused :D\nIf not what is the connection string and topic and so on?</p>\n\n<p>Here is how the code is now...</p>\n\n<pre><code>var azure = require('azure');\n\nvar serviceBusService = azure.createServiceBusService(\"Endpoint=XXXXXXXXXX.servicebus.windows.net/\");\nvar isWaiting = false;\n\n\nfunction waitForMessages(){\n    console.log(\"Checking Queue...\");\n    isWaiting = true;\n    serviceBusService.receiveQueueMessage(\"messages\",\"events\",function (error, receivedMessage){\n        console.log(error);\n        console.log(receivedMessage);\n        isWaiting = false;\n    });\n}\n\n\n// Start messages listener\nsetInterval(function () {\n    if(!isWaiting){\n        waitForMessages();\n    }\n}, 200);\n</code></pre>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 212,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1606793269,
        "creation_date": 1591405786,
        "question_id": 62226147,
        "link": "https://stackoverflow.com/questions/62226147/azure-iot-hub-data-export",
        "title": "Azure IOT Hub data export",
        "body": "<p>Do IOT hub retains telemetry data. If yes for how long and how can we access that data in Azure portal? Can we export the telemetry data from IOT hub to excel ?</p>\n"
    }, {
        "tags": ["android", "iot", "tuya"],
        "is_answered": false,
        "view_count": 35,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1606460151,
        "creation_date": 1606460151,
        "question_id": 65033187,
        "link": "https://stackoverflow.com/questions/65033187/i-use-tuya-oem-app-how-to-obtain-the-key-information-of-googles-third-party-lo",
        "title": "I use Tuya OEM App, how to obtain the key information of Google&#39;s third-party login?",
        "body": "<p>I tried the following steps\uff1a\n1.Visit the Google Developer Platform\n2.Find Google Identity Platform\n3.Select android option\n4.Click Get started\n5.Click Config a project, Configure a project</p>\n<p>And then\uff1f</p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": false,
        "view_count": 12,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1606411654,
        "creation_date": 1606411654,
        "question_id": 65026754,
        "link": "https://stackoverflow.com/questions/65026754/add-non-build-files-to-azure-iot-edge",
        "title": "Add non-build files to Azure IoT Edge",
        "body": "<p>If an Azure IoT Edge module needs to include non-build files like scripts/artefact etc. and would be available to deployed device readily so that it can be available to module for any action , what is the process to add same? I can't find information for IoT Edge modules or docker container etc. This can be done easily for the standard .net projects though.</p>\n"
    }, {
        "tags": ["node.js", "mqtt", "iot", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 314,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1606356185,
        "creation_date": 1606075611,
        "last_edit_date": 1606287095,
        "question_id": 64958964,
        "link": "https://stackoverflow.com/questions/64958964/trouble-connecting-to-google-cloud-iot-via-mqtt-with-node-js",
        "title": "Trouble Connecting to Google Cloud IoT via MQTT with Node.js",
        "body": "<p>I'm trying to create a MQTT client that'll connect to the Google Cloud IoT Core, but for some reason, it won't connect at all. Here's what I have so far</p>\n<pre><code>mqtt = require(&quot;mqtt&quot;)\nfs = require(&quot;fs&quot;)\nvar jwt = require('jsonwebtoken');\n\n\nconst projectId = &quot;my-project&quot; \nconst deviceId = &quot;my-device&quot; \nconst registryId = &quot;my-degistry&quot; \nconst region = &quot;us-central1&quot;\nconst algorithm = &quot;RS256&quot;\nconst privateKeyFile = &quot;./rsa_private.pem&quot;\nconst mqttBridgeHostname = &quot;mqtt.googleapis.com&quot;\nconst mqttBridgePort = 8883\nconst messageType = &quot;events&quot;\n\n//The mqttClientId is a unique string that identifies a particular device. \n//For Google Cloud IoT Core, it must be the format below\nconst mqttClientId = `projects/${projectId}/locations/${region}/registries/${registryId}/devices/${deviceId}`\nconst mqttTopic = `/devices/${deviceId}/${messageType}`;\n\n\nconst createJwt = (projectId, privateKeyFile, algorithm) =&gt; {\n    // Create a JWT to authenticate this device. The device will be disconnected\n    // after the token expires, and will have to reconnect with a new token. The\n    // audience field should always be set to the GCP project id.\n    const token = {\n      iat: parseInt(Date.now() / 1000),\n      exp: parseInt(Date.now() / 1000) + 20 * 60, // 20 minutes\n      aud: projectId,\n    };\n    const privateKey = fs.readFileSync(privateKeyFile);\n    return jwt.sign(token, privateKey, {algorithm: algorithm});\n  };\n\n//Username field is ignored in Cloud IoT Core, but it must be set to something\n//Password field sends a JWT (javascript web token) to authorize the device\n//mqtts protocol causes library to connecti using SSL, which is required for IoT Core\nconst connectionArgs = {\n    host: mqttBridgeHostname,\n    port: mqttBridgePort,\n    clientId: mqttClientId,\n    username: &quot;unused&quot;,\n    password: createJwt(projectId, privateKeyFile, algorithm),\n    protocol: &quot;mqtts&quot;,\n    secureProtocol: &quot;TLSv1_2_method&quot;\n}\n\nconst client = mqtt.connect(connectionArgs)\n\nclient.on(&quot;connect&quot;, (connected)=&gt;{\n    console.log(&quot;Attempting to connect&quot;)\n    if (!connected) {\n        console.log(&quot;Client failed to connect&quot;)\n    } else {\n        console.log(&quot;Client is connected!&quot;)\n    }\n})\n\nclient.on(&quot;error&quot;, err =&gt; {\n    console.log(err)\n    setTimeout(( ()=&gt; {  \n        console.log('Terminating process')\n        return process.kill(process.pid);\n    }), 1000);\n})\n\nclient.on(&quot;packetsend&quot;, (payload) =&gt; {\n    console.log(&quot;Payload has been sent&quot;)\n    return process.kill(process.pid)\n})\n\nclient.on(&quot;packetreceive&quot;, packet =&gt; {\n    console.log(&quot;Killing&quot;)\n    //return process.kill(process.pid)\n})\n\nclient.on(&quot;reconnect&quot;, ()=&gt;{\n    console.log(&quot;Attempting a reconnect&quot;)\n    //return process.kill(process.pid)\n})\n\nclient.on(&quot;close&quot;, ()=&gt;{\n    console.log(&quot;A disconnect occurred&quot;)\n    // return process.kill(process.pid)\n})\n\nclient.on(&quot;offline&quot;, () =&gt; {\n    console.log(&quot;Client is offline&quot;)\n    //return process.kill(process.pid)\n})\n</code></pre>\n<p>I'm not getting any errors when I try to connect to the server. In other words, everything seems to be authenticating properly and I get no error messages, but the client never connects to the Cloud and instead repeatedly tries to reconnect in an endless cycle (which is why I included code to kill the script). I tried going through the Google Cloud <a href=\"https://cloud.google.com/iot/docs/support/troubleshooting\" rel=\"nofollow noreferrer\">troubleshooting</a> page but nothing there really seemed to help. I don't get any sort of errors messages or helpful tidbits of information when using the Cloud SDK like the guide suggested.</p>\n<p>I've opened up the port 8883 through my firewall just in case that was the issue but it doesn't appear to be.</p>\n<p>I based this code off some of Google's guides and based on <a href=\"https://www.hackster.io/valeriocoretti/google-cloud-based-iot-system-with-mqtt-32c4dd\" rel=\"nofollow noreferrer\">this</a> guide here. I have a registry, project, and device all set up with a proper RSA key.</p>\n<p>So I'm not really sure how to proceed! If there's any additional information that would help, please let me know.</p>\n<p>Thank you.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 284,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1604048614,
        "creation_date": 1604044719,
        "question_id": 64604548,
        "link": "https://stackoverflow.com/questions/64604548/error-in-monitor-built-in-event-endpoint-message-at-least-one-receiver-for-the",
        "title": "Error in monitor built-in event endpoint message: At least one receiver for the endpoint is created with epoch of &#39;3&#39;,",
        "body": "<p>I have an IoT hub which I am trying to monitor the messages coming, I tried both in Visual Studio 2019 and VSCODE,  right click on IoTHub monitor built in endpoint and I get this error.</p>\n<pre><code>   [Monitor Built-in Event Endpoint Message] [30/10/2020 8:55:07] Error in monitor built-in event endpoint message: At least one receiver for the endpoint is created with epoch of '5', and so non-epoch receiver is not allowed. Either reconnect with a higher epoch, or make sure all epoch receivers are closed or disconnected. TrackingId:7820ccc9-5616-45ec-9741-ca4249ccf48d_B40, SystemTracker:iothub-ns-iothub-4065561-9e6a99dc51:eventhub:iothub~16383, Timestamp:2020-10-30T07:55:07 Reference:f581627d-bc16-49cd-b131-a5d226798f00, TrackingId:8bfbfae5-27bb-4b92-bbbf-c7dbb965e40d_B40, SystemTracker:iothub-ns-iothub-4065561-9e6a99dc51:eventhub:iothub~16383|$default, Timestamp:2020-10-30T07:55:07, referenceId: 2824199bd7ab4e40ab374ebbbd1a0a6d_B40\n    [Monitor Built-in Event Endpoint Message] [30/10/2020 8:55:07] Error in monitor built-in event endpoint message: At least one receiver for the endpoint is created with epoch of '3', and so non-epoch receiver is not allowed. Either reconnect with a higher epoch, or make sure all epoch receivers are closed or disconnected. TrackingId:aa69e101-bcac-4618-8d81-594650020011_B29, SystemTracker:iothub-ns-iothub-4065561-9e6a99dc51:eventhub:iothub~32766|iothubconsumergroup, Timestamp:2020-10-30T07:55:07 Reference:10dba550-1feb-4fac-8a45-19493590d913, TrackingId:f51c6b43-7f48-4dca-8ef9-ab2f9459252f_B29, SystemTracker:iothub-ns-iothubpo-4065561-9e6a99dc51:eventhub:iothub~32766|$default, Timestamp:2020-10-30T07:55:07, referenceId: 94788bff384946c482b1667df28da3f1_B29\n</code></pre>\n<p>Is this a bug or am I missing come configuration in order to be able to monitor messages?</p>\n"
    }, {
        "tags": ["azure", "cloud", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 172,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1604000601,
        "creation_date": 1603999668,
        "question_id": 64597963,
        "link": "https://stackoverflow.com/questions/64597963/azure-iot-hub-iot-hub-trigger-does-not-execute-when-route-is-enabled",
        "title": "Azure IoT Hub - IoT Hub Trigger does not execute when route is enabled",
        "body": "<p>I am trying to save JSON files sent to IoT Hub to a cosmos DB using a function that's triggered by IoT Hub. I am also trying to save the same files to a blob for long term storage.</p>\n<p>So far the function and route work well independently, but they are not working at the same time (when route is enabled, the function is not triggered. The function only triggers when the route is not enabled.)</p>\n<p><a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-quotas-throttling#other-limits\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-quotas-throttling#other-limits</a></p>\n<p><a href=\"https://i.stack.imgur.com/UP6Fz.png\" rel=\"nofollow noreferrer\">Limitation of F1 Free tier IoT Hub</a></p>\n<p>I read on the IoT Hub quotas and throttling documentation that the Free tier can only perform one job at the same time. I am not sure if this would be the limitation holding me back, or if its faulty configuration on my side.</p>\n<p>A possible solution I was thinking of could be to route traffic to a bus queue and make the function trigger from it instead.</p>\n<p>Any help is much appreciated,</p>\n<p>Thanks!</p>\n"
    }, {
        "tags": ["iot", "json-ld", "web-of-things"],
        "is_answered": false,
        "view_count": 74,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1603371895,
        "creation_date": 1601649078,
        "last_edit_date": 1603371895,
        "question_id": 64173335,
        "link": "https://stackoverflow.com/questions/64173335/do-w3c-thing-description-forms-require-an-op-key",
        "title": "Do W3C Thing Description forms require an op key?",
        "body": "<p>In the W3C WoT Thing Description specification (<a href=\"https://w3c.github.io/wot-thing-description/#td-vocab-forms--InteractionAffordance\" rel=\"nofollow noreferrer\">https://w3c.github.io/wot-thing-description/#td-vocab-forms--InteractionAffordance</a>), it says that interactions have a forms array that can contain different forms with different op keywords. Why are those op keywords required though?</p>\n"
    }, {
        "tags": ["azure", "azure-functions", "iot", "azure-iot-hub", "azure-eventhub"],
        "is_answered": true,
        "view_count": 188,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1602751639,
        "creation_date": 1602686953,
        "question_id": 64355916,
        "link": "https://stackoverflow.com/questions/64355916/azure-function-missing-iot-hub-trigger-messages",
        "title": "Azure function missing IoT hub trigger messages",
        "body": "<p>I have created an <strong>Azure function</strong> to route messages from an IoT hub to an <strong>Azure SQL DB</strong> using the <strong>IoTHubTrigger</strong> following mostly the instructions in this link <a href=\"https://stackoverflow.com/questions/52743156/azure-functions-how-to-set-up-iothubtrigger-for-my-iothub-messages\">Azure Functions - how to set up IoTHubTrigger for my IoTHub messages?</a>.</p>\n<p>Each IoT device captures data every 8 minutes. When capturing is done, the device streams the data in 4 different messages. Then the azure function takes over to write these 4 different messages to the database.</p>\n<p>When only one device was streaming, I had no issues with the data, which where written in the db and I could also see/monitor events/messages using <code>az iot hub monitor-events</code>.</p>\n<p>When a second device started streaming in the same IoT hub, I started <strong>missing messages</strong>, meaning that from each device only one message is being stored in the db. Also when using <code>iot hub monitor-events</code> only one message appears from each device. I was also expecting that if I disable the 2nd device, then the 1st one will go back to normal. Unfortynately the issue remains the same.</p>\n<p>So my question is: how is it possible a 2nd device screwing up the way that the 1st one interacts with the hub?</p>\n<p>If that's not the case, then how we are supposed to figure out what causes the problem at this stage?</p>\n<p>Thanks :)</p>\n"
    }, {
        "tags": ["iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 204,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1601981885,
        "creation_date": 1600720665,
        "question_id": 63999658,
        "link": "https://stackoverflow.com/questions/63999658/iot-edge-on-raspberry-pi-using-gpio-driver",
        "title": "IoT Edge on Raspberry Pi - using GPIO Driver",
        "body": "<p>Using VScode I have taken the led-blink sample code from <a href=\"https://github.com/dotnet/iot\" rel=\"nofollow noreferrer\">https://github.com/dotnet/iot</a> and placed it into an IotEdge module template with the intention of having it run in a container on IoT edge and then use device twin properties to modify some of the variables on the fly through IoT Hub. After loading the module it starts ups but the logs show the following error</p>\n<pre><code>Unhandled exception. System.IO.IOException: Error 2 initializing the Gpio driver.\n   at System.Device.Gpio.Drivers.RaspberryPi3LinuxDriver.Initialize()\n   at System.Device.Gpio.Drivers.RaspberryPi3LinuxDriver.OpenPin(Int32 pinNumber)\n   at System.Device.Gpio.Drivers.RaspberryPi3Driver.OpenPin(Int32 pinNumber)\n   at System.Device.Gpio.GpioController.OpenPin(Int32 pinNumber)\n   at edgetestmodule20sep.Program.Main(String[] args) in /app/Program.cs:line 29\n</code></pre>\n<p>Can anyone advise what is going on here and what a possible solution might be?</p>\n"
    }, {
        "tags": ["iot", "realsense", "color-depth"],
        "is_answered": false,
        "view_count": 73,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1601453322,
        "creation_date": 1601453322,
        "question_id": 64133426,
        "link": "https://stackoverflow.com/questions/64133426/in-realsense-sdk-how-to-get-depth-pointx-y-from-color-pointx-y",
        "title": "In realsense sdk , How to get depth point(x,y) from color point(x,y)?",
        "body": "<p>In color image,i'm selecting a specific dimension rectangle (say 2ft &amp; 2ft) on floor. Now I have color x,y for all four points of the rectangle. Now I want to iterate through depth data that falls under that rectangle. I already have a function to get loop through depths,\nNow I want input for that function that's rectangle in-depth space.</p>\n<p>Input : X,Y (points in color image)\nOutput: X,Y (Points in depth image)</p>\n<p>I'm using intel realsense D435.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 493,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1601296230,
        "creation_date": 1431635021,
        "last_edit_date": 1431667974,
        "question_id": 30246664,
        "link": "https://stackoverflow.com/questions/30246664/bluemix-iot-foundation-starter-give-error-lost-connection-to-server",
        "title": "Bluemix IoT Foundation Starter give Error: Lost connection to server",
        "body": "<p>I am trying the Internet of Things Foundation Starter boilerplate in Bluemix. Here are the steps I am following:</p>\n\n<ol>\n<li>Create a new app using the boilerplate</li>\n<li>Once the app is up, I go to the URL and see the NodeRED home page</li>\n<li>I click on the button to take me to the NodeRED editor</li>\n<li>In another browser window I have the IoT Sensor available here: <a href=\"https://quickstart.internetofthings.ibmcloud.com/iotsensor/\" rel=\"nofollow\">https://quickstart.internetofthings.ibmcloud.com/iotsensor/</a> up and running</li>\n<li>I configure the \"IoT App In Node\" with the address of my IoT sensor. I have removed the \":\"'s and have made the letters lowercase.\n<ol start=\"6\">\n<li>When I click Deploy in the NodeRED editor, I see the following error:  \"Error: Lost connection to server\"</li>\n</ol></li>\n</ol>\n\n<p>After step 2 I already see these errors in the log:</p>\n\n<pre><code>2015-05-14T16:05:10.31-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:10.316] [TRACE] [default] - \u2190[39m1 iot-2/type/+/id//evt/+/fmt/json\n2015-05-14T16:05:10.31-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:10.316] [TRACE] [default] - \u2190[39mResubscribing:\n2015-05-14T16:05:10.31-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:10.318] [TRACE] [default] - \u2190[39mRetry count = 1\n2015-05-14T16:05:12.32-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:12.320] [TRACE] [default] - \u2190[39mCONNECTED......:\n2015-05-14T16:05:12.32-0400 [App/0]   OUT Subscription Count = 1\n2015-05-14T16:05:12.32-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:12.320] [TRACE] [default] - \u2190[39m1 iot-2/type/+/id//evt/+/fmt/json\n2015-05-14T16:05:12.32-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:12.320] [TRACE] [default] - \u2190[39mResubscribing:\n2015-05-14T16:05:12.32-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:12.322] [TRACE] [default] - \u2190[39mRetry count = 1\n2015-05-14T16:05:13.32-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:13.328] [TRACE] [default] - \u2190[39mCONNECTED......:\n2015-05-14T16:05:13.32-0400 [App/0]   OUT Subscription Count = 1\n</code></pre>\n\n<p>After step 5 after the error happens, I see the following error:</p>\n\n<pre><code>2015-05-14T16:05:17.35-0400 [App/0]   OUT \u2190[34m[2015-05-14 20:05:17.355] [TRACE] [default] - \u2190[39m1 iot-2/type/+/id//evt/+/fmt/json\n2015-05-14T16:05:17.35-0400 [App/0]   OUT 14 May 20:05:17 - [red] Uncaught Exception:\n2015-05-14T16:05:17.35-0400 [App/0]   OUT 14 May 20:05:17 - Error: This method cannot be called until MQTT client has been initialized (see connectMqtt() method)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at IoTAppClient.checkMqtt (/home/vcap/app/node_modules/node-red-contrib-scx-ibmiotapp/node_modules/iotclient/application/IoTAppClient.\njs:340:9)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at MqttClient.&lt;anonymous&gt; (/home/vcap/app/node_modules/node-red-contrib-scx-ibmiotapp/node_modules/iotclient/application/IoTAppClient.\njs:120:9)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at MqttClient.emit (events.js:117:20)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at MqttClient._handleConnack (/home/vcap/app/node_modules/node-red-contrib-scx-ibmiotapp/node_modules/iotclient/node_modules/mqtt/lib/\nclient.js:521:10)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at Connection.&lt;anonymous&gt; (/home/vcap/app/node_modules/node-red-contrib-scx-ibmiotapp/node_modules/iotclient/node_modules/mqtt/lib/cli\nent.js:191:10)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at Connection.emit (events.js:95:17)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at Connection._write (/home/vcap/app/node_modules/node-red-contrib-scx-ibmiotapp/node_modules/iotclient/node_modules/mqtt/lib/connecti\non.js:176:12)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at doWrite (_stream_writable.js:226:10)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at writeOrBuffer (_stream_writable.js:216:5)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at Connection.Writable.write (_stream_writable.js:183:11)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at write (_stream_readable.js:602:24)\n2015-05-14T16:05:17.35-0400 [App/0]   OUT     at flow (_stream_readable.js:611:7)\n2015-05-14T16:05:17.38-0400 [App/0]   ERR\n2015-05-14T16:05:17.41-0400 [RTR]     OUT testiotsd.mybluemix.net - [14/05/2015:20:04:40 +0000] \"GET /red/comms HTTP/1.1\" 101 0 \"-\" \"Mozilla/5.0 (Windows NT 6.1; WOW64; rv:31.0) Ge\ncko/20100101 Firefox/31.0\" 75.126.70.46:60509 x_forwarded_for:\"75.126.70.46\" vcap_request_id:231a532e-d89e-4236-49e7-7d00a803cd18 response_time:MissingFinishedAt app_id:4cc323b6-d2\n48-4fd3-b8ac-c046539a6c2b\n2015-05-14T16:05:17.48-0400 [API]     OUT App instance exited with guid 4cc323b6-d248-4fd3-b8ac-c046539a6c2b payload: {\"cc_partition\"=&gt;\"default\", \"droplet\"=&gt;\"4cc323b6-d248-4fd3-b8a\nc-c046539a6c2b\", \"version\"=&gt;\"2778c52b-ac6d-4845-8077-761927982233\", \"instance\"=&gt;\"288976a131434a34b033c7d1fd0e812e\", \"index\"=&gt;0, \"reason\"=&gt;\"CRASHED\", \"exit_status\"=&gt;1, \"exit_descrip\ntion\"=&gt;\"app instance exited\", \"crash_timestamp\"=&gt;1431633917}\n</code></pre>\n\n<p>Now if I restart the app everything just works fine.  But I can recreate the above scenario consistently every time with these steps:</p>\n\n<ol>\n<li>create new app from boilerplate</li>\n<li>go to NodeRED editor</li>\n<li>configure IoT in-node</li>\n<li>deploy</li>\n<li>get error</li>\n<li>stop and start runtime </li>\n<li>all works </li>\n</ol>\n\n<p>Need help figuring out why this is happening and how to prevent it.</p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["iot"],
        "is_answered": false,
        "view_count": 11,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1600954284,
        "creation_date": 1600954284,
        "question_id": 64047587,
        "link": "https://stackoverflow.com/questions/64047587/the-things-network-ttn-sdk-deprecated",
        "title": "The things network (TTN) SDK deprecated",
        "body": "<p>I would like to connect to IOT using The things network (TTN), I have explored the official SDK documentation but it seems all SDKs are deprecated. The code samples provided doesn't work either.\nCan someone advise what is right way to establish connection to TTN to manage the same?</p>\n"
    }, {
        "tags": ["raspberry-pi", "google-cloud-functions", "iot"],
        "is_answered": true,
        "view_count": 217,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1600122201,
        "creation_date": 1599830140,
        "last_edit_date": 1599878349,
        "question_id": 63847851,
        "link": "https://stackoverflow.com/questions/63847851/testing-cloud-function-cannot-read-property-data-of-undefined",
        "title": "Testing Cloud Function - Cannot read property &#39;data&#39; of undefined",
        "body": "<p>I've got a Raspberry Pi and setup a weather (and soil moisture) rig.</p>\n<p>I found this guide: <a href=\"https://codelabs.developers.google.com/codelabs/iot-data-pipeline\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/iot-data-pipeline</a> which I followed and got stuck around Step 6-7.</p>\n<p>From what I understand - when I send data to PubSub - nothing happens. On the Raspberry End I sort of get the idea that data is being sent but it doesn't get passed into BigQuery. I did some print statements at various points to try and see where it got stuck.</p>\n<p>As I was trying to find the error I slowly backtracked to Step 5 (Create a Cloud Function).\nStep 5 along with associated code I copied can be seen here: <a href=\"https://codelabs.developers.google.com/codelabs/iot-data-pipeline/#4\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/iot-data-pipeline/#4</a></p>\n<p>In GCP - I click into Cloud Function -&gt; function-weatherPubSubToBQ -&gt; Testing (tab)</p>\n<p>Under the heading - Trigger event - I filled out the JSON below:</p>\n<pre><code>{\n &quot;sensorID&quot;:&quot;Raspberry&quot;, \n &quot;timecollected&quot;:&quot;2020-09-11 06:45:19&quot;, \n &quot;zipcode&quot;:&quot;00000&quot;, \n &quot;latitude&quot;:&quot;0.0&quot;, \n &quot;longitude&quot;:&quot;0.0&quot;, \n &quot;temperature&quot;:&quot;-273&quot;, \n &quot;humidity&quot;:&quot;-1&quot;, \n &quot;dewpoint&quot;:&quot;-273&quot;, \n &quot;pressure&quot;:&quot;0&quot;\n}\n</code></pre>\n<p>When I click on - Test the function - the output is as below</p>\n<pre><code>**Error: function execution failed. Details:\nCannot read property 'data' of undefined**\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zu34D.png\" rel=\"nofollow noreferrer\">Screen capture of JSON and error message</a></p>\n<p>I am guessing one of these two things are causing the problem.\n<strong>event.data</strong> or <strong>PubSubMessage.data</strong></p>\n<p>I tried to make some changes to the code but I am just shooting in the dark.</p>\n<p>I was wondering if:</p>\n<ol>\n<li>I did something wrong which means there might be some other\nissues somewhere else.</li>\n<li>This guide is slightly old and there have\nbeen some updates which make the older code in the guide not\nfunction as desired. (not step/image in the guide matches with what\nI saw online, as of Sep 2020)</li>\n<li>If someone knows what is wrong in\nthe code and is able to let me know how to solve it that would be\nmuch appreciated.</li>\n</ol>\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 670,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1599720066,
        "creation_date": 1599633848,
        "question_id": 63806134,
        "link": "https://stackoverflow.com/questions/63806134/how-to-call-direct-method-on-iot-edge-agent-from-another-module",
        "title": "How to call direct method on iot edge agent from another module?",
        "body": "<p>I'm playing around with experimental features from 1.0.10-rc2.</p>\n<p>There is a direct method on edgeAgent UploadModuleLogs.</p>\n<p>I can call the method from Azure Portal and it works fine.\nI'm trying to call the method from my module on the same device like this:</p>\n<pre><code>static async Task Init()\n{\n...\n\n  await ioTHubModuleClient.SetMethodHandlerAsync(&quot;UploadModuleLogs&quot;, UploadModuleLogs, ioTHubModuleClient);\n}\n\nprivate static async Task&lt;MethodResponse&gt; UploadModuleLogs(MethodRequest methodRequest, object userContext)\n{\n  ModuleClient ioTHubModuleClient = (ModuleClient)userContext;\n\n  // Upload logs\n  Console.WriteLine(&quot;Invoking method On edgeAgent&quot;);\n\n  var payload = @&quot;{\n&quot;&quot;schemaVersion&quot;&quot;: &quot;&quot;1.0&quot;&quot;,\n&quot;&quot;sasUrl&quot;&quot;: &quot;&quot;https://...&quot;&quot;,\n&quot;&quot;items&quot;&quot;: [\n    {\n        &quot;&quot;id&quot;&quot;: &quot;&quot;.*&quot;&quot;, \n        &quot;&quot;filter&quot;&quot;: {\n            &quot;&quot;tail&quot;&quot;: 100\n        }\n    }\n],\n&quot;&quot;encoding&quot;&quot;: &quot;&quot;none&quot;&quot;, \n&quot;&quot;contentType&quot;&quot;: &quot;&quot;text&quot;&quot;\n} &quot;;\n\n  MethodRequest request = new MethodRequest(&quot;UploadModuleLogs&quot;, Encoding.UTF8.GetBytes(payload));\n\n  string myModuleId = Environment.GetEnvironmentVariable(&quot;IOTEDGE_MODULEID&quot;);\n  string myDeviceId = Environment.GetEnvironmentVariable(&quot;IOTEDGE_DEVICEID&quot;);\n\n  Console.WriteLine($&quot;{myDeviceId}, {myModuleId} - UploadModuleLogs method request at {DateTime.Now}&quot;);\n  //Console.WriteLine($&quot;{request.DataAsJson}&quot;);\n\n  try\n  {\n    var response = await ioTHubModuleClient.InvokeMethodAsync(myDeviceId, &quot;$edgeAgent&quot;, request).ConfigureAwait(false);\n    Console.WriteLine($&quot;Received response with status: {response.Status} with message: {response.ResultAsJson}&quot;);\n\n    return response;\n  }\n  catch (Exception ex)\n  {\n    Console.WriteLine($&quot;Error invoking method {ex}&quot;);\n  }\n\n  return null;\n</code></pre>\n<p>Trying to run this:</p>\n<p>Error invoking method Microsoft.Azure.Devices.Client.Exceptions.DeviceNotFoundException: Device {&quot;message&quot;:&quot;Client myDeviceName/$edgeAgent not found&quot;} not registered\nat Microsoft.Azure.Devices.Client.Transport.HttpClientHelper.ExecuteAsync(HttpMethod httpMethod, Uri requestUri, Func<code>3 modifyRequestMessageAsync, Func</code>2 isSuccessful, Func<code>3 processResponseMessageAsync, IDictionary</code>2 errorMappingOverrides, CancellationToken cancellationToken)\nat Microsoft.Azure.Devices.Client.Transport.HttpClientHelper.PostAsync[T1,T2](Uri requestUri, T1 entity, IDictionary<code>2 errorMappingOverrides, IDictionary</code>2 customHeaders, CancellationToken cancellationToken)\nat Microsoft.Azure.Devices.Client.ModuleClient.InvokeMethodAsync(Uri uri, MethodRequest methodRequest, CancellationToken cancellationToken)</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-edge", "azure-iot-sdk"],
        "is_answered": true,
        "view_count": 108,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1599579944,
        "creation_date": 1599561067,
        "question_id": 63792034,
        "link": "https://stackoverflow.com/questions/63792034/azure-iot-edge-programmaticallynodejs-create-parent-child-relation-between-edg",
        "title": "Azure IoT edge programmatically[NodeJS] create parent child relation between edge and leaf device",
        "body": "<p>I have found links from Azure GitHub repo that we can create relationship of parent child between Edge device and leaf device using <a href=\"https://github.com/Azure/azure-iot-sdk-java/issues/494\" rel=\"nofollow noreferrer\">Java</a> and <a href=\"https://github.com/Azure/azure-iot-sdk-python/issues/286\" rel=\"nofollow noreferrer\">Python</a> language but I have not found the api/interface to that in NodeJS sdk provided by Azure. Has anyone implemented this in NodeJS?</p>\n"
    }, {
        "tags": ["iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 166,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1599559009,
        "creation_date": 1583426284,
        "question_id": 60550148,
        "link": "https://stackoverflow.com/questions/60550148/azure-iot-edge-certificates-requirements",
        "title": "Azure IoT Edge Certificates Requirements",
        "body": "<p>We are running the Azure IoT Edge runtime on commodity servers inside a corporate intranet. I understand the Microsoft documentation recommends installing certificates for production IoT edge deployment. </p>\n\n<p>We are using basic edge modules only, no gateway configurations, passthroughs, etc...</p>\n\n<p>For our intranet scenario are self-signed certs suitable for production? If so can a single certificate be used for all devices?  </p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 136,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1598881736,
        "creation_date": 1598879427,
        "question_id": 63671478,
        "link": "https://stackoverflow.com/questions/63671478/moduleclient-iot-hub-edge-device-how-to-receive-messages-from-device-queue",
        "title": "ModuleClient IoT Hub Edge device: How to receive messages from device queue?",
        "body": "<p>We deploy IoT Edge Modules to our devices and can send messages to IoT Hub or execute direct methods. ModuleClient however also has a few methods (such as CompleteAsync) to delete a message from the device queue.</p>\n<p>Q: Is there any way to receive device queue messages directly in the module? Either by routing rules, use of a ModuleClient method or possibly even by using a DeviceClient instance within a Module?</p>\n<p>Any help would be much appreciated.</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "provisioning", "azure-iot-edge", "azure-iot-sdk"],
        "is_answered": false,
        "view_count": 98,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1598857928,
        "creation_date": 1598671482,
        "question_id": 63643104,
        "link": "https://stackoverflow.com/questions/63643104/is-it-possible-to-provision-leaf-device-through-iot-edge-device",
        "title": "Is it possible to provision leaf device through iot edge device?",
        "body": "<p>I have implemented Azure IoT edge transparent gateway use case and was able to register/provision my leaf device through DPS(x509).</p>\n<p>But I want to register my leaf device on IoT Hub through IoT edge as my leaf devices doesn't have any Internet connection thus they can't access IoT Hub interface.</p>\n<p>Or I'm open for other solutions too for my use case.</p>\n"
    }, {
        "tags": [".net", "azure", "iot", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 68,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1597927213,
        "creation_date": 1597913502,
        "last_edit_date": 1597914561,
        "question_id": 63501547,
        "link": "https://stackoverflow.com/questions/63501547/can-we-invoke-one-modules-leaf-device-direct-method-from-another-module",
        "title": "Can we invoke one module&#39;s leaf device direct method from another module?",
        "body": "<p>I have developed two custom IoT edge modules\ne.g. <strong>Module1, Module2</strong></p>\n<p>Module1 is having multiple IoT devices (Leaf devices) running inside the container.</p>\n<p>Those leaf devices have certain direct methods written e.g. <strong>IsDeviceOnline</strong></p>\n<p>Is it possible to invoke that direct method from <strong>Module2</strong>?</p>\n<p>I have tried by writing leaf deviceId while invoking as below but it gives\n<code>{&quot;status&quot;:500,&quot;payload&quot;:null}</code>\nalways.</p>\n<pre><code>MethodRequest request = new MethodRequest(&quot;IsDeviceOnline&quot;);\nvar resp = await moduleclient.InvokeMethodAsync(deviceId, &quot;Module1&quot;, request);\n</code></pre>\n<p>above code is getting executed from Module2</p>\n"
    }, {
        "tags": ["azure", "security", "iot", "azure-anomaly-detection"],
        "is_answered": false,
        "view_count": 58,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1596509630,
        "creation_date": 1589644182,
        "question_id": 61839484,
        "link": "https://stackoverflow.com/questions/61839484/azure-iot-hub-ddos-monitoring",
        "title": "Azure IoT Hub - DDOS Monitoring",
        "body": "<p>For context I\u2019m new to Azure IoT Hub.</p>\n\n<p>I\u2019ve setup a project to monitor air quality on Azure IoT Hub, that captures various telemetry data metrics. I\u2019m now researching how to emulate a DDoS or any malware attack on this application in Azure IoT Hub and monitor this for security anomalies.  How can I emulate this attack and monitor this in Azure IoT hub? Specifically the requirement is -  \u2018<em>If telemetry data is collected from IoT devices and services, such as usage and measurement data, it should be monitored for security anomalies\u2019</em>.</p>\n\n<p>Thanks in advance. </p>\n"
    }, {
        "tags": ["bluetooth", "progressive-web-apps", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 187,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1595315475,
        "creation_date": 1595260804,
        "last_edit_date": 1595315475,
        "question_id": 62999379,
        "link": "https://stackoverflow.com/questions/62999379/iot-hub-azure-ble-device-and-pwa-application",
        "title": "IoT hub azure - ble device and pwa application",
        "body": "<p>I have an <strong>IOT device</strong> which communicates through <strong>bluetooth</strong> with my PWA (Vue js) application.</p>\n<p>Can the <strong>telemetrics</strong> be sent to IOT azure hub?</p>\n<p>IOT hub is not very clear to me. Do I have to create a server which communicates with the PWA? (ble &lt;-&gt; PWA -&gt; backend -&gt; IOT hub)</p>\n<pre class=\"lang-js prettyprint-override\"><code>var Mqtt = require('azure-iot-device-mqtt').Mqtt;\nvar DeviceClient = require('azure-iot-device').Client\nvar Message = require('azure-iot-device').Message;\n\nvar client = DeviceClient.fromConnectionString(connectionString, Mqtt);\n\n// Create a message and send it to the IoT hub every second\nsetInterval(function(){\n  // Simulate telemetry.\n  var temperature = 20 + (Math.random() * 15);\n  var message = new Message(JSON.stringify({\n    temperature: temperature,\n    humidity: 60 + (Math.random() * 20)\n  }));\n\n  // Add a custom application property to the message.\n  // An IoT hub can filter on these properties without access to the message body.\n  message.properties.add('temperatureAlert', (temperature &gt; 30) ? 'true' : 'false');\n\n  console.log('Sending message: ' + message.getData());\n\n  // Send the message.\n  client.sendEvent(message, function (err) {\n    if (err) {\n      console.error('send error: ' + err.toString());\n    } else {\n      console.log('message sent');\n    }\n  });\n}, 10000);\n</code></pre>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "aws-iot"],
        "is_answered": true,
        "view_count": 56,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1595167124,
        "creation_date": 1595156037,
        "question_id": 62979326,
        "link": "https://stackoverflow.com/questions/62979326/external-api-call-from-iot-edge-gateway-module",
        "title": "External API call from IOT edge gateway module",
        "body": "<p>Is it possible to call an external API ( any simple API external to IOT edge gateway, eg : a hello world ping) from an IOT edge module?</p>\n"
    }, {
        "tags": ["android", "mqtt", "iot", "mosquitto", "paho"],
        "is_answered": false,
        "view_count": 463,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1592572158,
        "creation_date": 1592394680,
        "last_edit_date": 1592572158,
        "question_id": 62428343,
        "link": "https://stackoverflow.com/questions/62428343/paho-mqtt-not-connecting-android-studio-to-the-mosquitto-broker",
        "title": "Paho MQTT not connecting Android studio to the Mosquitto broker",
        "body": "<p>I hosted Mosquitto MQTT broker on Digital Ocean Cloud. Now, I am trying to connect it to the android studio. But it is not connecting to the MQTT broker. I have printed the throwable exception details so the error could be debugged.Please guide me on how this error could be solved. I tried with the following code.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\npublic MqttAndroidClient CLIENT;\npublic MqttConnectOptions MQTT_CONNECTION_OPTIONS;\n\n\n@Override\n\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n    String clientId = MqttClient.generateClientId();\n    MqttAndroidClient client =\n            new MqttAndroidClient(this.getApplicationContext(), \"tcp://instrux.live:1883\",\n                    clientId);\n\n    try {\n        IMqttToken token = client.connect();\n        token.setActionCallback(new IMqttActionListener() {\n            @Override\n            public void onSuccess(IMqttToken asyncActionToken) {\n                // We are connected\n                Log.d(\"mqtt\", \"connected, token:\" + asyncActionToken.toString());\n            }\n\n            @Override\n            public void onFailure(IMqttToken asyncActionToken, Throwable exception) {\n                // Something went wrong e.g. connection timeout or firewall problems\n                Log.d(\"mqtt\", \"not connected\" + exception.toString());\n\n            }\n        });\n    } catch (MqttException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n\n<p>Logcat:</p>\n\n<pre><code> 2020-06-18 14:49:52.969 6808-6858/com.example.testmqtt D/AlarmPingSender: \n                 Unregister alarmreceiver to MqttServicepaho8018389353240\n 2020-06-18 14:50:10.537 6808-6830/com.example.testmqtt D/EGL_emulation: \n                 eglMakeCurrent: 0xb6585120: ver 2 0 (tinfo 0xb6583230)\n 2020-06-18 14:50:12.213 6808-6830/com.example.testmqtt D/EGL_emulation: \n                 eglMakeCurrent: 0xb6585120: ver 2 0 (tinfo 0xb6583230)\n 2020-06-18 14:50:23.022 6808-7040/com.example.testmqtt D/AlarmPingSender: \n                 Unregister alarmreceiver to MqttServicepaho8018389353240\n 2020-06-18 14:50:23.037 6808-6808/com.example.testmqtt D/mqtt: not \n                 connectedMqttException (0) - \n                 java.net.SocketTimeoutException: connect timed out\n</code></pre>\n"
    }, {
        "tags": ["json", "google-cloud-firestore", "arduino", "iot", "arduino-esp8266"],
        "is_answered": true,
        "view_count": 649,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1592296852,
        "creation_date": 1592241434,
        "last_edit_date": 1592644375,
        "question_id": 62393488,
        "link": "https://stackoverflow.com/questions/62393488/firestore-rest-api-post-request-from-esp8266",
        "title": "Firestore REST API POST request from ESP8266",
        "body": "<h1>I'm trying to save a piece of information in the Cloud Firestore from an ESP8266.</h1>\n<p>I have modified an example code to do so.</p>\n<p>I have tried GET request and it was successful and returned the document I stored previously. However when I tried POST request I get the following Error:</p>\n<pre><code>{\n  &quot;error&quot;: {\n    &quot;code&quot;: 400,\n    &quot;message&quot;: &quot;Document parent name \\&quot;projects/dummy-1cb41/databases/(default)/documents/users\\&quot; lacks \\&quot;/\\&quot; at index 56.&quot;,\n    &quot;status&quot;: &quot;INVALID_ARGUMENT&quot;\n  }\n}\n\n</code></pre>\n<p>I think I have not implemented the json payload body correctly. I have many trials but couldn't get it right.</p>\n<h1>Please help!</h1>\n<p>Here is the code</p>\n<pre><code>/**\n   BasicHTTPSClient.ino\n\n    Created on: 20.08.2018\n\n*/\n\n#include &lt;Arduino.h&gt;\n\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;ESP8266WiFiMulti.h&gt;\n\n#include &lt;ESP8266HTTPClient.h&gt;\n\n#include &lt;WiFiClientSecureBearSSL.h&gt;\n// Fingerprint for demo URL, expires on June 2, 2021, needs to be updated well before this date\nconst uint8_t fingerprint[20] = {0x40, 0xaf, 0x00, 0x6b, 0xec, 0x90, 0x22, 0x41, 0x8e, 0xa3, 0xad, 0xfa, 0x1a, 0xe8, 0x25, 0x41, 0x1d, 0x1a, 0x54, 0xb3};\n\nESP8266WiFiMulti WiFiMulti;\n\nvoid setup() {\n\n  Serial.begin(115200);\n  // Serial.setDebugOutput(true);\n\n  Serial.println();\n  Serial.println();\n  Serial.println();\n\n  for (uint8_t t = 4; t &gt; 0; t--) {\n    Serial.printf(&quot;[SETUP] WAIT %d...\\n&quot;, t);\n    Serial.flush();\n    delay(1000);\n  }\n\n  WiFi.mode(WIFI_STA);\n  WiFiMulti.addAP(&quot;ssid&quot;, &quot;password&quot;);\n}\n\nvoid loop() {\n  // wait for WiFi connection\n  if ((WiFiMulti.run() == WL_CONNECTED)) {\n\n    std::unique_ptr&lt;BearSSL::WiFiClientSecure&gt;client(new BearSSL::WiFiClientSecure);\n\n//    client-&gt;setFingerprint(fingerprint);\n\n    client-&gt;setInsecure();\n\n    HTTPClient https;\n\n    String url = &quot;https://firestore.googleapis.com/v1beta1/projects/dummy-1cb41/databases/(default)/documents/users/doc-1&quot;;\n\n    Serial.print(&quot;[HTTPS] begin...\\n&quot;);\n    if (https.begin(*client, url)) {  // HTTPS\n\n      Serial.print(&quot;[HTTPS] GET...\\n&quot;);\n      // start connection and send HTTP header\n//      int httpCode = https.GET();\n      https.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;);\n \n      int httpCode = https.POST(&quot;{\\&quot;fields\\&quot;:{\\&quot;name\\&quot;:{\\&quot;stringValue\\&quot;:\\&quot;a name\\&quot;}}}&quot;);\n      // httpCode will be negative on error\n      if (httpCode &gt; 0) {\n        // HTTP header has been send and Server response header has been handled\n        Serial.printf(&quot;[HTTPS] GET... code: %d\\n&quot;, httpCode);\n\n        // file found at server\n        if (httpCode == HTTP_CODE_OK || httpCode == HTTP_CODE_MOVED_PERMANENTLY) {\n          String payload = https.getString();\n          Serial.println(payload);\n        } else {\n          Serial.println(https.getString());\n        }\n      } else {\n        Serial.printf(&quot;[HTTPS] GET... failed, error: %s\\n&quot;, https.errorToString(httpCode).c_str());\n      }\n\n      https.end();\n    } else {\n      Serial.printf(&quot;[HTTPS] Unable to connect\\n&quot;);\n    }\n  }\n\n  Serial.println(&quot;Wait 10s before next round...&quot;);\n  delay(10000);\n}\n\n</code></pre>\n"
    }, {
        "tags": ["java", "azure", "iot"],
        "is_answered": true,
        "view_count": 996,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1590144072,
        "creation_date": 1570455764,
        "question_id": 58270826,
        "link": "https://stackoverflow.com/questions/58270826/azure-iot-hub-downloading-file-from-azure-blob-using-iot-hub-to-an-iot-device",
        "title": "Azure IoT Hub - Downloading file from Azure blob using IoT Hub to an IoT device",
        "body": "<p>I have a use case, where I need to download the file from Azure blob location to an IoT Device which is registered with IoT Hub.</p>\n\n<p>In this case, I will be sending an instruction to IoT Device (through IoT Hub) to download the file from Azure blob location, to specific destination on the machine (where IoT Device app is running).</p>\n\n<p>These instructions will be sent through IoT Hub using a backend (customised) application.</p>\n\n<p>Just wanted to know whether Azure IoT Hub currently support this facility which I can use directly into the IoT Device app (by using Azure IoT API).</p>\n\n<p>Any reference will be helpful.</p>\n\n<p>Thanks,</p>\n\n<p>Avinash Deshmukh</p>\n"
    }, {
        "tags": ["python", "python-3.x", "raspberry-pi", "iot", "picamera"],
        "is_answered": true,
        "view_count": 76,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1589731940,
        "creation_date": 1589731168,
        "question_id": 61854742,
        "link": "https://stackoverflow.com/questions/61854742/for-what-sleep-in-recipes-picamera",
        "title": "For what &quot;sleep&quot; in recipes PiCamera?",
        "body": "<p>In most part recipes for PiCamera it is <code>time.sleep()</code> before <code>camera.capture</code> (<a href=\"https://picamera.readthedocs.io/en/release-1.10/recipes1.html\" rel=\"nofollow noreferrer\">official tutorial</a>). Here it is only comment: <em>\"# Camera warm-up time\"</em>.</p>\n\n<ol>\n<li>But how exactly it warms? For what?</li>\n<li>Do I need make warm-up if I use <code>camera.capture</code> in a cycle? Or it is enough only one time, in first iteration?</li>\n<li>How I should choose a count of seconds to warm-up?</li>\n</ol>\n"
    }, {
        "tags": ["azure", "iot", "servicebus", "partition", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1267,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1586216649,
        "creation_date": 1490724380,
        "last_edit_date": 1490763941,
        "question_id": 43076839,
        "link": "https://stackoverflow.com/questions/43076839/sending-message-to-azure-iot-hub-partition",
        "title": "Sending message to Azure IoT hub partition",
        "body": "<p>Does anyone know if there is a library that allows you to send a message to a specific partition on an IoT hub with Azure.\nI was previously able to achieve this with azuresblite library, unfortunatelly which I Cannot use.\n<a href=\"https://github.com/ppatierno/azuresblite\" rel=\"nofollow noreferrer\">https://github.com/ppatierno/azuresblite</a></p>\n"
    }, {
        "tags": ["c#", "asp.net", "asp.net-mvc", "azure", "iot"],
        "is_answered": true,
        "view_count": 934,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1585661818,
        "creation_date": 1485324222,
        "last_edit_date": 1592644375,
        "question_id": 41844526,
        "link": "https://stackoverflow.com/questions/41844526/display-data-received-from-iot-hub-on-viewweb-page",
        "title": "display data received from IoT Hub on View(web page)",
        "body": "<p>I have used  <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted</a> as reference to create my ASPNet MVC app</p>\n<p>I am using the below code to receive data from IoT Hub</p>\n<pre><code>private static async Task ReceiveMessagesFromDeviceAsync(string partition, CancellationToken ct)\n{\n    var eventHubReceiver = eventHubClient.GetDefaultConsumerGroup().CreateReceiver(partition, DateTime.UtcNow);\n    while (true)\n    {\n        if (ct.IsCancellationRequested) break;\n        EventData eventData = await eventHubReceiver.ReceiveAsync();\n        if (eventData == null) continue;\n\n        string data = Encoding.UTF8.GetString(eventData.GetBytes());\n\n        //Console.WriteLine(&quot;Message received. Partition: {0} Data: '{1}'&quot;, partition, data);\n\n    }\n}\n</code></pre>\n<p>By this I see the data gets received in the variable <em><strong>string data</strong></em>\nNow I would like to display this data on the View (MVC View i.e. web page) as it gets received from IoT Hub.</p>\n<h2>My Query</h2>\n<p>How should the value in the <em><strong>var string data</strong></em> be directed to be displayed on View?</p>\n"
    }, {
        "tags": ["ios", "swift", "iot", "homekit"],
        "is_answered": false,
        "view_count": 80,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1585069518,
        "creation_date": 1585068562,
        "question_id": 60835587,
        "link": "https://stackoverflow.com/questions/60835587/how-do-i-expand-and-collapse-a-uicollectionviewcell-with-swift",
        "title": "How do I expand and collapse a UICollectionViewCell with swift?",
        "body": "<p>The Collection view cell would need to show and hide additional tools for the device being controlled. The button that collapses would be at the bottom of the UICollectionViewCell. Whenever the button is pressed it would animate downwards revealing the fan or lights extra features or animate upwards when hiding the extra features. I only need help with expanding and collapsing by using the button at the bottom of the cell. An image is attached showing an example.</p>\n\n<p><a href=\"https://i.stack.imgur.com/niwe7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/niwe7.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["mqtt", "iot", "fiware"],
        "is_answered": true,
        "view_count": 199,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1583423583,
        "creation_date": 1582739163,
        "question_id": 60419637,
        "link": "https://stackoverflow.com/questions/60419637/iotagent-ultralight-over-mqtt-is-not-processing-values-from-mqtt-broker",
        "title": "IotAgent UltraLight over MQTT is not processing values from MQTT broker",
        "body": "<p>I am following the tutorial under:\n<a href=\"https://github.com/FIWARE/tutorials.IoT-over-MQTT\" rel=\"nofollow noreferrer\">https://github.com/FIWARE/tutorials.IoT-over-MQTT</a></p>\n\n<p>Steps 1 to 3 are followed exactly as in the tutorial (working fine), in Step 4 I am using mosquitto_pub to publish the message to the MQTT broker.</p>\n\n<p>The MQTT message does not get processed by the IotAgent, however. I can see this when I try to retrieve the data from the Context Broker as in Step 5. </p>\n\n<p>Using the debugger with:</p>\n\n<pre><code>docker exec -it [IOTAGENT CONTAINER] pm2 monit\n</code></pre>\n\n<p>also shows nothing happening when the MQTT message is published. I have tried the messaging formats below:</p>\n\n<pre><code>mosquitto_pub -t \"/4jggokgpepnvsb2uv4s40d59ov/motion001/attrs\" -m \"c|1\" \nmosquitto_pub -t /4jggokgpepnvsb2uv4s40d59ov/motion001/attrs -m '{\"c\":1}'\n</code></pre>\n\n<p>The Mosquitto broker is running and can be subscribed to.\nAm I missing a parameter? What could be the reason that the IotAgent is not working as expected?\nI had tested the setup successfully some months ago, but unfortunately the testing parameters are not available anymore.</p>\n"
    }, {
        "tags": ["python", "opencv", "security", "iot"],
        "is_answered": true,
        "view_count": 41,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1583159171,
        "creation_date": 1583141000,
        "question_id": 60485783,
        "link": "https://stackoverflow.com/questions/60485783/how-to-overcome-face-detection-security-issues-so-it-cannot-detect-a-face-if-som",
        "title": "How to overcome face detection security issues so it cannot detect a face if someone shows a picture?",
        "body": "<p>I have build a real time face detection using OPENCV in python now i am expanding my project to fyp and making a iot based smart home automation using AI.I am implementing a door lock as a initial state which will be opened if it detect a face which will be in dataset.\nI don't want it to detect or opened if someone show a picture from mobile of same person which is a security concern\nplease Help.</p>\n"
    }, {
        "tags": ["iot"],
        "is_answered": false,
        "view_count": 166,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1581966626,
        "creation_date": 1580714185,
        "question_id": 60034670,
        "link": "https://stackoverflow.com/questions/60034670/error-compiling-for-board-nodemcu-1-0-esp-12e-module-with-azureiot-headers",
        "title": "Error compiling for board NodeMCU 1.0 (ESP-12E Module) with AzureIoT headers",
        "body": "<p>Hey guys am sure you are tired of seeing this question on many posts, truth is until now I have not come close to a solution and time is running out. \nBelow is a sample of the error a, getting please help me in any way. Thanks</p>\n\n<pre><code>Arduino: 1.8.10 (Windows 10), Board: \"NodeMCU 1.0 (ESP-12E Module), 80 MHz, Flash, Legacy (new can return nullptr), All SSL ciphers (most compatible), 4MB (FS:2MB OTA:~1019KB), 2, v2 Lower Memory, Disabled, None, Only Sketch, 115200\"\n\nMultiple libraries were found for \"AzureIoTUtility.h\"\nUsed: C:\\Users\\Agent\nNot used: C:\\Users\\Agent\nMultiple libraries were found for \"AzureIoTProtocol_MQTT.h\"\nIn file included from C:\\Users\\Agent \n96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/azure_c_shared_utility/constbuffer.h:16:0,\n\nUsed: C:\\Users\\Agent\nNot used: C:\\Users\\Agent\n             from C:\\Users\\Agent \n96\\Documents\\Arduino\\libraries\\AzureIoTHub\\src\\internal/iothub_client_private.h:9,\n\nMultiple libraries were found for \"ArduinoJson.h\"\nUsed: C:\\Users\\Agent\nNot used: C:\\Users\\Agent\n             from C:\\Users\\Agent    \n96\\Documents\\Arduino\\libraries\\AzureIoTHub\\src\\iothub_client_ll_uploadtoblob.c:20:\n\n    Multiple libraries were found for \"DHT.h\"\n    C:\\Users\\Agent 96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/umock_c/umock_c_prod.h:114:30: \n    error: pasting \"MOCKABLE_\" and \"/*this creates a new constbuffer from a memory area*/\" does not give \n a valid preprocessing token\n\n Used: C:\\Users\\Agent\n#define EXPAND_PROD_ENTRY(A) MOCKABLE_##A\n\nMultiple libraries were found for \"ESP8266WiFi.h\"\n                           ^\n\nUsed: C:\\Users\\Agent\nMultiple libraries were foun d for \"AzureIoTHub.h\"\nUsed: C:\\Users\\Agent\nC:\\Users\\Agent \n96\\Documents\\Arduino\\libraries\\AzureIoTHub\\src/azure_macro_utils/macro_utils_generated.h: 9020:1: \nnote: in expansion of macro 'EXPAND_PROD_ENTRY'\n\n X(P1) \\\n\n ^\n\n C:\\Users\\Agent \n96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/umock_c/azure_macro_utils/macro_utils.h:35:21: \n note: in expansion of macro 'MU_FOR_EACH_1_9'\n\n#define MU_C2_(x,y) x##y\n\n                 ^\n\n   C:\\Users\\Agent 96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/umock_c/umock_c_prod.h:119:5: note: \n   in expansion of macro 'MU_FOR_EACH_1'\n\n MU_FOR_EACH_1(EXPAND_PROD_ENTRY, __VA_ARGS__)\n\n ^\n\n C:\\Users\\Agent \n 96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/azure_c_shared_utility/constbuffer.h:35:1: note: \n in expansion of macro 'MOCKABLE_INTERFACE'\n\nMOCKABLE_INTERFACE(constbuffer,\n\n ^\n\n    C:\\Users\\Agent 96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/umock_c/umock_c_prod.h:11     \n   4:30: error: pasting \"MOCKABLE_\" and \"/*this creates a new constbuffer from an existing BU \n   FFER_HANDLE*/\" does not give a valid preprocessing token\n\n   #define EXPAND_PROD_ENTRY(A) MOCKABLE_##A\n\n                          ^\n\nC:\\Users\\Agent \n96\\Documents\\Arduino\\libraries\\AzureIoTHub\\src/azure_macro_utils/macro_utils_generated.h:9024:1: \nnote: in expansion of macro 'EXPAND_PROD_ENTRY'\n\n   X(P1) \\\n\n     ^  \n\n  C:\\Users\\Agent \n  96\\Documents\\Arduino\\libraries\\AzureIoTHub\\src/azure_macro_utils/macro_utils_generated.h:9021:1: \n note: in expansion of macro 'MU_FOR_EACH_1_8'\n\n   MU_FOR_EACH_1_8(X, P2, P3, P4, P5, P6, P7, P8, P9)\n\n    ^\n\n  C:\\Users\\Agent \n96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/umock_c/azure_macro_utils/macro_utils.h:35:21: \n  note: in expansion of macro 'MU_FOR_EACH_1_9'\n\n   #define MU_C2_(x,y) x##y\n\n                 ^\n\n C:\\Users\\Agent 96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/umock_c/umock_c_prod.h:119:5: \n note: in expansion of macro 'MU_FOR_EACH_1'\n\n MU_FOR_EACH_1(EXPAND_PROD_ENTRY, __VA_ARGS__)\n\n   ^\n\n   C:\\Users\\Agent \n  96\\Documents\\Arduino\\libraries\\AzureIoTUtility\\src/azure_c_shared_utility/constbuffer.h:35:1: note: \n in expansion of macro 'MOCKABLE_INTERFACE'\n\nMOCKABLE_INTERFACE(constbuffer, \n\n^\n\n C:\\Users\\Agent 96\\Documents\\Arduino\\libraries\\AzureIoTHub\\src\\iothub_client_ll_uploadtoblob.c:26:27: \n fatal error: internal/blob.h: No such file or directory\n\n    #include \"internal/blob.h\"\n\n                       ^\n\n  compilation terminated.\n\nexit status 1\nError compiling for board NodeMCU 1.0 (ESP-12E Module).\n</code></pre>\n\n<p>This report would have more information with\n\"Show verbose output during compilation\"\noption enabled in File -> Preferences.</p>\n"
    }, {
        "tags": ["azure", "azure-functions", "iot", "azure-iot-hub", "azure-notificationhub"],
        "is_answered": true,
        "view_count": 81,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1580070288,
        "creation_date": 1579971264,
        "question_id": 59911405,
        "link": "https://stackoverflow.com/questions/59911405/how-to-trigger-notification-hub-from-iot-hub",
        "title": "How to trigger notification hub from IoT hub?",
        "body": "<p>I've been trying for hours to find some documentation on this but I can't seem to find anything!\nI have a device connected to the IoT hub and I have notification working on the Notification hub.</p>\n\n<p>But how can I connect these two?</p>\n\n<p>I'm thinking of Functions, but I cant find any up to date documentation on how to do this\nThank you very much!</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-central", "azure-iot-hub-device-management"],
        "is_answered": false,
        "view_count": 646,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1579793121,
        "creation_date": 1579793121,
        "question_id": 59881914,
        "link": "https://stackoverflow.com/questions/59881914/caused-by-mqttexception-0-java-net-unknownhostexception-xxx-azure-devices",
        "title": "Caused by: MqttException (0) - java.net.UnknownHostException: xxx..azure-devices.net",
        "body": "<p>I'm following Azure IoT Example(<a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/quickstart-send-telemetry-java\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/quickstart-send-telemetry-java</a> )  to send data from device to IoTHUb but getting below error :</p>\n\n<pre><code>  SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread \"main\" java.io.IOException: Could not open the connection\n        at com.microsoft.azure.sdk.iot.device.DeviceIO.open(DeviceIO.java:164)\n        at com.microsoft.azure.sdk.iot.device.InternalClient.open(InternalClient.java:130)\n        at com.microsoft.azure.sdk.iot.device.DeviceClient.open(DeviceClient.java:317)\n        at com.microsoft.docs.iothub.samples.SimulatedDevice.main(SimulatedDevice.java:157)\nCaused by: com.microsoft.azure.sdk.iot.device.exceptions.ProtocolException: Unable to establish MQTT connection\n        at com.microsoft.azure.sdk.iot.device.transport.mqtt.exceptions.PahoExceptionTranslator.convertToMqttException(PahoExceptionTranslator.java:40)\n        at com.microsoft.azure.sdk.iot.device.transport.mqtt.Mqtt.connect(Mqtt.java:125)\n        at com.microsoft.azure.sdk.iot.device.transport.mqtt.MqttMessaging.start(MqttMessaging.java:56)\n        at com.microsoft.azure.sdk.iot.device.transport.mqtt.MqttIotHubConnection.open(MqttIotHubConnection.java:180)\n        at com.microsoft.azure.sdk.iot.device.transport.IotHubTransport.openConnection(IotHubTransport.java:653)\n        at com.microsoft.azure.sdk.iot.device.transport.IotHubTransport.open(IotHubTransport.java:280)\n        at com.microsoft.azure.sdk.iot.device.DeviceIO.open(DeviceIO.java:160)\n        ... 3 more\nCaused by: MqttException (0) - java.net.UnknownHostException: XXXIOTHUB.azure-devices.net\n        at org.eclipse.paho.client.mqttv3.internal.ExceptionHelper.createMqttException(ExceptionHelper.java:38)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:715)\n        at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n        at java.util.concurrent.FutureTask.run(Unknown Source)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(Unknown Source)\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\nCaused by: java.net.UnknownHostException: XXXIOTHUB.azure-devices.net\n        at java.net.AbstractPlainSocketImpl.connect(Unknown Source)\n        at java.net.PlainSocketImpl.connect(Unknown Source)\n        at java.net.SocksSocketImpl.connect(Unknown Source)\n        at java.net.Socket.connect(Unknown Source)\n        at org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:80)\n        at org.eclipse.paho.client.mqttv3.internal.SSLNetworkModule.start(SSLNetworkModule.java:103)\n        at org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:701)\n        ... 7 more\n</code></pre>\n\n<p>I ping the XXXIOTHUB.azure-devices.net and it's not reachable from my local machine.Do I need to configure any Queue or how could I make this available for my device</p>\n"
    }, {
        "tags": ["routing", "null", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 130,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1575909447,
        "creation_date": 1575905076,
        "question_id": 59251905,
        "link": "https://stackoverflow.com/questions/59251905/iot-hub-routing-using-null-value-in-json",
        "title": "IoT Hub routing using null value in json",
        "body": "<p>In the IoT Hub Message Routing, I would like to route message to particular Event Hub if a specific json value is not passed in the body, but the following statement is failing to evaluate.  Is this not possible with IoT Hub Routing query?</p>\n\n<pre><code>$body.productId = null\n</code></pre>\n"
    }, {
        "tags": ["triggers", "azure-storage-blobs", "iot", "azure-logic-apps"],
        "is_answered": false,
        "view_count": 1334,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1575448734,
        "creation_date": 1530562833,
        "last_edit_date": 1575448734,
        "question_id": 51143231,
        "link": "https://stackoverflow.com/questions/51143231/azure-logic-app-blob-added-or-modified-trigger-not-working",
        "title": "Azure logic app blob added or modified trigger not working",
        "body": "<p>I have a raspberry pi that sends messages to the Azure IoT hub and stores the messages in a storage account's blob container.\nThe problem is, inside my blob container I have the following folder structure: <code>&lt;name_of_IoT_hub&gt;/01/year/month/day/&lt;random_number&gt;/blobfiles</code>\nI don't know where is this structure coming from. It seems it's got generated automatically. And the blobs contains my messages which is fine but the folder structure is kind of weird.\nIs there a way to delete all these unwanted folders? Deleting them won't help because with the next message they just come back.</p>\n\n<p>Anyway I wanted to create a logic app with <code>When a blob is added or modified</code> trigger and selected the right blob container but it never triggers. Why is it like this? An http request for example works. But the blob trigger doesn't. </p>\n\n<p>Greetings,\nJulian</p>\n"
    }, {
        "tags": ["iot", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 81,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1575009448,
        "creation_date": 1574326201,
        "question_id": 58970711,
        "link": "https://stackoverflow.com/questions/58970711/is-it-possible-to-use-custom-connector-with-iot-edge-runtime",
        "title": "Is it possible to use custom connector with IoT Edge Runtime",
        "body": "<p>Today I have a bit tricky question. Imagine a situation when someone has written a custom connector to the network (let's say there are a lot of security features hidden and so on). Now imagine that each application can connect to the network (even IoT Edge Runtime) only through this custom connector (let's say, this connector has implementation of both https and plain MQTT protocols).</p>\n\n<p>Now the issue! According to the documentation here <a href=\"https://github.com/Azure/iotedge/blob/master/doc/networking.md\" rel=\"nofollow noreferrer\">https://github.com/Azure/iotedge/blob/master/doc/networking.md</a> the IoT Edge Runtime connects to the network through moby-engine modified by Microsoft. According to the Microsoft, we cannot get this moby-engine. Moreover, if we use original moby project the support from the Microsoft will be caught off, which is a bad thing. So, we cannot modify moby-engine and make it use this custom connector.</p>\n\n<p>Now the question!\nIs it possible (may be I missed something in documentation. Not the first time tbh) to use custom connector with IoT Edge Runtime (no proxy, we need plain MQTT protocol)? If yes, can you explain in details how? If no, what posible features inside Iot Edge Runtime/moby engine can help to use custom connector?</p>\n\n<p>Please ask, if you need more information. I will provide it right away. A similar question was asked by me on Microsoft github. No response from there.</p>\n"
    }, {
        "tags": ["python", "opencv", "cmd", "python-imaging-library", "iot"],
        "is_answered": true,
        "view_count": 1615,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1574619874,
        "creation_date": 1564476727,
        "last_edit_date": 1564476793,
        "question_id": 57267798,
        "link": "https://stackoverflow.com/questions/57267798/when-is-install-imgaug-py-i-get-this-error",
        "title": "When is install imgaug.py i get this error",
        "body": "<p>Here is an image about my problem.I'm totally stuck.\n<a href=\"https://ibb.co/hCx74JV\" rel=\"nofollow noreferrer\">https://ibb.co/hCx74JV</a></p>\n\n<pre><code>C:\\Users\\Staj&gt;pip install imgaug\nCollecting imgaug\n  Using cached https://files.pythonhosted.org/packages/17/a9/36de8c0e1ffb2d86f871cac60e5caa910cbbdb5f4741df5ef856c47f4445/imgaug-0.2.9-py2.py3-none-any.whl\nRequirement already satisfied: Pillow in e:\\python\\lib\\site-packages (from imgaug) (5.4.1)\nCollecting scikit-image&gt;=0.11.0 (from imgaug)\n  Using cached https://files.pythonhosted.org/packages/79/16/c5a36a03f90d4a246791d4ff1879f1868e1c5db58fac9f03427395c5e2d6/scikit_image-0.15.0-cp37-none-win_amd64.whl\nRequirement already satisfied: six in e:\\python\\lib\\site-packages (from imgaug) (1.12.0)\nCollecting Shapely (from imgaug)\n  Using cached https://files.pythonhosted.org/packages/a2/fb/7a7af9ef7a35d16fa23b127abee272cfc483ca89029b73e92e93cdf36e6b/Shapely-1.6.4.post2.tar.gz\n    ERROR: Command errored out with exit status 1:\n     command: 'e:\\python\\python.exe' -c 'import sys, setuptools, tokenize; sys.argv[0] = '\"'\"'C:\\\\Users\\\\Staj\\\\AppData\\\\Local\\\\Temp\\\\pip-install-_wc8sxch\\\\Shapely\\\\setup.py'\"'\"'; __file__='\"'\"'C:\\\\Users\\\\Staj\\\\AppData\\\\Local\\\\Temp\\\\pip-install-_wc8sxch\\\\Shapely\\\\setup.py'\"'\"';f=getattr(tokenize, '\"'\"'open'\"'\"', open)(__file__);code=f.read().replace('\"'\"'\\r\\n'\"'\"', '\"'\"'\\n'\"'\"');f.close();exec(compile(code, __file__, '\"'\"'exec'\"'\"'))' egg_info --egg-base pip-egg-info\n         cwd: C:\\Users\\Staj\\AppData\\Local\\Temp\\pip-install-_wc8sxch\\Shapely\\\n    Complete output (9 lines):\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"C:\\Users\\Staj\\AppData\\Local\\Temp\\pip-install-_wc8sxch\\Shapely\\setup.py\", line 80, in &lt;module&gt;\n        from shapely._buildcfg import geos_version_string, geos_version, \\\n      File \"C:\\Users\\Staj\\AppData\\Local\\Temp\\pip-install-_wc8sxch\\Shapely\\shapely\\_buildcfg.py\", line 200, in &lt;module&gt;\n        lgeos = CDLL(\"geos_c.dll\")\n      File \"e:\\python\\lib\\ctypes\\__init__.py\", line 364, in __init__\n        self._handle = _dlopen(self._name, mode)\n    OSError: [WinError 126] The specified module could not be found\n    ----------------------------------------\nERROR: Command errored out with exit status 1: python setup.py egg_info Check the logs for full command output.\n</code></pre>\n"
    }, {
        "tags": ["azure-sql-database", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 4781,
        "favorite_count": 1,
        "score": 4,
        "last_activity_date": 1574209115,
        "creation_date": 1522917084,
        "question_id": 49667683,
        "link": "https://stackoverflow.com/questions/49667683/save-data-from-azure-hub-iot-to-an-azure-sql-database",
        "title": "Save data from Azure HUB-IOT to an Azure SQL-database",
        "body": "<p>I have recently created an Azure Hub-IOT in wich I am sending some data from a virtualized device, I know that the data arrived because I can see them from a terminal but now I want to take this data and save them into an Azure SQL_DataBase, how can I do this? \nIf someone can explain me the process or link some tutorial I will appreciate it.</p>\n"
    }, {
        "tags": ["iot", "esp8266", "arduino-ide", "freertos", "arduino-esp8266"],
        "is_answered": false,
        "view_count": 36,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1572995519,
        "creation_date": 1572685208,
        "last_edit_date": 1572995519,
        "question_id": 58669628,
        "link": "https://stackoverflow.com/questions/58669628/how-to-espressif-iot-plateform",
        "title": "How to ? Espressif IOT Plateform",
        "body": "<p>I am a non-software guy with some hands-on with Arduino IDE and ESP-12E. I want to use Arduino IDE and ESP-12E for testing Espressif IOT App. I have gone through almost all resources but could not find a step-by-step guide on:</p>\n\n<ol>\n<li>How exactly to flash the FREE RTOS SDK to ESP-12E? What files in what bins? And what locations? </li>\n<li>What is the Arduino code? I found some literature and code on <a href=\"https://github.com/wujiangang/ESP8266_IOT_PLATFORM\" rel=\"nofollow noreferrer\">GitHub</a>  but this is quite abstract for me as it assumes advanced user knowledge. </li>\n</ol>\n\n<p>Can someone tell me how to go about step by step to test Espressif IOT App?</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 470,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1572280506,
        "creation_date": 1572276559,
        "question_id": 58593772,
        "link": "https://stackoverflow.com/questions/58593772/unable-to-connect-leaf-device-over-mqtt-to-azure-edge-device",
        "title": "Unable to connect leaf device over MQTT to Azure Edge device",
        "body": "<p>I have an azure IoT Edge device set up as an ubuntu linux VM on vmware.  It is connected to my IoT Hub without any problems.  I'm trying to register a leaf device (raspberry pi - which I have successfully connected to the IoT Hub directly - i have removed the device from the hub).  The Edge device is set up as a transparent gateway.  When I attempt to register the device through the Edge, I'm getting Connection refused.  The iptables on the edge device are set up to forward MQTT to the edgeHub container which is on the azure-iot-edge docker network.  This is within the device registration samples from the python sdk.  The exact error I am getting is</p>\n\n<pre><code>MQTTTransportStage: _on_mqtt_connection_failure called: Connection Refused: not authorised.\nMQTTTransportStage(ConnectOperation): completing with error Connection Refused: not authorised.\nSerializeConnectOpsStage(ConnectOperation): op failed.  Unblocking queue with error: Connection Refused: not authorised.\nEnsureConnectionStage(MQTTSubscribeOperation): Connection failed.  Completing with failure because of connection failure: Connection Refused: not authorised.\nEnsureConnectionStage(MQTTSubscribeOperation): completing with error Connection Refused: not authorised.\nProvisioningMQTTConverterStage(EnableFeatureOperation): completing with error Connection Refused: not authorised.\nMQTTTransportStage: _on_mqtt_disconnect called: The connection was refused.\nUnhandled exception in background thread\nMQTTTransportStage: disconnection was unexpected\nThis may cause the background thread to abort and may result in system instability.\nException caught in background thread.  Unable to handle.\nazure.iot.device.common.transport_exceptions.ConnectionFailedError: The connection was refused.\n</code></pre>\n\n<p>It appears that the forwarding is not happening.\nThis is my iptables</p>\n\n<pre><code>Chain INPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain FORWARD (policy DROP)\ntarget     prot opt source               destination\nDOCKER-USER  all  --  anywhere             anywhere\nDOCKER-ISOLATION-STAGE-1  all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\nDOCKER     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere             ctstate RELATED,ESTABLISHED\nDOCKER     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere\nACCEPT     all  --  anywhere             anywhere\n\nChain OUTPUT (policy ACCEPT)\ntarget     prot opt source               destination\n\nChain DOCKER (2 references)\ntarget     prot opt source               destination\nACCEPT     tcp  --  anywhere             172.18.0.2           tcp dpt:8883\nACCEPT     tcp  --  anywhere             172.18.0.2           tcp dpt:amqps\nACCEPT     tcp  --  anywhere             172.18.0.2           tcp dpt:https\n\nChain DOCKER-ISOLATION-STAGE-1 (1 references)\ntarget     prot opt source               destination\nDOCKER-ISOLATION-STAGE-2  all  --  anywhere             anywhere\nDOCKER-ISOLATION-STAGE-2  all  --  anywhere             anywhere\nRETURN     all  --  anywhere             anywhere\n\nChain DOCKER-ISOLATION-STAGE-2 (2 references)\ntarget     prot opt source               destination\nDROP       all  --  anywhere             anywhere\nDROP       all  --  anywhere             anywhere\nRETURN     all  --  anywhere             anywhere\n\nChain DOCKER-USER (1 references)\ntarget     prot opt source               destination\nRETURN     all  --  anywhere             anywhere\n</code></pre>\n"
    }, {
        "tags": ["python", "bluetooth", "iot"],
        "is_answered": true,
        "view_count": 24,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1572260832,
        "creation_date": 1572260556,
        "question_id": 58589759,
        "link": "https://stackoverflow.com/questions/58589759/how-to-modify-this-python-script-to-execute-php-file-when-the-beacon-shows-doesn",
        "title": "How to modify this python script to execute php file when the beacon shows/doesn&#39;t on scanner?",
        "body": "<p>We ran this and it works fine. It shows the beacons but we need it to execute a different php files depending if it the beacons show or doesn't on the scanner. </p>\n\n<p>We're using Raspberry Pi 3 model B as the scanner and the os is raspbian buster. </p>\n\n<pre><code>import ScanUtility\nimport bluetooth._bluetooth as bluez\n\n#Set bluetooth device. Default 0.\ndev_id = 0\ntry:\n    sock = bluez.hci_open_dev(dev_id)\n    print (\"\\n *** Looking for BLE Beacons ***\\n\")\n    print (\"\\n *** CTRL-C to Cancel ***\\n\")\nexcept:\n    print (\"Error accessing bluetooth\")\n\nScanUtility.hci_enable_le_scan(sock)\n#Scans for iBeacons\ntry:\n    while True:\n        returnedList = ScanUtility.parse_events(sock, 10)\n        for item in returnedList:\n            print(item)\n            print(\"\")\nexcept KeyboardInterrupt:\n    pass\n</code></pre>\n\n<p>Any ideas? We are clueless when it comes to python.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 62,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1571235732,
        "creation_date": 1571222913,
        "last_edit_date": 1571235732,
        "question_id": 58411521,
        "link": "https://stackoverflow.com/questions/58411521/microsoft-azure-iot-hub-and-custom-routes",
        "title": "Microsoft Azure IOT Hub and custom routes",
        "body": "<p>I'm adding custom routes to my Azure IOT hub resource. I've added blob storage as an end point and added  that to a route. I want to add service bus queue as another route. I've created service bus and service bus queue and created an end point for that. But I can not able to add that endpoint to my new route(It should have auto-populated to endpoint field and also the created endpoint is not listing). I'm using Azure free trial subscription</p>\n"
    }, {
        "tags": ["azure", "arduino", "iot", "azure-iot-hub", "arduino-mkr1000"],
        "is_answered": false,
        "view_count": 953,
        "favorite_count": 1,
        "score": 7,
        "last_activity_date": 1569518023,
        "creation_date": 1552959652,
        "last_edit_date": 1553177803,
        "question_id": 55232482,
        "link": "https://stackoverflow.com/questions/55232482/arduino-mkr1000-how-to-send-message-to-azure-iot-hub",
        "title": "Arduino MKR1000 How to send Message to Azure IoT Hub",
        "body": "<p>I am trying to setup a basic example of sending a message from the Arduino MKR1000 to the Azure IOT Event Hub but can't seem to get any of the online examples to work and I am new to Arduino.</p>\n\n<p>Any pointers for a simple working example?</p>\n\n<p>I tried this example and changing slightly to POST a message rather than receive but no luck. I can connect to the Wifi with no issues, its just when posting the HTTP request it errors with \"HTTP Error 411. The request must be chunked or have a content length\". It also doesn't seem like the most clean approach but I just wan't to get something basic up and running for now to play with :)</p>\n\n<p>Code Example:</p>\n\n<pre><code>#include &lt;SPI.h&gt;\n#include &lt;WiFi101.h&gt;\n\n#include \"arduino_secrets.h\"\n\n///////please enter your sensitive data in the Secret tab/arduino_secrets.h\nchar ssid[] = SECRET_SSID;        // your network SSID (name)\nchar pass[] = SECRET_PASS;    // your network password (use for WPA, or use as key for WEP)\n\nconst int MKR1000_LED = 6 ;\n\n\n///*** Azure IoT Hub Config ***///\n//see: http://mohanp.com/  for details on getting this right if you are not sure.\n\nchar hostname[] = \"*****.azure-devices.net\";    // host name address for your Azure IoT Hub\nchar feeduri[] = \"/devices/MKR1000/messages/events?api-version=2018-06-30\"; //feed URI\nchar authSAS[] = \"SharedAccessSignature sr=******.azure-devices.net%2Fdevices%2FMKR1000&amp;sig=*****&amp;se=******\";\n\n///*** Azure IoT Hub Config ***///\n\nunsigned long lastConnectionTime = 0;\nconst unsigned long pollingInterval = 5L * 1000L; // 5 sec polling delay, in milliseconds\n\nint status = WL_IDLE_STATUS;\n\nWiFiSSLClient client;\n\nvoid setup() {\n  Serial.println(\"setup...\");\n  pinMode(MKR1000_LED, OUTPUT);\n\n  //check for the presence of the shield:\n  if (WiFi.status() == WL_NO_SHIELD) {\n    // don't continue:\n    while (true);\n  }\n\n  // attempt to connect to Wifi network:\n  while (status != WL_CONNECTED) {\n    status = WiFi.begin(ssid, pass);\n    // wait 10 seconds for connection:\n    delay(10000);\n  }\n  Serial.println(\"Wifi connected...\");\n}\n\nvoid loop()\n{\n  String response = \"\";\n  char c;\n  ///read response if WiFi Client is available\n  while (client.available()) {\n    c = client.read();\n    response.concat(c);\n  }\n\n  if (!response.equals(\"\"))\n  {\n    Serial.println(response);\n    //if there are no messages in the IoT Hub Device queue, Azure will return 204 status code.\n    if (response.startsWith(\"HTTP/1.1 204\"))\n    {\n      //turn off onboard LED\n      digitalWrite(MKR1000_LED, LOW);\n    }\n    else\n    {\n      //turn on onboard LED\n      digitalWrite(MKR1000_LED, HIGH);\n    }\n  }\n\n  // polling..if pollingInterval has passed\n  if (millis() - lastConnectionTime &gt; pollingInterval) {\n    digitalWrite(MKR1000_LED, LOW);\n    azureHttpRequest(\"{TEST MESSAGE!}\");\n  }\n}\n\n// this method makes an HTTPS connection to the Azure IOT Hub Server:\nvoid azureHttpRequest(String data) {\n\n  // close any connection before send a new request.\n  // This will free the socket on the WiFi shield\n  client.stop();\n\n  // if there's a successful connection:\n  if (client.connect(hostname, 443)) {\n    //make the GET request to the Azure IOT device feed uri\n    client.print(\"POST \");  //Do a GET\n    client.print(feeduri);  // On the feedURI\n    client.println(\" HTTP/1.1\");\n    client.print(\"Host: \");\n    client.println(hostname);  //with hostname header\n    client.print(\"Authorization: \");\n    client.println(authSAS);  //Authorization SAS token obtained from Azure IoT device explorer\n    //client.println(\"Connection: close\");\n    client.println(\"Content-Type: application/json\");\n    client.println(\"Content-Length: \" + data.length());\n    client.println(\"\\r\\n\\r\\n\" + data);\n\n\n\n    // note the time that the connection was made:\n    lastConnectionTime = millis();\n  }\n  else {\n    // if you couldn't make a connection:\n    Serial.println(\"connection failed\");\n  }\n}\n</code></pre>\n\n<p>Edit: I have seen that there is a full Azure IOT library with a simple HTTP example, but this also doesn't run (it gets passed the wifi connection and failing with call to azure) but this example project is fairly large and I was hoping for a simple example to build upon!</p>\n\n<p><a href=\"https://github.com/Azure/azure-iot-arduino\" rel=\"noreferrer\">https://github.com/Azure/azure-iot-arduino</a></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 319,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1569233755,
        "creation_date": 1545919130,
        "question_id": 53946286,
        "link": "https://stackoverflow.com/questions/53946286/using-same-x509-certificate-for-multiple-devices-in-azure-device-provisioning-se",
        "title": "Using same X509 certificate for multiple devices in Azure device provisioning service",
        "body": "<p>I have to enroll multiple devices in Azure Device provisioning service and I am using group enrollment to achieve the same. I have created a self signed X509 certificate and enrollment group too. I registered a simulated device to the group using the sample code. I want to create another simulated device with same certificate and enroll in group. Is that possible? The input to the sample app is the Id scope of device provisioning service and the certificate. How can I add another device.</p>\n\n<pre><code>    if (string.IsNullOrWhiteSpace(s_idScope))\n    {\n        Console.WriteLine(\"ProvisioningDeviceClientX509 &lt;IDScope&gt;\");\n        return 1;\n    }\n\n    X509Certificate2 certificate = LoadProvisioningCertificate();\n\n    using (var security = new SecurityProviderX509Certificate(certificate))\n\n\n    {\n        ProvisioningDeviceClient provClient =\n            ProvisioningDeviceClient.Create(GlobalDeviceEndpoint, s_idScope, security, transport);\n\n        var sample = new ProvisioningDeviceClientSample(provClient, security);\n        sample.RunSampleAsync().GetAwaiter().GetResult();\n    }\n\n    return 0;\n}\n\n    private static X509Certificate2 LoadProvisioningCertificate()\n{\n    string certificatePassword = ReadCertificatePassword();\n\n    var certificateCollection = new X509Certificate2Collection();\n    certificateCollection.Import(s_certificateFileName, certificatePassword, X509KeyStorageFlags.UserKeySet);\n\n            X509Certificate2 certificate = null;\n\n            foreach (X509Certificate2 element in certificateCollection)\n            {\n                Console.WriteLine($\"Found certificate: {element?.Thumbprint}, {element?.Subject}; PrivateKey: {element?.HasPrivateKey}\");\n                if (certificate == null &amp;&amp; element.HasPrivateKey)\n                {\n                    certificate = element;\n                }\n                else\n                {\n                    element.Dispose();\n                }\n            }\n\n            if (certificate == null)\n            {\n                throw new FileNotFoundException($\"{s_certificateFileName} did not contain any certificate with a private key.\");\n            }\n            else\n            {\n                Console.WriteLine($\"Using certificate {certificate.Thumbprint}, {certificate.Subject}\");\n            }\n\n            return certificate;\n        }\n\n        private static string ReadCertificatePassword()\n        {\n            var password = new StringBuilder();\n            Console.WriteLine($\"Enter the PFX password for {s_certificateFileName}:\");\n\n            while (true)\n            {\n                ConsoleKeyInfo key = Console.ReadKey(true);\n                if (key.Key == ConsoleKey.Backspace)\n                {\n                    if (password.Length &gt; 0)\n                    {\n                        password.Remove(password.Length - 1, 1);\n                        Console.Write(\"\\b \\b\");\n                    }\n                }\n                else if (key.Key == ConsoleKey.Enter)\n                {\n                    Console.WriteLine();\n                    break;\n                }\n                else\n                {\n                    Console.Write('*');\n                    password.Append(key.KeyChar);\n                }\n            }\n\n            return password.ToString();\n        }\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["iot", "grafana", "kura", "kapua"],
        "is_answered": false,
        "view_count": 158,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1568728948,
        "creation_date": 1564675042,
        "question_id": 57312874,
        "link": "https://stackoverflow.com/questions/57312874/connect-grafana-to-kapuas-elasticsearch",
        "title": "Connect Grafana to Kapua&#39;s Elasticsearch",
        "body": "<p>I have kapua (as a docker container on my pc) and kura on the raspberryPi.\nI managed to connect them, to run the example publisher and to correctly receive the data on kapua.</p>\n\n<p>Now I would like to view the data via graphana (docker container) by linking this to kapua's elasticsearch (container docker).</p>\n\n<p>I tried to link them indicating the address of elastichsearch localhost:9200 and to enter the credentials of kapua but it continues to give error 502 bad gateway.</p>\n\n<p>Could anyone help me?</p>\n\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "provisioning"],
        "is_answered": false,
        "view_count": 40,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1567710743,
        "creation_date": 1567707457,
        "question_id": 57811036,
        "link": "https://stackoverflow.com/questions/57811036/how-do-i-provision-device-on-boot-with-group-enrollment",
        "title": "How do I provision device on boot with Group Enrollment?",
        "body": "<p>I have a large number of devices that I want to provision to an Azure IoT hub through group enrollment.  I have succcessfully created an IotHub, and a provisioning service in Azure and created an enrollment group with a self-signed X509 Certificate.  </p>\n\n<p>My goal is to install a custom application on every device that when started, will auto-provision the device to my IoT Hub and let the application specify the DeviceID to use. \nWindows devices have a guid in the registry we can use for identification. I would love to use this guid as the device identifier</p>\n\n<p>I can successfully auto-provision devices from the client by following this SDK:  <a href=\"https://github.com/Azure-Samples/azure-iot-samples-csharp/tree/master/provisioning/Samples/device\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/azure-iot-samples-csharp/tree/master/provisioning/Samples/device</a></p>\n\n<p>The problem is I do not know how to specify the DeviceID from the client device when I am provisioning it.</p>\n\n<p>Is this not possible due to security reasons, or maybe it is not yet a feature?</p>\n"
    }, {
        "tags": ["python", "anaconda", "jupyter", "iot"],
        "is_answered": false,
        "view_count": 136,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1566115476,
        "creation_date": 1565979746,
        "last_edit_date": 1566115476,
        "question_id": 57529396,
        "link": "https://stackoverflow.com/questions/57529396/why-am-i-getting-this-callable-error-when-i-run-the-file",
        "title": "Why am I getting this callable error when I run the file?",
        "body": "<p>I am recieving this callable error problem when I am trying to run my python file from the anaconda virtual env called 'weather'. I have taken this project idea from danionescu <a href=\"https://create.arduino.cc/projecthub/danionescu\" rel=\"nofollow noreferrer\">https://create.arduino.cc/projecthub/danionescu</a> . My project idea is basically an IoT Weather Station. When I try to run the 'predict.py' file after creating a weather prediction model, I get this error.</p>\n\n<p>What I have already done is a bit of research. I tried using spyder but didn't get a clue. I am currently using 'JUPYTER NOTEBOOK' for earthquake prediction. But for predicting weather I am using Anaconda. \nThe link for the repository is : <a href=\"https://github.com/danionescu0/home-automation/tree/master/weather-predict\" rel=\"nofollow noreferrer\">https://github.com/danionescu0/home-automation/tree/master/weather-predict</a></p>\n\n<pre><code>    from datetime import datetime, timedelta\nimport pymongo\nimport pandas\nimport numpy\nimport sys\nsys.path.insert(0, 'C:\\\\Users\\\\sanch\\\\Downloads\\\\home-automation-master\\\\home-automation-master\\\\weather-predict')\nfrom data_processing import AggregateEnrichProcessor\nfrom data_processing import HistoryDatapointAugmenterProcessor\nfrom data_processing import CleanupProcessor\nfrom repository import DatapointsRepository\nfrom utils import SensorTypeDatasourceMap\n\n\nclass PreparedDataProvider:\n    MINIMUM_RAIN_TRHRESHOLD = 0.000\n\n    def __init__(self, datapoits_repository: DatapointsRepository, sensor_type_datasource_map: SensorTypeDatasourceMap,\n                 datafeatures) -&gt; None:\n        self.__datapoints_repository = datapoits_repository\n        self.__sensor_type_datasource_map = sensor_type_datasource_map\n        self.__datafeatures = datafeatures\n\n    def get(self, days_behind: int, datapoints_behind: int, hour_granularity: int, data_source: str):\n        sensor_types = self.__sensor_type_datasource_map.get(data_source)\n        hour_group_stats = AggregateEnrichProcessor(hour_granularity, sensor_types)\n        cleanup_processor = CleanupProcessor(sensor_types, self.__datafeatures)\n        datapoint_augmenter_processor = HistoryDatapointAugmenterProcessor(datapoints_behind)\n        extracted_data = []\n\n        for day_behind in range(days_behind, 0, -5):\n            start_date = datetime.today() - timedelta(days=day_behind)\n            end_date = datetime.today() - timedelta(days=(day_behind - 5))\n            datapoints = self.__datapoints_repository.get(data_source, start_date, end_date)\n            extracted_data += datapoints\n            print (extracted_data)\n        dataframe = pandas.DataFrame(extracted_data).set_index('_id')\n        dataframe = dataframe.dropna()\n        dataframe = hour_group_stats.process(dataframe)\n        dataframe.insert(loc=1, column='has_rain',\n                         value=numpy.where(dataframe['rain_max'] &gt; self.MINIMUM_RAIN_TRHRESHOLD, 1, 0))\n        dataframe = dataframe.drop(['date'], axis=1)\n        dataframe.loc['last'] = [0 for n in range(len(dataframe.columns))]\n        dataframe = datapoint_augmenter_processor.process(dataframe)\n        dataframe = dataframe.iloc[datapoints_behind:]\n\n        return cleanup_processor.process(dataframe)\n</code></pre>\n\n<p>The expected result is that I should get a prediction in the form of a string on my email id when I run this script in anaconda:\npython predict.py --datapoints-behind 8 --hour-granularity 6 --from-addr a_gmail_address --from-password gmail_password --to-addr a_email_destination\nalso when I try to print the 'extracted_data', in th output I recieve nothing.</p>\n\n<p>I am getting the error as object 'module' is not callable \nThe link for the files that are engaged in this error are:\n<a href=\"https://github.com/danionescu0/home-automation/blob/master/weather-predict/graphs.py\" rel=\"nofollow noreferrer\">https://github.com/danionescu0/home-automation/blob/master/weather-predict/graphs.py</a>\n<a href=\"https://github.com/danionescu0/home-automation/blob/master/weather-predict/predict.py\" rel=\"nofollow noreferrer\">https://github.com/danionescu0/home-automation/blob/master/weather-predict/predict.py</a>\n<a href=\"https://github.com/danionescu0/home-automation/blob/master/weather-predict/train.py\" rel=\"nofollow noreferrer\">https://github.com/danionescu0/home-automation/blob/master/weather-predict/train.py</a>\n<a href=\"https://github.com/danionescu0/home-automation/blob/master/weather-predict/utils/PreparedDataProvider.py\" rel=\"nofollow noreferrer\">https://github.com/danionescu0/home-automation/blob/master/weather-predict/utils/PreparedDataProvider.py</a></p>\n\n<pre><code>    (weather) PS C:\\Users\\sanch\\home-automation\\weather-predict&gt; python predict.py --datapoints-behind 8 --hour-granularity 6 --from-addr sanchitjain200327@gmail.com --from-password 8800533037 --to-addr sanchitjain2003@gmail.com\nUsing TensorFlow backend.\nC:\\Users\\sanch\\Anaconda3\\envs\\weather\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:523: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\n  _np_qint8 = np.dtype([(\"qint8\", np.int8, 1)])\nC:\\Users\\sanch\\Anaconda3\\envs\\weather\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:524: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\n  _np_quint8 = np.dtype([(\"quint8\", np.uint8, 1)])\nC:\\Users\\sanch\\Anaconda3\\envs\\weather\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:525: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\n  _np_qint16 = np.dtype([(\"qint16\", np.int16, 1)])\nC:\\Users\\sanch\\Anaconda3\\envs\\weather\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:526: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\n  _np_quint16 = np.dtype([(\"quint16\", np.uint16, 1)])\nC:\\Users\\sanch\\Anaconda3\\envs\\weather\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:527: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\n  _np_qint32 = np.dtype([(\"qint32\", np.int32, 1)])\nC:\\Users\\sanch\\Anaconda3\\envs\\weather\\lib\\site-packages\\tensorflow\\python\\framework\\dtypes.py:532: FutureWarning: Passing (type, 1) or '1type' as a synonym of type is deprecated; in a future version of numpy, it will be understood as (type, (1,)) / '(1,)type'.\n  np_resource = np.dtype([(\"resource\", np.ubyte, 1)])\nTraceback (most recent call last):\n  File \"predict.py\", line 32, in &lt;module&gt;\n    args['hour_granularity'], args['data_source']).tail(1)\n  File \"C:\\Users\\sanch\\home-automation\\weather-predict\\utils\\PreparedDataProvider.py\", line 26, in get\n    cleanup_processor = CleanupProcessor(sensor_types, self.__datafeatures)\nTypeError: 'module' object is not callable\n</code></pre>\n"
    }, {
        "tags": ["python", "iot", "sensors", "micropython"],
        "is_answered": false,
        "view_count": 88,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1565774327,
        "creation_date": 1564457171,
        "question_id": 57263915,
        "link": "https://stackoverflow.com/questions/57263915/is-it-possible-to-install-upm-for-micropython-if-so-how",
        "title": "is it possible to install upm for micropython? if so how?",
        "body": "<p>I am wondering if it is possible to install upm package for micropython</p>\n\n<p><a href=\"https://github.com/intel-iot-devkit/upm/tree/master/examples/python\" rel=\"nofollow noreferrer\">https://github.com/intel-iot-devkit/upm/tree/master/examples/python</a></p>\n\n<p>and if so, if anyone has any idea how?</p>\n"
    }, {
        "tags": ["wso2", "centos7", "iot"],
        "is_answered": false,
        "view_count": 386,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1565297871,
        "creation_date": 1499172719,
        "last_edit_date": 1499176889,
        "question_id": 44906562,
        "link": "https://stackoverflow.com/questions/44906562/wso2-iot-error-500",
        "title": "Wso2 IOT Error 500",
        "body": "<p>I'm new to WSO2. I folllowed all steps from the wso website to install WSO2 IOT.\nAfter I attempt login to devicemgt I get the following error<a href=\"https://i.stack.imgur.com/7QiZ5.png\" rel=\"nofollow noreferrer\">Error 500</a></p>\n\n<p>I'm using Centos 7.2 with java and maven installed.</p>\n\n<p>These are the logs:</p>\n\n<pre><code>ERROR TargetHandler I/O error: Host name verification failed for host : 172.20.0.222\njavax.net.ssl.SSLException: Host name verification failed for host : 172.20.0.222\n        at org.apache.synapse.transport.http.conn.ClientSSLSetupHandler.verify(ClientSSLSetupHandler.java:171)\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.doHandshake(SSLIOSession.java:308)\n        at org.apache.http.nio.reactor.ssl.SSLIOSession.outboundTransport(SSLIOSession.java:451)\n        at org.apache.http.impl.nio.reactor.AbstractIODispatch.outputReady(AbstractIODispatch.java:152)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.writable(BaseIOReactor.java:180)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvent(AbstractIOReactor.java:342)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.processEvents(AbstractIOReactor.java:316)\n        at org.apache.http.impl.nio.reactor.AbstractIOReactor.execute(AbstractIOReactor.java:277)\n        at org.apache.http.impl.nio.reactor.BaseIOReactor.execute(BaseIOReactor.java:105)\n        at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor$Worker.run(AbstractMultiworkerIOReactor.java:586)\n        at java.lang.Thread.run(Thread.java:748)\n2017-07-04 15:43:25,176 [-] [PassThroughMessageProcessor-89]  WARN EndpointContext Endpoint : AnonymousEndpoint with address https://{uri.var.hostname}:{uri.var.portnum}/api-application-registration will be marked SUSPENDED as it failed\n2017-07-04 15:43:25,176 [-] [PassThroughMessageProcessor-89]  WARN EndpointContext Suspending endpoint : AnonymousEndpoint with address https://{uri.var.hostname}:{uri.var.portnum}/api-application-registration - last suspend duration was : 30000ms and current suspend duration is : 30000ms - Next retry after : Tue Jul 04 15:43:55 EEST 2017\n2017-07-04 15:43:25,176 [-] [PassThroughMessageProcessor-89] ERROR JsonUtil #toXml. Could not convert JSON Stream to XML. Cannot handle JSON input. Error&gt;&gt;&gt; null\n2017-07-04 15:43:25,177 [-] [PassThroughMessageProcessor-89] ERROR DeferredMessageBuilder Error building message\norg.apache.axis2.AxisFault: Could not convert JSON Stream to XML. Cannot handle JSON input.\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:298)\n        at org.apache.synapse.commons.json.JsonBuilder.processDocument(JsonBuilder.java:35)\n        at org.apache.synapse.transport.passthru.util.DeferredMessageBuilder.getDocument(DeferredMessageBuilder.java:148)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.builldMessage(RelayUtils.java:136)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.buildMessage(RelayUtils.java:99)\n        at org.apache.synapse.mediators.AbstractListMediator.buildMessage(AbstractListMediator.java:140)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:83)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)\n        at org.apache.synapse.mediators.filters.FilterMediator.mediate(FilterMediator.java:203)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.MediatorFaultHandler.onFault(MediatorFaultHandler.java:95)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:53)\n        at org.apache.synapse.endpoints.AbstractEndpoint.invokeNextFaultHandler(AbstractEndpoint.java:691)\n        at org.apache.synapse.endpoints.AbstractEndpoint.onFault(AbstractEndpoint.java:530)\n        at org.apache.synapse.endpoints.HTTPEndpoint.onFault(HTTPEndpoint.java:66)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:101)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:285)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:188)\n        at org.apache.synapse.transport.passthru.TargetErrorHandler$1.run(TargetErrorHandler.java:139)\n        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.xml.stream.XMLStreamException\n        at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.initialize(AbstractXMLStreamReader.java:245)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.&lt;init&gt;(JsonXMLStreamReader.java:66)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLInputFactory.createXMLStreamReader(JsonXMLInputFactory.java:165)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:333)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:315)\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:294)\n        ... 29 more\n2017-07-04 15:43:25,178 [-] [PassThroughMessageProcessor-89] ERROR RelayUtils Error while building Passthrough stream\norg.apache.axis2.AxisFault: Could not convert JSON Stream to XML. Cannot handle JSON input.\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:298)\n        at org.apache.synapse.commons.json.JsonBuilder.processDocument(JsonBuilder.java:35)\n        at org.apache.synapse.transport.passthru.util.DeferredMessageBuilder.getDocument(DeferredMessageBuilder.java:148)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.builldMessage(RelayUtils.java:136)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.buildMessage(RelayUtils.java:99)\n        at org.apache.synapse.mediators.AbstractListMediator.buildMessage(AbstractListMediator.java:140)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:83)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)\n        at org.apache.synapse.mediators.filters.FilterMediator.mediate(FilterMediator.java:203)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.MediatorFaultHandler.onFault(MediatorFaultHandler.java:95)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:53)\n        at org.apache.synapse.endpoints.AbstractEndpoint.invokeNextFaultHandler(AbstractEndpoint.java:691)\n        at org.apache.synapse.endpoints.AbstractEndpoint.onFault(AbstractEndpoint.java:530)\n        at org.apache.synapse.endpoints.HTTPEndpoint.onFault(HTTPEndpoint.java:66)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:101)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:285)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:188)\n        at org.apache.synapse.transport.passthru.TargetErrorHandler$1.run(TargetErrorHandler.java:139)\n        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: javax.xml.stream.XMLStreamException\n        at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.initialize(AbstractXMLStreamReader.java:245)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.&lt;init&gt;(JsonXMLStreamReader.java:66)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLInputFactory.createXMLStreamReader(JsonXMLInputFactory.java:165)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:333)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:315)\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:294)\n        ... 29 more\n2017-07-04 15:43:25,179 [-] [PassThroughMessageProcessor-89] ERROR AnonymousListMediator Error while building message\norg.apache.axis2.AxisFault: Error while building Passthrough stream\n        at org.apache.synapse.transport.passthru.util.RelayUtils.handleException(RelayUtils.java:283)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.builldMessage(RelayUtils.java:142)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.buildMessage(RelayUtils.java:99)\n        at org.apache.synapse.mediators.AbstractListMediator.buildMessage(AbstractListMediator.java:140)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:83)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)\n        at org.apache.synapse.mediators.filters.FilterMediator.mediate(FilterMediator.java:203)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.MediatorFaultHandler.onFault(MediatorFaultHandler.java:95)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:53)\n        at org.apache.synapse.endpoints.AbstractEndpoint.invokeNextFaultHandler(AbstractEndpoint.java:691)\n        at org.apache.synapse.endpoints.AbstractEndpoint.onFault(AbstractEndpoint.java:530)\n        at org.apache.synapse.endpoints.HTTPEndpoint.onFault(HTTPEndpoint.java:66)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:101)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:285)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:188)\n        at org.apache.synapse.transport.passthru.TargetErrorHandler$1.run(TargetErrorHandler.java:139)\n        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.axis2.AxisFault: Could not convert JSON Stream to XML. Cannot handle JSON input.\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:298)\n        at org.apache.synapse.commons.json.JsonBuilder.processDocument(JsonBuilder.java:35)\n        at org.apache.synapse.transport.passthru.util.DeferredMessageBuilder.getDocument(DeferredMessageBuilder.java:148)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.builldMessage(RelayUtils.java:136)\n        ... 26 more\nCaused by: javax.xml.stream.XMLStreamException\n        at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.initialize(AbstractXMLStreamReader.java:245)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.&lt;init&gt;(JsonXMLStreamReader.java:66)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLInputFactory.createXMLStreamReader(JsonXMLInputFactory.java:165)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:333)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:315)\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:294)\n        ... 29 more\n2017-07-04 15:43:25,181 [-] [PassThroughMessageProcessor-89] ERROR _WSO2APIRegistrationApplication_ Error while building message\norg.apache.axis2.AxisFault: Error while building Passthrough stream\n        at org.apache.synapse.transport.passthru.util.RelayUtils.handleException(RelayUtils.java:283)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.builldMessage(RelayUtils.java:142)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.buildMessage(RelayUtils.java:99)\n        at org.apache.synapse.mediators.AbstractListMediator.buildMessage(AbstractListMediator.java:140)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:83)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.config.xml.AnonymousListMediator.mediate(AnonymousListMediator.java:37)\n        at org.apache.synapse.mediators.filters.FilterMediator.mediate(FilterMediator.java:203)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:214)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:97)\n        at org.apache.synapse.mediators.AbstractListMediator.mediate(AbstractListMediator.java:59)\n        at org.apache.synapse.mediators.base.SequenceMediator.mediate(SequenceMediator.java:158)\n        at org.apache.synapse.mediators.MediatorFaultHandler.onFault(MediatorFaultHandler.java:95)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:53)\n        at org.apache.synapse.endpoints.AbstractEndpoint.invokeNextFaultHandler(AbstractEndpoint.java:691)\n        at org.apache.synapse.endpoints.AbstractEndpoint.onFault(AbstractEndpoint.java:530)\n        at org.apache.synapse.endpoints.HTTPEndpoint.onFault(HTTPEndpoint.java:66)\n        at org.apache.synapse.FaultHandler.handleFault(FaultHandler.java:101)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.handleMessage(SynapseCallbackReceiver.java:285)\n        at org.apache.synapse.core.axis2.SynapseCallbackReceiver.receive(SynapseCallbackReceiver.java:188)\n        at org.apache.synapse.transport.passthru.TargetErrorHandler$1.run(TargetErrorHandler.java:139)\n        at org.apache.axis2.transport.base.threads.NativeWorkerPool$1.run(NativeWorkerPool.java:172)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: org.apache.axis2.AxisFault: Could not convert JSON Stream to XML. Cannot handle JSON input.\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:298)\n        at org.apache.synapse.commons.json.JsonBuilder.processDocument(JsonBuilder.java:35)\n        at org.apache.synapse.transport.passthru.util.DeferredMessageBuilder.getDocument(DeferredMessageBuilder.java:148)\n        at org.apache.synapse.transport.passthru.util.RelayUtils.builldMessage(RelayUtils.java:136)\n        ... 26 more\nCaused by: javax.xml.stream.XMLStreamException\n        at org.apache.synapse.commons.staxon.core.base.AbstractXMLStreamReader.initialize(AbstractXMLStreamReader.java:245)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLStreamReader.&lt;init&gt;(JsonXMLStreamReader.java:66)\n        at org.apache.synapse.commons.staxon.core.json.JsonXMLInputFactory.createXMLStreamReader(JsonXMLInputFactory.java:165)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:333)\n        at org.apache.synapse.commons.json.JsonUtil.getReader(JsonUtil.java:315)\n        at org.apache.synapse.commons.json.JsonUtil.toXml(JsonUtil.java:294)\n        ... 29 more\n2017-07-04 15:43:25,220 [-] [http-nio-9443-exec-17] ERROR js {/app/modules/oauth/token-handler-utils.js} Error in retrieving tenant based client application credentials from API Manager - getTenantBasedClientAppCredentials(x, y)\n2017-07-04 15:43:25,221 [-] [http-nio-9443-exec-17] ERROR auth-module An exception thrown when executing the script '/app/modules/login.js'.\n2017-07-04 15:43:25,221 [-] [http-nio-9443-exec-17] ERROR auth-module {/app/modules/oauth/token-handlers.js} Could not set up encoded tenant based client credentials to session context as the server is unable to obtain such credentials - setUpEncodedTenantBasedClientAppCredentials(x)\n2017-07-04 15:43:26,045 [-] [PassThroughMessageProcessor-91]  WARN APIAuthenticationHandler API authentication failure due to Missing Credentials\n2017-07-04 15:43:26,047 [-] [PassThroughMessageProcessor-93]  WARN APIAuthenticationHandler API authentication failure due to Missing Credentials\n</code></pre>\n"
    }, {
        "tags": ["java", "azure", "spring-boot", "runtime-error", "iot"],
        "is_answered": false,
        "view_count": 127,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1564663404,
        "creation_date": 1563782777,
        "last_edit_date": 1563782986,
        "question_id": 57141569,
        "link": "https://stackoverflow.com/questions/57141569/error-while-receiving-file-upload-notification-from-azure-iot",
        "title": "Error while receiving file upload notification from Azure IoT",
        "body": "<p>I am facing a very mysterious issue while using Azure IoT service API with Spring Boot application.</p>\n\n<p>I am developing an application where the application will look for any file upload notification on Azure Blob through Azure IoT service. As soon as the file gets uploaded by Azure IoT device, to Azure Blob, through IoT Hub it generates a file upload nofication which we can capture through FileUploadNotificationReceiver class (class of Azure IoT SDK) and we can process this event in our application.</p>\n\n<p>Some points here:</p>\n\n<ul>\n<li><p>Initially, I tried and tested the file upload notification process with the help of stand-alone Java application as per the Azure IoT documentation and able to receive and process the notification in this sample application.</p></li>\n<li><p>However, when I integrate this code with Spring boot I am getting an error message as <strong>\"Service threw something mysteriously dangerous, message abandoned.\"</strong></p></li>\n</ul>\n\n<p>Version details -</p>\n\n<ul>\n<li>Spring Boot V - 2.1.6.RELEASE</li>\n<li>GSON V 2.8.5</li>\n</ul>\n\n<p><br>Azure IoT Service client - </p>\n\n<ul>\n<li>Group ID - com.microsoft.azure.sdk.iot    </li>\n<li>Artifact ID - iot-service-client    V - 1.17.1</li>\n</ul>\n\n<p>I noticed that this exception message occurs when the FileUploadNotificationReceiver class tries to parse the input JSON received from IoT Hub. The iot-service-client is dependent on GSON dependency. Also, my spring boot application uses GSON dependency. The GSON dependency version is 2.8.5</p>\n\n<p>Any help regarding solve this issue will be appreciated.</p>\n\n<p>Thanks in advance.</p>\n\n<p>Avinash Deshmukh</p>\n"
    }, {
        "tags": ["mqtt", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 670,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1564605924,
        "creation_date": 1564602016,
        "question_id": 57297853,
        "link": "https://stackoverflow.com/questions/57297853/how-do-you-set-azure-iot-hub-system-properties-using-native-mqtt",
        "title": "How do you set Azure IoT Hub &quot;System Properties&quot; using native MQTT?",
        "body": "<p>I'm using native MQTT with an Azure IoT Hub. The underlying issue is that once the payload is routed to a blob storage it is encoded as Base64. I believe this is due to missing the System Property \"contentType=UTF-8\". </p>\n\n<p>I tried using the following topics with no success:</p>\n\n<pre><code>devices/test/messages/events/contentEncoding=UTF-8&amp;contentType=application/json\ndevices/test/messages/events/contentEncoding=UTF-8\ndevices/test/messages/events/contentEncoding=UTF-8&amp;contentType=applicationjson\ndevices/test/messages/events/.contentEncoding=UTF-8\n</code></pre>\n\n<p>This put these two items into a \"Properties\" nest which is independent of the \"System Properties\" nest (see below).</p>\n\n<pre><code>{\"EnqueuedTimeUtc\":\"2019-07-31T19:24:57.4290000Z\",\"Properties\":{\"contentEncoding\":\"UTF-8\",\"contentType\":\"applicationjson\"},\"SystemProperties\":{\"connectionDeviceId\":\"test\",\"connectionAuthMethod\":\"{\\\"scope\\\":\\\"device\\\",\\\"type\\\":\\\"sas\\\",\\\"issuer\\\":\\\"iothub\\\",\\\"acceptingIpFilterRule\\\":null}\",\"connectionDeviceGenerationId\":\"000\",\"enqueuedTime\":\"2019-07-31T19:24:57.4290000Z\"},\"Body\":\"msginbase64insteadofutf8\"}\n</code></pre>\n\n<p>I tried formatting the message according to the \"Common Format\" described here also with no success: <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-routing-query-syntax#message-routing-query-based-on-message-properties\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-devguide-routing-query-syntax#message-routing-query-based-on-message-properties</a></p>\n"
    }, {
        "tags": ["google-cloud-platform", "raspberry-pi3", "iot", "esp32", "google-cloud-iot"],
        "is_answered": true,
        "view_count": 79,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1564527663,
        "creation_date": 1564456262,
        "question_id": 57263817,
        "link": "https://stackoverflow.com/questions/57263817/i-want-to-know-the-procedure-someone-should-follow-to-do-actuation-task-from",
        "title": "I want to know the procedure, someone should follow, to do actuation task, from sensor data that is stored in Google Cloud",
        "body": "<p>I am following this tutorial</p>\n\n<p><a href=\"https://codelabs.developers.google.com/codelabs/iotcore-heartrate/index.html?index=..%2F..index#0\" rel=\"nofollow noreferrer\">https://codelabs.developers.google.com/codelabs/iotcore-heartrate/index.html?index=..%2F..index#0</a></p>\n\n<p>Now i am able to send heart rate sensor data to Google Cloud BigQuery, Cloud storage etc, as described in the tutorial clearly and I am able to visualise it as well</p>\n\n<p>But my next question is, how do we get access to data in real-time. For example, say if the heart rate data from Raspberry Pi (3B+) goes up over 75, i want to trigger and turn on the LED of the ESP32 that is connected at the receiving end.</p>\n\n<p>In a nutshell, I want to do some actuation (like LED blinking as I told earlier) on ESP32, based on the sensor data from Raspberry Pi that goes to Google Cloud. I am only successful in sending, storing, and visualising sensor data in Google Cloud. Your help in enabling me to complete the actuation step is so valuable as I am pretty much clueless, how it can be done</p>\n\n<p>Thanking you</p>\n"
    }, {
        "tags": ["docker", "dockerfile", "iot", "thingsboard", "thingsboard-gateway"],
        "is_answered": true,
        "view_count": 180,
        "favorite_count": 1,
        "score": -1,
        "last_activity_date": 1564500466,
        "creation_date": 1563180696,
        "question_id": 57036253,
        "link": "https://stackoverflow.com/questions/57036253/is-there-any-official-docker-image-for-thingsboard-gateway",
        "title": "Is there any official Docker image for ThingsBoard Gateway?",
        "body": "<p>Is there any officially supported docker image for ThingsBoard <b>gateway</b>?</p>\n\n<p>I only found a <a href=\"https://hub.docker.com/r/gmatheu/thingsboard-gateway/\" rel=\"nofollow noreferrer\">version from \"gmatheu\"</a> in the Docker Hub, but none in the <a href=\"https://hub.docker.com/u/thingsboard\" rel=\"nofollow noreferrer\">official thingsboard repository</a>.</p>\n\n<p>Furthermore I see there is a docker folder (with the Dockerfile) in <a href=\"https://github.com/thingsboard/thingsboard-gateway/tree/60ef596cf90a23ec8186ab7866816ed9ed633f9e\" rel=\"nofollow noreferrer\">thingsboard-gateway github</a> repository: shall I make a docker image out of those files?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-stream-analytics"],
        "is_answered": false,
        "view_count": 643,
        "favorite_count": 1,
        "score": 3,
        "last_activity_date": 1563345870,
        "creation_date": 1513270262,
        "last_edit_date": 1563345870,
        "question_id": 47818446,
        "link": "https://stackoverflow.com/questions/47818446/azure-iot-hub-receiving-messages-late",
        "title": "Azure IoT Hub receiving messages late",
        "body": "<p>In our IoT Solution that utilizes Azure IoT Hub on server side and Azure IoT Client SDK on Device side, we are seeing intermittent delay in time between device sent a status message over MQTT and message was received by IoT Hub. </p>\n\n<p>In some cases, we are seeing 62 seconds when IoT Hub enqueued the message.</p>\n\n<p>For example, below for Message Id: 5cfbe0ac-d987-3317-bda6-f63ec5fe562a</p>\n\n<p>T1-T0 = 62 seconds</p>\n\n<p>Device Timestamp (T0) =  2017-12-13T12:31:12</p>\n\n<p>IoT hub Timestamp(T1) = 2017-12-13T12:32:14.3600000Z</p>\n\n<p><strong>Question:</strong></p>\n\n<ol>\n<li><p>What could be the reason for this delay in message reaching to IoT Hub?</p></li>\n<li><p>How can we dig further (add logs in inner component to figure out where exactly the latency is)?</p></li>\n<li><p>Any suggestions?</p></li>\n</ol>\n\n<p>Sample IoT Hub queued Message:</p>\n\n<pre><code>{  \n   \"data\":{  \n      \"attributes\":[  \n         {  \n            \"code\":\"STS\",\n            \"value\":\"1\",         }\n      ],\n      \"type\":\"status\"\n   },\n   \"messageid\":\"5cfbe0ac-d987-3317-bda6-f63ec5fe562a\",\n   \"protocol\":\"MQTT\",\n   \"**DeviceTimestamp**\":\"1513168272\",\n   \"EventProcessedUtcTime\":\"2017-12-13T12:32:14.0683721Z\",\n   \"PartitionId\":5,\n   \"EventEnqueuedUtcTime\":\"2017-12-13T12:32:14.3010000Z\",\n   \"IoTHub\":{  \n      \"MessageId\":null,\n      \"CorrelationId\":null,\n      \"**EnqueuedTime**\":\"2017-12-13T12:32:14.3600000Z\",\n      \"StreamId\":null\n   }\n} \n</code></pre>\n\n<p>Update: Device is using Azure Client SDK version 1.1.27. The device code is in C language. The device is not behind firewall or any special network topology used, it connects to the IoT Hub via MQTT. The delay is observed when the status messages is sent over MQTT.</p>\n\n<p>Update 2: Device adds timestamp into message before sending it using Azure client SDK method. The timestamp matches in most cases except when we see spike e.g. above message. It calculates timestamp using NTP time server and send as EPOCH. The IoT hub is on higher tier (10 units).</p>\n\n<p>Based on our analysis today, we are suspecting the Azure client SDK. Our hypothesis is, we believe the SDK store the messages internally (in a list or queue) while trying to establish a connection with IoT Hub. If it does not connect to IoT Hub, it retries after few seconds. When it restore the connection, it delivers the message stored in its queue (again when the message were delayed we saw a bunch of messages coming together with same delay, that kind of prove this hypothesis).</p>\n"
    }, {
        "tags": ["azure-storage", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 124,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1562844417,
        "creation_date": 1562844417,
        "question_id": 56988134,
        "link": "https://stackoverflow.com/questions/56988134/need-pcs-aad-appid-and-more-to-run-azure-iot-storage-adapter-microserver-locally",
        "title": "Need PCS_AAD_APPID and more to run Azure IoT storage-adapter microserver locally",
        "body": "<p>I'm trying the Azure IoT Accelerators Remote Monitoring solution and trying to follow the instructions here:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/iot-accelerators/iot-accelerators-remote-monitoring-create-simulated-device\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-accelerators/iot-accelerators-remote-monitoring-create-simulated-device</a></p>\n\n<p>In it, I need to run the storage adapter microservice locally and for that to work, it seems that I need three environmental variables WHICH I DON'T KNOW HOW TO FIND THE VALUES FOR:</p>\n\n<p>PCS_AAD_APPID = { Azure service principal id }\nPCS_AAD_APPSECRET = { Azure service principal secret }\nPCS_KEYVAULT_NAME = { Name of Key Vault resource that stores settings and configuration }</p>\n\n<p>I can create those environmental variables but I have no idea what values I should put in there. Anyone?</p>\n\n<p>FYI, right now when I'm running the storage adapter microservice locally, I get this error:</p>\n\n<p>\"{\"Name\":\"StorageAdapter\",\"Status\":{\"IsHealthy\":false,\"Message\":\"Storage check failed\"}...\"</p>\n\n<p>...which is preceeded by a caught exception with this messae:</p>\n\n<p>\"AuthKey = '((Microsoft.Azure.Documents.Client.DocumentClient)this.client).AuthKey' threw an exception of type 'System.ArgumentNullException'\"</p>\n"
    }, {
        "tags": ["c#", ".net", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1263,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1562746306,
        "creation_date": 1562745000,
        "last_edit_date": 1562745990,
        "question_id": 56965855,
        "link": "https://stackoverflow.com/questions/56965855/get-all-devices-from-iot-azure-hub",
        "title": "Get all devices from IoT Azure Hub",
        "body": "<p>I would like to obtain all devices into my Azure IoT Hub system (connected, not connected, it doesn't matter).</p>\n\n<p>I've read the documentation about the system itself with no result but <a href=\"https://stackoverflow.com/questions/44563602/get-a-list-of-devices-from-azure-iot-hub\">Get a list of devices from Azure IoT Hub</a> has become obsolete.</p>\n\n<p>Is there any kind of query which let retrieve all devices associated to my system?</p>\n"
    }, {
        "tags": ["android", "usb", "iot", "usb-otg"],
        "is_answered": true,
        "view_count": 379,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1561417031,
        "creation_date": 1561382419,
        "question_id": 56737501,
        "link": "https://stackoverflow.com/questions/56737501/otg-vs-usb-extension-cable",
        "title": "OTG vs Usb extension cable?",
        "body": "<p>Is there a difference in OTG and Usb extension cable? </p>\n\n<p>I'm trying to connect my Android phone with some IoT device and when I connect it via OTG cable it works fine, but with regular extension cable it doesn't. I assume there is a reason, right?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-blob-storage"],
        "is_answered": false,
        "view_count": 122,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1561122597,
        "creation_date": 1560762144,
        "question_id": 56628045,
        "link": "https://stackoverflow.com/questions/56628045/export-azure-iot-hub-devices-twins-to-blob-storage",
        "title": "Export Azure Iot Hub Devices Twins to Blob Storage",
        "body": "<p>I am trying unsuccessfully to export Azure Iot Hub devices twins to a Blob Storage, so that it can be used as a reference input in Azure Stream Analytics.\nI have read and understood this documentation, <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-bulk-identity-mgmt\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-bulk-identity-mgmt</a>.\nBut it is in C#, and I have no idea how to make it in nodejs or javascript ... Someone who has tried something similar, or are there any other documentation or examples?</p>\n"
    }, {
        "tags": ["azure", "mqtt", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 585,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1560632265,
        "creation_date": 1560582158,
        "last_edit_date": 1560583339,
        "question_id": 56608140,
        "link": "https://stackoverflow.com/questions/56608140/azure-iot-hub-problem-all-devices-keep-getting-offline",
        "title": "Azure IoT hub problem: All devices keep getting offline",
        "body": "<p>I have an azure IoT hub with 10 IoT devices on it. For some strange reason, all devices keep getting offline. After some hours(or shorter) being connected, they suddenly get disconnected. When a device is manually restarted it starts again sending data and things seem to be solved, but the device quickly gets disconnected again:</p>\n\n<pre><code>Error: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK\nError: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK\nError: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK\nError: Time:Fri Jun 14 11:50:35 2019 File:/usr/sdk/src/c/iothub_client/src/iothubtransport_mqtt_common.c Func:InitializeConnection Line:2230 mqtt_client timed out waiting for CONNACK\n</code></pre>\n\n<p>Because the devices are spread over physical different locations I assume it cannot be an internet connection problem. Even my <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/quickstart-send-telemetry-node\" rel=\"nofollow noreferrer\">device simulator in NodeJS</a> running at home is disconnected after an hour or so.</p>\n\n<p>The <strong>IoT hub</strong> is a <strong>B1</strong> with <strong>2 hub units</strong> configured.\nAccording to the <a href=\"https://azure.microsoft.com/en-us/pricing/details/iot-hub/\" rel=\"nofollow noreferrer\">IoT specs</a> for B1 it should be able to handle <strong>400.000 messages per day</strong> with a max size of 4KB each. Since the messages are less than a 1 KB and are <strong>only sent every 10 minutes</strong>, the message count must be far below 2 times 400.000. </p>\n\n<p>Does anyone have an idea what could be the problem here? </p>\n\n<p><strong>Am I correct in my assumption that other Azure resources (e.g. the Database, Web App or Azure Function that are running as well) cannot overconsume CPU/memory such that the IoT hub gets throttled?</strong></p>\n\n<p>Extra details: The devices on the IoT hub use MQTT to send data. In order to read data from the IoT hub an Azure function is used (no errors are visible here).</p>\n"
    }, {
        "tags": ["azure", "mqtt", "iot", "azure-iot-hub", "azure-eventhub"],
        "is_answered": true,
        "view_count": 3631,
        "favorite_count": 1,
        "score": 3,
        "last_activity_date": 1559167252,
        "creation_date": 1558063768,
        "question_id": 56179194,
        "link": "https://stackoverflow.com/questions/56179194/is-it-possible-to-send-mqtt-message-to-event-hub-or-is-there-another-way",
        "title": "Is it possible to send MQTT message to Event Hub? Or is there another way?",
        "body": "<p>I am new with Azure, MQTT, and IoT. I have been given a task to create a POC on how to send MQTT message to Azure Event Hub.</p>\n\n<p>And from the Event Hub processing, save the message to cloud sql server.</p>\n\n<p>Is this possible? Since i read from <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-compare-event-hubs\" rel=\"nofollow noreferrer\">here</a>, that Azure Event Hub does not support MQTT. Or is there a workaround for this? Or is there a better way to do this? </p>\n\n<p>Currently i am trying to research Azure Event Hub and Azure IoT hub. </p>\n\n<p>Please help me. Thank you.</p>\n"
    }, {
        "tags": ["docker", "raspberry-pi", "iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 1156,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1559160730,
        "creation_date": 1559160052,
        "last_edit_date": 1559160730,
        "question_id": 56367707,
        "link": "https://stackoverflow.com/questions/56367707/docker-image-cant-see-gpio-pins-with-privileged-set-to-true-within-iot-edge-con",
        "title": "Docker image can&#39;t see GPIO Pins with Privileged set to True within IoT Edge Container Create Options",
        "body": "<p>I am setting up a Raspberry Pi 3b+ running Raspbian Stretch with IoT edge. This requires Docker images and containers for the modules. I am trying to get a module to take sensor data from the GPIO pins and send that to another module. When I attempt to use the directory where the GPIO information should be <code>/sys/class/gpio/export</code> I get that it does not exist. It seems like this is because docker doesn't have <code>privileged</code> set to <code>true</code>, however because I am doing this through IoT edge I can't input this through the CLI.\nAccording to this article <a href=\"https://thenewstack.io/tutorial-connect-and-configure-raspberry-pi-as-an-azure-iot-edge-device/\" rel=\"nofollow noreferrer\">https://thenewstack.io/tutorial-connect-and-configure-raspberry-pi-as-an-azure-iot-edge-device/</a> I need to put </p>\n\n<pre><code>{\n  \"HostConfig\": {\n    \"Privileged\": true\n  }\n}\n</code></pre>\n\n<p>under  create options, which I have done by putting this in the deployment manifest and publishing. I still get this error:\n<code>/bin/chgrp: cannot access '/sys/class/gpio/export': No such file or directory</code>. I've tried elevating my privileges by granting my docker container <code>USER sudo</code> but I believe this is occurring because the docker container isn't truly being run with privileged settings. This is the post that makes me believe this: <a href=\"https://stackoverflow.com/questions/30059784/docker-access-to-raspberry-pi-gpio-pins\">Docker Access to Raspberry Pi GPIO Pins</a> , it implies that it is as simple as running docker with privileged.</p>\n\n<p>I have tried putting the create options to privileged. Here is a snapshot from my IoT Edge Module Details page on the Azure Portal:\n<a href=\"https://i.imgur.com/0Z4epYZ.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/0Z4epYZ.png</a></p>\n\n<p>I've also put \n    {\n      \"HostConfig\": {\n        \"Privileged\": true\n      }\n    }\ninside of the <code>CreateOptions</code> field within <code>deployment.template.json</code></p>\n\n<p>Here is my dockerfile: </p>\n\n<pre><code>    FROM arm32v7/node:8-slim\n\n    WORKDIR /app/\n\n    COPY package*.json ./\n\n    RUN apt-get update\n\n    RUN apt-get -y install sudo\n\n    RUN useradd -m docker &amp;&amp; echo \"docker:docker\" | chpasswd &amp;&amp; adduser docker sudo\n\n    RUN apt-get install -y python\n\n    RUN apt-get install -y build-essential\n\n    RUN npm install --production\n\n    COPY app.js ./\n\n    RUN sudo groupadd gpio\n    RUN sudo usermod -aG gpio docker\n    RUN su docker\n    RUN sudo chgrp gpio /sys/class/gpio/export\n    RUN sudo chgrp gpio /sys/class/gpio/unexport\n    RUN sudo chmod 775 /sys/class/gpio/export\n    RUN sudo chmod 775 /sys/class/gpio/unexport\n\n    USER docker\n\n    CMD [\"node\", \"app.js\"]\n</code></pre>\n\n<p>Note: this is all in Visual Studio Code. Once this is all in order, I right click my <code>deployment.template.json</code> and click <code>Build IoT Solution</code>. Then I right click my Edge device under the <code>Azure IoT Hub Devices</code> dropdown and select <code>Create Deployment for Single Device</code> then I select the <code>deployment.arm32v7.json</code> under <code>./moduleName/config</code>.</p>\n\n<p>I expect for the <code>/sys/class/gpio/export</code> directory to actually exist within the container as it does exist within the RPi.\nWhat actually happens here is that I get this error: \n<code>/bin/chgrp: cannot access '/sys/class/gpio/export': No such file or directory\nThe command '/bin/sh -c sudo chgrp gpio /sys/class/gpio/export' returned a non-zero code: 1</code></p>\n\n<p>Any insights or help is greatly appreciated, thank you.</p>\n"
    }, {
        "tags": ["java", "azure", "iot"],
        "is_answered": false,
        "view_count": 45,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1558441569,
        "creation_date": 1558441569,
        "question_id": 56238266,
        "link": "https://stackoverflow.com/questions/56238266/disable-or-restrict-azure-iot-device-after-provisioning-with-dps",
        "title": "Disable or restrict azure IOT device after provisioning with DPS",
        "body": "<p>I have created one Device provision service. Then I have created enrollment group to the provision of a device to IOT Hub. It's working fine and the device is also able to provision. \nBy default, Device will enable for connection to IOT Hub after provision.</p>\n\n<p>Question: Now if I want that when the device will provision it will be in disable state. Is it possible or another way to do the same?</p>\n"
    }, {
        "tags": ["python", "memory", "cloud", "mqtt", "iot"],
        "is_answered": true,
        "view_count": 1126,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1558365744,
        "creation_date": 1547279632,
        "last_edit_date": 1557833222,
        "question_id": 54157738,
        "link": "https://stackoverflow.com/questions/54157738/google-cloud-iot-gateway-connection-out-of-memory",
        "title": "Google Cloud IoT Gateway Connection Out Of Memory",
        "body": "<p>I was successful in connecting the Raspberry Pi to the Cloud IoT and was able to toggle the device easily. But after a while, the device, according to me, times out of the connection, and shows \"('on_disconnect', '1: Out of memory.')\" and the connect status is set to False. So I reinstalled the git packages(the community folder) and repeated the same steps and I was successful again. But, obviously, the same error raised after a while. I can't seem to narrow it down to what is causing the issue. I am new here, so let me know if I should add anymore information.</p>\n\n<p>EDIT: Since I was trying to narrow it down, I found out that re-running the \"export GOOGLE_CLOUD_PROJECT=your-project-id-123\" command when the above problem occurs, help me to establish connection properly(without changing anything). Although this doesn't stop the \"Out of memory\" issue, it's something to work with for now.</p>\n\n<p>EDIT: <a href=\"https://github.com/GoogleCloudPlatform/community/tree/master/tutorials/cloud-iot-gateways-rpi\" rel=\"nofollow noreferrer\">https://github.com/GoogleCloudPlatform/community/tree/master/tutorials/cloud-iot-gateways-rpi</a> \nLink to the folder</p>\n"
    }, {
        "tags": ["iot", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 417,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1557962164,
        "creation_date": 1554977278,
        "question_id": 55629933,
        "link": "https://stackoverflow.com/questions/55629933/can-we-provision-the-downstream-devices-using-azure-iot-edge-modules",
        "title": "Can we provision the downstream devices using Azure IoT edge modules?",
        "body": "<p>Can I use Device Provisioning Service (DPS) to provision the downstream devices using edge module? For Identity translated Gateway scenario, should the Edge gateway have the connection string for all downstream devices with it or it can use DPS service to get the connection string?</p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "x509certificate", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 48,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1557723366,
        "creation_date": 1557665983,
        "question_id": 56099482,
        "link": "https://stackoverflow.com/questions/56099482/does-it-possible-to-upload-certificate-to-portal-via-code",
        "title": "Does it possible to upload certificate to portal via code?",
        "body": "<p>I'm setting a new device on Azure IoT devices, and instead of uploading certification manually i want to be able upload it via code.</p>\n\n<p>I created an Azure IoT device with SSL authentication, i have created the certification in the back end, got the primary thumbprint and the second one.\nAnd to the best of my understanding the this certification need to upload to the Azure portal.</p>\n\n<p>And instead of uploading certification manually i want to be able upload it via code.\nDoes it possible? or each time i need to upload it manually? </p>\n\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["azure", "azure-sql-database", "iot", "azure-iot-hub", "azure-stream-analytics"],
        "is_answered": true,
        "view_count": 141,
        "favorite_count": 0,
        "score": -2,
        "last_activity_date": 1557572140,
        "creation_date": 1557226453,
        "last_edit_date": 1557418763,
        "question_id": 56020998,
        "link": "https://stackoverflow.com/questions/56020998/can-azure-asp-net-web-forms-be-used-to-build-an-iot-application",
        "title": "Can Azure ASP.NET Web Forms be used to build an IoT application?",
        "body": "<p>I am an ASP.NET web forms programmer. While researching on IoT app development in Azure, I came across examples that use <strong>ASP.NET MVC</strong> or <strong>ASP.NET core</strong> for development. </p>\n\n<p>I am keen to know whether <strong>Azure ASP.NET Web Forms</strong> app can be used for visualizing the IoT data. </p>\n\n<p>Please confirm whether following data flow is valid?</p>\n\n<p>IoT Device<br/>\n &nbsp;&nbsp;&nbsp;|<br/>\n&nbsp;&nbsp;  ----> Azure IoT hub <br/>\n         &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br/>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----> Azure Stream Analytics Job<br/>\n                 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>\n                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----> Azure SQL Database <br/>\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br/>\n                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----> Azure ASP.NET Web forms application<br/></p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 713,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1556722557,
        "creation_date": 1556623986,
        "last_edit_date": 1556624218,
        "question_id": 55920003,
        "link": "https://stackoverflow.com/questions/55920003/how-to-retrieve-messages-from-iot-edge-hub-without-using-iot-hub",
        "title": "How to retrieve messages from IoT Edge Hub without using IoT Hub",
        "body": "<p>I want to write a C# application which gets messages out of an <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/iot-edge-runtime#iot-edge-hub\" rel=\"nofollow noreferrer\">IoT Edge hub</a> on an IoT Edge device before they are sent to the IoT Hub. </p>\n\n<p>I want to write an end-to-end test for my IoT edge modules. To do this, I'm going to run the whole IoT edge runtime as well as an MQTT server within a Docker container. I then want to write a test which sends data to the MQTT server from outside the container and retrieves them back by connecting directly to the IoT edge hub.</p>\n\n<p>My initial architecture looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7vDNR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7vDNR.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I want to have something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/koOT8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/koOT8.png\" alt=\"enter image description here\"></a></p>\n\n<p>I still need the IoT hub to create devices on the edge, but I want to listen directly to the edge hub to retrieve messages out of my pipeline.</p>\n\n<p>I <em>could</em> write a \"test module\" which does my test within the container, but that's actually not what I want to do.</p>\n\n<p>So my questions are:</p>\n\n<ol>\n<li>Is this actually possible to do?</li>\n<li>Where can I get information on how to connect directly to IoT Edge hub?</li>\n</ol>\n"
    }, {
        "tags": ["c#", "azure", "iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 376,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1554977657,
        "creation_date": 1536935997,
        "last_edit_date": 1536941771,
        "question_id": 52334225,
        "link": "https://stackoverflow.com/questions/52334225/c-azure-iot-edge-auto-provision-with-device-provisioning-servicedps-with-x509",
        "title": "c# Azure IOT Edge Auto-provision with Device Provisioning Service(DPS) with x509 certificate sample needed",
        "body": "<p>I'm new to azure IOT edge development. I'm looking for a way to Create and provision a simulated x509 certificate Edge device on Windows in c#. Is Trusted Platform Module (TPM) the only way right now with edge device?</p>\n\n<p>I found this tutorial but it's for simulated TPM Edge device on Windows.</p>\n\n<p><a href=\"https://docs.microsoft.com/en-ca/azure/iot-edge/how-to-auto-provision-simulated-device-windows\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-ca/azure/iot-edge/how-to-auto-provision-simulated-device-windows</a></p>\n\n<p>any idea how to do provision a device with x509 certificate? and a x509 certificate group enrollment?</p>\n\n<p>Chuck</p>\n"
    }, {
        "tags": ["c#", ".net", "function", "azure", "iot"],
        "is_answered": true,
        "view_count": 193,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1554749556,
        "creation_date": 1554747346,
        "question_id": 55579449,
        "link": "https://stackoverflow.com/questions/55579449/how-to-get-current-location-of-device-with-azure-iot",
        "title": "How to get current location of device with Azure Iot",
        "body": "<p>We are using IOT Hub of azure to connect our devices with it, currently, these devices are connected to a pc. </p>\n\n<p>From azure IOT Hub how we can get the IP or the current location of these devices? Any suggestion or recommendation to do it?</p>\n\n<p>It's possible to connect IOT Hub with azure function to get the IP and after with azure maps gets the country to insert in a azure sql database?</p>\n\n<p>Thanks for your answers! I am quite new with azure</p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1825,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1554389266,
        "creation_date": 1503697972,
        "question_id": 45889855,
        "link": "https://stackoverflow.com/questions/45889855/simple-way-to-get-data-from-iot-hub-in-c",
        "title": "Simple way to get data from IoT Hub in C#",
        "body": "<p>I try use code from MS tutorial <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-csharp-csharp-getstarted</a> and this</p>\n\n<pre><code>internal class Program\n{\nprivate static string connectionString = \"HostName=...=\";\nprivate static string d2cEndpoint = \"messages/events\";\nprivate static EventHubClient eventHubClient;\n\nprivate static void Main(string[] args)\n{\n    Console.WriteLine(\"Receive messages\\n\");\n    eventHubClient = EventHubClient.\n       CreateFromConnectionString(\n          connectionString, d2cEndpoint);\n\n    var d2cPartitions = eventHubClient.\n            GetRuntimeInformation().PartitionIds;\n\n    foreach (string partition in d2cPartitions)\n    {\n        ReceiveMessagesFromDeviceAsync(partition);\n    }\n    Console.ReadLine();\n}\n\nprivate async static Task ReceiveMessagesFromDeviceAsync(\n                                      string partition)\n{\n    var eventHubReceiver = eventHubClient.\n          GetDefaultConsumerGroup().\n            CreateReceiver(partition, DateTime.UtcNow);\n    while (true)\n    {\n        EventData eventData = await eventHubReceiver.\n                                            ReceiveAsync();\n        if (eventData == null) continue;\n\n        string data = Encoding.UTF8.GetString(\n                                  eventData.GetBytes());\n        Console.WriteLine(string.Format(\n          \"Message received. Partition: {0} Data: '{1}'\",\n          partition, data));\n    }\n}\n} \n</code></pre>\n\n<p>to get data from IoT Hub, but still something was wrong. \nIt is possible to get this data in easy way? </p>\n"
    }, {
        "tags": ["azure", "iot", "node-red"],
        "is_answered": true,
        "view_count": 552,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1551283145,
        "creation_date": 1551261920,
        "question_id": 54902840,
        "link": "https://stackoverflow.com/questions/54902840/azure-iot-central-connect-real-device-connection-string-problems",
        "title": "Azure IoT Central Connect Real Device. (Connection String problems)",
        "body": "<p>I am following the next tutorial to add new real device on Azure IoT Central.\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-central/tutorial-add-device\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-central/tutorial-add-device</a></p>\n\n<p>I want to use a node red flow to upload data, using the Azure IoT Hub flow, but in the tutorial is not very clear how generate the connection string. I can not find the dps_cstr tool for Windows...</p>\n\n<p>Do you know how I can generate the connection string to upload data from Node-Red to Azure IoT Central? </p>\n\n<p>Thanks</p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": true,
        "view_count": 119,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1551146887,
        "creation_date": 1551075440,
        "question_id": 54860463,
        "link": "https://stackoverflow.com/questions/54860463/azure-iot-hub-with-s1stander-tier-will-charge-for-whole-month-if-i-use-for-8hrs",
        "title": "Azure IOT hub with S1:Stander Tier will charge for whole month if I use for 8hrs and delete it",
        "body": "<p>I am using Azure Pay As You Go subscription. I wanted to create Azure IOT hub with S1:Stander Tier. Cost per month is :1652.41 INR. If I use it for 8 hrs for trying some example and delete the that create IOT hub, will it charge 1652.41 INR Or hourly or daily basis?</p>\n"
    }, {
        "tags": ["azure", "azure-storage-blobs", "iot", "avro"],
        "is_answered": false,
        "view_count": 250,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1551107628,
        "creation_date": 1550500664,
        "last_edit_date": 1550553726,
        "question_id": 54749607,
        "link": "https://stackoverflow.com/questions/54749607/invalid-avro-object-container-in-a-stream-the-header-cannot-be-recognized-ho",
        "title": "Invalid Avro object container in a stream. The header cannot be recognized. - How do I parse message in the blob storage",
        "body": "<p>I have devices which send messages to IOT Hub. I am using <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/tutorial-routing\" rel=\"nofollow noreferrer\">routing</a> feature of IoT Hub to route the messages to blob storage.</p>\n\n<p>I see that all the messages are reaching the <code>Blob</code> storage. But it's storing in appended format. all the message appended one after other.</p>\n\n<p>I understand that we can configure <code>chunk size</code> and <code>frequency</code> but my requirement is to store one message each in one blob. Is it possible?</p>\n\n<p>Or</p>\n\n<p>How do I parse each message based on timestamp? </p>\n\n<p>Here is the avro message</p>\n\n<pre><code> Objavro.codecnullavro.schema\ufffd{\"type\":\"record\",\"name\":\"Message\",\"namespace\":\"Microsoft.Azure.Devices\",\"fields\":\n</code></pre>\n\n<p>Here is the Azure Function Code</p>\n\n<pre><code> using (var reader = AvroContainer.CreateGenericReader(myBlob))\n        {\n            while (reader.MoveNext())\n            {\n                foreach (dynamic record in reader.Current.Objects)\n                {\n                    var bodyText = Encoding.UTF8.GetString(record.Body);\n                    log.LogInformation($\"AvroRecord = {bodyText}\");\n                }\n            }\n        }\n</code></pre>\n\n<p>But I get error like this</p>\n\n<blockquote>\n  <p>Invalid Avro object container in a stream. The header cannot be recognized.</p>\n</blockquote>\n"
    }, {
        "tags": ["node.js", "websocket", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 243,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1550563286,
        "creation_date": 1550300382,
        "last_edit_date": 1550303093,
        "question_id": 54720686,
        "link": "https://stackoverflow.com/questions/54720686/getting-null-and-error-403-while-trying-to-subscribe-the-aws-iot-custom-topic",
        "title": "Getting NULL and Error 403 while trying to subscribe the AWS-IOT custom topic",
        "body": "<p>I have a node application and I am using <a href=\"https://github.com/aws/aws-iot-device-sdk-js\" rel=\"nofollow noreferrer\">aws-iot-sdk</a> for establishing a connection to IOT core. I am making a dynamic topic and have a rule for the same that transfers the message to lambda and the lambda does some backend processing. I am now trying to subscribe to the topic in my node app that I am republishing through my rule engine action.\nI am new to AWS IOT SDK and I am stuck because of the \"null\" I am getting, please guide me.</p>\n\n<p>I tried to visit the doc of <a href=\"https://github.com/aws/aws-iot-device-sdk-js\" rel=\"nofollow noreferrer\">aws-iot-sdk</a>, followed the steps they have written but I am not able to get through the same.\nIf I simply publish and not subscribe in the node app, I am getting the response via SNS, but not able to get back in the app.</p>\n\n<p>My Node code:</p>\n\n<pre><code>ar awsIot = require('aws-iot-device-sdk');\n\nvar name = 'My Thing name';\nconst TAG = '[' + name + '] &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; ';\nconst INIT_DELAY = 15;\nvar app = awsIot.device({\n    keyPath: 'My private key',\n    certPath: 'My Cert path',\n    caPath: 'My Root cert Path',\n    clientId: name,\n    region: 'the region',\n    host: \"&lt;host addr&gt;\",\n});\n\n\n\n\n\n\napp.on('connect', () =&gt; {\n    try{\n        app.subscribe('/postacttest/response', (event) =&gt; {\n            console.log(event);\n        });\n    } catch(err) {\n        console.log(err);\n    }\n\n    app.publish('/getacttest/client1', JSON.stringify(\n        {\n            state: {\n                desired: {\n                    message: \"GET_TEST_RESULT\",\n                    clientId: \"AWSNODECLIENT\"\n                }\n            }\n        }\n    ));\n\n})\n</code></pre>\n\n<p>Following is the response I am getting:</p>\n\n<blockquote>\n  <p>null</p>\n</blockquote>\n\n<p>Following is the rule I am writing on AWS:</p>\n\n<pre><code>SELECT state.desired.clientId AS clientId \nFROM \"/getacttest/#\" \nWHERE state.desired.message=\"GET_TEST_RESULT\"\n</code></pre>\n\n<p>Please guide me that how should I subscribe to the topic and show the result as we can do using <a href=\"https://www.npmjs.com/package/mqtt\" rel=\"nofollow noreferrer\">mqtt.js</a>, that is like WebSocket.</p>\n\n<p>If I configure my connect object as below I am getting the error as shown in the same pic'c terminal area below:\n<a href=\"https://i.stack.imgur.com/cJCvE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cJCvE.png\" alt=\"Error Dec]\"></a></p>\n\n<p><strong>I have written all allow and action policy for my ACT service.</strong></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 601,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1549989794,
        "creation_date": 1549388588,
        "last_edit_date": 1549989794,
        "question_id": 54540187,
        "link": "https://stackoverflow.com/questions/54540187/unable-to-pass-private-registry-credentials-to-azure-iot-edge",
        "title": "Unable to pass private registry credentials to Azure Iot Edge",
        "body": "<p>I am using kubernetes with virtual-kubelet to deploy module to Iot Edge.\nEverything works perfect with public image. \nI can't figure out how to pass credentials to my private registry.</p>\n\n<p>This documentation <a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/iot-edge/iot-edge-runtime.md\" rel=\"nofollow noreferrer\">https://github.com/MicrosoftDocs/azure-docs/blob/master/articles/iot-edge/iot-edge-runtime.md</a> says:</p>\n\n<blockquote>\n  <p>settings.image \u2013 The container image that the IoT Edge agent uses to\n  start the module. The IoT Edge agent must be configured with\n  credentials for the container registry if the image is protected by a\n  password. Credentials for the container registry can be configured\n  remotely using the deployment manifest, <strong>or on the IoT Edge device\n  itself by updating the config.yaml</strong> file in the IoT Edge program\n  folder.</p>\n</blockquote>\n\n<p>Seems very easy but can't find how to modify config.yaml to add my credentials.\nI think that it should be added in below section but there is no example how to do that.</p>\n\n<pre><code>###############################################################################\n# Edge Agent module spec\n###############################################################################\n#\n# Configures the initial Edge Agent module.\n#\n# The daemon uses this definition to bootstrap the system. The Edge Agent can\n# then update itself based on the Edge Agent module definition present in the\n# deployment in IoT Hub.\n#\n###############################################################################\n\nagent:\n  name: \"edgeAgent\"\n  type: \"docker\"\n  env:\n    RuntimeLogLevel: debug\n  config:\n    image: \"mcr.microsoft.com/azureiotedge-agent:1.0\"\n    auth: {}\n</code></pre>\n\n<p>YAML</p>\n\n<pre><code>apiVersion: apps/v1beta2\nkind: Deployment\nmetadata:\n  name: matrix\nspec:\n  selector:\n    matchLabels:\n      app: matrix\n  replicas: 1\n  strategy:\n    type: RollingUpdate\n    rollingUpdate:\n      maxSurge: 0%\n      maxUnavailable: 100%\n  template:\n    metadata:\n      labels:\n        app: matrix\n      annotations:\n        isEdgeDeployment: \"true\"\n        targetCondition: \"tags.type='gpu'\"\n        priority: \"151\"\n        loggingOptions: \"\"\n    spec:\n      affinity:\n          podAntiAffinity:\n            requiredDuringSchedulingIgnoredDuringExecution:\n            - labelSelector:\n                matchExpressions:\n                - key: app\n                  operator: In\n                  values:\n                  - matrix\n              topologyKey: \"kubernetes.io/hostname\"\n      containers:\n      - name: matrix\n        image: \"registry.xxx.xx/image/xxx-frontend\"\n        env:\n        - name: DISPLAY\n          value: \":0.0\"\n      nodeSelector:\n        type: virtual-kubelet\n      tolerations:\n      - key: virtual-kubelet.io/provider\n        operator: Equal\n        value: iotedge\n        effect: NoSchedule\n\n---\nkind: ConfigMap\napiVersion: v1\nmetadata:\n  name: matrix\ndata:\n  status: running\n  restartPolicy: always\n  version: \"1.0\"\n  createOptions: |\n    {\n      \"HostConfig\": {\n        \"Privileged\": \"true\",\n        \"Mounts\": [{\"Target\": \"/tmp/.X11-unix/\",\"Source\": \"/tmp/.X11-unix/\",\"Type\": \"bind\"}],\n        \"network\": \"host\"\n      }\n    }\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: edgeagent\ndata:\n  desiredProperties: |\n    {\n      \"runtime\": {\n        \"settings\": {\n          \"registryCredentials\": {\n            \"docker\": {\n              \"address\": \"registry.xxx.xx\",\n              \"password\": \"xxxxxxxxxxxxxxx\",\n              \"username\": \"user\"\n            }\n          }\n        }\n      },\n      \"systemModules\": {\n        \"edgeHub\": {\n          \"env\": {\n            \"OptimizeForPerformance\": {\n              \"value\": \"false\"\n            }\n          }\n        }\n      }\n    }\n---\napiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: edgehub\ndata:\n  desiredProperties: |\n    {\n      \"routes\": {\n        \"route\": \"FROM /* INTO $upstream\",\n      },\n      \"storeAndForwardConfiguration\": {\n        \"timeToLiveSecs\": 6\n      }\n    }\n</code></pre>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 833,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1549008698,
        "creation_date": 1548914607,
        "question_id": 54454265,
        "link": "https://stackoverflow.com/questions/54454265/azure-iot-edge-edgehub-module-cant-start",
        "title": "Azure IoT Edge edgeHub module can&#39;t start",
        "body": "<p>I've successfully installed IoT edge runtime with system edgeAgent module. Now I'm trying to install SimulatedTemperatureSensor module as it is recommended in Microsoft <a href=\"https://docs.microsoft.com/en-au/azure/iot-edge/quickstart\" rel=\"nofollow noreferrer\">tutorial</a>. I add this module from a market place and two new modules appear in Azure portal when I click submit: edgeHub and as expected SimulatedTemperatureSensor. After several seconds those modules appear on my device (my windows 10 based machine). Unfortunately, iotedge service can't start either of those modules. I'm receiving</p>\n\n<blockquote>\n  <p>The password for this account has expired</p>\n</blockquote>\n\n<p>error all the time as shown in logs below. I did the same couple of weeks ago on another machine and everything went perfectly well. Does anybody know what could cause this issue?</p>\n\n<p>Logs:</p>\n\n<pre><code>info: edgelet_docker::runtime -- Starting module edgeHub...                                                \n31/01/2019 4:39:31 PM  warn: edgelet_utils::logging -- Could not start module edgeHub                                             \n31/01/2019 4:39:31 PM  warn: edgelet_utils::logging --  caused by: container                                                      \n     2081f5de294aaad116fdac602db92cc316f5b88c7 encountered an error during               \n     CreateProcess: failure in a Windows system call: The password for this account has expired\n</code></pre>\n"
    }, {
        "tags": ["iot", "sensors", "lora", "lorawan"],
        "is_answered": true,
        "view_count": 352,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1548818402,
        "creation_date": 1530820282,
        "question_id": 51198901,
        "link": "https://stackoverflow.com/questions/51198901/lora-sensor-elsys-ers-to-lora-antenna-multitech-antenna",
        "title": "Lora Sensor (Elsys ERS) to Lora antenna (Multitech Antenna)",
        "body": "<p>I am using Lora technology to send Data from a Lora sensor (Elsys ERS: <a href=\"https://www.elsys.se/en/ers/\" rel=\"nofollow noreferrer\">link</a>) to a Lora Base station (multitech MultiConnect Conduit IP67 Base Station: <a href=\"http://www.multitech.net/developer/products/multiconnect-conduit-platform/basestation/\" rel=\"nofollow noreferrer\">link</a>). I have configured the sensor using an android application (using NFC) as in the manual. For the configuration, I followed the manual (<a href=\"https://www.multitech.com/documents/publications/manuals/S000665.pdf\" rel=\"nofollow noreferrer\">link</a>) of the base station and a youtube tuto (<a href=\"https://www.youtube.com/watch?v=Q_25lZWcSWI&amp;t=850s\" rel=\"nofollow noreferrer\">link</a>), but I still do not know how it works.</p>\n\n<p>Now I want to know how to receive a data from this sensor using the cited base station.</p>\n\n<p>PS: the multitech bas station is equipped with a lora antenna.</p>\n\n<p>Thank you for your help.</p>\n"
    }, {
        "tags": ["asp.net", "azure", "routing", "message", "iot"],
        "is_answered": false,
        "view_count": 152,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1548766452,
        "creation_date": 1548764816,
        "question_id": 54421049,
        "link": "https://stackoverflow.com/questions/54421049/device-to-cloud-messaging-azure-iot-hub",
        "title": "Device to Cloud Messaging Azure IOT Hub",
        "body": "<p>I would like to route the IOT hub device to cloud messages to the asp.net core web app hosted as azure AppService. I am not sure whether it is possible. If yes, could you please provide the necessary instructions to achieve the same.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-stream-analytics", "stream-analytics"],
        "is_answered": true,
        "view_count": 68,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1547505005,
        "creation_date": 1546950490,
        "last_edit_date": 1547234863,
        "question_id": 54091829,
        "link": "https://stackoverflow.com/questions/54091829/azure-stream-analytics-anomaly-function-returning-exception",
        "title": "Azure stream analytics anomaly function returning Exception",
        "body": "<p>We have an IOT application. Application has to detect any sudden changes(anomaly) in the device battery voltage. We were planing on using anomaly function built into stream analytics in  azure  for accomplishing this task.</p>\n\n<p>When I'm running anomaly function in stream analytics query as follows </p>\n\n<pre><code>SELECT    ANOMALYDETECTION(BATTERYVOLTAGE)  OVER( LIMIT DURATION(hour, 1)) \nas anomaly   FROM [IotTelemetryStream]\n</code></pre>\n\n<p>it is returning the following error message:</p>\n\n<blockquote>\n  <p>unexpected error has occurred. Please open a support ticket to investigate and provide the following client request id:_______</p>\n</blockquote>\n\n<p>But when running the same query after removing anomaly function  works fine.</p>\n\n<pre><code>SELECT   BATTERYVOLTAGE as anomaly   FROM [IotTelemetryStream]\n</code></pre>\n\n<p>I cannot find any reference for this issue any where on web so any help would be much appreciated and thanks in advance.</p>\n"
    }, {
        "tags": ["c#", "uwp", "iot", "azure-iot-hub", "x509certificate2"],
        "is_answered": false,
        "view_count": 368,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1547221166,
        "creation_date": 1547165912,
        "last_edit_date": 1547221166,
        "question_id": 54138753,
        "link": "https://stackoverflow.com/questions/54138753/how-to-authenticate-iot-device-using-x509certificate",
        "title": "How to authenticate IoT device using X509Certificate",
        "body": "<p>I was following <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-security-x509-get-started\" rel=\"nofollow noreferrer\">this</a> tutorial on 'Azure IoT hub using the X.509 Certificate Authentication'. The sample console app works fine and I was able to send a message to my existing IoThub. However, when I try to connect with my existing IoThub from my UWP using the same code, the same certificate and from the same device, I keep getting non specific exception Message = \"Exception from HRESULT: 0x80072F0C\". I was wondering what is the basic difference between UWP and console app when connecting with IoT hub using X.509 Certificate. </p>\n\n<pre><code>X509Store store = new X509Store(StoreName.My, StoreLocation.LocalMachine);\nstore.Open(OpenFlags.ReadOnly);\nvar certs = store.Certificates.Find(X509FindType.FindByThumbprint, \"thumbprint\", false);\nif (certs.Count &gt; 0 &amp;&amp; certs[0].HasPrivateKey)\n{\n    var auth = new DeviceAuthenticationWithX509Certificate(\"deviceId\", \"X509Certificate2\");\n    deviceClient = DeviceClient.Create(\"***.azure-devices.net\", auth, TransportType.Amqp);\n\n    var message = new Message(Encoding.ASCII.GetBytes(\"Hello\"));\n    await deviceClient.SendEventAsync(message);\n    outMessage = await ReceiveCloudMessageAsync();\n}\nelse\n{\n     throw new Exception(\"cert not found\");\n}\n</code></pre>\n\n<p>I was able to get the self-signed cert and has the private key but an exception is being thrown at 'SendEventAsync'.</p>\n"
    }, {
        "tags": ["azure-functions", "iot", "azure-iot-hub", "azure-stream-analytics", "mxchip"],
        "is_answered": true,
        "view_count": 433,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1547216401,
        "creation_date": 1545223480,
        "last_edit_date": 1547216401,
        "question_id": 53851553,
        "link": "https://stackoverflow.com/questions/53851553/an-error-occurred-send-events-azure-function-output-adapter-failed-to-write-eve",
        "title": "An error occurred Send Events: Azure Function Output Adapter failed to write events Azure Function as Stream Analytics Job Output",
        "body": "<p>I have an Azure IoT Dev Kit MXChip and I am sending the sensor data to the IoT Hub. I have also set up the Stream Analytics Job with Input as IoT Hub and Output as SQL Server and Azure Function. The output is getting written to the SQL Database, so I am confirming that the Query is correct. </p>\n\n<p>When I check my stream analytics job log, I am seeing some error as below. </p>\n\n<pre><code>{\n    \"channels\": \"Operation\",\n    \"correlationId\": \"4a9c9b61-631a-4f4f-a403-c2869b2af66c\",\n    \"description\": \"\",\n    \"eventDataId\": \"97250faf-fa47-4e78-9981-8429f293bab9\",\n    \"eventName\": {\n        \"value\": \"streamingNode0\",\n        \"localizedValue\": \"streamingNode0\"\n    },\n    \"category\": {\n        \"value\": \"Administrative\",\n        \"localizedValue\": \"Administrative\"\n    },\n    \"eventTimestamp\": \"2018-12-18T15:54:22.9777487Z\",\n    \"id\": \"\",\n    \"level\": \"Error\",\n    \"operationId\": \"a613bc6a-5f61-4064-bea5-83c3af232e68\",\n    \"operationName\": {\n        \"value\": \"Send Events: Azure Function Output Adapter failed to write events\",\n        \"localizedValue\": \"Send Events: Azure Function Output Adapter failed to write events\"\n    },\n    \"resourceGroupName\": \"mlIoTPlatformDev\",\n    \"resourceProviderName\": {\n        \"value\": \"Microsoft.StreamAnalytics\",\n        \"localizedValue\": \"Microsoft.StreamAnalytics\"\n    },\n    \"resourceType\": {\n        \"value\": \"Microsoft.StreamAnalytics/streamingjobs\",\n        \"localizedValue\": \"Microsoft.StreamAnalytics/streamingjobs\"\n    },\n    \"resourceId\": \"\",\n    \"status\": {\n        \"value\": \"Failed\",\n        \"localizedValue\": \"Failed\"\n    },\n    \"subStatus\": {\n        \"value\": \"\",\n        \"localizedValue\": \"\"\n    },\n    \"submissionTimestamp\": \"2018-12-18T15:55:04.0799116Z\",\n    \"subscriptionId\": \"\",\n    \"properties\": {\n        \"Message Time\": \"2018-12-18 15:54:22Z\",\n        \"Error\": \"- An error occurred while sending the request.\\r\\n- The underlying connection was closed: An unexpected error occurred on a send.\\r\\n- Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.\\r\\n- An existing connection was forcibly closed by the remote host\\r\\n\",\n        \"Message\": \"Failed to write events. Error encountered after writing [0] batches., - An error occurred while sending the request.\\r\\n- The underlying connection was closed: An unexpected error occurred on a send.\\r\\n- Unable to read data from the transport connection: An existing connection was forcibly closed by the remote host.\\r\\n- An existing connection was forcibly closed by the remote host\\r\\n, : OutputSourceAlias:AzureFunctionOutput;AdapterType:AzureFunction;ShardId:0;\",\n        \"Type\": \"AzureFunctionOutputAdapterFailure\",\n        \"Correlation ID\": \"4a9c9b61-631a-4f4f-a403-c2869b2af66c\"\n    },\n    \"relatedEvents\": []\n}\n</code></pre>\n\n<p>Below is my Azure Function code.</p>\n\n<pre><code>[FunctionName(\"GetData\")]\npublic static async Task &lt; HttpResponseMessage &gt; Run(\n    [HttpTrigger(AuthorizationLevel.Anonymous, \"get\", \"post\")] HttpRequestMessage req,\n    // [SignalR(HubName = \"ml-iot-platform\")] IAsyncCollector&lt;SignalRMessage&gt; signalRMessages,\n    ILogger log) {\n    log.LogInformation($ \"GetData function triggered with Uri {req.RequestUri}\");\n    dynamic data = await req.Content.ReadAsAsync &lt; object &gt; ();\n    log.LogInformation($ \"Data count is {data.Count}\");\n\n    if (data.ToString().Length &gt; 262144) {\n        return new HttpResponseMessage(HttpStatusCode.RequestEntityTooLarge);\n    }\n\n    //await signalRMessages.AddAsync(new SignalRMessage()\n    //{\n    //   Target = \"checkData\",\n    //   Arguments = new object[] { data }\n    //});\n\n    return req.CreateResponse(HttpStatusCode.OK, \"Success\");\n}\n</code></pre>\n\n<p>Have you ever faced this issue?</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 72,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1546573129,
        "creation_date": 1546312890,
        "last_edit_date": 1546321357,
        "question_id": 53992833,
        "link": "https://stackoverflow.com/questions/53992833/azure-iot-dev-kit-bootloader",
        "title": "Azure IoT dev kit bootloader",
        "body": "<p>building a product utilizing EWM3166 module used in Azure IoT devkit and would like to customize the bootloader.\nwhere can I find the source code for Azure IoT devkit AZ3166 bootloader?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 559,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1546153982,
        "creation_date": 1545199962,
        "question_id": 53845505,
        "link": "https://stackoverflow.com/questions/53845505/how-can-i-enroll-a-device-to-a-group-enrollment-in-azure-iot-hub",
        "title": "How can I enroll a device to a group enrollment in Azure IOT hub?",
        "body": "<p>I have seen code for individual enrollment but I can't find any for group enrollment. I need to bulk enroll a thousand devices to Azure IOT Hub and was thinking of group enrollment.Any sample code will be appreciated.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-stream-analytics", "mxchip"],
        "is_answered": true,
        "view_count": 76,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1545148215,
        "creation_date": 1545146198,
        "last_edit_date": 1545148215,
        "question_id": 53836053,
        "link": "https://stackoverflow.com/questions/53836053/fields-referenced-in-query-not-found-in-input-events-fields-expected-time-field",
        "title": "Fields referenced in query not found in input events Fields Expected: TIME Fields found: MESSAGEID Azure Stream Analytics Job",
        "body": "<p>I just created an Azure Stream Analytics job and configured the Inputs and Outputs, and this Stream Analytics job is taking Azure IoT hub as the Input which receives the data from an Azure IoT Dev Kit MXChip. But I am getting an error in the Input job topology details as below.</p>\n\n<pre><code>[4:10:13 PM] Fields referenced in query not found in input events\nFields Expected: TIME\nFields found: MESSAGEID, HUMIDITY\nMissing fields: TIME\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/LYiyS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LYiyS.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Below is my query.</p>\n\n<pre><code>WITH BasicOutput AS \n(\nSELECT    \n    messageId,\n    System.TIMESTAMP AS TIME,\n    deviceId,\n    temperature,\n    humidity,\n    pressure,\n    pointInfo,\n    IoTHub,\n    EventEnqueuedUtcTime,\n    EventProcessedUtcTime,\n    PartitionId,    \n    count(*) AS Count\nFROM\n    Input TIMESTAMP By TIME\n    GROUP BY TUMBLINGWINDOW(minute, 2), \n    messageId, \n    deviceId,\n    temperature,\n    humidity,\n    pressure,\n    pointInfo,\n    IoTHub,\n    EventEnqueuedUtcTime,\n    EventProcessedUtcTime,\n    PartitionId\n)\n\nSELECT * INTO SQLServerOutput FROM BasicOutput\nSELECT * INTO AzureFunctionOutput FROM BasicOutput\n</code></pre>\n\n<p>Have you ever faced this issue? Any help is really appreciated.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "iot-workbench", "mxchip"],
        "is_answered": true,
        "view_count": 28,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1544772343,
        "creation_date": 1544772343,
        "last_edit_date": 1592644375,
        "question_id": 53775174,
        "link": "https://stackoverflow.com/questions/53775174/only-one-azure-subscription-is-showing-in-the-iot-workbench-cloud-azure-provisi",
        "title": "Only one Azure subscription is showing in the IoT Workbench: Cloud Azure provision command",
        "body": "<p>I have set up my MXChip(Azure IoT Dev Kit) with Azure Provision. But I moved all of my Azure resources to a different subscription now. And I need to do the Azure Device Provisioning again so that the MXChip device can be provisioned with a new connection string. But when I try to do the commands it shows only one subscription.</p>\n<pre><code>IoT Workbench: Cloud\nAzure Provision\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/KsPqj.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KsPqj.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Any idea what to do in this case?</p>\n"
    }, {
        "tags": ["powershell", "raspberry-pi", "iot", "windows-10-iot-core", "windowsiot"],
        "is_answered": true,
        "view_count": 82,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1542831018,
        "creation_date": 1542811220,
        "last_edit_date": 1542831018,
        "question_id": 53414482,
        "link": "https://stackoverflow.com/questions/53414482/info-trying-to-load-file-oemfmfilelist-xml-as-a-fm-file-list-fatal-error",
        "title": "info: Trying to load file &#39;OEMFMFileList.xml&#39; as a FM file list ... fatal error : Error: Missing package - Creating basic IoT Core Image Powershell",
        "body": "<p>I am just trying to create a basic IoT core image by following this <a href=\"https://docs.microsoft.com/en-us/windows/iot-core/manufacturing-guide/04-createbasicimage\" rel=\"nofollow noreferrer\">guide</a>. </p>\n\n<p>But I am always getting the below errors, whenever I run <code>buildimage &lt;product name&gt; Test</code> after building the BSP (<code>Import-IoTBSP RPi2 C:\\Downloads\\RPi_BSP.zip</code> (or) <code>importbsp RPi2 C:\\Downloads\\RPi_BSP.zip</code>\n<code>buildpkg RPi2</code>)</p>\n\n<pre><code>info: Trying to load file 'C:\\OEEWorkspace\\Build\\arm\\InputFMs\\OEMFMFileList.xml' as a FM file list ... fatal error : Error: Missing package: C:\\OEEWorkspace\\Build\\arm\\pkgs\\test.OEM.Sample.cab\n\ninfo: Trying to load file 'C:\\OEEWorkspace\\Build\\arm\\InputFMs\\RPi2FMFileList.xml' as a FM file list ... fatal error : Error: Missing package: \n</code></pre>\n\n<p>I also followed this <a href=\"https://github.com/ms-iot/iot-adk-addonkit/issues/139\" rel=\"nofollow noreferrer\">issue</a> in GitHub, but couldn't find the exact issue. Have you ever faced any error something similar?</p>\n"
    }, {
        "tags": ["python", "azure", "iot", "azure-iot-hub", "azure-eventhub"],
        "is_answered": true,
        "view_count": 146,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1542016979,
        "creation_date": 1541876196,
        "question_id": 53242358,
        "link": "https://stackoverflow.com/questions/53242358/iot-hub-event-python",
        "title": "Iot hub event python",
        "body": "<p>I have searched for this quite alot , I am trying to connect a reciever to my iot hub on azure using python , using azure event sdk , but regretably with no success , my reciever tells me it gets connected with the client , but it never actually views the data </p>\n\n<p>my reciever is </p>\n\n<pre><code>    #!/usr/bin/env python\n\n# --------------------------------------------------------------------------------------------\n# Copyright (c) Microsoft Corporation. All rights reserved.\n# Licensed under the MIT License. See License.txt in the project root for license information.\n# --------------------------------------------------------------------------------------------\n\n\"\"\"\nAn example to show receiving events from an Event Hub partition.\n\"\"\"\nimport os\nimport sys\nimport logging\nimport time\nfrom azure.eventhub import EventHubClient, Receiver, Offset\n\n# Address can be in either of these formats:\n# \"amqps://&lt;URL-encoded-SAS-policy&gt;:&lt;URL-encoded-SAS-key&gt;@&lt;mynamespace&gt;.servicebus.windows.net/myeventhub\"\n# \"amqps://&lt;mynamespace&gt;.servicebus.windows.net/myeventhub\"\nADDRESS =\"amqps://iothub-ns-virtualab2-926709-043cc22e89.servicebus.windows.net/virtualab2\"\n\n# SAS policy and key are not required if they are encoded in the URL\nUSER = \"iothubowner\"\nKEY = \"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\nCONSUMER_GROUP = \"teststream\"\nOFFSET = Offset(\"-1\")\nPARTITION = \"1\"\n\n\ntotal = 0\nlast_sn = -1\nlast_offset = \"-1\"\nclient = EventHubClient(ADDRESS, debug=True, username=USER, password=KEY)\n\ntry:\n    receiver = client.add_receiver(CONSUMER_GROUP, PARTITION, prefetch=5000, offset=OFFSET)\n    client.run()\n    print(\"client connected\")\n    start_time = time.time()\n    print(\"listening\")\n    batch = receiver.receive(timeout=5000)\n\n    while batch:\n        for event_data in batch:\n            last_offset = event_data.offset\n            last_sn = event_data.sequence_number\n            print(\"Received: {}, {}\".format(last_offset.value, last_sn))\n            print(event_data.body_as_str())\n            total += 1\n        batch = receiver.receive(timeout=5000)\n\n    end_time = time.time()\n    client.stop()\n    run_time = end_time - start_time\n    print(\"Received {} messages in {} seconds\".format(total, run_time))\n\nexcept KeyboardInterrupt:\n    pass\nfinally:\n    client.stop()\n</code></pre>\n\n<p>and i am using the standard sender from quickstart from iot hub</p>\n"
    }, {
        "tags": ["python", "raspberry-pi", "iot", "modbus", "pymodbus"],
        "is_answered": true,
        "view_count": 232,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1541420476,
        "creation_date": 1541418462,
        "question_id": 53153806,
        "link": "https://stackoverflow.com/questions/53153806/pymodbus-listen-for-input-change-on-plc-device",
        "title": "Pymodbus \u2013 Listen for input change on PLC device",
        "body": "<p>I am programming a PLC device (Moxa ioLogik E1214) and have connected the DI ports to buttons, and the coils are connected to LED lights. The idea is that when you press a button, the LED should light up. </p>\n\n<p>I have gotten the program to work if you hold down the button until the read input function executes. The problem is that I'd like to set a time frame (X seconds) and if the button is pressed (and not held down) within this timeframe the light should toggle. </p>\n\n<p>The code is below: </p>\n\n<pre><code>import time\nimport logging\nlogging.basicConfig()\nlog = logging.getLogger()\nlog.setLevel(logging.DEBUG)\n\nfrom pprint import pprint\nfrom pymodbus.client.sync import ModbusTcpClient as ModbusClient\n\nmoxaA = ModbusClient('XX.XX.XX.XX', port=502)\n\nprint \"Press a button now\"\n\ntime.sleep(2)\nresult = moxaA.read_input_registers(0x30, 1)\nif result:\n    pressedBtn = result.registers[0]\n    if pressedBtn == 1:\n        moxaA.write_coil(0, 1)\n    else: \n        moxaA.write_coil(0, 0)\n</code></pre>\n\n<p>As you can see I've set a timeout for the reading of the input registers. But how can I \"listen\" for an input change within these seconds, and not have to hold the button down until the read input registers function executes?</p>\n\n<p>Thanks in advance</p>\n"
    }, {
        "tags": ["azure", "azure-functions", "raspberry-pi3", "iot"],
        "is_answered": false,
        "view_count": 57,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1540382534,
        "creation_date": 1540381777,
        "last_edit_date": 1540382534,
        "question_id": 52968258,
        "link": "https://stackoverflow.com/questions/52968258/why-raspberry-pi3-randomly-receives-cloud-to-device-messages-from-azure-iot-func",
        "title": "Why Raspberry Pi3 randomly receives cloud to device messages from Azure IoT Function",
        "body": "<p>I built the azure-iot-sdk-c on Raspberry Pi3 Model B, and created an Azure Function on the cloud, I am trying with the two IoT client sample codes provided in the SDK, i.e. iothub_ll_telemetry_sample and the iothub_ll_c2d_sample, to complete a message loop from Pi3 (device) to cloud and back from cloud to Pi3(device). The iothub_ll_telemetry_sample sends message up to cloud from Pi3 successfully, but the iothub_ll_c2d_sample shows random receiving or no receiving of \"hello world\" messages.</p>\n\n<p>The Azure Function in C# or Javascript follows the tutorial examples, which I assume no problem.</p>\n\n<p>I am just wondering if I missing something here, or not doing it correctly.</p>\n"
    }, {
        "tags": ["raspberry-pi3", "iot", "azure-iot-hub", "windows-10-iot-core"],
        "is_answered": false,
        "view_count": 67,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1540173624,
        "creation_date": 1539955304,
        "last_edit_date": 1539964126,
        "question_id": 52893222,
        "link": "https://stackoverflow.com/questions/52893222/issue-in-data-transfer-between-iot-hub-and-raspberry-pi-3",
        "title": "Issue in Data Transfer between IOT Hub and Raspberry pi 3",
        "body": "<p>First of all hi to all as it is my first question on stack overflow.\nPardon me if you find alot of mistakes in my question asking format.\nI am trying to make follwoing Project \n<a href=\"https://www.hackster.io/wearemakers/get-me-there-bus-intelligent-transportation-system-bits-9a06c1\" rel=\"nofollow noreferrer\">https://www.hackster.io/wearemakers/get-me-there-bus-intelligent-transportation-system-bits-9a06c1</a></p>\n\n<p>for my school project but as mentioned in project after receiving data from sensors  on IOT Hub of Azure tables will be created automatically but there is no table created and even i don't know how to check data is received on IOT Hub or not\nHere is pic of step where i have encountered problem.\n<img src=\"https://i.stack.imgur.com/Lfv3e.png\" alt=\"Problem Image\"></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-stream-analytics"],
        "is_answered": false,
        "view_count": 91,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1539172796,
        "creation_date": 1539172796,
        "question_id": 52739772,
        "link": "https://stackoverflow.com/questions/52739772/iot-hub-service-fetches-old-data-when-started",
        "title": "Iot hub service fetches old data when started",
        "body": "<p>I am sending data from simulated client to iot hub. Initially iot hub receives the data very well. But now whenever iot hub starts It first fetch old data every time (and its same every time) and then starts receiving the new data if it is being sent by simulated device.</p>\n\n<p>My application structure is like</p>\n\n<p><code><strong>Iot device</strong> -------> <strong>Iot hub</strong> --------> <strong>Stream Analytics</strong> ---------> <strong>Event hub</strong> ----Triggers Function----> <strong>Azure Function</strong></code></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 29,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1539118862,
        "creation_date": 1539002761,
        "question_id": 52702656,
        "link": "https://stackoverflow.com/questions/52702656/task-execution-in-microsoft-azure",
        "title": "Task execution in Microsoft Azure",
        "body": "<p>I am new to Microsoft azure. Is azure function  app sufficient to write application logic for Desktop appllication and IOT devices or is there any other way to write logic and perform task execution in azure. </p>\n"
    }, {
        "tags": ["azure", "events", "iot", "epoch", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1169,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1539118224,
        "creation_date": 1484734869,
        "last_edit_date": 1539118224,
        "question_id": 41716760,
        "link": "https://stackoverflow.com/questions/41716760/multiple-receivers-to-azure-iot-hub-how-to-set-epoch-value-of-an-azure-function",
        "title": "Multiple receivers to Azure IoT Hub, How to set Epoch Value of an Azure Function?",
        "body": "<p>I've got an IoT Hub in <strong>Azure</strong> that I send messages to from my Raspberry Pi. \nA Web Application and an Azure function receives these messages, and it works great while doing it one by one.</p>\n\n<p><strong>The problem</strong> is that when I try to receive messages with the Web Application and the Azure function at the same time, I get an exception in the Web Application that says that the Epoch Value of another receiver is 12. The other receiver in this case is my Azure Function. </p>\n\n<p>I followed this <a href=\"https://blogs.msdn.microsoft.com/gyan/2014/09/02/event-hubs-receiver-epoch/\" rel=\"nofollow noreferrer\">link</a> and as I understood I will have to set the Epoch value of my Azure Function to 0, to enable multiple receivers from the same IoT Hub. </p>\n\n<p>My question is how do I set the Epoch value of an <strong>Azure Function Event Hub Trigger</strong>? Or is there any other solution to this?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 787,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1537793755,
        "creation_date": 1537304303,
        "question_id": 52394503,
        "link": "https://stackoverflow.com/questions/52394503/sending-messages-from-leaf-device-downstream-device-not-being-handled-by-iot-edg",
        "title": "Sending Messages from Leaf Device Downstream device not being handled by IoT Edge running at Transparent Gateway",
        "body": "<p>I have followed all the instruction for setting up a \"Downstream Device\" to send messages through IoT Edge running in Transparent Gateway.  I believe my routing rules are correct, but my Function module is not receiving any of the Messages through the message flow.</p>\n\n<p>These are the instruction I've followed:\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/how-to-create-transparent-gateway-linux\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/how-to-create-transparent-gateway-linux</a></p>\n\n<p>I am using 2 Linxu VMs (ubuntu 16.04.5).  </p>\n\n<ol>\n<li>IoT Edge Transparent Gateway VM is configured with all the certs properly setup, configured and verified.  I've been able to using the openssl tool from the </li>\n</ol>\n\n<p>openssl s_client -connect {my-gateway-machine-name-dns-name}.centralus.cloudapp.azure.com:8883 -CAfile /certs/certs/azure-iot-test-only.root.ca.cert.pem -showcerts</p>\n\n<ol start=\"2\">\n<li><p>Downstream device running on Linux VM with Certs installed and verified.  My connection string is as follows:</p>\n\n<p>HostName={IoTHubName}.azure-devices.net;DeviceId=TC51_EdgeDownStreamDevice01;SharedAccessKey={My-Shared-Access-Key}=GatewayHostName={my-gateway-machine-name-dns-name}.centralus.cloudapp.azure.com</p></li>\n</ol>\n\n<p>a. I have verified I get a successful verification of the SSL cert using the openssl tool.\nb. I'm using the the following in my downstream device for my connection using the NodeJS SDK</p>\n\n<p>var client = DeviceClient.fromConnectionString(connectionString, Mqtt);\nc.  I can see the messages showing up at the Azure IoT Hub in the Cloud, but I can't get my module running on the IoT Edge Transparent Gateway to be hit.</p>\n\n<ol start=\"3\">\n<li>Here are my routing rules configured for the edgeHub as specified in \"Routing messages from downstream devices\" in the sample doc page.</li>\n</ol>\n\n<p>This is what the example docs show:\n{ \"routes\":{ \"sensorToAIInsightsInput1\":\"FROM /messages/* WHERE NOT IS_DEFINED($connectionModuleId) INTO BrokeredEndpoint(\\\"/modules/ai_insights/inputs/input1\\\")\", \"AIInsightsToIoTHub\":\"FROM /messages/modules/ai_insights/outputs/output1 INTO $upstream\" } }</p>\n\n<p>This is what my routing configuration is set to:\n        \"routes\": {\n          \"downstreamBatterySensorToBatteryDataFunctionInput1\": \"FROM /* WHERE NOT IS_DEFINED($connectionModuleId) INTO BrokeredEndpoint(\\\"/modules/BatteryDataFunctionModule/inputs/input1\\\")\",\n          \"BatteryDataFunctionModuleToIoTHub\": \"FROM /messages/modules/BatteryDataFunctionModule/outputs/* INTO $upstream\"\n        }</p>\n\n<p>** Note that I've used by \"FROM /* WHERE NOT IS_DEFINED\"  and \"FROM /messages/* WHERE NOT IS_DEFINED\"</p>\n\n<ol start=\"4\">\n<li>My module on the IoT Edge is setup as a Function.  When I use the out of the box example where the simulator device is another module running on the IoT Edge, then my function is hit correctly.  Its only when I'm trying to use a \"Downstream Device\" that the module is not being triggered.</li>\n</ol>\n\n<p>I have enabled \"Debug Logging for the IoT Edge Service\" running on my Transparent Gateway.  </p>\n\n<pre><code>This is the basic Run method for the Function module:\n\n#r \"Microsoft.Azure.Devices.Client\"\n#r \"Newtonsoft.Json\"\n\nusing System.IO;\nusing Microsoft.Azure.Devices.Client;\nusing Newtonsoft.Json;\nusing Newtonsoft.Json.Linq;\n\n// Filter messages based on the temperature value in the body of the     message and the temperature threshold value.\npublic static async Task Run(Message messageReceived, IAsyncCollector&lt;Message&gt; output, TraceWriter log)\n{\n</code></pre>\n\n<p>How can I figure out how to get my Module running in IoT Edge to be hit/triggered from a Downstream device?</p>\n"
    }, {
        "tags": ["node.js", "raspberry-pi", "raspberry-pi3", "iot", "node-serialport"],
        "is_answered": true,
        "view_count": 1767,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1536993412,
        "creation_date": 1533300177,
        "last_edit_date": 1533308755,
        "question_id": 51672944,
        "link": "https://stackoverflow.com/questions/51672944/error-installing-node-serialport-on-raspberry-pi-3-model-b",
        "title": "ERROR! Installing node serialPort On raspberry Pi 3 model b",
        "body": "<p>I am doing an IoT project with raspberry Pi and <code>arduino.in</code> this case I need to work with both <code>WebSocket</code> and <code>SerialPort</code> modules. because those modules are required to communicate with Samsung Artik. but the problem is when I am trying to install <code>serialPort</code> it is getting following error continuously. I looked for all the GitHub forums for the solutions and they were not working. Does anyone get a solution for this? Thanks in advance. refer the error log for node versions and other details.</p>\n\n<pre><code>pi@raspberrypi:~ $ sudo -i\n\nSSH is enabled and the default password for the 'pi' user has not been changed.\nThis is a security risk - please login as the 'pi' user and type 'passwd' to set                                                                                         a new password.\n\nroot@raspberrypi:~# sudo npm install -g --unsafe-perm serialport\n(node:1740) [DEP0022] DeprecationWarning: os.tmpDir() is deprecated. Use os.tmpd                                                                                        ir() instead.\nnpm ERR! Error: Method Not Allowed\nnpm ERR!     at errorResponse (/usr/share/npm/lib/cache/add-named.js:260:10)\nnpm ERR!     at /usr/share/npm/lib/cache/add-named.js:203:12\nnpm ERR!     at saved (/usr/share/npm/node_modules/npm-registry-client/lib/get.j                                                                                        s:167:7)\nnpm ERR!     at FSReqWrap.oncomplete (fs.js:135:15)\nnpm ERR! If you need help, you may report this *entire* log,\nnpm ERR! including the npm and node versions, at:\nnpm ERR!     &lt;http://github.com/npm/npm/issues&gt;\n\nnpm ERR! System Linux 4.14.50-v7+\nnpm ERR! command \"/usr/bin/node\" \"/usr/bin/npm\" \"install\" \"-g\" \"--unsafe-perm\" \"                                                                                        serialport\"\nnpm ERR! cwd /root\nnpm ERR! node -v v8.11.1\nnpm ERR! npm -v 1.4.21\nnpm ERR! code E405\nnpm ERR!\nnpm ERR! Additional logging details can be found in:\nnpm ERR!     /root/npm-debug.log\nnpm ERR! not ok code 0\nroot@raspberrypi:~# ^C\nroot@raspberrypi:~#\n</code></pre>\n\n<p><strong>Screenshot of error:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/xFbPw.jpg\" alt=\"Screenshot of error log\"></p>\n\n<p>raspberry pi 3 model B board has latest RASPBIAN OS.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": true,
        "view_count": 789,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1536159852,
        "creation_date": 1513557830,
        "last_edit_date": 1536159852,
        "question_id": 47860846,
        "link": "https://stackoverflow.com/questions/47860846/iot-edge-gateway-with-downstream-device",
        "title": "IoT Edge Gateway with downstream device",
        "body": "<p>I have created an Azure IoT edge gateway running in Docker with a custom module that is just a pass through (takes the message and sends it upstream).</p>\n\n<p>I created a simple .net console application to send a message to the gateway so that it can be evaluated.</p>\n\n<p>This is the code that I have in the console app.</p>\n\n<pre><code>DeviceClient client =\n            DeviceClient.CreateFromConnectionString(\"HostName=&lt;my iot hub in azure&gt;.azure-devices.net;DeviceId=&lt;the name of the device&gt;;SharedAccessKey=&lt;my access key&gt;;GatewayHostName=&lt;the name of the IoT Edge Device&gt;\");\n\nMessage message = new Message();\n\nmessage.Properties.Add(\"testproperty\", \"test\");\n\nclient.SendEventAsync(message).Wait();\n</code></pre>\n\n<p>It appears that when the SendEventAsync method is called that it will hang forerver. I waited 5 minutes and the app is stuck waiting. If I remove the GatewayHostName from the connection string it executes immediately and my message is sent directly to the IoT Hub in Azure.</p>\n\n<p>Why will it not send the message to the IoT Edge gateway?</p>\n"
    }, {
        "tags": ["angularjs", "iot", "node-red"],
        "is_answered": true,
        "view_count": 976,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1535981760,
        "creation_date": 1535896266,
        "question_id": 52137664,
        "link": "https://stackoverflow.com/questions/52137664/how-to-pass-message-from-angular-template-node-in-node-red",
        "title": "How to pass message from angular template node in node red",
        "body": "<p>I'm trying to pass input textbox value by clicking on button</p>\n\n<pre><code>&lt;script&gt;\n\nvar h = this.scope.myHot;\n//var c = {{cold}};\nvar value = h;\n// or overwrite value in your callback function ...\nthis.scope.action = function() { return value; }\n\n&lt;/script&gt;\n&lt;p&gt;Hot: &lt;input type=\"text\" ng-model=\"hot\" ng-value=\"myHot\"&gt;&lt;/p&gt;\n&lt;p&gt;Cold: &lt;input type=\"text\" ng-model=\"cold\"&gt;&lt;/p&gt;\n&lt;md-button ng-click=\"send({payload:action()})\"&gt;\n    Click me\n&lt;/md-button&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jB4tj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jB4tj.png\" alt=\"the message is always undefined\"></a></p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "3g", "obd-ii"],
        "is_answered": false,
        "view_count": 215,
        "favorite_count": 2,
        "score": 2,
        "last_activity_date": 1535558072,
        "creation_date": 1535548670,
        "question_id": 52078434,
        "link": "https://stackoverflow.com/questions/52078434/connect-3g-obd-ii-to-azure-iot-hub",
        "title": "Connect 3g obd II to azure iot hub",
        "body": "<p>I am new to azure iot and I am trying to connect a 3g obd 2 tracker to my account azure iot hub. I found an example to connect the obd to local gateway (phone) via bluetooth or wifi but I want the tracker to be completely independant from any local gateway.\nIs there a tutorial or documentation to help me getting starting with connecting 3g teacker to azure iot</p>\n"
    }, {
        "tags": ["azure", ".net-core", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1376,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1535493752,
        "creation_date": 1535379232,
        "question_id": 52041271,
        "link": "https://stackoverflow.com/questions/52041271/devices-reconnect-to-azure-iot-hub-every-65-minutes",
        "title": "Devices reconnect to Azure IoT Hub every 65 minutes",
        "body": "<p>We have devices connected to <strong>IoT Hub via MQTT</strong> (default settings) and they all keep reconnecting precisely every <strong>65 minutes</strong> (to the millisecond).</p>\n\n<p>Device app details:</p>\n\n<ul>\n<li>.net Core 2.1</li>\n<li>Libraries: \n\n<ul>\n<li><code>Microsoft.Azure.Devices v1.17.0</code></li>\n<li><code>Microsoft.Azure.Devices.Client v1.18.0</code></li>\n</ul></li>\n<li>Connection Type: MQTT</li>\n<li>OS: Windows 10 IoT Enterprise (Dell Industrial PC), Raspbian (Raspberry PI 3) and Windows IoT Core (Raspberry PI 3) - All behave the same.</li>\n</ul>\n\n<p>We are using the <strong>free version/tier of IoT Hub</strong>.</p>\n\n<p>When the reconnection occurs:</p>\n\n<ul>\n<li><code>DeviceClient StatusChangesHandler</code> reports ConnectionStatus: <code>Disconnected_Retrying</code> and Reason: <code>No_Network</code></li>\n<li>IoT Hub Diagnostics reports \n\n<ol>\n<li><code>deviceDisconnect</code> => <code>404104 DeviceConnectionClosedRemotely</code></li>\n<li><code>deviceConnect</code> => <code>401003 IoTHubUnauthorized</code></li>\n<li><code>deviceConnect</code> => No error, <strong>successful</strong></li>\n</ol></li>\n<li><code>DeviceClient StatusChangesHandler</code> reports ConnectionStatus: <code>Connected</code> and Reason: <code>Connection_Ok</code></li>\n</ul>\n\n<p>This is not a highly critical issue for our operation since at this stage it is a PoC and each reconnect takes about 2 seconds but, we'd like to know the root cause of this behaviour before we go live.</p>\n"
    }, {
        "tags": ["arduino", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 1227,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1535013835,
        "creation_date": 1534950446,
        "question_id": 51969871,
        "link": "https://stackoverflow.com/questions/51969871/what-is-the-use-of-callback-in-mqtt",
        "title": "What is the use of callback in MQTT?",
        "body": "<p>I am trying to implement a weather monitoring system using Arduino and MQTT protocol. While trying to understand the code behind this, I have come across a function:</p>\n\n<pre><code>void callback(char* topic, byte* payload, unsigned int length) {\n}\n</code></pre>\n\n<p>So, my question is, what exactly is this function used for in MQTT? If someone explains to me or links a tutorial that will be useful. Thanks in advance! </p>\n"
    }, {
        "tags": ["macos", "docker", "virtualbox", "iot", "docker-machine"],
        "is_answered": false,
        "view_count": 39,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1534733478,
        "creation_date": 1534733478,
        "question_id": 51923592,
        "link": "https://stackoverflow.com/questions/51923592/how-to-share-docker-for-mac-images-with-ones-in-docker-machine",
        "title": "How to share Docker for Mac images with ones in docker-machine?",
        "body": "<p>So I am on a mac and I need USB forwarded into docker image. Thus I spin up <code>docker-machine</code> on <code>virtualbox</code> with usb forwarding. The only thing is that it does not see my docker images from Docker for Mac and I really would like to share them. How to do such thing?</p>\n"
    }, {
        "tags": ["docker", "iot", "azure-iot-hub", "azure-iot-edge"],
        "is_answered": false,
        "view_count": 417,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1533927155,
        "creation_date": 1533825180,
        "last_edit_date": 1533927155,
        "question_id": 51769717,
        "link": "https://stackoverflow.com/questions/51769717/not-able-to-deploy-python-program-from-azure-iot-edge-to-rasberry-pi",
        "title": "Not able to deploy Python program from Azure IOT Edge to Rasberry Pi",
        "body": "<p>I installed the IOT Edge runtime using below link:<br>\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/how-to-install-iot-edge-linux-arm\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/how-to-install-iot-edge-linux-arm</a></p>\n\n<p>I am following the below tutorial to deploy a docker image to IOT Edge (Rasberry Pi):<br>\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/quickstart-linux\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/quickstart-linux</a> <br>\nand able to deploy the tempSensor image to my Rasberry Pi </p>\n\n<p>I decided to deploy my own program \"blink.py\". \n<br>I created the program and its working fine in the local Rasberry Pi using below command: <br></p>\n\n<pre><code>$docker container run --device /dev/gpiomem -d blink\n</code></pre>\n\n<p>I followed the below steps to deploy my own program from Azure IOT Edge portal:\n<br>1.) Create a docker image using Dockerfile:</p>\n\n<pre><code>FROM arm32v7/python:2.7.15-stretch\nCOPY blink.py\nCMD [\"python\",\"./blink.py\"]\n</code></pre>\n\n<p>then ran the command:</p>\n\n<pre><code>$docker build -t \"blink\" ./\n</code></pre>\n\n<p>2.) Now i pushed the image to Azure container Registry. Followed below steps:</p>\n\n<p>a.) Login to Azure container registry</p>\n\n<pre><code>$docker login blink.azurecr.io\n</code></pre>\n\n<p>b.) Push to Azure container registry</p>\n\n<pre><code>$docker tag blink link.azurecr.io/blink\n$docker push blink.azurecr.io/blink\n</code></pre>\n\n<p>3.) Deploy image in Azure container registry to IOT Edge device using below link:\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/quickstart-linux#deploy-a-module\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/quickstart-linux#deploy-a-module</a>\n<br><br></p>\n\n<p>I see a container image created in the Raspberry Pi as \"blink.azurecr.io/blink\"\n<BR>\nI see that IOTEdge runtime tried to deploy this image as container but it failed.\n<br>When i try to see the logs using command</p>\n\n<pre><code>&gt;docker logs blink\n</code></pre>\n\n<p><br>It shows an error:\n<br>  </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./blink.py\", line 6, in &lt;module&gt;\n    GPIO.setup(4,GPIO.OUT) \nRuntimeError: No access to /dev/mem. Try running as root!\n</code></pre>\n\n<p><br><br>\nSeems like some access issue but not sure how to solve it?\nDo i need to put anything in the createOptions while deploying the edge module from azure portal ?</p>\n\n<p>-Sandy</p>\n"
    }, {
        "tags": ["azure", "azure-storage", "iot", "azure-iot-hub", "azure-iot-sdk"],
        "is_answered": true,
        "view_count": 107,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1533075950,
        "creation_date": 1533068792,
        "question_id": 51621557,
        "link": "https://stackoverflow.com/questions/51621557/azure-iot-upload-file-to-blob",
        "title": "Azure IoT Upload File to Blob",
        "body": "<p>Does the upload file to blob feature of the azure-iot-sdk-c currently implement any integrity  checks such as an md5 hash of the blob contents? I am aware of the c-sharp sdk doing this, but I  need confirmation on the c sdk.</p>\n"
    }, {
        "tags": [".net", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 385,
        "favorite_count": 0,
        "closed_date": 1532095966,
        "score": 1,
        "last_activity_date": 1532090907,
        "creation_date": 1532071934,
        "last_edit_date": 1532075228,
        "question_id": 51437354,
        "link": "https://stackoverflow.com/questions/51437354/create-azure-iot-hub-devices",
        "title": "Create Azure IoT Hub devices",
        "body": "<p>Is it possible to create new devices on Azure IoT Hub programatically with .NET? With all tutorial on microsoft.docs the devices are created via Azure Portal or Azure CLI. </p>\n\n<p>Could you kindly provide some interesting links if you have? Thank you in advance.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "arduino-esp8266"],
        "is_answered": true,
        "view_count": 514,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1530795415,
        "creation_date": 1486478271,
        "last_edit_date": 1486646060,
        "question_id": 42092562,
        "link": "https://stackoverflow.com/questions/42092562/azure-esp8266-iot-client-library-not-working-with-esp8266-web-server",
        "title": "Azure ESP8266 IoT Client Library not working with ESP8266 Web Server",
        "body": "<p>We are implementing an IoT telemetry solution using Azure IoT Hub.  By using the project <a href=\"https://github.com/Azure-Samples/iot-hub-c-thingdev-getstartedkit\" rel=\"nofollow noreferrer\">here</a> we were able to implement a successful basic solution on an <a href=\"https://www.sparkfun.com/products/13678\" rel=\"nofollow noreferrer\">ESP8266</a>.  However we would like the ESP to work also as a Web server on the local WiFi network, mainly for initial configuration purposes.</p>\n\n<p>If we add to the aforementioned project this line: </p>\n\n<pre><code>#include &lt;ESP8266WebServer.h&gt;    \nESP8266WebServer server(80);\n</code></pre>\n\n<p>the project compile but we keep getting \"core dumps\" on the ESP and the device stops working.</p>\n\n<blockquote>\n  <p>Fatal exception 29(StoreProhibitedCause): epc1=0x4000e1b2,\n  epc2=0x00000000, epc3=0x00000000, excvaddr=0x00000004, depc=0x00000000</p>\n  \n  <p>Exception (29): epc1=0x4000e1b2 epc2=0x00000000 epc3=0x00000000\n  excvaddr=0x00000004 depc=0x00000000</p>\n  \n  <p>ctx: cont  sp: 3fff4700  Soft WDT reset</p>\n  \n  <p>ctx: cont  sp: 3fff4460 end: 3fff4ce0 offset: 01b0</p>\n  \n  <blockquote>\n    <blockquote>\n      <blockquote>\n        <p>stack>>> 3fff4610:  40001da0 00000078 00000000 00000010   3fff4620:  40001f46 0000000d 66089700 263a390c   3fff4630:  66666633 30303734\n        88fd4100 5da4cdaf   3fff4640:  2395829e 2c6ea747 4f2f4c52 72696e6d<br>\n        3fff4650:  00000000 2e353230 306c7263 5503061d   3fff4660:  00000000\n        3fff4740 3fff4740 3fffa878   3fff4670:  00000000 3fff46e0 3fff46e0\n        3ffec9ba   3fff4680:  40002514 3fffdd3c 3fff4ce0 3fff4700   3fff4690: \n        00000000 00000008 00000008 00000001   3fff46a0:  00000000 3fff4700\n        00000000 3fff4638</p>\n      </blockquote>\n    </blockquote>\n  </blockquote>\n</blockquote>\n\n<p>\u00bf Does anyone experienced this problem and found a way to fix it ?</p>\n"
    }, {
        "tags": ["iot", "hana", "streaming-analytics"],
        "is_answered": false,
        "view_count": 53,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1530113360,
        "creation_date": 1530111650,
        "question_id": 51066016,
        "link": "https://stackoverflow.com/questions/51066016/sample-data-streaming-analytics",
        "title": "Sample data - Streaming Analytics",
        "body": "<p>I want to do small POC or project on HANA Streaming Analytics.</p>\n\n<p>Can anyone please suggest me where I can get sample data to proceed or begin with?</p>\n\n<p>Regards ,</p>\n\n<p>Vinaya</p>\n"
    }, {
        "tags": ["raspberry-pi", "communication", "iot", "azure-iot-hub", "philips-hue"],
        "is_answered": false,
        "view_count": 377,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1529974451,
        "creation_date": 1529940488,
        "last_edit_date": 1529974451,
        "question_id": 51027038,
        "link": "https://stackoverflow.com/questions/51027038/azure-iot-hub-connecting-two-devices-and-make-them-communicate",
        "title": "Azure IoT Hub, connecting two devices and make them communicate",
        "body": "<p>i am new to IoT and Azure but at the moment i want to connect a raspberry pi and the philips hue bulb to the IoT Hub. I already did this and i can communicate between the raspberry pi and the IoT Hub. I can send messages and store them in a Storage container.\nBut the biggest problem for me is to make the two devices communicate. My goal is that i send a message from the pi to the hub with a certain word, for example 'blue' and then the bulb changes its colour to blue. What is the best way to this? I really dont know how to proceed.</p>\n\n<p>Help and advice would really be appreciated.</p>\n\n<p>Greetings, Julian</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot", "node-red", "watson-iot"],
        "is_answered": true,
        "view_count": 282,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1529474303,
        "creation_date": 1529289435,
        "last_edit_date": 1529474303,
        "question_id": 50902073,
        "link": "https://stackoverflow.com/questions/50902073/connect-raspberry-pi-3-to-the-ibm-cloud-using-node-red",
        "title": "Connect Raspberry Pi 3 to the IBM Cloud using Node-RED",
        "body": "<p>I referenced the [Configure a Raspberry Pi and connect it to Watson IoT Platform]</p>\n\n<p>In that, I am using Node-RED of Raspberry Pi 3 and send the data to IBM Cloud.</p>\n\n<p>I use the Function Node for transform to Watson IoT Format,\nSo, I write the code in function node.</p>\n\n<pre><code>msg.payload={'d':{'temp':msg.payload.replace(\"temp=\",\"\").replace(\"'C\\n\",\"\")}}\n</code></pre>\n\n<p>However, it has the result that represent <code>{d:obeject}</code>\nI want to represent <code>{\"d\":{\"temp\":\"45.5\"}}</code></p>\n\n<p>Did I miss something?</p>\n\n<p>I attached image file.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mw1pL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mw1pL.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["node.js", "mqtt", "iot", "aws-iot", "mosca"],
        "is_answered": false,
        "view_count": 157,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1529110485,
        "creation_date": 1529110485,
        "question_id": 50884176,
        "link": "https://stackoverflow.com/questions/50884176/how-to-broadcast-same-messages-to-multiple-interfaces-in-mosca",
        "title": "How to broadcast same messages to multiple interfaces in Mosca",
        "body": "<p>I have 2 interfaces, one mqtt and one for websocket. I noticed if I have a backend, the mqtt does not route to websocket.</p>\n\n<p>I created the mosca server as below:</p>\n\n<pre><code>server = new mosca.Server(\n  {\n    interfaces: \n    [\n      { type: \"mqtt\", port: 1883 },\n      {\n        type: \"mqtts\",\n        port: 8443,\n        credentials: { keyPath: SECURE_KEY, certPath: SECURE_CERT }\n      },\n      { type: \"http\", port: 4000, bundle: true }\n    ],\n    onQoS2publish: \"noack\", \n    logger: { name: 'MoscaServer', level: 'debug' },\n    backend: {\n      type: \"mqtt\",\n      json: false,\n      mqtt: require(\"mqtt\"),\n      key: filesys.readFileSync(__dirname + \"/certs/private.key\"),\n      cert: filesys.readFileSync(__dirname + \"/certs/cert.pem\"),\n      ca: filesys.readFileSync(__dirname + \"/certs/rootCA.cer\"),\n      clientId: \"randomClientId\",\n      port: 8883,\n      host: \"&lt;aws IOT endpoint&gt;.iot.&lt;aws region&gt;.amazonaws.com\",\n      rejectUnauthorized: false,\n      protocol: \"mqtts\"\n    },\n  }\n);\n</code></pre>\n\n<p>What do I need to do to route between all the 3: mqtt, websocket and the backend?</p>\n\n<p>Thanks!</p>\n"
    }, {
        "tags": ["c#", "rabbitmq", "amqp", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1664,
        "favorite_count": 1,
        "score": 3,
        "last_activity_date": 1528960914,
        "creation_date": 1496929268,
        "last_edit_date": 1496929968,
        "question_id": 44437364,
        "link": "https://stackoverflow.com/questions/44437364/rabbitmq-to-azure-iot-hub",
        "title": "RabbitMQ to Azure IoT-Hub?",
        "body": "<p>Currently we want to access our Azure IoT-Hub using RabbitMQ. We know that there are other options and already tested a few, but this project is to test if it is possible and suitable for us.</p>\n\n<pre><code>using RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n</code></pre>\n\n<p>Our Code looks somewhat like this:</p>\n\n<pre><code>var factory = new ConnectionFactory();\nfactory.HostName = $\"{IOT_HUB_NAME}.azure-devices.net\";\n\n// This fails with the message: 'None of the specified endpoints were reachable.'\nusing (var connection = factory.CreateConnection())\n{\n    // ...\n}\n</code></pre>\n\n<p>The endpoint the factory wants to connect to is:\n<code>amqp://&lt;IoT-Hub Name&gt;.azure-devices.net:5672</code></p>\n\n<p>Our IT-Department already checked our filewall: it is not blocking this connection.</p>\n\n<p>A quick check using telnet results in a connection error:</p>\n\n<pre><code>telnet &lt;IoT-Hub Name&gt;.azure-devices.net 5672\n</code></pre>\n\n<p>However, the port 5671 (another port required by AMQP) is available.</p>\n\n<p>I already tried setting the <code>factory.Port = 5671</code> with no success. Another check using the Microsoft Azure IoT SDK reveiled that it is indeed possible to connect to the IoT-Hub.</p>\n\n<p>This leads me to the assumption that I either miss an important configuration or it might not be possible to connect to Azure IoT-Hubs with RabbitMQ.</p>\n"
    }, {
        "tags": ["azure", "iot", "iot-devkit"],
        "is_answered": false,
        "view_count": 132,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1528874670,
        "creation_date": 1528787274,
        "last_edit_date": 1528787922,
        "question_id": 50811178,
        "link": "https://stackoverflow.com/questions/50811178/change-record-time-for-iot-devkit-az3166-language-translator-example",
        "title": "Change record time for IoT DevKit AZ3166 language translator example",
        "body": "<p>I am following the guide <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-arduino-iot-devkit-az3166-translator\" rel=\"nofollow noreferrer\">IoT DevKit AZ3166</a> to make a translator using the MxChip.</p>\n\n<p>I was able to follow most of the steps at ease but was wondering <strong>How I can increase the recording time for the translation ?</strong> - this is such that it can translate phrases that are a bit longer.</p>\n\n<p>Thank you.</p>\n"
    }, {
        "tags": ["azure", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 306,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1528687232,
        "creation_date": 1528480047,
        "question_id": 50766002,
        "link": "https://stackoverflow.com/questions/50766002/raspberry-pi-3-b-setup-issue-error-tlsv1-method-is-deprecated",
        "title": "Raspberry Pi 3 B+ Setup Issue: &quot;error: \u2018TLSv1_method\u2019 is deprecated&quot;",
        "body": "<p>I am setting up a Raspberry Pi 3 B+ and connecting it to an IoT hub on Azure by following the instructions in the manual below:</p>\n\n<p><a href=\"https://azure.microsoft.com/en-us/resources/samples/iot-hub-c-raspberrypi-getstartedkit/\" rel=\"nofollow noreferrer\">https://azure.microsoft.com/en-us/resources/samples/iot-hub-c-raspberrypi-getstartedkit/</a></p>\n\n<p>After attempting to build the updated sample solution in step 1.6, the Raspberry Pi's terminal displays this (as the build fails to complete):</p>\n\n<pre><code>    [ 59%] Building C object azure-iot-sdks/c/azure-c-shared-utility/CMakeFiles/aziotsharedutil.dir/src/x509_openssl.c.o\n    /home/pi/iot-hub-c-raspberrypi-getstartedkit/azure-iot-sdks/c/azure-c-shared-utility/src/tlsio_openssl.c: In function \u2018create_openssl_instance\u2019:\n    /home/pi/iot-hub-c-raspberrypi-getstartedkit/azure-iot-sdks/c/azure-c-shared-utility/src/tlsio_openssl.c:713:5: error: \u2018TLSv1_method\u2019 is deprecated [-Werror=deprecated-declarations]\n    tlsInstance-&gt;ssl_context = SSL_CTX_new(TLSv1_method());\n    ^~~~~~~~~~~\n    In file included from /usr/include/openssl/ct.h:13:0,\n             from /usr/include/openssl/ssl.h:61,\n             from /home/pi/iot-hub-c-raspberrypi-getstartedkit/azure-iot-sdks/c/azure-c-shared-utility/src/tlsio_openssl.c:9:\n    /usr/include/openssl/ssl.h:1612:1: note: declared here\n    DEPRECATEDIN_1_1_0(__owur const SSL_METHOD *TLSv1_method(void)) /* \n    TLSv1.0 */\n    ^\n    cc1: all warnings being treated as errors\n    azure-iot-sdks/c/azure-c-shared-\n    utility/CMakeFiles/aziotsharedutil.dir/build.make:950: recipe for target 'azure-iot-sdks/c/azure-c-shared-\n    utility/CMakeFiles/aziotsharedutil.dir/src/tlsio_openssl.c.o' failed\n    make[2]: *** [azure-iot-sdks/c/azure-c-shared-\n    utility/CMakeFiles/aziotsharedutil.dir/src/tlsio_openssl.c.o] Error 1\n    make[2]: *** Waiting for unfinished jobs....\n    [ 60%] Building C object azure-iot-sdks/c/iothub_service_client/CMakeFiles/iothub_service_client.dir/src/iothub_registrymanager.c.o\n    [ 61%] Building C object azure-iot-sdks/c/iothub_service_client/CMakeFiles/iothub_service_client.dir/src/iothub_messaging_ll.c.o\n    CMakeFiles/Makefile2:1042: recipe for target 'azure-iot-sdks/c/azure-\n    c-shared-utility/CMakeFiles/aziotsharedutil.dir/all' failed\n    make[1]: *** [azure-iot-sdks/c/azure-c-shared-\n    utility/CMakeFiles/aziotsharedutil.dir/all] Error 2\n    make[1]: *** Waiting for unfinished jobs....\n    [ 62%] Building C object azure-iot-sdks/c/iothub_service_client/CMakeFiles/iothub_service_client.dir/src/iothub_service_client_auth.c.o\n    [ 62%] Building C object azure-iot-sdks/c/iothub_service_client/CMakeFiles/iothub_service_client.dir/__/iothub_client/src/iothub_message.c.o\n    [ 63%] Linking C static library libiothub_service_client.a\n    [ 63%] Built target iothub_service_client\n    Makefile:127: recipe for target 'all' failed\n    make: *** [all] Error 2\n</code></pre>\n\n<p>I am unable to get past this error. Any help would be greatly appreciated. Thanks.</p>\n"
    }, {
        "tags": ["azure", "arduino", "iot", "devkit"],
        "is_answered": true,
        "view_count": 142,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1528232869,
        "creation_date": 1528227702,
        "question_id": 50707784,
        "link": "https://stackoverflow.com/questions/50707784/iot-devkit-setup-issue-what-should-i-select-for-board-type",
        "title": "IoT DevKit Setup Issue: What Should I Select for Board Type?",
        "body": "<p>I am currently setting up an MXChip (DevKit) for use with Azure by following the guide below:</p>\n\n<p><a href=\"https://microsoft.github.io/azure-iot-developer-kit/docs/get-started/\" rel=\"nofollow noreferrer\">https://microsoft.github.io/azure-iot-developer-kit/docs/get-started/</a></p>\n\n<p>After configuring the device connection string, I cannot complete the subsequent step (Build and upload Arduino sketch) without having to select a board type. These are the options listed:</p>\n\n<ul>\n<li>Arduino Yun</li>\n<li>Arduino/Genuino Uno</li>\n<li>Arduino Duemilanove</li>\n<li>Arduino Nano</li>\n<li>Arduino/Genuino Mega</li>\n<li>Arduino Mega ADK</li>\n<li>Arduino Leonardo</li>\n<li>Arduino Leonardo ETH</li>\n<li>Arduino/Genuino Micro</li>\n<li>Arduino Esplora</li>\n<li>Arduino Mini</li>\n<li>Arduino Ethernet</li>\n<li>Arduino Fio</li>\n<li>Arduino BT</li>\n<li>LilyPad Arduino USB</li>\n<li>LilyPad Arduino</li>\n<li>Arduino Pro</li>\n<li>Arduino NG or Older</li>\n<li>Arduino Robot Control</li>\n<li>Arduino Robot Motor</li>\n<li>Arduino Gemma</li>\n<li>Adafruit Circuit Playground</li>\n<li>Arduino Yun Mini</li>\n<li>Arduino Industrial 101</li>\n<li>Linino One</li>\n<li>Arduino Uno WiFi</li>\n</ul>\n\n<p>I am unsure of which option to choose. Any help would be appreciated. Thanks. </p>\n"
    }, {
        "tags": ["android", "amazon-web-services", "iot", "amazon-cognito"],
        "is_answered": false,
        "view_count": 494,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1528200286,
        "creation_date": 1487352618,
        "last_edit_date": 1528200286,
        "question_id": 42304052,
        "link": "https://stackoverflow.com/questions/42304052/mqtt-connection-stuck-on-reconnecting",
        "title": "Mqtt connection stuck on Reconnecting",
        "body": "<p>I am trying to connect to the Amazon IoT service using an android app following the guide on <a href=\"https://github.com/awslabs/aws-sdk-android-samples/tree/master/AndroidPubSubWebSocket\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-sdk-android-samples/tree/master/AndroidPubSubWebSocket</a>. </p>\n\n<p>I have change the CUSTOMER_SPECIFIC_ENDPOINT to the ENDPOINT value found in SETTINGS section of AWS IoT Console. Additionally I have changed the COGNITO_POOL_ID value to POOL_ID found under the <em>Getting Started with Amazon Cognito</em>.</p>\n\n<p>Unfortunately now everytime I try to connect to the connect, even using the sample code form the above repo, the <em>Connection Status</em> is status keep on trying to <em>Reconnect</em> without providing any <em>throwable</em> object.</p>\n"
    }, {
        "tags": ["python", "azure", "mqtt", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 467,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1527626026,
        "creation_date": 1527259651,
        "last_edit_date": 1527269598,
        "question_id": 50531852,
        "link": "https://stackoverflow.com/questions/50531852/sending-iot-device-message-to-azure",
        "title": "Sending iot device message to azure",
        "body": "<p>I setup azure, created iot hub, device, topic and subscription.\nNow I want to send a message from a python script via mqtt and see it appear somehow on the azure page</p>\n\n<pre><code>def on_connect(client, userdata, flags, rc):\n  print (\"Device connected with result code: \" + str(rc))\ndef on_disconnect(client, userdata, rc):\n  print (\"Device disconnected with result code: \" + str(rc))\ndef on_publish(client, userdata, mid):\n  print (\"Device sent message\")\n\nclient = mqtt.Client(client_id=device_id, protocol=mqtt.MQTTv311)\n\nclient.on_connect = on_connect\nclient.on_disconnect = on_disconnect\nclient.on_publish = on_publish\n\nclient.username_pw_set(username=iot_hub_name+\".azure-devices.net/\" + device_id, password=sas_token)\n\nclient.tls_set(certfile=None, keyfile=None, cert_reqs=ssl.CERT_REQUIRED, tls_version=ssl.PROTOCOL_TLSv1, ciphers=None)\nclient.tls_insecure_set(False)\n\nclient.connect(iot_hub_name+\".azure-devices.net\", port=8883)\n\nclient.publish(\"devices/\" + device_id + \"/messages/events/\", \"{id=123}\", qos=1)\nclient.loop_forever()\n</code></pre>\n\n<p>The problem is that I don't know how to specify the topic.\nWhen I tried this</p>\n\n<pre><code>client.publish(\"devices/\" + device_id + \"/mytopicname/messages\", \"{id=123}\", qos=1)\n</code></pre>\n\n<p>it disconnects with code 1.</p>\n"
    }, {
        "tags": ["azure", "monitoring", "iot", "azure-logic-apps"],
        "is_answered": true,
        "view_count": 66,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1526761070,
        "creation_date": 1526487013,
        "last_edit_date": 1526546378,
        "question_id": 50375547,
        "link": "https://stackoverflow.com/questions/50375547/azure-iot-remote-monitoring-issue",
        "title": "Azure IoT remote monitoring issue",
        "body": "<p>I am following the document \"IoT remote monitoring and notifications with Azure Logic Apps connecting your IoT hub and mailbox\".</p>\n\n<p>In the section \"Add a service bus queue\" I am stuck at the step number 3:</p>\n\n<pre><code> \"Open the service bus queue, and then click Shared access policies &gt; + Add.\"\n</code></pre>\n\n<p>When I create a new Access Policy, after a while the following error occurs. </p>\n\n<pre><code>SubCode=40000. Partitioning cannot be changed for Queue. . \nTrackingId:8fbca9ae-e20f-40d7-af46-0ce061f1fd7f_M4CH3_M4CH3_G40, \nSystemTracker:servicebus01berkiot.servicebus.windows.net:berkiotqueue, \nTimestamp:5/16/2018 4:00:46 PM CorrelationId: a6dae9ed-c3c4-432a-b512- \n1ab02141f17b\n</code></pre>\n\n<p>What can be the cause of this issue?</p>\n"
    }, {
        "tags": ["matlab", "filter", "signal-processing", "iot"],
        "is_answered": false,
        "view_count": 142,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1526393734,
        "creation_date": 1526380500,
        "last_edit_date": 1526383620,
        "question_id": 50348061,
        "link": "https://stackoverflow.com/questions/50348061/how-to-down-sample-a-narrow-band-signal-in-matlab",
        "title": "how to down sample a narrow band signal in matlab?",
        "body": "<p>I have a narrow band signal, 100 Hz and I sample it with SDR dongle and sampling frequency of 250 k. As the signal is ultra narrow band I can't convert it to 100 Hz by down sampling or filter and down sample?could you please help me?</p>\n\n<p><a href=\"https://i.stack.imgur.com/FCSVa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FCSVa.png\" alt=\"Signal\"></a></p>\n\n<p>the image above is my signal after sampling. i can read the signal as it is dbpsk modulation but after down sampling it will be destroyed.</p>\n"
    }, {
        "tags": ["azure", "web", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 239,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1526306479,
        "creation_date": 1526103982,
        "last_edit_date": 1526114476,
        "question_id": 50303250,
        "link": "https://stackoverflow.com/questions/50303250/connectionstring-500-error-azure-iot",
        "title": "connectionstring 500 error Azure IoT",
        "body": "<p>Have deployed a test device that sends to Azure IOT then alerts into Dynamics 365.</p>\n\n<p>I am trying to view data from a web app using <a href=\"https://github.com/Azure-Samples/web-apps-node-iot-hub-data-visualization\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/web-apps-node-iot-hub-data-visualization</a></p>\n\n<p>Once completed I open web page and get a 500 error with below in log:</p>\n\n<p>Application has thrown an uncaught exception and is terminated:\nArgumentError: Connection string doesn't have EntityPath, or missing argument path at Function.EventHubClient.fromConnectionString (D:\\home\\site\\wwwroot\\node_modules\\azure-event-hubs\\lib\\client.js:92:11)</p>\n\n<p>I used the connectionstring below from the IoTHub -> Endpoint -> Events -> Event Hub Compatible Endpoint :</p>\n\n<p>set Azure.IoT.IoTHub.ConnectionString=sb://iothub-ns-****************r-451891-d07caf9987.servicebus.windows.net/;SharedAccessKeyName=iothubowner;SharedAccessKey=zNy3a*******************CZyjCoTpXdem0=</p>\n\n<p>I have also tried to run locally and added EntityPath to connection string with no success.</p>\n\n<p>I did notice in Azure that it has a warning for my IoTHub:\nSome IoT Hub features are disabled due to the location of your resource. The following are the impacted features: Events</p>\n\n<p>Could this be an issue?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 134,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1525804139,
        "creation_date": 1525451723,
        "question_id": 50179536,
        "link": "https://stackoverflow.com/questions/50179536/cant-create-an-iot-hub-on-azure",
        "title": "can&#39;t create an IoT hub on azure",
        "body": "<p>I have an azure 50 usd/month subscription. Want to create an IoT hub (The free tier) for this I get the error message: Only one Free IoT hub is allowed per subscription.</p>\n\n<p>If I select the S1 standard tier, even though it is 25USD/month I get the following error message: Paid Iot Hub count would exceed allowed limit of 50 for the selected subscription.</p>\n\n<p>My current credit is 50 usd, and I don't have any resource created.</p>\n\n<p>How can I create an IoT hub in Azure in this circumstances?</p>\n"
    }, {
        "tags": ["azure", "raspberry-pi", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 769,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1525071616,
        "creation_date": 1524848110,
        "question_id": 50067062,
        "link": "https://stackoverflow.com/questions/50067062/raspberry-pi-web-simulator-connection-error-to-azure-iot-hub",
        "title": "Raspberry Pi Web Simulator Connection Error to Azure IoT Hub",
        "body": "<p>I am trying to use the Raspberry Pi Web Simulator to send simulated device readings into my Azure IoT Hub.</p>\n\n<p>I have one issue that I could not get the Raspberry Pi Web Simulator working on my work machine. I kept getting an error saying \"<strong>[IoT hub Client] Connect error: undefined</strong>\", but I got everything working from home using the same device connection string and I am able to see messages in IoT Hub.</p>\n\n<p>What am I missing? </p>\n\n<p>I use IE at work and the work machines have to use a proxy to connect to the internet. Is this causing the issue? </p>\n\n<p>Any help is very much appreciated.</p>\n\n<p>URL for Raspberry Pi Web Simulator - <a href=\"https://azure-samples.github.io/raspberry-pi-web-simulator/#GetStarted\" rel=\"nofollow noreferrer\">https://azure-samples.github.io/raspberry-pi-web-simulator/#GetStarted</a></p>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": false,
        "view_count": 197,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1524588450,
        "creation_date": 1524588450,
        "question_id": 50007020,
        "link": "https://stackoverflow.com/questions/50007020/aws-iot-button-wifi-network-name",
        "title": "AWS IOT Button Wifi network name",
        "body": "<p>Following the documentation for the AWS IOT Button, they mention finding the wifi network called \"Button ConfigureMe - XXX\" where XXX is a three-character string generated by the button. </p>\n\n<p>However, when you use the AWS IOT app, they display the full name of the Wifi network, for example \"Button ConfigureMe - ABC\"</p>\n\n<p>Does anyone know how to access and present the full name of the \"Button ConfigureMe - XXX?\" I imagine there must be some endpoint on the button or perhaps the Internet that provides that info.</p>\n"
    }, {
        "tags": ["java", "android", "iot", "android-things"],
        "is_answered": true,
        "view_count": 228,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1524033595,
        "creation_date": 1489606094,
        "last_edit_date": 1493982453,
        "question_id": 42818987,
        "link": "https://stackoverflow.com/questions/42818987/android-things-how-to-keep-the-led-uninterruptedly-on-after-command-mledgpio-s",
        "title": "Android things - How to keep the led uninterruptedly ON after command mLedGpio.setValue(true)",
        "body": "<p>I accomplished this project: <a href=\"https://github.com/androidthings/sample-button/blob/master/app/src/main/java/com/example/androidthings/button/ButtonActivity.java\" rel=\"nofollow noreferrer\"><code>sample-button</code></a>\nBut I need change this to Keep the led on when I press the button and just out it after I press the button again.</p>\n\n<p>How to I can do it?</p>\n"
    }, {
        "tags": ["node.js", "azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 842,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1522669415,
        "creation_date": 1522412596,
        "last_edit_date": 1522669415,
        "question_id": 49574377,
        "link": "https://stackoverflow.com/questions/49574377/azure-iot-hub-messages-late-delay-drop",
        "title": "Azure IoT Hub messages late/delay/drop",
        "body": "<p>Azure IoT Hub on server side and Azure IoT Client SDK on Device side, we are found 60-65 seconds delay and\ndrop between device sent a status message over MQTT and message was received by IoT Hub.\nIn some cases, we are seeing 1-2 minutes delay when IoT Hub enqueued the message.</p>\n\n<p>Below is the code for communication with device to device</p>\n\n<pre><code>//'use strict';\n//DeviceToCloudMessages libraries\nvar EventHubClient = require('azure-event-hubs').Client;\n//var base64 = require('base-64');\n\n//*NK+1 19-02-18 CloudToDeviceMessage Libraries\nvar Registry = require('azure-iothub').Registry;\n\n//CloudToDeviceMessage libraries\nvar Client = require('azure-iothub').Client;\nvar Message = require('azure-iot-common').Message;\n\n\n//*NK+1 13-03-18 Get constant values stored in GlobalConstants js\nvar constant = require('./GlobalConstants');\n\nvar connectionString = constant.connectionString;\nvar serviceClient = Client.fromConnectionString(connectionString);\n\n//*NK+ 16-03-18 Open service cline\nserviceClient.open(function (err) {\n    if (err) {\n        console.error('Could not connect: ' + err.message);\n    } else {\n        console.log('Open connection: ');\n    }\n});\n\n//*NK+1 19-02-18 Create registry for connection string\nvar registry = Registry.fromConnectionString(connectionString);\n\n//To prevent memory leak\nrequire('events').EventEmitter.defaultMaxListeners = Infinity;\n\n//To check device connection state\nvar request = require('request');\nauth = constant.authorization;\n\n//Datetime library\ndate = require('date-and-time');\nvar moment = require(\"moment\");\n\n//For log\nconst fs = require('fs');\nvar datetime = require('node-datetime');\n\n//For database connection\nvar sql = require('mssql');\nvar config =\n        {\n            user: constant.sUsername, // update me\n            password: constant.sPassword, // update me\n            server: constant.sServer, // update me\n            database: constant.sDatabase,\n            options: {\n                encrypt: true\n            },\n             //*start 30-01-18 set resource request timeout \n            connectionTimeout: 0,\n            requestTimeout: 0,\n            pool: {\n                max: 100,\n                min: 1,\n                idleTimeoutMillis: 30000\n            }\n            //*end 30-01-18 set resource request timeout \n        }\n\n//*NK+1 23-03-18 declare flag false\n//var isLog = false;\n\n\n// sql.close();\n//SQL starts\nsql.connect(config).then(function (err) {\n    if (err) {\n        //console.log('sql CONNECTION ERROR');\n        console.log(err);\n    }\n\n    console.log('Opening connection');\n\n    var printError = function (err) {\n        logmsg(err.message);\n        logmsg('Error from event hub:', err.message);\n        startReceiver();\n    };\n\n    function logmsg(msg)\n    {\n        //if(isLog){\n            try {\n                //console.log(msg);\n                var dt = datetime.create();\n                var formatted = dt.format('Y-m-d H:M:S');\n                var date = dt.format('Y-m-d');\n                var checkhr = dt.format('H');\n                var filepath = 'D:/home/site/wwwroot/WebJobLogs/SendD2DMsgLog_' +date +'_' +checkhr + '-00-00'  +'.txt';\n                fs.appendFile(filepath, formatted + \" \" + msg + \"\\n\");\n            } catch(error) {\n                //console.log(error);\n            }\n        //}\n    }\n\n\n    function printResultFor(op) {\n        try {\n            return function printResult(err, res) {\n                if (err)\n                {\n                    logmsg(op + ' error: ' + err.toString());\n                }\n                if (res)\n                {\n                    logmsg(op + ' status: ' + res.constructor.name);\n                }\n            };\n        } catch (exception) {\n            logmsg(\"Print result function \" + exception)\n        }\n    }\n\n    function receiveFeedback(err, receiver) {\n        receiver.on('message', function (msg) {\n            logmsg('IOT Feedback message:')\n            logmsg(msg.getData().toString('utf-8'));\n        });\n    }\n\n    //*NK+start 19-02-18 for firmware update\n    function queryTwinFWUpdateReported(deviceToUpdate) {\n\n      logmsg('deviceToUpdate : ' + deviceToUpdate);\n      logmsg('deviceToUpdate : ' + deviceToUpdate);\n        registry.getTwin(deviceToUpdate, function(err, twin){\n            if (err) {\n              //console.error('Could not query twins: ' + err.constructor.name + ': ' + err.message);\n              logmsg('Could not query twins: ' + err.constructor.name + ': ' + err.message);\n            } else {\n              //console.log('queryTwinFWUpdateReported: ' + (JSON.stringify(twin.properties.reported.iothubDM.firmwareUpdate)) + \"\\n\");\n              //logmsg((JSON.stringify(twin.properties.reported.iothubDM.firmwareUpdate)) + \"\\n\");\n            }\n        });\n    }\n\n    function startFirmwareUpdateDevice (linkString, deviceToUpdate) {\n\n        //console.log('linkString: ' + linkString);\n        var params = {\n          FwPackageUri: linkString\n        };\n\n        var methodName1 = \"FirmwareUpdate\";\n        var payloadData =  JSON.stringify(params);\n        var payloadData1 = JSON.parse(payloadData);\n\n        logmsg('payloadData : ' + payloadData1);\n\n        var methodParams = {\n            methodName: methodName1,\n            payload: payloadData1,\n            timeoutInSeconds: 3600//,\n            //responseTimeoutInSeconds: 3600\n        };\n\n        //var methodParamsTest = JSON.stringify(methodParams);\n        //var objmethodParams = JSON.parse(methodParamsTest);\n\n        logmsg('methodParams : ' + JSON.stringify(methodParams));\n        //console.log('methodParams : ' + JSON.stringify(methodParams));\n\n        serviceClient.invokeDeviceMethod(deviceToUpdate, methodParams, function(err, result) {\n\n            if (err) {\n              //console.log('Could not start the firmware update on the device: ' + err.message);\n              //console.log('Device: ' + err.stack);\n              logmsg('Could not start the firmware update on the device: ' + err.message);\n            }else{\n              logmsg('success result : ' + JSON.stringify(result));\n              //console.log('success result : ' + JSON.stringify(result));\n            }\n            });\n    }\n    //*NK+end 19-02-18 for firmware update\n\n    var printMessage = function (message) {\n          logmsg('Message received: ');\n\n        try {\n            var chunk_msg = JSON.stringify(message.body);\n            logmsg(chunk_msg);\n            var obj = JSON.parse(chunk_msg);\n\n            //*NK+start 19-02-18 firmware update code\n            if(obj.hasOwnProperty('firmwareUpdate')){\n\n                var firmwaretype= obj.controllerName;\n                var firmwaremodel= obj.modelNumber;\n                var firmwareDeviceId = obj.firmwareUpdate;\n                var appDeviceId = obj.appDeviceId;\n\n\n                new sql.Request()\n                                .query(\"SELECT f.fw_version, f.[loc] FROM &lt;&lt;table&gt;&gt; f WHERE f.[Type] = '\" + firmwaretype + \"' \").then(function (recordset) {\n                            var statusLocation = JSON.stringify(recordset);\n                            var obj = JSON.parse(statusLocation);\n                            var result = obj.recordset;\n                            logmsg('result: ' + result);\n                            console.log('result: ' + result);\n                            if(result.length &gt; 0){\n                                console.log('fw_version: ' + result[0].fw_version);\n                                console.log('loc: ' + result[0].loc);\n                                console.log('obj.firmwareUpdate : ' + firmwareDeviceId);\n                                console.log('obj.appDeviceId : ' + appDeviceId);\n\n                            new sql.Request()\n                                .query(\"select TOP 1 * from &lt;&lt;table&gt;&gt; where Id = '\" + firmwareDeviceId + \"' order by id desc \").then(function (recordset) {\n\n                                    var status = JSON.stringify(recordset);\n                                    var objstatus = JSON.parse(status);\n                                    var resultstatus = objstatus.recordset;\n\n                                    var datastatus = resultstatus[0];\n                                    var chunkstatus = JSON.stringify(datastatus);\n                                    var objnewstatus = JSON.parse(chunkstatus);\n                                    var endDate = objnewstatus.last_update;\n                                    logmsg('controller last status date ' + endDate);\n                                    console.log('controller last status date ' + endDate);\n\n                                    now = new Date();\n                                    var currentDate = date.format(now, 'YYYY-MM-DD HH:mm:ss');\n                                    logmsg('server current date ' + currentDate);\n                                    console.log('server current date ' + currentDate);\n\n                                    var start_date = moment(currentDate, 'YYYY-MM-DD HH:mm:ss');\n                                    var end_date = moment(endDate, 'YYYY-MM-DD HH:mm:ss');\n                                    var duration = moment.duration(start_date.diff(end_date));\n                                    var hours = duration.asHours();\n                                    //var seconds = Math.abs(hours * 3600);\n                                    var seconds = Math.abs(hours * 3600);\n                                    logmsg('difference in seconds ' + seconds);\n                                    console.log('difference in seconds ' + seconds);\n\n                                    if (seconds &lt; 40)\n                                    {\n                                        logmsg('fw_version: ' + result[0].fw_version);\n                                        logmsg('loc: ' + result[0].loc);\n                                        console.log('fw_version: ' + result[0].fw_version);\n                                        console.log('loc: ' + result[0].loc);\n\n                                        startFirmwareUpdateDevice(result[0].loc, firmwareDeviceId);\n                                        setInterval(function() {queryTwinFWUpdateReported(firmwareDeviceId);}, 1000);\n                                    }\n                                    else{\n                                        //format failure msg to send to app\n                                        var result = '{\"response_status\":\"true\",\"device_id\":\"' + firmwareDeviceId + '\"}';\n                                        logmsg('Sending message to app:' + result);\n                                        console.log('Sending message to app:' + result);\n                                        var message = new Message(result);\n                                        serviceClient.send(appDeviceId, message, printResultFor('send'));\n                                        logmsg('Feedback Message for firmware upgrade failure sent to app ' + appDeviceId);\n                                        console.log('Feedback Message for firmware upgrade failure sent to app ' + appDeviceId);\n                                    }\n                                }).catch(function (err) {\n                                logmsg('firmware upgrade: ' + err);\n                            });\n                            }\n\n\n                        }).catch(function (err) {\n                            logmsg(err);\n                        });\n            }\n            //*NK+end 19-02-18\n\n            if (obj.hasOwnProperty('command'))\n            {\n                 logmsg('command exist');\n                 console.log('command exist');\n\n                //Send Msg to device\n                //serviceClient.open(function (err) {\n                    //if (err) {\n                    //    console.error('Could not connect: ' + err.message);\n                    //} else {\n                       // logmsg('Service client connected');\n                       //*NK+1 23-03-18 Commented feedback receiver\n                        //serviceClient.getFeedbackReceiver(receiveFeedback);\n\n                        message.ack = 'full';\n                        //message.messageId = \"My Message ID\";\n                        //*NK+1 20-02-18 Update messageId\n                        console.log('obj.messageId : ' + obj.messageId);\n                        message.messageId = obj.messageId;\n\n                        //Check the status of controller before sending message and return message to user in case of failure\n                        var targetDevice = obj.deviceId;\n                        new sql.Request()\n                                .query(\"select TOP 1 * from &lt;&lt;table&gt;&gt; where Id = '\" + targetDevice + \"' order by id desc \").then(function (recordset) {\n                            var status = JSON.stringify(recordset);\n                            var objstatus = JSON.parse(status);\n                            var resultstatus = objstatus.recordset;\n\n                            var datastatus = resultstatus[0];\n                            var chunkstatus = JSON.stringify(datastatus);\n                            var objnewstatus = JSON.parse(chunkstatus);\n                            var endDate = objnewstatus.last_update;\n                            logmsg('controller last status date ' + endDate);\n                            console.log('controller last status date ' + endDate);\n\n                            now = new Date();\n                            var currentDate = date.format(now, 'YYYY-MM-DD HH:mm:ss');\n                            logmsg('server current date ' + currentDate);\n                            console.log('server current date ' + currentDate);\n\n                            var start_date = moment(currentDate, 'YYYY-MM-DD HH:mm:ss');\n                            var end_date = moment(endDate, 'YYYY-MM-DD HH:mm:ss');\n                            var duration = moment.duration(start_date.diff(end_date));\n                            var hours = duration.asHours();\n                            //var seconds = Math.abs(hours * 3600);\n                            var seconds = Math.abs(hours * 3600);\n                            logmsg('difference in seconds ' + seconds);\n                            console.log('difference in seconds ' + seconds);\n\n                            if (seconds &lt;= 65)\n                            {\n                                var data = obj.command;\n                                //format msg to send to controller\n                                var str1 = '{\"Name\":\"Play\",\"Parameters\":{\"Data\":\"';\n                                var res = str1.concat(data);\n                                var str2 = '\"}}';\n                                var result = res.concat(str2);\n                                var message = new Message(result);\n                                logmsg('Sending message to controller: ' + message.getData());\n                                console.log('Sending message to controller: ' + message.getData());\n                                serviceClient.send(targetDevice, message, printResultFor('send'));\n                                logmsg('Message sent to controller ' + targetDevice);\n                                console.log('Message sent to controller ' + targetDevice);\n                            }\n                            else\n                            {\n                                //*NK+start 29-03-18 Check reset command and send to the server\n                                var data_command = obj.command;\n                                if(data_command == \"&lt;&lt;RESETDEVICECOMMAD&gt;&gt;\"){\n                                    //format msg to send to controller\n                                    var str1 = '{\"Name\":\"Play\",\"Parameters\":{\"Data\":\"';\n                                    var res = str1.concat(data_command);\n                                    var str2 = '\"}}';\n                                    var result = res.concat(str2);\n                                    var message = new Message(result);\n                                    logmsg('Reset message is: ' + message.getData());\n                                    console.log('Reset message is: ' + message.getData());\n                                    serviceClient.send(targetDevice, message, printResultFor('send'));\n                                    logmsg('Reset message sent to controller ' + targetDevice);\n                                    console.log('Reset message sent to controller ' + targetDevice);\n                                }\n                                //*NK+start 29-03-18 Check reset command and send to the server\n\n                                if (obj.hasOwnProperty('appDeviceId'))\n                                {\n                                    //Get app device id\n                                    var AppDeviceId = obj.appDeviceId;\n                                    //format failure msg to send to app\n                                    var result = '{\"response_status\":\"false\",\"device_id\":\"' + targetDevice + '\"}';\n                                    logmsg('Sending message to app:' + result);\n                                    console.log('Sending message to app:' + result);\n                                    var message = new Message(result);\n                                    serviceClient.send(AppDeviceId, message, printResultFor('send'));\n                                    logmsg('Feedback Message for command failure sent to app ' + AppDeviceId);\n                                    console.log('Feedback Message for command failure sent to app ' + AppDeviceId);\n                                }\n\n                            }\n\n                        }).catch(function (err) {\n                            logmsg(err);\n                        });\n\n\n                //    }\n                //});\n            }\n\n            else if (obj.hasOwnProperty('u32SH'))\n            {\n                // console.log('json exist');\n                var deviceId = obj.deviceId;\n                var data = chunk_msg;\n                var datetime = new Date();\n\n                //SQL to get list of device ids\n                new sql.Request()\n                        .query(\"select * from &lt;&lt;table&gt;&gt; where id in (select id from &lt;&lt;table&gt;&gt; where id in (select id from &lt;&lt;table&gt;&gt; where Id = '\" + deviceId + \"')) and connectionState = 'Connected' \").then(function (recordset) {\n                    var chunk = JSON.stringify(recordset);\n                    var obj = JSON.parse(chunk);\n                    var result = obj.recordset;\n\n                        var message = new Message(chunk_msg);\n                        message.ack = 'full';\n                        message.messageId = \"My Message ID\";\n\n                        logmsg('Sending message: ' + message.getData());\n                        for (var i = 0, len = result.length; i &lt; len; i++)\n                        {\n                            var data = result[i];\n                            var chunk1 = JSON.stringify(data);\n                            var obj1 = JSON.parse(chunk1);\n                             //Get device id of user\n                            var targetDevice = obj1.device_id;\n\n                            serviceClient.send(targetDevice, message, printResultFor('send'));\n                            logmsg('Message sent to user ' + targetDevice);\n\n                        } //for loop ends\n\n                }).catch(function (err) {\n                    logmsg(err);\n                });  //1st sql ends\n\n\n            } //else if for json object check ends\n\n            //*NK++ 06-03-18 update controller table\n            var macId = obj.deviceId;\n            updateControllerFirmwareVersion(macId);\n\n        } catch (exception) {\n            logmsg(\"Handling exception....\");\n            logmsg(exception);\n        }\n\n    }; //printMessage function ends\n\n    //*NK+start 05-03-18 update controller firmware version\n    function updateControllerFirmwareVersion(deviceId){\n        registry.getTwin(deviceId, function(err, twin){\n            if (err) {\n              //console.log('Could not query twins: ' + err.constructor.name + ': ' + err.message);\n              console.error('Could not query twins: ' + err.constructor.name + ': ' + err.message);\n            } else {\n              logmsg((JSON.stringify(twin.properties.reported.AzureFwVersion)) + \"\\n\");\n              //console.log((JSON.stringify(twin.properties.reported.AzureFwVersion)) + \"\\n\");\n              //var azureFwVersion = twin.properties.reported.AzureFwVersion.replace('Azure_Sns_DM V','');\n              var azureFwVersion = twin.properties.reported.AzureFwVersion;\n              var s = azureFwVersion.lastIndexOf(\".\");\n\n              var res = azureFwVersion.substring(s+1, azureFwVersion.length);\n              //console.log('azureFwVersion: ' + res);\n              var firmwareV = Number(res).toString(16).toUpperCase() + '00';\n              //console.log('hex : ' + firmwareV);\n              logmsg('hex : ' + firmwareV);\n\n                new sql.Request()\n                .query(\"select fw_version from &lt;&lt;table&gt;&gt; where Id = '\" + deviceId + \"'\").then(function (recordset) {\n                    logmsg('Get current controller table firmware version');\n\n                    var currentData = JSON.stringify(recordset);\n                    var obj = JSON.parse(currentData);\n                    var resultstatus = obj.recordset;\n\n                    var datastatus = resultstatus[0];\n                    var chunkstatus = JSON.stringify(datastatus);\n                    var objnewstatus = JSON.parse(chunkstatus);\n\n                    if(objnewstatus.fw_version != firmwareV){\n                        console.log('Available firmware is ' + firmwareV);\n                        logmsg('Available firmware is ' + firmwareV);\n                        new sql.Request()\n                        .query(\"UPDATE &lt;&lt;table&gt;&gt; SET fw_version = '\" + firmwareV + \"' where Id = '\" + deviceId + \"'\").then(function (recordset) {\n                            logmsg('Updated Controller table for firmware');\n                            //console.log('Updated Controller table for firmware');\n                            }).catch(function (err) {\n                            logmsg('Qry to update Controller table for firmware' + err);\n                            //console.log('Qry to update Controller table for firmware' + err);\n                        });\n                    }\n\n                    }).catch(function (err) {\n                    logmsg('Qry to update Controller table for firmware' + err);\n                    //console.log('Qry to update Controller table for firmware' + err);\n                });\n\n            }\n        });\n    }\n    //*NK+end 05-03-18 update controller firmware version\n\n\n    var startReceiver = function () {\n        try {\n            logmsg('Receiver on');\n            var client = EventHubClient.fromConnectionString(connectionString);\n            client.open()\n                    .then(client.getPartitionIds.bind(client))\n                    .then(function (partitionIds) {\n                        return partitionIds.map(function (partitionId) {\n                            return client.createReceiver('$Default', partitionId, {'startAfterTime': Date.now()}).then(function (receiver) {\n                                logmsg('Created partition receiver: ' + partitionId)\n                                // receiver.on('errorReceived', printError);\n                                // receiver.on('message', printMessage);\n\n                                receiver.on('errorReceived', function callback() {\n                                    // console.log('Error Received in receiver');\n                                    client.close()\n                                    startReceiver()\n                                });\n\n                                receiver.on('message', printMessage);\n\n                            });\n                        })\n                    })\n                    // .catch(printError);\n                    .catch(function callback() {\n                        logmsg('Error Received in catch');\n                        client.close()\n                        startReceiver()\n                    });\n\n        } catch (exception) {\n            logmsg(\"startReceiver function \" + exception)\n\n        }\n\n    };\n\n    startReceiver();\n\n}); //sql connection ends\n</code></pre>\n\n<p>Question:\n    1. What is the reason for this late/delay/drop in message reaching to IoT Hub?\n   2. Is there any issue on node js code?</p>\n\n<p>I am using following node js packages : </p>\n\n<pre><code>{\n      \"name\": \"Haven\",\n      \"version\": \"1.0.0\",\n      \"description\": \"\",\n      \"main\": \"AppToServerToDevice.js\",\n      \"dependencies\": {\n        \"azure-event-hubs\": \"0.0.8\",\n        \"azure-iot-device\": \"^1.2.1\",\n        \"azure-iot-device-mqtt\": \"^1.2.2\",\n        \"azure-iothub\": \"^1.2.3\",\n        \"base-64\": \"^0.1.0\",\n        \"date-and-time\": \"^0.6.2\",\n        \"heapdump\": \"^0.3.9\",\n        \"moment\": \"^2.20.1\",\n        \"mssql\": \"^4.1.0\",\n        \"tedious\": \"^2.1.1\"\n      },\n      \"devDependencies\": {},\n      \"scripts\": {\n        \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n      },\n      \"keywords\": [],\n      \"author\": \"\",\n      \"license\": \"ISC\"\n    }\n</code></pre>\n\n<p>IOT Hub details : </p>\n\n<p><strong>IoT Hub details:</strong>\n    Pricing tier: S2 standard\n    IoT Hub units: 1</p>\n\n<p>SQL database Pricing tier is Standard: S3</p>\n\n<p>Please suggest.</p>\n\n<p>Please see below sample log.</p>\n\n<pre><code>2018-04-02 14:00:18 Message received: \n2018-04-02 14:00:23 send status: MessageEnqueued\n2018-04-02 14:00:23 send status: MessageEnqueued\n2018-04-02 14:00:23 send status: MessageEnqueued\n2018-04-02 14:00:23 send status: MessageEnqueued\n2018-04-02 14:00:25 {\"deviceId\":\"&lt;&lt;FAKE_ID&gt;&gt;\",\"messageId\":54,\"u32SH\":1094861843,\"u32SVN\":1215,\"u32CVN\":645,\"u32SRS\":2,\"u32EVT_ID\":9,\"u8RSSI\":94,\"u8C1TID\":0,\"u8C1ETID\":1,\"u8C1STId\":0,\"u8C1ATId\":1,\"u8C1Rt\":3,\"u8C1B\":36,\"u8C1WL\":0,\"u8C1WB\":36,\"u8C1SB\":68,\"u8C1PB\":0,\"u8C2TID\":0,\"u8C2ETID\":1,\"u8C2STId\":0,\"u8C2ATId\":2,\"u8C2Rt\":11,\"u8C2B\":99,\"u8C2WL\":11,\"u8C2WB\":99,\"u8C2SB\":99,\"u8C2PB\":99,\"ts\":\"2018-04-02T14:00:23Z\"}\n2018-04-02 14:00:25 Message sent to user &lt;&lt;FAKE_ID&gt;&gt;\n2018-04-02 14:00:25 Message sent to user &lt;&lt;FAKE_ID&gt;&gt;\n2018-04-02 14:00:26 IOT Feedback message:\n2018-04-02 14:00:26 [{\"originalMessageId\":\"My Message ID\",\"description\":\"Success\",\"deviceGenerationId\":\"636573862820707504\",\"deviceId\":\"34cebb0dd9eab292\",\"enqueuedTimeUtc\":\"2018-04-02T14:00:18.6513817Z\",\"statusCode\":\"Success\"},{\"originalMessageId\":\"My Message ID\",\"description\":\"Success\",\"deviceGenerationId\":\"636573862820707504\",\"deviceId\":\"34cebb0dd9eab292\",\"enqueuedTimeUtc\":\"2018-04-02T14:00:22.9953077Z\",\"statusCode\":\"Success\"}]\n</code></pre>\n"
    }, {
        "tags": ["mqtt", "iot", "windows-10-iot-core", "hivemq"],
        "is_answered": true,
        "view_count": 4887,
        "favorite_count": 0,
        "score": 11,
        "last_activity_date": 1522082080,
        "creation_date": 1440091204,
        "last_edit_date": 1522082080,
        "question_id": 32124471,
        "link": "https://stackoverflow.com/questions/32124471/why-and-when-i-need-mqtt-broker-for-iot-m2m-application",
        "title": "why and when i need mqtt broker for IOT/M2M application",
        "body": "<p>Just asking one silly question, hope someone can answer this. </p>\n\n<p>I'm bit confused regarding MQTT broker. Basically, the confusion is, there are so many things being used for data storing, transfer and processing (like Flume, HDInsight, Spark etc). So, when and why I need to use one MQTT broker?</p>\n\n<p>If I would like to use Windows 10 IoT application with HiveMQ, from where can I get the details? how to use it? How I get benefit out of this MQTT broker? Can I not send data from my IoT application directly using Azure or HDFS? So, how MQTT broker fits into it or helping me to achieve something?</p>\n\n<p>I'm new to all these and tried to find some tutorials, however, I'm not getting anything proper. Please explain it in more details or give some tutorials for this?</p>\n"
    }, {
        "tags": ["azure", "iot", "avro"],
        "is_answered": true,
        "view_count": 1718,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1521774479,
        "creation_date": 1519750074,
        "question_id": 49013821,
        "link": "https://stackoverflow.com/questions/49013821/azure-iot-apache-avro-format",
        "title": "Azure IOT Apache Avro format",
        "body": "<p>Using Azure IOT, I have my device endpoint pointing to Azure Blob storage.  Data is sent to the Blob, but i get non-ascii characters and am told that the file extension is incorrect.  Sample Blob data is </p>\n\n<p><code>Objavro.codecnullavro.schema\u00d0{\"type\":\"record\",\"name\":\"Message\",\"namespace\":\"Microsoft.Azure.Devices\",\"fields\":[{\"name\":\"EnqueuedTimeUtc\",\"type\":\"string\"},{\"name\":\"Properties\",\"type\":{\"type\":\"map\",\"values\":\"string\"}},{\"name\":\"SystemProperties\",\"type\":{\"type\":\"map\",\"values\":\"string\"}},{\"name\":\"Body\",\"type\":[\"null\",\"bytes\"]}]} \u00b1\u00a1R\u00ebZ\u00cb8\u00e8\u20ac\u2018,\u00a1\u2026$\u2022\n\u00e082018-02-20T15:12:16.1060000Z $connectionDeviceIdLane4Free(connectionAuthMethod\u0153{\"scope\":\"device\",\"type\":\"sas\",\"issuer\":\"iothub\",\"acceptingIpFilterRule\":null}8connectionDeviceGenerationId$636543931333384343enqueuedTime82018-02-20T15:12:16.1060000Z d{\"deviceId\": \"myPythonDevice\",\"PinsCCC\": 302.00,\\}82018-02-20T15:12:16.2000000Z</code> </p>\n\n<p>Azure IOT docs says that the format is Apache Avro, but I can't find anything on how to decode the  non-ascii characters.  I don't see where to specify a json extension.</p>\n"
    }, {
        "tags": ["node.js", "ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 911,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1520347493,
        "creation_date": 1463406844,
        "last_edit_date": 1463407343,
        "question_id": 37255634,
        "link": "https://stackoverflow.com/questions/37255634/ibm-bluemix-iotfoundation-iotfclient-is-offline-retrying-connection",
        "title": "IBM Bluemix IotFoundation : Iotfclient is offline. Retrying connection",
        "body": "<p>I am trying to follow the IBM Bluemix course on Coursera. </p>\n\n<ol>\n<li>My steup: A raspberry pi as a device (client) which is connected as a registered client to Watson IoT Platform. It's emitting a continuous stream of random  numbers per second.</li>\n<li><p>I have deployed my custom Nodejs app (code that is available on Coursera) on IBM Bluemix.</p>\n\n<pre><code>var express = require('express');\n\nvar app = express();\nvar Client = require('ibmiotf');\nvar appConfig;\n\nvar serverPort = process.env.VCAP_APP_PORT || 3000;\nvar serverHost = process.env.VCAP_APP_HOST || 'localhost';\n\nif (process.env.VCAP_SERVICES) {\n    var env = JSON.parse(process.env.VCAP_SERVICES);\nappConfig = {\n               'org' : env[\"iotf-service\"][0].credentials.org,\n               'id' : 'dna-nodeserver',\n               'auth-key' : env[\"iotf-service\"][0].credentials.apiKey,\n               'auth-token' : env[\"iotf-service\"][0].credentials.apiToken\n              }\n} else {\n    appConfig = require('./application.json');\n}\n\nvar responseString = 'Hello Coursera';\n\nvar appClient = new Client.IotfApplication(appConfig);\n\napp.get('/', function(req, res) {\n    res.send(responseString);\n});\nvar server = app.listen(serverPort, serverHost, function() {\nvar host = server.address().address;\nvar port = server.address().port;\nconsole.log('Listening at http://%s:%s', host, port);\n\nappClient.connect();\n\nappClient.on('connect', function() {\n    appClient.subscribeToDeviceEvents('raspberrypi');\n});\n\nappClient.on(\"error\", function (err) {\n    console.log(\"Error : \"+err);\n});\n\nappClient.on('deviceEvent', function(deviceType, deviceId, eventType, format, payload) {\n\n    responseString = \"Device Event from :: \"+deviceType+\" : \"+deviceId+\" of event \"+eventType+\" with payload : \"+payload;\n\n    console.log(\"Device Event from :: \"+deviceType+\" : \"+deviceId+\" of event \"+eventType+\" with payload : \"+payload);\n});\n\n});\n</code></pre></li>\n</ol>\n\n<p>The problem that I am facing is shown is the screenshot below:</p>\n\n<p><a href=\"http://i.stack.imgur.com/CTnjZ.png\" rel=\"nofollow\">Error</a></p>\n\n<p>Also, since I am receiving continuous events from the raspberry pi... the webpage (served by res.send(responseString)) should show the changes automatically ...without the need for me to manually refresh the page. But this does <strong>not</strong> seem to happen. </p>\n\n<p>Any help would be appreciated. Thanks!</p>\n"
    }, {
        "tags": ["node.js", "azure", "iot"],
        "is_answered": false,
        "view_count": 635,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1519356856,
        "creation_date": 1519295437,
        "question_id": 48925105,
        "link": "https://stackoverflow.com/questions/48925105/npm-install-azure-event-hubs-node-js",
        "title": "npm install azure-event-hubs node.js",
        "body": "<p>I tried to set up a node.js to simulate inputs to an azure Event Hub.</p>\n\n<p>A) when i tried to install thru:  \u300bnpm install azure-event-hubs\nI got the warning message:</p>\n\n<blockquote>\n  <blockquote>\n    <p>npm WARN deprecated crypto@0.0.3: This package is no longer supported. It's now a built-in Node module. If you've depended on crypto, you should switch to the one that's built-in. </p>\n  </blockquote>\n</blockquote>\n\n<p>Does this mean it is still working? just a warningmessage?</p>\n\n<p>B) As my susbequent node.js script failed to accept the connection string i copied from my Azure Event Hub:</p>\n\n<p>Code:\nvar EventHubClient = require('azure-event-hubs').Client;</p>\n\n<p>var connStr = 'Endpoint=sb://abrstrial.servicebus.windows.net/;SharedAccessKeyName=DeviceAccess;SharedAccessKey=Npb.....................</p>\n\n<blockquote>\n  <blockquote>\n    <p>(errors)</p>\n  </blockquote>\n</blockquote>\n\n<p>E:\\Azure ML\\LAB04\\fitness_device\\node_modules\\azure-event-hubs\\lib\\client.js:92\n    throw new ArgumentError('Connection string doesn\\'t have EntityPath, or missing argument path');\n    ^\nArgumentError: Connection string doesn't have EntityPath, or missing argument path\n    at Function.EventHubClient.fromConnectionString (E:\\Azure ML\\LAB04\\fitness_device\\node_modules\\azure-event-hubs\\lib\\client.js:92:11)\n    at Object. (E:\\Azure ML\\LAB04\\fitness_device\\exercise.js:5:29)\n    at Module._compile (module.js:570:32)\n    at Object.Module._extensions..js (module.js:579:10)\n    at Module.load (module.js:487:32)\n    at tryModuleLoad (module.js:446:12)\n    at Function.Module._load (module.js:438:3)\n    at Module.runMain (module.js:604:10)\n    at run (bootstrap_node.js:389:7)\n    at startup (bootstrap_node.js:149:9)\n    at bootstrap_node.js:504:3</p>\n\n<p>Would it be due to different access method to Azure classic vs ARM portal? or it is a node.js compilation problem?</p>\n"
    }, {
        "tags": ["azure", "machine-learning", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 158,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1518945186,
        "creation_date": 1518654014,
        "last_edit_date": 1518666224,
        "question_id": 48798339,
        "link": "https://stackoverflow.com/questions/48798339/azure-streaming-analytics-not-receiving-input-from-ml-module-on-iot-edge",
        "title": "Azure Streaming Analytics not receiving input from ML module on IoT Edge",
        "body": "<p>I've come up with a strange issue where when a machine learning module is pushed down to an IoT Edge device, the output of this module cannot be consumed by ASA in the cloud. e.g. the ASA input sample returns nothing even though messages are being sent (checked with VS Code etc). I've used this tutorial: <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-deploy-machine-learning\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-deploy-machine-learning</a></p>\n\n<p>When messages are sent using the temp sensor simulator ASA correctly samples and it can be consumed by ASA. <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-simulate-device-linux\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/tutorial-simulate-device-linux</a></p>\n\n<p>The only difference i can see is how the JSON is formed - i wonder if the 'applicationProperties' part causes the issue?</p>\n\n<p>ML JSON sent to IoT Hub:\n15/02/2018 2:42:14 PM> Device: [DSVM], Data:[[\"{\\\"ambient\\\": {\\\"humidity\\\": 24, \\\"temperature\\\": 21.277752659180088}, \\\"machine\\\": {\\\"pressure\\\": 10.860424874724545, \\\"temperature\\\": 107.55261834480434}, \\\"timeCreated\\\": \\\"2018-02-15T03:42:14.140615Z\\\", \\\"anomaly\\\": true}\"]]Properties:\n'AzureMLResponse': 'OK'</p>\n\n<p>Temp sensor JSON sent to IoTHub:\n15/02/2018 2:42:14 PM> Device: [DSVM], Data:[{\"machine\":{\"temperature\":107.55261834480434,\"pressure\":10.860424874724545},\"ambient\":{\"temperature\":21.277752659180088,\"humidity\":24},\"timeCreated\":\"2018-02-15T03:42:14.140615Z\"}]</p>\n\n<p>Does anyone have any ideas on what the particular issue could be? Can you strip out the properties AzureMLResponse easily?</p>\n\n<p>Thanks,\nCom</p>\n"
    }, {
        "tags": ["linux", "web", "embedded", "iot", "webmin"],
        "is_answered": false,
        "view_count": 198,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1518087651,
        "creation_date": 1516174224,
        "question_id": 48295762,
        "link": "https://stackoverflow.com/questions/48295762/is-webmin-advisable-to-run-on-arm-based-embedded-system-in-debian",
        "title": "Is webmin advisable to run on arm based embedded system in debian?",
        "body": "<p>Looking forward to imlement web based system which will allow following things to be able to do:</p>\n\n<ol>\n<li>To manage the web-based system configuration</li>\n<li>Possible to configure operating system internals, such as users, disk quotas, services or configuration files, as well as modify and control open source apps</li>\n<li>Custom modules to configure propitiatory hardware functions</li>\n</ol>\n"
    }, {
        "tags": ["docker", "iot", "windows-10-iot-core", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 645,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1517212948,
        "creation_date": 1517025847,
        "last_edit_date": 1517039116,
        "question_id": 48472482,
        "link": "https://stackoverflow.com/questions/48472482/deploy-iot-edge-module-to-a-windows-device",
        "title": "Deploy IoT Edge module to a Windows device",
        "body": "<p>I am creating IoT Edge using the blog <a href=\"https://docs.microsoft.com/en-us/azure/iot-edge/quickstart\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-edge/quickstart</a>.</p>\n\n<p>I have installed Python 2.7, azure-iot-edge-runtime-ctl on a Windows 1709 Virtual machine.\nI am running Docker version 17.09 CE and Windows Containers. When I am trying to setup IoT-edge runtime module in Windows 10 VM. </p>\n\n<pre><code>iotedgectl setup --connection-string \"{device connection string}\" --auto-cert-gen-force-no-passwords\n</code></pre>\n\n<p>when I am running above command facing the issue, Any suggestions appreciated. </p>\n\n<p>Traceback (most recent call last):</p>\n\n<pre><code>File \"c:\\python27\\lib\\runpy.py\", line 174, in _run_module_as_main\n  \"__main__\", fname, loader, pkg_name)\n  File \"c:\\python27\\lib\\runpy.py\", line 72, in _run_code\n    exec code in run_globals\n  File \"C:\\Python27\\Scripts\\iotedgectl.exe\\__main__.py\", line 9, in &lt;module&gt;\n  File \"c:\\python27\\lib\\site-packages\\edgectl\\__init__.py\", line 25, in coremain\n    return cli.execute_user_command()\n  File \"c:\\python27\\lib\\site-packages\\edgectl\\edgecli.py\", line 54, in execute_user_command\n    (is_valid, execute_deployment_cmd) = self._process_cli_args()\n  File \"c:\\python27\\lib\\site-packages\\edgectl\\edgecli.py\", line 358, in _process_cli_args\n    return args.func(args)\n  File \"c:\\python27\\lib\\site-packages\\edgectl\\edgecli.py\", line 379, in _parse_edge_command\n    if EdgeDefault.is_deployment_supported(self._deployment):\n  File \"c:\\python27\\lib\\site-packages\\edgectl\\default.py\", line 99, in is_deployment_supported\n    client = EdgeDockerClient()\n  File \"c:\\python27\\lib\\site-packages\\edgectl\\dockerclient.py\", line 13, in __init__\n    self._client = docker.DockerClient.from_env()\n  File \"c:\\python27\\lib\\site-packages\\docker\\client.py\", line 81, in from_env\n    **kwargs_from_env(**kwargs))\n  File \"c:\\python27\\lib\\site-packages\\docker\\client.py\", line 38, in __init__\n    self.api = APIClient(*args, **kwargs)\n  File \"c:\\python27\\lib\\site-packages\\docker\\api\\client.py\", line 131, in __init__\n    'Install pypiwin32 package to enable npipe:// support'\ndocker.errors.DockerException: Install pypiwin32 package to enable npipe:// support\n</code></pre>\n\n<p>Any suggestions, please.</p>\n"
    }, {
        "tags": ["azure", "x509certificate", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 255,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1516677852,
        "creation_date": 1516606499,
        "last_edit_date": 1516616477,
        "question_id": 48376597,
        "link": "https://stackoverflow.com/questions/48376597/azure-problems-while-creating-x-509-certificate",
        "title": "Azure : Problems while Creating X-509 certificate",
        "body": "<p>I am trying to create a X 509 certificate and upload it to Azure Portal. However, after I followed the steps from <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-security-x509-create-certificates\" rel=\"nofollow noreferrer\">this</a> link, I am unable to VERIFY the certificate on the Azure Portal. </p>\n\n<p>NOTE : </p>\n\n<ul>\n<li><p>I have used the generated verification code from the Azure Portal for the registered certificate.</p></li>\n<li><p>Azure Portal does NOT flash any error. </p></li>\n<li><p>Mine is a FREE Trial Azure Account.</p></li>\n</ul>\n\n<p>Can anyone help me in the following :</p>\n\n<ul>\n<li>How do I trace Azure Portal Logs ? How can I track if I encountered any errors while uploading certificate. </li>\n<li>What could have been a possible reason for this issue ?</li>\n</ul>\n\n<p>Look forward to your help. Thanks !</p>\n"
    }, {
        "tags": ["node.js", "arduino", "iot", "intel-xdk", "intel-edison"],
        "is_answered": true,
        "view_count": 4188,
        "favorite_count": 0,
        "score": 7,
        "last_activity_date": 1516393446,
        "creation_date": 1412222253,
        "last_edit_date": 1516393446,
        "question_id": 26154300,
        "link": "https://stackoverflow.com/questions/26154300/intel-edison-mraa-module-not-working",
        "title": "Intel Edison MRAA module not working",
        "body": "<p>I recently downloaded the Intel XDK IOT version and used the LED pin 13 Blink sample.\nI then uploaded the program onto the Edison, but  it came up with a few errors; One of them being that it could not find the MRAA module. The sample code that came with it was:\nmain.js:</p>\n\n<pre><code>var mraa = new require(\"mraa\"); //require mraa\nconsole.log('MRAA Version: ' + mraa.getVersion()); //write the mraa version to the Intel XDK console\n\nvar myOnboardLed = new mraa.Gpio(13); //LED hooked up to digital pin 13 (or built in pin on Galileo Gen1 &amp; Gen2)\nmyOnboardLed.dir(mraa.DIR_OUT); //set the gpio direction to output\nvar ledState = true; //Boolean to hold the state of Led\n\nperiodicActivity(); //call the periodicActivity function\n\nfunction periodicActivity()\n{\n  myOnboardLed.write(ledState?1:0); //if ledState is true then write a '1' (high) otherwise write a '0' (low)\n  ledState = !ledState; //invert the ledState\n  setTimeout(periodicActivity,1000); //call the indicated function after 1 second (1000 milliseconds)\n}\n</code></pre>\n\n<p>package.JSON:</p>\n\n<pre><code>{\n  \"name\": \"Onboard LED Blink App\",\n  \"description\": \"\",\n  \"version\": \"0.0.0\",\n  \"main\": \"main.js\",\n  \"engines\": {\n    \"node\": \"&gt;=0.10.0\"\n  },\n  \"dependencies\": {\n  }\n}\n</code></pre>\n"
    }, {
        "tags": ["azure", "iot", "intel-edison"],
        "is_answered": false,
        "view_count": 528,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1516391727,
        "creation_date": 1452240920,
        "last_edit_date": 1516391727,
        "question_id": 34672335,
        "link": "https://stackoverflow.com/questions/34672335/build-the-azure-iot-sdk-on-edison",
        "title": "Build the Azure IoT sdk on edison",
        "body": "<p>I am trying to run a C sample on Intel Edison like in :</p>\n\n<p><a href=\"https://github.com/neeraj-khanna/azure-iot-sdks/blob/master/c/doc/run_sample_on_intel_edison.md\" rel=\"nofollow\">https://github.com/neeraj-khanna/azure-iot-sdks/blob/master/c/doc/run_sample_on_intel_edison.md</a></p>\n\n<p>I am trying to Build the Azure IoT sdk ,\nI Set necessary environment variables </p>\n\n<pre><code>export CFLAGS=\"-I/home/root/qpid-proton/proton-c/include\"\n\nexport CPPFLAGS=\"-I/home/root/qpid-proton/proton-c/include\"\n\nexport LDFLAGS=\"-L/lib/\"\n</code></pre>\n\n<p>and try to run ./build.sh in azure-iot-sdks/c/build_all/Linux\nbut I am getting a error :</p>\n\n<pre><code>-- The C compiler identification is GNU 4.9.1\n-- The CXX compiler identification is GNU 4.9.1\n-- Check for working C compiler: /usr/bin/cc\n-- Check for working C compiler: /usr/bin/cc -- works\n-- Detecting C compiler ABI info\n-- Detecting C compiler ABI info - done\n-- Detecting C compile features\n-- Detecting C compile features - done\n-- Check for working CXX compiler: /usr/bin/c++\n-- Check for working CXX compiler: /usr/bin/c++ -- works\n-- Detecting CXX compiler ABI info\n-- Detecting CXX compiler ABI info - done\n-- Detecting CXX compile features\n-- Detecting CXX compile features - done\nCMake Error at CMakeLists.txt:27 (add_subdirectory):\n  add_subdirectory given source \"azure-c-shared-utility/c\" which is not an\n  existing directory.\n</code></pre>\n\n<p>Many thanks in advance !</p>\n"
    }, {
        "tags": ["c", "azure", "makefile", "iot", "intel-edison"],
        "is_answered": true,
        "view_count": 64,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1516391137,
        "creation_date": 1463746180,
        "last_edit_date": 1516391137,
        "question_id": 37346397,
        "link": "https://stackoverflow.com/questions/37346397/azure-iot-hub-and-mraa-on-intel-edison",
        "title": "Azure IoT Hub and MRAA on Intel Edison",
        "body": "<p>Currently I have to send sensor data I receive on my Intel Edison to Azure IoT Hub. I have the samples from IoT working and the sensor receiving data but connecting the two isn't really working out.</p>\n\n<p>I tried merging the code from the sensor in the sample from <strong>Azure IoT hub</strong> (this one: <a href=\"https://github.com/Azure/azure-iot-sdks/blob/master/c/iothub_client/samples/iothub_client_sample_http/iothub_client_sample_http.c\" rel=\"nofollow\">https://github.com/Azure/azure-iot-sdks/blob/master/c/iothub_client/samples/iothub_client_sample_http/iothub_client_sample_http.c</a>)</p>\n\n<p>But this file has a complex make file and I cant seem to include my <strong>MRAA</strong> pin library (<a href=\"https://github.com/intel-iot-devkit/mraa\" rel=\"nofollow\">Low Level Skeleton Library for IO Communication on GNU/Linux platforms</a>). </p>\n\n<p>Is there a way to include the MRAA library or a simple IoT sample I can easily modify without this huge and complex make file.</p>\n"
    }, {
        "tags": ["android", "iphone", "web-services", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 54,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1514888780,
        "creation_date": 1514883734,
        "last_edit_date": 1514888780,
        "question_id": 48058135,
        "link": "https://stackoverflow.com/questions/48058135/iot-api-for-uploading-images-videos-and-viewing-them-via-smartphone-app",
        "title": "IoT API for uploading images/videos and viewing them via smartphone app",
        "body": "<p>I have setup a raspberry pi to capture images periodically. Currently I am syncing these images to my personal Google Drive account. This way I can watch the latest picture on my smartphone.</p>\n\n<p>I am wondering if there is a ready-to-use web service (provided by some company) that allows me to upload images/videos and to see them using a ready-to-use app for my smartphone without using the more generic Google Drive app. Can you recommend a service? Thanks in advance.</p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": true,
        "view_count": 125,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1511983778,
        "creation_date": 1498654828,
        "last_edit_date": 1498659854,
        "question_id": 44803246,
        "link": "https://stackoverflow.com/questions/44803246/how-does-azure-iot-edge-detect-new-modules",
        "title": "How does Azure IoT Edge detect new modules?",
        "body": "<p>In an Azure IoT Edge solution when a module gets pushed from the cloud to the edge, how does IoT Edge detect it?</p>\n\n<p>Does it entail any change of code to the module that's been pushed to make it work on the edge? I really didn't find sufficient documentation on this. It would be really helpful to throw some examples or provide some links to some enlightening documentation.</p>\n"
    }, {
        "tags": ["c", "iot", "contiki"],
        "is_answered": true,
        "view_count": 427,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1511534870,
        "creation_date": 1492885921,
        "question_id": 43563068,
        "link": "https://stackoverflow.com/questions/43563068/contiki-os-selective-forward-attack-trying-to-edit-uip6-c",
        "title": "Contiki OS - Selective Forward Attack, trying to edit uip6.c",
        "body": "<p>I am trying to implement an intrusion detection system(IDS) for IoT, and now I want to implement a selective forward attack to test the IDS. </p>\n\n<p>To do this, I want to drop all packets that are not destined for that specific node or is not RPL control messages. </p>\n\n<p>Currently, I have found out that the datapackets are forwarded in the file /core/net/ipv6/uip6.c. However, because I want some nodes to be \"nice\" nodes and some nodes to be malicious, I am struggeling to understand how to modify the uip6.c file for only the malicious file. I have tried to create seperate files, but I can not import the modified uip6.c file (I also created an modified uip.h file in net/ip/uip.h). Even though I in the malicious node include the modified uip.h file and not the original, the malicious node still forward the message from the original uip6.c file. Can someone explain why or explain other possibilites to how I can implement a selective forward attack?</p>\n\n<p>Thanks!</p>\n"
    }, {
        "tags": ["azure", "cloud", "visual-studio-2017", "iot"],
        "is_answered": true,
        "view_count": 153,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1510048273,
        "creation_date": 1504238047,
        "question_id": 45993085,
        "link": "https://stackoverflow.com/questions/45993085/missing-argument-connectionstring-in-azure-iot-hub-and-devices-simulators-projec",
        "title": "Missing argument connectionString in Azure iot hub and devices simulators project",
        "body": "<p>I have this issue: <a href=\"https://github.com/kentstroker/IoT-Live-2017/issues/4\" rel=\"nofollow noreferrer\">https://github.com/kentstroker/IoT-Live-2017/issues/4</a></p>\n\n<p>I'm almost solving so I need two answers:\n<a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-live-data-visualization-in-web-apps\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-live-data-visualization-in-web-apps</a></p>\n\n<p>In Application settings,  under App settings (in azure portal) whant I put in key/value pairs to <strong><em>Azure.IoT.IoTHub.ConnectionString</em></strong> (the name or de value key)</p>\n\n<p><strong>Because I have already tried putting it in various ways and never connects, always back error 500</strong></p>\n\n<p>Can you help to solve this issue?</p>\n"
    }, {
        "tags": ["raspberry-pi", "iot", "android-things"],
        "is_answered": true,
        "view_count": 576,
        "favorite_count": 0,
        "score": 6,
        "last_activity_date": 1507718404,
        "creation_date": 1497019509,
        "question_id": 44460700,
        "link": "https://stackoverflow.com/questions/44460700/why-does-pressing-one-button-trigger-handler-for-both",
        "title": "Why does pressing one button trigger handler for both",
        "body": "<p>I am running Android Things 0.4 on a Raspberry Pi.  I was following this tutorial to the letter:</p>\n\n<p><a href=\"https://developer.android.com/things/training/first-device/peripherals.html\" rel=\"noreferrer\">https://developer.android.com/things/training/first-device/peripherals.html</a></p>\n\n<p>Once I go the first button working, I decided I wanted to add a second button prior to continuing to the led portion of the tutorial.  I know the hardware set up was correct for the first button, so I duplicated it for the second, but for a reason I cannot understand the buttons do not behave as expected.  The first button triggers the event listener for both buttons.  The second button will on trigger one direction and will not trigger again until the first button is pressed after the second button is pressed.</p>\n\n<p>I am an experienced Android developer but very new to IoT and Things.  Here is my code:</p>\n\n<pre><code>public class MainActivity extends Activity {\nprivate static final String TAG = \"ButtonActivity\";\nprivate static final String INC_BUTTON_PIN_NAME = \"BCM4\"; // GPIO port wired to the button\nprivate static final String DEC_BUTTON_PIN_NAME = \"BCM17\"; // GPIO port wired to the button\n\nprivate Gpio mIncButtonGpio;\nprivate Gpio mDecButtonGpio;\n\nHandler mHandler = new Handler(Looper.getMainLooper());\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    PeripheralManagerService service = new PeripheralManagerService();\n    try {\n        // Step 1. Create GPIO connection.\n        mIncButtonGpio = service.openGpio(INC_BUTTON_PIN_NAME);\n        mDecButtonGpio = service.openGpio(DEC_BUTTON_PIN_NAME);\n        // Step 2. Configure as an input.\n        mIncButtonGpio.setDirection(Gpio.DIRECTION_IN);\n        mDecButtonGpio.setDirection(Gpio.DIRECTION_IN);\n        // Step 3. Enable edge trigger events.\n        mIncButtonGpio.setEdgeTriggerType(Gpio.EDGE_FALLING);\n        mDecButtonGpio.setEdgeTriggerType(Gpio.EDGE_FALLING);\n        // Step 4. Register an event callback.\n        mIncButtonGpio.registerGpioCallback(mIncCallback);\n        mDecButtonGpio.registerGpioCallback(mDecCallback);\n    } catch (IOException e) {\n        Log.e(TAG, \"Error on PeripheralIO API\", e);\n    }\n}\n\n// Step 4. Register an event callback.\nprivate GpioCallback mIncCallback = new GpioCallback() {\n    @Override\n    public boolean onGpioEdge(Gpio gpio) {\n        Log.i(TAG, \"GPIO changed, INC button pressed\");\n\n        // Step 5. Return true to keep callback active.\n        return true;\n    }\n};\n\nprivate GpioCallback mDecCallback = new GpioCallback() {\n    @Override\n    public boolean onGpioEdge(Gpio gpio) {\n        Log.i(TAG, \"GPIO changed, DEC button pressed\");\n\n        // Step 5. Return true to keep callback active.\n        return true;\n    }\n};\n\n@Override\nprotected void onDestroy() {\n    super.onDestroy();\n\n    // Step 6. Close the resource\n    if (mIncButtonGpio != null) {\n        mIncButtonGpio.unregisterGpioCallback(mIncCallback);\n        try {\n            mIncButtonGpio.close();\n        } catch (IOException e) {\n            Log.e(TAG, \"Error on PeripheralIO API\", e);\n        }\n    }\n    if (mDecButtonGpio != null) {\n        mDecButtonGpio.unregisterGpioCallback(mDecCallback);\n        try {\n            mDecButtonGpio.close();\n        } catch (IOException e) {\n            Log.e(TAG, \"Error on PeripheralIO API\", e);\n        }\n    }\n}\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hQJqW.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/hQJqW.jpg\" alt=\"Hardware Config\"></a>\nHere is my logcat after  pressing the first button 1 time:</p>\n\n<pre><code>06-09 14:33:21.717 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, INC button pressed\n06-09 14:33:21.718 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n</code></pre>\n\n<p>Here it is after pressing the second button right after the first:</p>\n\n<pre><code>06-09 14:33:21.717 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, INC button pressed\n06-09 14:33:21.718 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n06-09 14:33:58.047 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n</code></pre>\n\n<p>Here is what it looks like if I press the first button, then press the second 4 times, then press the first again:</p>\n\n<pre><code>06-09 14:39:06.804 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, INC button pressed\n06-09 14:39:06.804 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n06-09 14:39:08.846 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n06-09 14:39:11.377 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, INC button pressed\n06-09 14:39:11.377 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n06-09 14:39:11.510 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, INC button pressed\n06-09 14:39:11.510 1393-1393/com.maddesa.iottest I/ButtonActivity: GPIO changed, DEC button pressed\n</code></pre>\n\n<p>Like I said I am very new to IoT and things, but I just want to have two separate buttons that consistently trigger separate handlers.</p>\n\n<p>Thanks.</p>\n"
    }, {
        "tags": ["azure", "raspberry-pi", "connect", "iot"],
        "is_answered": false,
        "view_count": 174,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1507185191,
        "creation_date": 1507072519,
        "last_edit_date": 1507185191,
        "question_id": 46554790,
        "link": "https://stackoverflow.com/questions/46554790/etimedout-and-get-twin-message-error-when-connecting-raspberry-pi-to-azure-iot",
        "title": "Etimedout and get twin message error when connecting Raspberry-Pi to Azure IoT",
        "body": "<p>I am trying to use this tutorial <a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-raspberry-pi-kit-node-get-started\" rel=\"nofollow noreferrer\">Connect Raspberry Pi to Azure IoT Hub (Node.js)</a></p>\n\n<p>It is about connecting from Raspberry-Pi to Azure IoT.</p>\n\n<p>But I found error like this:</p>\n\n<pre><code>pi@raspberrypi:~/iot-hub-node-raspberrypi-client-app $ sudo node index.js 'HostName=CarHub.azure-devices.net;DeviceId=CarDevice;SharedAccessKey=oVxb0JUFrJPIeJy+gk5HnAW75GUo7c+u+Xt'\n\n{[Error: ETIMEDOUT, Connection timed out] errno: 110, code: 'ETIMEDOUT', syscall: 'writeByte'}\n    get twin message error\n    get twin message error\n    get twin message error\n</code></pre>\n\n<p>Maybe someone knows how to make it right? How to make the tutorial works?\nThank you very much before.</p>\n\n<p>When I iothub_explorer list, it shows like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9HEas.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HEas.jpg\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["c#", "winforms", "azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 79,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1505196092,
        "creation_date": 1505160914,
        "question_id": 46163724,
        "link": "https://stackoverflow.com/questions/46163724/microsoft-device-client-too-heavy-for-windows-formaplicattion",
        "title": "Microsoft Device client too heavy for Windows FormAplicattion",
        "body": "<p>OS: Windows10</p>\n\n<p>SDK: Microsoft.Azure.Devices v1.3.2</p>\n\n<p>Language: C#</p>\n\n<p>Hello, I\u00b4m developing a Windows Form Application on C#. In this app, I\u00b4m sending messages to my IoT Hub using the NuGet Packet <strong>Microsoft.Azure.Devices v1.3.2</strong> and receive those messages on a raspberry pi.\nOny with this package install, the app is about 30 MB, and that\u00b4s ok for me.\nThe problem is that I need to receive messages from the IoT Hub in this app too, so what I did is to install the NuGetPacket <strong>Microsoft.Azure.Devices.Client v1.5.0</strong> that help me receive messages, but if I install this package, it increases the weight of the app like 300 MB more, and that\u00b4s way to heavier than I want it.</p>\n\n<p>My question is, is there other way to receive message from my IoT Hub in my Windows Form Application without all that extra weight? Am I missing a package to help me do that in a more easy way?\nThank you in advance.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub", "azure-iot-sdk", "azure-iot-suite"],
        "is_answered": true,
        "view_count": 380,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1504322371,
        "creation_date": 1504241526,
        "last_edit_date": 1504322371,
        "question_id": 45993475,
        "link": "https://stackoverflow.com/questions/45993475/an-unhandled-exception-of-type-system-formatexception-occurred-in-microsoft-az",
        "title": "An unhandled exception of type &#39;System.FormatException&#39; occurred in Microsoft.Azure.Devices.dll",
        "body": "<p>I'm referring this <a href=\"https://docs.microsoft.com/en-in/azure/iot-hub/iot-hub-csharp-csharp-getstarted\" rel=\"nofollow noreferrer\">tutorial</a> to create a device identity. However, getting an exception as below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RtoUs.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RtoUs.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here is my config file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/1JqYB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1JqYB.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Edit:<br>\nWhat is this Instrumentation key and value in App.Config? I just copied from the sample code. However, from where can I get it, in case I'm using a real device?</p>\n\n<p>Am I missing any SDK or anything else? \nDo I need to download something extra? the tutorial does not suggest anything.\nEven when I'm running sample code from GiTHub getting the same error.</p>\n"
    }, {
        "tags": ["iot", "azure-iot-hub", "azure-stream-analytics"],
        "is_answered": false,
        "view_count": 435,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1503012501,
        "creation_date": 1502728266,
        "question_id": 45679004,
        "link": "https://stackoverflow.com/questions/45679004/not-able-to-filter-messages-based-on-header-properties-in-azure-stream-analytics",
        "title": "Not able to filter messages based on header properties in Azure Stream analytics",
        "body": "<p>I have created an Azure Stream Analytics (ASA) job to filter data based on a custom header property i send from a client app.</p>\n\n<p>How would i read/filter message header properties in Azure stream analytics?\nThe portal return no results when i try to test out my query. Below is my query in azure portal.</p>\n\n<p>So far this is my query as simple as this:</p>\n\n<pre><code>SELECT\n    *\nINTO\n    [mystorage]\nFROM\n    [iothubin]\nWHERE  Properties.type = \"type1\"\n</code></pre>\n\n<p>I also tried to call out the key without its parent (such as: where type = \"\") with no results as well. </p>\n\n<p>I am sure that i am sending messages with this custom property in the header since i can view it using device explorer tool.</p>\n\n<p>any idea how to get this working?</p>\n"
    }, {
        "tags": ["wso2", "iot", "wso2iot"],
        "is_answered": true,
        "view_count": 148,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1502968259,
        "creation_date": 1490812284,
        "last_edit_date": 1493512376,
        "question_id": 43101415,
        "link": "https://stackoverflow.com/questions/43101415/wso2-iot-creating-a-new-device-type",
        "title": "WSO2 IoT: Creating a new device type",
        "body": "<p>I am creating the new device from the documentation provided in this link (<a href=\"https://github.com/wso2/carbon-device-mgt-maven-plugin.git\" rel=\"nofollow noreferrer\">https://github.com/wso2/carbon-device-mgt-maven-plugin.git</a>). </p>\n\n<p>I performed the following  steps </p>\n\n<p>Step 1: Installing the Maven Archetype. Everything went okay! The maven archtype installed was     </p>\n\n<pre><code>git clone -b v1.0.0 --single-branch https://github.com/wso2/carbon-device-mgt-maven-plugin.git\n</code></pre>\n\n<p>In Step 2: Creating a new device type, when I perform the command <code>mvn archetype: generate -DarchetypeCatalog = local</code>. The output does not show me the archetype for me to choose. Look at the output of this command:</p>\n\n<pre><code>C:\\Users\\eliazar.carvalho\\Documents\\Tools\\WSO2\\wso2iot-3.0.0\\samples&gt;mvn archetype:generate -DarchetypeCatalog=local\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ---------------------------------------------------------------------    ---\n[INFO] Building Maven Stub Project (No POM) 1\n[INFO] ------------------------------------------------------------------------\n[INFO]\n[INFO] &gt;&gt;&gt; maven-archetype-plugin:3.0.0:generate (default-cli) &gt; generate-sources @ standalone-pom &gt;&gt;&gt;\n[INFO]\n[INFO] &lt;&lt;&lt; maven-archetype-plugin:3.0.0:generate (default-cli) &lt; generate-sources @ standalone-pom &lt;&lt;&lt;\n[INFO]\n[INFO] --- maven-archetype-plugin:3.0.0:generate (default-cli) @ standalone-pom ---\n[INFO] Generating project in Interactive mode\n[INFO] No archetype defined. Using maven-archetype-quickstart (org.apache.maven.archetypes:maven-archetype-quickstart:1.0)\nChoose archetype:\nYour filter doesn't match any archetype (hint: enter to return to initial list)\nChoose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): :\n</code></pre>\n\n<p>What could be going wrong?</p>\n\n<p>I am using WSO2 IoT Server 3.0\nand OS: Ubuntu 14.04 LTS</p>\n"
    }, {
        "tags": ["java", "node.js", "amazon-web-services", "iot", "aws-iot"],
        "is_answered": true,
        "view_count": 211,
        "favorite_count": 0,
        "score": -3,
        "last_activity_date": 1502849954,
        "creation_date": 1502847749,
        "question_id": 45703879,
        "link": "https://stackoverflow.com/questions/45703879/lambda-function-for-aws-iot-button-in-java",
        "title": "Lambda function for AWS IOT Button in java",
        "body": "<p>I want to develop java lambda function to identify AWS IOT button click events. I want to identify \"SINGLE\" Click , double-click and Long press events of AWS IOT button. \nAbove all are possible in node.js. Is there any support available in Java to identify AWS IOT button click events?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 53,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1501488581,
        "creation_date": 1501450835,
        "question_id": 45404965,
        "link": "https://stackoverflow.com/questions/45404965/ibm-iot-for-electronics-welcome-page-not-working-not-showing-fields-for-auth-ke",
        "title": "ibm iot for electronics welcome page not working. Not showing fields for Auth Key,API Key and ORG ID",
        "body": "<p>ibm iot for electronics service welcome page not working. Not showing fields for Auth Key,API Key and ORG ID. I am following this iBM DOC\n[<a href=\"https://console-regional.ng.bluemix.net/docs/starters/IoTElectronics-starter/iotelectronics_dashboard.html#iot4e_enabledashboard]\" rel=\"nofollow noreferrer\">https://console-regional.ng.bluemix.net/docs/starters/IoTElectronics-starter/iotelectronics_dashboard.html#iot4e_enabledashboard]</a></p>\n"
    }, {
        "tags": ["macos", "azure", "arduino", "iot"],
        "is_answered": true,
        "view_count": 52,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1500836787,
        "creation_date": 1500665848,
        "last_edit_date": 1500836787,
        "question_id": 45245490,
        "link": "https://stackoverflow.com/questions/45245490/azure-iot-hub-for-cc3200-ti-and-energia-mac-os-sierra",
        "title": "Azure IoT Hub for CC3200 TI and Energia mac OS Sierra",
        "body": "<p>I need to connect my CC3200 Launchpad to IoT Hub from Energia. I followed a tutorial: <a href=\"https://github.com/farukc/AzureIoTHub-TI-CC3200\" rel=\"nofollow noreferrer\">https://github.com/farukc/AzureIoTHub-TI-CC3200</a>, but this one is using CodeComposer which is not available for Mac OS. I run the CC3200 project in Energia, but on Serial Monitor Terminal I received a weird coded message: </p>\n\n<blockquote>\n  <p>z\u00d2rZzXBH(\u00faXX{\u00ffFRBX\u00fe\u00c2@\u00deXJJ,</p>\n</blockquote>\n\n<p>and I have no idea what's going on. </p>\n"
    }, {
        "tags": ["java", "raspberry-pi", "iot", "windows-10-iot-core"],
        "is_answered": true,
        "view_count": 3622,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1500708531,
        "creation_date": 1500633652,
        "question_id": 45235569,
        "link": "https://stackoverflow.com/questions/45235569/can-windows-10-iot-on-raspberry-pi-3-run-java-program-well",
        "title": "Can Windows 10 iot on Raspberry Pi 3 run java program well?",
        "body": "<p>i got an assignment on running programs in Raspberry Pi 3. The assignment is to make a program that can simulate a parking gate via Raspberry Pi 3, so it will contain commands like printing from the usb and receiving input via button. My main programming language is java, so i'm planning to use java for the Raspberry Pi 3. \nSo can Windows 10 IOT run most of the basic functions in Java?</p>\n"
    }, {
        "tags": ["amazon-web-services", "iot"],
        "is_answered": true,
        "view_count": 191,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1500223209,
        "creation_date": 1499902829,
        "question_id": 45069181,
        "link": "https://stackoverflow.com/questions/45069181/can-i-connect-an-old-aws-iot-button-to-aws",
        "title": "Can I connect an old AWS IoT button to AWS?",
        "body": "<p>I've recently got hold of what I presume is a \"first edition\" Amazon IoT button that was handed out at a re:Invent event a few years ago, and I'm having difficulty setting it up on today's AWS. It looks like this: <a href=\"http://tinypic.com/r/2hgckz4/9\" rel=\"nofollow noreferrer\">http://tinypic.com/r/2hgckz4/9</a>.</p>\n\n<p>I have tried:</p>\n\n<ul>\n<li>The ConfigureMe Wi-Fi route: I can select the wireless network <em>but I cannot upload the certificate</em>. There is simply not a box to do it. The ConfigureMe screen looks like this: <a href=\"https://imgur.com/9sawJjS\" rel=\"nofollow noreferrer\">http://imgur.com/9sawJjS</a>. When I press Configure, the button connects to Wi-Fi (I think) but then displays red flashes I guess because it can't securely connect to AWS. </li>\n<li>The AWS IoT iOS app, which doesn't make any progress beyond the spinner when after connecting to the Wi-Fi network.</li>\n<li>The Amazon Shopping app setup for Dash Buttons, which successfully connects via Bluetooth and emits some ultrasound pips, but then fails for an unspecified reason.</li>\n</ul>\n\n<p>Is my button too old? It seems to be missing the certificate upload box and the screen doesn't match the documentation. Is there any way I can get this button to connect to AWS IoT now?</p>\n"
    }, {
        "tags": ["powershell", "azure", "iot", "azure-powershell", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 201,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1499952079,
        "creation_date": 1499928615,
        "last_edit_date": 1499952079,
        "question_id": 45073310,
        "link": "https://stackoverflow.com/questions/45073310/error-while-deploying-locally-azure-iot-remote-monitoring-suite",
        "title": "Error while deploying locally - Azure IOT remote monitoring suite",
        "body": "<p>Team,</p>\n\n<p>We are trying out this IOT remote monitoring suite from github. We are trying to first deploy that locally instead of Azure and hence we have followed the document mentioned here <a href=\"https://github.com/Azure/azure-iot-remote-monitoring/blob/master/Docs/local-deployment.md\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-remote-monitoring/blob/master/Docs/local-deployment.md</a></p>\n\n<p>Also, we have followed the pre-requisites over here <a href=\"https://github.com/Azure/azure-iot-remote-monitoring/blob/master/Docs/dev-setup.md\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-remote-monitoring/blob/master/Docs/dev-setup.md</a></p>\n\n<p>We then come over to my developer command prompt (running as admin) but we end up having error:</p>\n\n<blockquote>\n  <p>Get-AzureEnvironment : The 'Get-AzureEnvironment' command was found in\n  the module 'Azure', but the module could not be loaded. For more\n  information, r 'Import-Module Azure'. At\n  C:\\Users\\swagh\\Downloads\\azure-iot-remote-monitoring-master\\azure-iot-re\n  -monitoring-master\\Common\\Deployment\\PrepareIoTSample.ps1:14 char:14\n  +         if ((Get-AzureEnvironment AzureCloud) -eq $null)\n  +              ~~~~~~~~~~~~~~~~~~~~\n      + CategoryInfo          : ObjectNotFound: (Get-AzureEnvironment:String)    , CommandNotFoundException\n      + FullyQualifiedErrorId : CouldNotAutoloadMatchingModule</p>\n  \n  <p>Get-AzureRMEnvironment : The 'Get-AzureRMEnvironment' command was\n  found in module 'AzureRM', but the module could not be loaded. For\n  more information, run 'Import-Module AzureRM'.</p>\n</blockquote>\n\n<p>The modules has been imported successfully but not sure why it fails while building the soln locally. Tried setting the execution policy to bypass, unrestricted. Also scoped to the current user but its not helping.</p>\n\n<p>We have run out of ideas. Can anyone help please?</p>\n"
    }, {
        "tags": ["iot", "android-sensors", "azure-iot-hub", "azure-hub"],
        "is_answered": false,
        "view_count": 350,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1499853528,
        "creation_date": 1499680985,
        "last_edit_date": 1499853528,
        "question_id": 45009171,
        "link": "https://stackoverflow.com/questions/45009171/how-can-i-push-the-data-collected-from-iot-devices-to-microsoft-azure-iot-hub",
        "title": "How can I push the data collected from IoT devices to Microsoft Azure IoT hub?",
        "body": "<p>I need to connect my cell phone to the IoT sensors (Say BLEs) and collect the data which needs to be sent or stored into Azure.How can I do that? Is there any App (preferably mobile App) through which I can handle my IoT devices and push the data to MS Azure using any gateways? If yes, how can I do that? Links of any articles or materials and videos related to this will be helpful. Thanks.</p>\n"
    }, {
        "tags": ["linux", "iot", "raspberry-pi3", "cumulocity"],
        "is_answered": true,
        "view_count": 317,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1499668892,
        "creation_date": 1499508119,
        "question_id": 44984911,
        "link": "https://stackoverflow.com/questions/44984911/raspberry-pis-linux-agent-unable-to-connect-cumulocity-platform",
        "title": "raspberry pi&#39;s linux agent unable to connect cumulocity platform",
        "body": "<p>I am trying to connect my cumulocity-rpi-agent to cumulocity so that I can have two options either accept or cancel. But right now I am unable to to see accpet option for my device.</p>\n\n<pre><code>1) wget http://resources.cumulocity.com/examples/cumulocity-rpi-agent-latest.deb\n2) sudo dpkg -i cumulocity-rpi-agent-latest.deb\n</code></pre>\n\n<p>I have executed these commands \nthen i have hit <code>dpkg --list</code> list command and <code>cumulocity-rpi-agent</code> now visible in result.\nBut my problem begins after above steps and can't proceed to next (When agent is installed, you should update the configuration file which is usually located at \"./cfg/cumulocity-config.properties\" and fill the host property value. Open Cumulocity in a web browser and go to the \"Registration\" page. Enter the serial number that you wrote down in the previous step and click \"Register Device\".) \nI cant find <code>./cfg/cumulocity-config.properties</code> these directory and file after installation</p>\n\n<p>I refereed and followed <a href=\"https://www.cumulocity.com/guides/devices/raspberry-pi/\" rel=\"nofollow noreferrer\">https://www.cumulocity.com/guides/devices/raspberry-pi/</a> this link</p>\n\n<p>I hit the <code>sudo rebbot</code> to get the accept button on cumulocity platform to accept device</p>\n"
    }, {
        "tags": ["azure", "iot", "windowsiot"],
        "is_answered": false,
        "view_count": 208,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1498144251,
        "creation_date": 1497522244,
        "last_edit_date": 1497590553,
        "question_id": 44565056,
        "link": "https://stackoverflow.com/questions/44565056/cmake-files-not-found-while-building-azure-iot-edge-in-raspberry-pi-3",
        "title": "cmake files not found while building Azure IoT edge in Raspberry Pi 3",
        "body": "<p>I am trying to <strong>install azure IoT edge</strong> on a <strong>raspberry pi 3.0</strong> to forward device-to-cloud messages to <strong>IoT hub</strong>. I took the help of the following link:</p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-iot-edge-physical-device\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/azure/iot-hub/iot-hub-iot-edge-physical-device</a></p>\n\n<p>When I'm trying to build the Azure IoT edge using the command \"./tools/build.sh\" ,\nthe following error comes up.\n\"<strong>Cmake error at /usr/share/cmake-3.6/Modules/FindPkgConfig.cmake:646(message): None of the required 'gio-unix-2.0' found.</strong></p>\n\n<p><strong>Configuring incomplete, errors occured!</strong>\nPlease help me out.\nThank you in advance.</p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 802,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1498072441,
        "creation_date": 1492591243,
        "last_edit_date": 1492672514,
        "question_id": 43490633,
        "link": "https://stackoverflow.com/questions/43490633/azure-iot-hub-operations-monitoring",
        "title": "Azure IoT Hub Operations Monitoring",
        "body": "<p>I have an Azure IoT hub that I connect devices to. I want to enable monitoring to monitor devices connecting and disconnecting from the hub. </p>\n\n<p>I've enabled Verbose on Connections in the monitoring categories for my Iot hub:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fzFIO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fzFIO.png\" alt=\"enter image description here\"></a></p>\n\n<p>My devices connect to my Hub and show in Device Explorer:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9WLuj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9WLuj.png\" alt=\"enter image description here\"></a></p>\n\n<p>I then have an Azure Function set to log my data from the Operations Monitoring to an Azure SQL db:</p>\n\n<pre><code>using System;\nusing System.Configuration;\nusing System.Data.SqlClient;\nusing Newtonsoft.Json;\n\npublic static void Run(string myEventHubMessage, TraceWriter log)\n{\n    log.Info(myEventHubMessage);\n\n    try\n    {\n        var connectionString = ConfigurationManager.ConnectionStrings[\"iotAzureSQLDb\"].ConnectionString;\n\n        log.Info(connectionString);\n        var message = JsonConvert.DeserializeObject&lt;MonitoringMessage&gt;(myEventHubMessage);\n\n        using (var connection = new SqlConnection(connectionString))\n        {\n            var sqlStatement = \"insert into [dbo].[DeviceStatuses] \" +\n                                \"(DeviceId, ConnectionStatus, ConnectionUpdateTime)\" +\n                                \"values \" +\n                                \"(@DeviceId, @ConnectionStatus, @ConnectionUpdateTime)\";\n            using (var dataCommand = new SqlCommand(sqlStatement, connection))\n            {\n                dataCommand.Parameters.AddWithValue(\"@ConnectionStatus\", message.operationName);\n                dataCommand.Parameters.AddWithValue(\"@DeviceId\", message.deviceId);\n                dataCommand.Parameters.AddWithValue(\"@ConnectionUpdateTime\", message.time);\n\n                connection.Open();\n                dataCommand.ExecuteNonQuery();\n                connection.Close();\n\n                log.Info($\"Device {message.deviceId} changed state: {message.operationName}\");\n            }\n        }\n    }\n    catch (Exception ex)\n    {\n        log.Info(ex.Message);\n    }\n}\n\npublic class MonitoringMessage\n{\n    public string deviceId { get; set; }\n    public string operationName { get; set; }\n    public int? durationMs { get; set; }\n    public string authType { get; set; }\n    public string protocol { get; set; }\n    public DateTimeOffset? time { get; set; }\n    public string category { get; set; }\n    public string level { get; set; }\n    public int? statusCode { get; set; }\n    public int? statusType { get; set; }\n    public string statusDescription { get; set; }\n}\n</code></pre>\n\n<p>If I enable Device Identity Operations in Operations Monitoring, I get create events being logged. So I'm confident the inputs to the function is correct. However, nothing is ever created for Connections???</p>\n\n<p>I can also send messages to my connected devices fine. I'm just seeing no events for connections / disconnections.</p>\n\n<p>I've also tried creating a Stream Analytics and sampling the input for a period where I know I have connections / disconnections and nothing is being found.</p>\n"
    }, {
        "tags": ["java", "android", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1057,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1497941093,
        "creation_date": 1497885294,
        "question_id": 44634222,
        "link": "https://stackoverflow.com/questions/44634222/send-message-from-android-mobile-app-to-azure-iot-hub",
        "title": "Send message from Android mobile app to Azure IoT Hub",
        "body": "<p>For an IoT project, we need to send messages from mobile application (iOS and Android) to Azure IoT Hub. We were able to do it connecting as a device using MQTT library. However, the device simulator too connect as a device and since both uses same device ID, the existing connection is dropped when both connect to IoT Hub at the same time.</p>\n\n<p>We realized we need to connect mobile apps as a service (not as a device) and for that some research shows we need to use following library.</p>\n\n<p><a href=\"https://github.com/Azure/azure-iot-sdk-java\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-sdk-java</a></p>\n\n<p><a href=\"https://github.com/Azure/azure-iot-sdk-java/blob/master/service/iot-service-samples/service-client-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/ServiceClientSample.java\" rel=\"nofollow noreferrer\">https://github.com/Azure/azure-iot-sdk-java/blob/master/service/iot-service-samples/service-client-sample/src/main/java/samples/com/microsoft/azure/sdk/iot/ServiceClientSample.java</a></p>\n\n<p>However, this java sample uses lot of java specific implementations and which are not supported by Android.</p>\n\n<p>Has anyone faced the same problem?</p>\n\n<ol>\n<li>Which library can we use to achieve above from Android mobile application?</li>\n<li>Which library can we use to achieve above from iOS mobile application?</li>\n</ol>\n\n<p>Please let me know if any alternate solution is available.</p>\n"
    }, {
        "tags": ["rabbitmq", "iot"],
        "is_answered": false,
        "view_count": 60,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1497251452,
        "creation_date": 1497251452,
        "question_id": 44493335,
        "link": "https://stackoverflow.com/questions/44493335/how-should-i-send-messages-from-a-simulated-mqtt-device-to-sql-database-using-ra",
        "title": "How should I send messages from a simulated MQTT device to SQL database using RabbitMQ?",
        "body": "<p>I am following the tutorial - <a href=\"https://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html\" rel=\"nofollow noreferrer\">https://www.rabbitmq.com/tutorials/tutorial-one-dotnet.html</a></p>\n\n<p>It gives the code for device as</p>\n\n<pre><code>using System;\nusing RabbitMQ.Client;\nusing System.Text;\n\nclass Send\n{\n     public static void Main()\n    {    \n        var factory = new ConnectionFactory() { HostName = \"localhost\" };\n        using(var connection = factory.CreateConnection())\n        using(var channel = connection.CreateModel())\n        {\n            channel.QueueDeclare(queue: \"hello\",\n                                 durable: false,\n                                 exclusive: false,\n                                 autoDelete: false,\n                                 arguments: null);\n\n            string message = \"Hello World!\";\n            var body = Encoding.UTF8.GetBytes(message);\n\n            channel.BasicPublish(exchange: \"\",\n                                 routingKey: \"hello\",\n                                 basicProperties: null,\n                                 body: body);\n            Console.WriteLine(\" [x] Sent {0}\", message);\n        }\n\n        Console.WriteLine(\" Press [enter] to exit.\");\n        Console.ReadLine();\n        }\n    }\n</code></pre>\n\n<p>And the Receiver as </p>\n\n<pre><code>using RabbitMQ.Client;\nusing RabbitMQ.Client.Events;\nusing System;\nusing System.Text;\n\nclass Receive\n {\n     public static void Main()\n     {\n        var factory = new ConnectionFactory() { HostName = \"localhost\" };\n        using(var connection = factory.CreateConnection())\n        using(var channel = connection.CreateModel())\n        {\n            channel.QueueDeclare(queue: \"hello\",\n                                 durable: false,\n                                 exclusive: false,\n                                 autoDelete: false,\n                                 arguments: null);\n\n            var consumer = new EventingBasicConsumer(channel);\n            consumer.Received += (model, ea) =&gt;\n            {\n                var body = ea.Body;\n                var message = Encoding.UTF8.GetString(body);\n                Console.WriteLine(\" [x] Received {0}\", message);\n            };\n            channel.BasicConsume(queue: \"hello\",\n                                 noAck: true,\n                                 consumer: consumer);\n\n            Console.WriteLine(\" Press [enter] to exit.\");\n            Console.ReadLine();\n        }  \n    }\n}\n</code></pre>\n\n<p>This sends the message from one terminal on my pc to the other terminal.\nBut I want to send and store the messages to my SQL server. What all things I have to do for that.\nP.S. I am not much of a developer so you have to elaborate your answer</p>\n"
    }, {
        "tags": ["angularjs", "ibm-cloud", "geospatial", "iot"],
        "is_answered": true,
        "view_count": 72,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1496259660,
        "creation_date": 1496054485,
        "question_id": 44240486,
        "link": "https://stackoverflow.com/questions/44240486/how-to-get-entry-and-exit-message-on-geospatial-analytics-in-ibm-bluemix",
        "title": "How to get &quot;Entry&quot; and &quot;Exit&quot; message on geospatial analytics in IBM bluemix",
        "body": "<p>I am working on IBM Bluemix IOT application.I created devices and I am getting maps successfully. I created geospatial analytics service in bluemix also. In maps I am able to create geofence. When car enters geofence it is successfully giving entry message. But when car exits ,its not showing exit message. </p>\n\n<pre><code>Subscriptions.geoAlerts = new Subscription(window.config.notifyTopic, function(msg) {\n        if (!msg.destinationName.match(window.config.notifyTopic)) { return; }\n        try {\n            var data = JSON.parse(msg.payloadString);\n            console.log(data);\n            var id = data.deviceInfo.id;\n//JR: Custom GEO notification\n            //var text = data.eventType;\n            var text = \"Entry\";\n\n            var fgColor = \"white\"; \n            var bgColor = \"rgba(0,0,0,0.8)\"; \n            var duration = 2000;\n\n            var c = demo.getCar(id);\n            if (c) {\n                c.addOverlay(text, duration, bgColor, fgColor);\n            }\n            /*\n            var id = data.id;\n            var text = data.text;\n            var fgColor = data.fgColor || \"black\"; \n            var bgColor = data.bgColor || \"rgba(255,255,255,0.9)\"; \n            var duration = data.duration || 3000;\n\n            var c = demo.getCar(id);\n            if (c) {\n                c.addOverlay(text, duration, bgColor, fgColor);\n            }\n            */\n        } catch (e) { console.error(e.message); }\n    });\n</code></pre>\n\n<p>the above MQttClient.js I am using . Can any one give me suggestions highly appreciated. Thanks in advance</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "blockchain", "watson-iot"],
        "is_answered": false,
        "view_count": 147,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1494150996,
        "creation_date": 1489670466,
        "last_edit_date": 1489672618,
        "question_id": 42835324,
        "link": "https://stackoverflow.com/questions/42835324/how-to-add-blockchain-extension-in-ibm-iot",
        "title": "how to add blockchain extension in ibm IoT",
        "body": "<p>I am facing problem while adding blockchain extension to IoT service.That extension is not opend at all. Anyone can help me to resolve this problem.</p>\n"
    }, {
        "tags": ["java", "azure", "iot"],
        "is_answered": false,
        "view_count": 470,
        "favorite_count": 0,
        "score": -3,
        "last_activity_date": 1490172071,
        "creation_date": 1490090394,
        "question_id": 42923737,
        "link": "https://stackoverflow.com/questions/42923737/turning-led-on-off-using-java-and-azure-iot",
        "title": "Turning LED on/off using java and azure IOT",
        "body": "<p>Can anyone help us. How to communicate with the azure IOT by working on internet of things using java. Help Us one sample example for turning LED on/off using java and azure IOT.</p>\n"
    }, {
        "tags": ["linux", "azure", "iot", "beagleboneblack"],
        "is_answered": false,
        "view_count": 48,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1489391097,
        "creation_date": 1489391097,
        "question_id": 42758605,
        "link": "https://stackoverflow.com/questions/42758605/azure-iot-sdk-build-gives-error",
        "title": "Azure IoT SDK build gives error",
        "body": "<p>I am trying to wok with Azure IoT in Beagebone black in Debian linux.</p>\n\n<p>While building the SDK it gives the error.\n I am following the same code in Git. I did not modify anything.</p>\n\n<p>Please help me to solve this.\nPlease see the screenshot of the error\n<a href=\"https://i.stack.imgur.com/vnmtz.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n"
    }, {
        "tags": ["python-2.7", "post", "httprequest", "iot", "ifttt"],
        "is_answered": true,
        "view_count": 2048,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1488807705,
        "creation_date": 1488728185,
        "last_edit_date": 1488807219,
        "question_id": 42610287,
        "link": "https://stackoverflow.com/questions/42610287/assigning-values-to-ifttt-maker-ingredient-variables-from-a-python-request",
        "title": "Assigning values to IFTTT Maker &quot;ingredient&quot; variables from a Python &#39;request&#39;",
        "body": "<p>According to <a href=\"http://www.makeuseof.com/tag/ifttt-connect-anything-maker-channel/\" rel=\"nofollow noreferrer\">documentation available</a> on the Web, it should be possible to invoke a IFTTT Maker recipe with</p>\n\n<pre><code>import requests\npayload = \"{ 'value1' : 'P', 'value2' : 'Q', 'value3' : 'R'}\"\nrequests.post(\"https://maker.ifttt.com/trigger/TRIGGER/with/key/KEY\", data=payload)\n</code></pre>\n\n<p>This successfully involves the recipe. But all of the ingredient values ('value1', etc.) are blank in the response.</p>\n\n<p>The corresponding <code>curl</code> successfully sets the values:</p>\n\n<pre><code>curl -X POST -H \"Content-Type: application/json\" -d '{\"value1\":\"P\",\"value2\":\"Q\",\"value3\":\"R\"}' https://maker.ifttt.com/trigger/TRIGGER/with/key/KEY\n</code></pre>\n\n<p>How do I supply a payload to the request that correctly assigns these values?</p>\n"
    }, {
        "tags": ["arduino", "iot", "esp8266"],
        "is_answered": true,
        "view_count": 221,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1488239840,
        "creation_date": 1488239444,
        "last_edit_date": 1488239656,
        "question_id": 42497906,
        "link": "https://stackoverflow.com/questions/42497906/pin-interrupt-being-inconsistent",
        "title": "Pin interrupt being inconsistent",
        "body": "<p>I'm trying out some beginner Arduino programming. </p>\n\n<p>The task is to make the board I have (ESP8266) play some music and then the music should stop when I press the button, and then restart when I press it again.</p>\n\n<p>Here's my code,</p>\n\n<pre><code>#include \"pitches.h\" // contains frequencies for notes\n#define PIN_BUTTON 0 // the button\n#define PIN_BUZZER 13 // the digital pin the Buzzer is attached to\n\nbool stop = false; // button pressed\n\nvoid play_note(int freq){\n    if (freq &gt; 0 &amp;&amp; !stop){\n      analogWrite(PIN_BUZZER, 512);\n      analogWriteFreq(freq);\n    } else {\n      analogWrite(PIN_BUZZER, 0);\n    }\n}\n\nvoid stopMusic(){\n  stop = !stop;\n  play_note(0);\n}\n\nvoid setup() {\n  pinMode(PIN_BUZZER, OUTPUT);\n  pinMode(PIN_BUTTON, INPUT_PULLUP);\n  attachInterrupt(digitalPinToInterrupt(PIN_BUTTON), stopMusic, RISING);\n}\n\nvoid loop() {\n\n  // intro\n  play_note(NOTE_E7);\n  delay(110);\n  play_note(NOTE_E7);\n  delay(220);\n  play_note(NOTE_E7);\n  delay(220);\n  play_note(NOTE_C7);\n  delay(110);\n  play_note(NOTE_E7);\n  delay(220);\n  play_note(NOTE_G7);\n  delay(440);\n  play_note(NOTE_G6);\n  delay(440);\n}\n</code></pre>\n\n<p>The problem is, that the button is being inconsistent. Sometimes, on pressing it, the music will immediately stop. Other times, it will keep playing and I'll have to press it once or twice more. Similarly, when I want the music to start again, it will sometimes start as soon as I press the button, but other times I will need to press it twice or more to get the music back up. I don't know whats causing this. Suggestions?</p>\n"
    }, {
        "tags": ["c#", "azure", "model-view-controller", "iot"],
        "is_answered": true,
        "view_count": 949,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1487161849,
        "creation_date": 1487139186,
        "last_edit_date": 1487161849,
        "question_id": 42241921,
        "link": "https://stackoverflow.com/questions/42241921/concepts-of-iothub-data-on-event-hub",
        "title": "Concepts of IoTHub data on Event Hub",
        "body": "<p>I am new to IoTHub.I have a basic query on how the data is to be ... when sent to IoTHub\\EventHub.\nFrom my reading I see both -  <code>IoT Hub and Event Hub</code> - as different entities.</p>\n\n<p><strong>My Requirement</strong></p>\n\n<ol>\n<li>I need to develop an app that would send data from Raspberry Pi3 device to IoT Hub</li>\n<li>Another Web App to subscribe this telemetry data and display(push) on Graph showing real time data (and temperature display ...) ===> A Dashboard to display data.</li>\n</ol>\n\n<p><strong>My Query</strong></p>\n\n<p>What should I be using   <code>IoT Hub or Event Hub</code> to publish\\subscribe my data?</p>\n\n<p><strong>What I have tried</strong></p>\n\n<p>I have created a sample console app to send\\receive data to IoT Hub (specifying IoT Hub url\\connection string\\device key ...) ===> It worked fine.</p>\n\n<p>When I tried to receive the data from IoT Hub to display on a Graph in an Web App I couldn't get it done and take it forward. \nSo I moved on to <code>EventHub</code> \n <em>(Or do we have any possibility here from IotHub to achieve my goal?)</em> </p>\n\n<p>===> created a sample Console App to send Data to Event Hub(with event hub connection string,storage key ...)</p>\n\n<p>===> created a Web App (employed WebSocket\\SignalR) to subscribe the data from EventHub partition and push to UI to draft the graph.</p>\n\n<p>===> This works fine. </p>\n\n<p>===> But I need to send data to Event Hub from my device Raspberry Pi 3 developing app in UWP. Here I get stuck as in UWP there is no support for  Azure Service Bus. Tried AMPQNetLite dll too; but have not yet succeeded as some or the other issue blocks.</p>\n\n<p><strong>Next Steps</strong></p>\n\n<p>Kindly give me your suggestion and pointers on what is the right step next to implement a solution for my requirement.</p>\n"
    }, {
        "tags": ["node.js", "authentication", "amqp", "iot", "azure-eventhub"],
        "is_answered": true,
        "view_count": 94,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1486487492,
        "creation_date": 1486384581,
        "last_edit_date": 1486459298,
        "question_id": 42067986,
        "link": "https://stackoverflow.com/questions/42067986/azure-event-hub-amqp1-0-sender-with-sastoken",
        "title": "Azure Event Hub AMQP1.0 Sender with SAStoken",
        "body": "<p>I am currently trying to send information to Azure Event Hub with <a href=\"https://www.npmjs.com/package/amqp10\" rel=\"nofollow noreferrer\">AMQP1.0</a> client for node.js.\nI need to authenticate through SAStoken.</p>\n\n<p>I cannot use SASkey and SASKeyName that would look like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var uri = protocol + '://' + encodeURIComponent(sasName) + ':' + encodeURIComponent(sasKey) + '@' + serviceBusHost;\n</code></pre>\n\n<p>Does anyone know how can I configure amqp10 or any other library to authenticate through SAStoken?</p>\n"
    }, {
        "tags": ["node.js", "amazon-web-services", "button", "lambda", "iot"],
        "is_answered": false,
        "view_count": 585,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1485894140,
        "creation_date": 1485805757,
        "last_edit_date": 1485894140,
        "question_id": 41944265,
        "link": "https://stackoverflow.com/questions/41944265/how-to-interact-with-amazons-iot-programmable-buttons-led-light",
        "title": "How to interact with Amazon&#39;s IoT programmable button&#39;s LED light",
        "body": "<p>I'm using node.js to create a Lambda function in Amazon Web Services that an IoT button invokes when pressed. The IoT button has a small LED that lights up green if the function was executed successfully and red if there was an error. I'm wondering if there's any way to control the LED more than that? I know it flashes white during the configuration process. I've read through quite a bit of documentation and can't find anything on controlling the LED. Does anyone here know much about it or have suggestions on how to tell the button to change the color, brightness or duration of its LED?</p>\n\n<p>I think it's going to be done with an object sent through Lambda's callback function but I have no idea what format the object needs to be in for it to make sense to the IoT button.</p>\n\n<pre><code>callback(Error error, Object success) \n</code></pre>\n\n<p>I might add that I do have everything up and working - I don't need help setting up my button. I also know what the button sends Lambda when it's pressed:</p>\n\n<pre><code>{ \n  \"serialNumber\": \"0000000000000000\",\n  \"batteryVoltage\": \"xxmV\",\n  \"clickType\": \"SINGLE\" | \"DOUBLE\" | \"LONG\"\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>So I found where someone <a href=\"https://github.com/dekuNukem/Amazon_Dash_Button/blob/master/firmware%20dump/Cottonelle_%20stringified.txt\" rel=\"nofollow noreferrer\">dumped the firmware</a> for one of the non-programmable dash buttons and I found this:</p>\n\n<pre><code>Usage: led &lt;r&gt; &lt;g&gt; &lt;b&gt;\nUsage: led &lt;mode&gt; &lt;r&gt; &lt;g&gt; &lt;b&gt;\n    Modes: 'b'==blink; 'f'==fade\nIlluminating LED with RGB(%x,%x,%x) color=%8x\n</code></pre>\n\n<p>I don't know what to do with it yet though...</p>\n"
    }, {
        "tags": ["azure", "iot", "nodemcu", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 612,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1485764432,
        "creation_date": 1457088608,
        "last_edit_date": 1459895273,
        "question_id": 35794120,
        "link": "https://stackoverflow.com/questions/35794120/https-to-http-azure-iot-hub",
        "title": "HTTPS to HTTP Azure IoT Hub",
        "body": "<p>I'm new to Microsoft Azure IoT Hub. Is there any way I can change or convert HTTPS to HTTP? I use NodeMCU esp8266 to send Data to Azure IoT Hub. But It only said \" Connected \" and it didn't monitor or return value Json in Device Explorer.</p>\n"
    }, {
        "tags": ["docker", "containers", "ibm-cloud", "iot", "watson-iot"],
        "is_answered": false,
        "view_count": 89,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1485758139,
        "creation_date": 1472134282,
        "last_edit_date": 1472135152,
        "question_id": 39147639,
        "link": "https://stackoverflow.com/questions/39147639/connecting-ibm-containers-dockers-to-watson-iot-service-instance",
        "title": "Connecting IBM Containers (Dockers) to Watson IoT service instance",
        "body": "<p>I wonder if I can connect my Dockers running in IBM Containers service with a Watson IoT service instance (of course, running in the same organization and space).</p>\n\n<p>I can always assign a public IP to my Docker and connect through the public IP but I think that makes no sense and there is an alternative like I do with other services using something like</p>\n\n<pre><code>-e \"CCS_BIND_SRV=My-IoT-Service\"\n</code></pre>\n\n<p>when starting the Docker.</p>\n"
    }, {
        "tags": ["arduino", "ibm-cloud", "iot", "watson-iot"],
        "is_answered": true,
        "view_count": 134,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1484031525,
        "creation_date": 1483937285,
        "last_edit_date": 1483988521,
        "question_id": 41541177,
        "link": "https://stackoverflow.com/questions/41541177/cannot-connect-to-ibm-bluemix-quickstart-with-the-following-code",
        "title": "Cannot connect to ibm bluemix quickstart with the following code",
        "body": "<pre><code>                    #include &lt;SPI.h&gt;\n                     #include &lt;Ethernet.h&gt;\n                      #include &lt;PubSubClient.h&gt;\n\n\n         byte mac[] = { 0xde, 0xed, 0xba, 0xfe, 0xfe, 0xed};\n          String macstr=\"deedbafefeed\";\n         byte ip[]     = {192,168,1,1 };\n\n\n\n        char servername[]=\"quickstart.messaging.internetofthings.ibmcloud.com\";\n    String clientName = String(\"d:quickstart:iotsample-arduino:\")+macstr;\n    String topicName = String(\"iot-2/evt/ledstat/fmt/json\");\n\n    float tempF = 0.0;\n    float tempC = 0.0;\n         float humidity = 0.0;\n     EthernetClient ethClient;\n\n    PubSubClient client(servername, 1883,0,ethClient);\n\n     void setup()\n        {\n\n         Ethernet.begin(mac,ip);\n         Serial.begin(9600);\n\n        }\n\n        void loop()\n           {\n        char clientStr[324];\n        clientName.toCharArray(clientStr,324);\n        char topicStr[26];\n        topicName.toCharArray(topicStr,26);\n         getData();\n        if (!client.connected()) {\n        Serial.println(client.connected()); \n           Serial.print(\"Trying to connect to: \");\n          Serial.println(clientStr);\n       client.connect(clientStr);\n       Serial.println(client.connected());\n          Serial.print(\"attempt to send \");\n       Serial.println(buildJson());\n         delay(20000);\n      } \n      if (client.connected() ) {\n       String json = buildJson();\n      char jsonStr[200];\n         json.toCharArray(jsonStr,200);\n       boolean pubresult = client.publish(topicStr,jsonStr);\n        Serial.print(\"attempt to send \");\n          Serial.println(jsonStr);\n           Serial.print(\"to \");\n           Serial.println(topicStr);\n            if (pubresult)\n             Serial.println(\"successfully sent\");\n       else\n             Serial.println(\"unsuccessfully sent\");\n            }\n     delay(5000);\n     }\n\n    String buildJson() {\n    String data = \"\\n{\";\n       data+=\"\\n\";\n       data+= \"\\\"d\\\": {\";\n     data+=\"\\n\";\n      data+=\"\\\"myName\\\": \\\"Arduino DHT11\\\",\";\n     data+=\"\\n\";\n         data+=\"\\\"temperature (F)\\\": \";\n       data+=(int)tempF;\n       data+= \",\";\n       data+=\"\\n\";\n       data+=\"\\\"temperature (C)\\\": \";\n         data+=(int)tempC;\n         data+= \",\";\n          data+=\"\\n\";\n          data+=\"\\\"humidity\\\": \";\n          data+=(int)humidity;\n         data+=\"\\n\";\n          data+=\"}\";\n           data+=\"\\n\";\n          data+=\"}\";\n         return data;\n         }\n\n      void getData() {\n      int  chk=0;\n          switch (chk)\n           {\n        case 0: \n          Serial.println(\"Read OK\"); \n            humidity = 90;\n                tempF = 12;\n           tempC = 56;      \n           break;\n         case -1: \n            Serial.println(\"Checksum error\"); \n              break;\n            case -2: \n               Serial.println(\"Time out error\"); \n             break;\n           default: \n             Serial.println(\"Unknown error\"); \n            break;\n             }\n          }\n</code></pre>\n\n<p>the mac address when given in upper case also gives the same result. Trying any other mac address doesn't show any thing connected on the quickstart website.</p>\n\n<p>The output of serial monitor and what is shown on the quickstart website is shown below\n<a href=\"https://i.stack.imgur.com/AIPp6.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": true,
        "view_count": 343,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1483650260,
        "creation_date": 1483646205,
        "last_edit_date": 1483650260,
        "question_id": 41493624,
        "link": "https://stackoverflow.com/questions/41493624/how-to-reduce-costs-with-azure-iot-suite",
        "title": "How to reduce costs with Azure IoT Suite?",
        "body": "<p>I started a IoT monitoring solution with azureiotsuite.com. This provisioned multiple services on my Azure account, which have dramatically increased the compute costs. The image shows all that have been provisioned for the suite:<p> <a href=\"https://i.stack.imgur.com/rzTuc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rzTuc.png\" alt=\"enter image description here\"></a> <p> All of these services have been provisioned within the same resource group. I would like to experiment further with the IoT suite, but not have things running while I'm not working on it. <p>\n<strong>Edit</strong> <p>\nAzure provisions two plans with Event Hubs, IoT Hubs, multiple storage and stream analytics instances. Although impressive, it is costly. <p> Can I stop or deallocate these services easily, or is the best course of action to provision and delete every time?</p>\n"
    }, {
        "tags": ["java", "rdf", "sparql", "jena", "iot"],
        "is_answered": false,
        "view_count": 89,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1482990514,
        "creation_date": 1421914803,
        "last_edit_date": 1421945272,
        "question_id": 28084061,
        "link": "https://stackoverflow.com/questions/28084061/how-to-annotate-sensor-data",
        "title": "How to annotate sensor data?",
        "body": "<p>From last few days I am trying to annotate the data received from the sensors. Data mostly consists of different readings from sensor nodes. For the same I followed some books and covered tutorial at <a href=\"https://jena.apache.org/getting_started/index.html\" rel=\"nofollow\">https://jena.apache.org/getting_started/index.html</a>. Tutorials and lessons followed mostly pertain to RDF, SPARQL and Ontologies usage. But still I am not getting how to annotate sensor data. Can anybody give me some pointer or give link to some practical source so that I can do the same.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 2717,
        "favorite_count": 2,
        "score": 2,
        "last_activity_date": 1481099659,
        "creation_date": 1481022353,
        "question_id": 40993836,
        "link": "https://stackoverflow.com/questions/40993836/does-the-azure-iot-hub-support-the-coap-protocol",
        "title": "Does the Azure IoT Hub support the CoAP protocol?",
        "body": "<p>Does the Azure IoT Hub support the CoAP protocol? I've only found external references like <a href=\"https://redmondmag.com/articles/2016/02/05/azure-iot-hub-general-availability.aspx\" rel=\"nofollow noreferrer\">this one</a> but nothing on their website.</p>\n"
    }, {
        "tags": ["iot", "cumulocity"],
        "is_answered": true,
        "view_count": 201,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1480594960,
        "creation_date": 1471959171,
        "question_id": 39102704,
        "link": "https://stackoverflow.com/questions/39102704/cumulocity-graph-directive",
        "title": "Cumulocity graph directive",
        "body": "<p>I am creating angularJS custom app based on cumulocity. Is there a directive that I could use in SDK showing the graphs? I asked about this also from cumulocity support and the answer was that their graphs are done with D3 and they also gave me this link <a href=\"http://krispo.github.io/angular-nvd3/#/\" rel=\"nofollow\">http://krispo.github.io/angular-nvd3/#/</a> How can I fetch the data for this graph if they do not provide me directive out of the box?</p>\n\n<p>For example if I select gateway and child device how do I fetch data for the selected machines? </p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": false,
        "view_count": 102,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1479408509,
        "creation_date": 1479376879,
        "last_edit_date": 1479387598,
        "question_id": 40651831,
        "link": "https://stackoverflow.com/questions/40651831/unable-to-stream-data-on-ibm-watson-iot-quick-start-even-though-device-is-connec",
        "title": "Unable to stream data on IBM Watson IoT quick start even though device is connected",
        "body": "<p>Currently I am testing a connection using IBM Watson IoT quick start to stream the data from my device. I am using a Java SDK to get the data off, and I am running into an issue with visualising the data. The device state is connected, however, no data is displayed on the quick start menu. Please see the following link for the error.</p>\n\n<p>Any clue what might be issue: <a href=\"https://quickstart.internetofthings.ibmcloud.com/#/device/b827eb104681/sensor/\" rel=\"nofollow noreferrer\">https://quickstart.internetofthings.ibmcloud.com/#/device/b827eb104681/sensor/</a></p>\n"
    }, {
        "tags": ["node.js", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 383,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1478773681,
        "creation_date": 1478769538,
        "question_id": 40523852,
        "link": "https://stackoverflow.com/questions/40523852/how-to-make-use-of-function-apps-for-azure-iot-hub",
        "title": "How to make use of Function Apps for Azure IoT Hub?",
        "body": "<p>So I've been trying to generate a small function app (in JS) that responds to a message sent to the Azure IoT Hub. The output is a simple console log. However, I am unable to load the event hub compatible end point of the IoT Hub as the trigger (the only option available is to create a new Event Hub). How do I proceed? The code for the device to send to Azure' IoT Hub is working and I am able to view the messages via the Device Explorer tool.</p>\n"
    }, {
        "tags": ["java", "azure", "mqtt", "iot", "raspberry-pi3"],
        "is_answered": false,
        "view_count": 138,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1478655725,
        "creation_date": 1478280753,
        "last_edit_date": 1478281840,
        "question_id": 40428660,
        "link": "https://stackoverflow.com/questions/40428660/azure-java-iot-hub-mqtt-doesnt-connect",
        "title": "azure java iot hub mqtt doesnt connect",
        "body": "<p>the java samples in the sdk work fine in a machine with windows 10, but when i try to make it work in a raspberry pi 3 model B it doesnt connect, no matter what protocol i use, can someone help me, i provide all data neccesary.</p>\n\n<p>The next images show the information I got when I try to run it. It seems like the client doesnt open.\nIf it helps, the same raspberry pi 3 model B is sending data to the azure iot hub to be used in the stream analytics and then shown in power bi. That data is been sending in to a different hub, but i dont know if that is causing trouble with the hub im trying to use. That data ys using languague phyton.</p>\n\n<p>Im using this tutorial, azure-iot-sdks/blob/master/doc/get_started/java-run-sample.md and, again, in a machine with windows 10 works fine.</p>\n\n<p><img src=\"https://i.stack.imgur.com/tbHUn.png\" alt=\"amqps\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/84Upd.png\" alt=\"mqtt\"></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 234,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1478574153,
        "creation_date": 1478185738,
        "question_id": 40405027,
        "link": "https://stackoverflow.com/questions/40405027/do-devices-reconnect-if-iot-hub-restarts",
        "title": "Do devices reconnect if IoT Hub restarts?",
        "body": "<p>I'm wondering if devices connected to an IoT Hub reconnect to it (or if they just crash) if IoT Hub for some reason stops and starts again after a while. E.g. if the subscription runs out.</p>\n\n<p>I've been trying to test this but can't find out how to stop my IoT Hub and restart it.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": false,
        "view_count": 361,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1478122169,
        "creation_date": 1477769978,
        "last_edit_date": 1477951942,
        "question_id": 40322957,
        "link": "https://stackoverflow.com/questions/40322957/ibm-bluemix-404-error",
        "title": "IBM BlueMix-404 Error",
        "body": "<p>I am new to Bluemix and running into trouble when attempting to \"View App\" while it is running. This is using the Watson IoT Starter boilerplate. Git is connected.</p>\n\n<p>I have deleted and recreated that application multiple times but continue to encounter the same issue.</p>\n\n<pre><code>\"404 Not Found: Requested route ('courserastartapp.mybluemix.net') does not exist.\"\n</code></pre>\n\n<p>Is anyone else having the problem? Any suggestions?</p>\n"
    }, {
        "tags": ["azure", "raspberry-pi", "sensors", "iot", "windows-10-iot-core"],
        "is_answered": true,
        "view_count": 304,
        "favorite_count": 0,
        "score": -1,
        "last_activity_date": 1477644570,
        "creation_date": 1477402158,
        "question_id": 40241324,
        "link": "https://stackoverflow.com/questions/40241324/using-thermocouple-with-raspberry-pi-running-windows-iot",
        "title": "Using Thermocouple with Raspberry Pi running Windows IoT",
        "body": "<p>I am planning to develop a temperature monitoring system for sub zero temperatures. I have done a bit of research and decided the best way forward is to use the Raspberry Pi 3 with the Windows 10 IoT operating system, combined with a Thermocouple and the MAX31855 thermocouple amplifier. </p>\n\n<p>I am new to development on the Raspberry Pi and I am struggling to find any tutorials on how to use the thermocouple with windows 10 IoT effectively. There are countless tutorials on using the thermocouple and MAX31855, but I am unsure if i will be able to use the librarys and processing code that these tutorials offer due to the operating system that I am using. </p>\n\n<p>Is it advisable/suitable to continue with this plan of development or should I use a different operating system. </p>\n\n<p>The main reason I am using Windows 10 IoT is that I am going to connect the Raspberry Pis to Azure using the IoT hub. </p>\n\n<p>Thank you in Advance, any input is appreciated.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 139,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1474211646,
        "creation_date": 1458538301,
        "question_id": 36123792,
        "link": "https://stackoverflow.com/questions/36123792/connecting-libelium-smart-city-kit-to-bluemix-iotf",
        "title": "Connecting Libelium Smart City kit to Bluemix IoTF",
        "body": "<p>We have a libelium smart city kit, with which we have configured  ambient sensor module and are able to connect the sensors (Waspmote) to the gateway (Meshlium) Meshlium  is able receive the data from the sensors.</p>\n\n<p>We have followed the recipes for Libelium: \n<a href=\"https://developer.ibm.com/recipes/tutorials/bluemix-configuration-guide-for-meshlium/\" rel=\"nofollow\">https://developer.ibm.com/recipes/tutorials/bluemix-configuration-guide-for-meshlium/</a></p>\n\n<p>We set-up the API keys in bluemix and configured meshlium to connect bluemix, but blumix is not receiving the data yet.</p>\n\n<p>We are also able to ping to Bluemix from meshlium.</p>\n\n<p>Need some help on where we are going wrong and is there any additional set-up required both at Bluemix end and meshlium end.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 309,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1473054042,
        "creation_date": 1472939144,
        "question_id": 39311611,
        "link": "https://stackoverflow.com/questions/39311611/can-azure-remote-monitoring-iot-suite-preconfigured-solution-running-on-local-ma",
        "title": "Can Azure Remote Monitoring IoT Suite preconfigured solution running on local machine fully?",
        "body": "<p>We did explore the Microsoft IoT Suite preconfigured solution previously created via their portal and with this we realise it's pure 100% in Azure. Then we are exploring via GitHub and we found partially deployment can be done via dev machine and Azure. </p>\n\n<p>Can Azure Remote Monitoring IoT Suite preconfigured solution running on local machine fully (no Azure till it's fully working)? </p>\n\n<p>The reason we asked this due to IoT Azure is a bit pricy for development/demo around $200/month to operate even after we are configured with basic service as some Azure component can't downgrade to the free one once setup as higher service.</p>\n\n<p>Thanks for the input.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "watson-iot"],
        "is_answered": true,
        "view_count": 107,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1472785567,
        "creation_date": 1472747460,
        "last_edit_date": 1472785567,
        "question_id": 39276629,
        "link": "https://stackoverflow.com/questions/39276629/iot-phone-recipe-connects-but-not-sending-data",
        "title": "IoT Phone recipe connects but not sending data",
        "body": "<p>I am working with Bluemix tutorial recipe \"Real Time Data Analysis Using IBM Watson IoT Platform Analytics\" presented here:\n    <a href=\"https://developer.ibm.com/recipes/tutorials/real-time-data-analysis-using-ibm-watson-iot-platform-analytics\" rel=\"nofollow\">https://developer.ibm.com/recipes/tutorials/real-time-data-analysis-using-ibm-watson-iot-platform-analytics</a></p>\n\n<p>I am not seeing the behavior in my Watson IoT dashboard as described; the phone device does connect and register itself but I see no events or data. \nIn the node server logs a couple things seem concerning:</p>\n\n<ol>\n<li><p>404 on fetch of util.js; in fact that file is not in my code repository downloaded from the recipe's github.</p></li>\n<li><p>Three deprecated warnings:</p>\n\n<p>...deprecated multipart: use parser (multiparty, busboy, formidable) npm module instead at node_modules/express/node_modules/connect/lib/middleware/bodyParser.js:56:20</p>\n\n<p>...deprecated limit: Restrict request size at location of read at node_modules/express/node_modules/connect/lib/middleware/multipart.js:86:15</p>\n\n<p>...deprecated methodOverride: use method-override npm module instead at app.js:63:17</p></li>\n</ol>\n\n<p>The phone device shows some fluttering data values but stays in state \"connecting\". On the WatsonIoT dashboard it shows registered but \"Disconnected\".</p>\n\n<p>Is the missing util.js a fatal condition? If not then how next to troubleshoot it as I am new to the whole package?</p>\n"
    }, {
        "tags": ["amazon-web-services", "aws-sdk", "aws-lambda", "iot"],
        "is_answered": false,
        "view_count": 667,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1472191066,
        "creation_date": 1472094229,
        "question_id": 39136050,
        "link": "https://stackoverflow.com/questions/39136050/aws-iot-button-not-sending-email",
        "title": "AWS IoT Button not sending email",
        "body": "<p>Trying to following the tutorial at <a href=\"https://aws.amazon.com/iot/button/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/iot/button/</a>. It allows to use a click of IoT button to send an email to the specified account.</p>\n\n<p>The button is configured correctly as its shown active and enabled in the console. <a href=\"https://i.stack.imgur.com/G5r20.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G5r20.png\" alt=\"AWS IoT Console\"></a></p>\n\n<p>Clicking the button shows the following log:\n<a href=\"https://i.stack.imgur.com/EUmE9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EUmE9.png\" alt=\"CloudWatch Logs\"></a></p>\n\n<p>But no email is received. </p>\n\n<p>What is missing?</p>\n"
    }, {
        "tags": ["azure", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 103,
        "favorite_count": 0,
        "score": -2,
        "last_activity_date": 1470725844,
        "creation_date": 1470517369,
        "question_id": 38808687,
        "link": "https://stackoverflow.com/questions/38808687/error-when-connecting-azure-iot-suite-with-raspberry-pi",
        "title": "Error when connecting Azure IoT Suite with Raspberry Pi",
        "body": "<p>I am attempting to link my Raspberry Pi to my Azure IoT suite using <a href=\"https://azure.microsoft.com/en-us/documentation/samples/iot-hub-c-raspberrypi-getstartedkit/\" rel=\"nofollow\">this tutorial</a>.</p>\n\n<p>I get these <a href=\"http://i.stack.imgur.com/XjRAs.png\" rel=\"nofollow\">errors</a> when entering the following code into my terminal:</p>\n\n<pre><code>cd ~/azure-iot-sdks/\n\nsudo ~/azure-iot-sdks/c/build_all/linux/setup.sh   \n\nchmod +x ~/azure-iot-sdks/c/build_all/linux/build.sh\n\n~/azure-iot-sdks/c/build_all/linux/build.sh\n</code></pre>\n\n<p>Any help is appreciated, as I cannot wait to connect my Pi to Azure!</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 127,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1470161579,
        "creation_date": 1462465058,
        "last_edit_date": 1470161579,
        "question_id": 37055425,
        "link": "https://stackoverflow.com/questions/37055425/sensors-data-not-getting-pushed-into-ibm-bluemix",
        "title": "Sensors data not getting pushed into IBM Bluemix",
        "body": "<p>I have setup one meshlium gateway with four waspmote(AC_1, AC_2, SC_1, EN_1) devices, I have configured IBM Bluemix configuration in IoT Platforms page in the meshlium web manager. The devices are getting created in the IBM Bluemix IoTF(Watson IOTF) devices section. But sensors data not getting pushed into IBM Bluemix IoTF, in the recent logs(events) section of each devices. Could please help me out to resolve the issue.</p>\n\n<p>Current version of meshlium web manager is: 3.2.5 Model Kit\nMy sensors in the waspmote(AC_1) is sending data to meshlium in every 10 seconds.</p>\n\n<p>Bluemix Config. here:\n<a href=\"http://img4.imagetitan.com/img.php?image=13_meshlium_ibm_bluemix_cloud_connecttor_config.png\" rel=\"nofollow\">http://img4.imagetitan.com/img.php?image=13_meshlium_ibm_bluemix_cloud_connecttor_config.png</a></p>\n\n<p>Devices got created in IBM Bluemix IoTF(Watson IOTF):\n<a href=\"http://img4.imagetitan.com/img.php?image=13_meshlium_waspmote_devices_ibm_bluemix.png\" rel=\"nofollow\">http://img4.imagetitan.com/img.php?image=13_meshlium_waspmote_devices_ibm_bluemix.png</a></p>\n"
    }, {
        "tags": ["ios", "iphone", "azure", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1477,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1469573130,
        "creation_date": 1452149204,
        "last_edit_date": 1469573130,
        "question_id": 34648910,
        "link": "https://stackoverflow.com/questions/34648910/calling-azure-iot-hub-from-iphone",
        "title": "Calling Azure IoT Hub from IPhone",
        "body": "<p>I followed the Azure IoT tutorial at:</p>\n\n<p><a href=\"https://azure.microsoft.com/en-us/documentation/articles/iot-hub-csharp-csharp-getstarted/\" rel=\"nofollow\">https://azure.microsoft.com/en-us/documentation/articles/iot-hub-csharp-csharp-getstarted/</a></p>\n\n<p>and everything works great.</p>\n\n<p>I now have a new requirement, which is to connect to the IoT hub from an iPhone. In the C# example, I had to download the appropriate NuGet package (Microsoft.Azure.Devices.Client) and use the <code>DeviceClient</code> class.</p>\n\n<p>Is there a similar \"package\" available for iPhone development? How can an iOS device connect to the Azure IoT hub?</p>\n"
    }, {
        "tags": ["javascript", "azure", "push-notification", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1347,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1469570417,
        "creation_date": 1466787963,
        "last_edit_date": 1469570417,
        "question_id": 38018717,
        "link": "https://stackoverflow.com/questions/38018717/azure-iot-push-notifications",
        "title": "Azure IoT Push notifications",
        "body": "<p>I'm little confused by using Azure IoT Hub. I can't figure out how is it possible to trigger api function of sending push notifications for iOS/Android stored on Azure by IoT device using IoT Hub?</p>\n\n<p>Any help would be appreciated!</p>\n"
    }, {
        "tags": ["c#", "wpf", "visual-studio", "xaml", "iot"],
        "is_answered": false,
        "view_count": 955,
        "favorite_count": 0,
        "closed_date": 1467806473,
        "score": 0,
        "last_activity_date": 1467801097,
        "creation_date": 1467801097,
        "question_id": 38221867,
        "link": "https://stackoverflow.com/questions/38221867/change-slider-colour-in-xaml-c",
        "title": "Change Slider Colour in XAML C#",
        "body": "<p>I'm sure this is an extremely easy question but cannot seem to figure it out. I have two sliders in my app using c# and xaml. The problem I am encountering is I cannot change the colour of the little slide tab from the standard pink when it is not clicked. I can change the colour of the bar goth left and right using foreground and background just not the actual slider tab itself. Not sure if it is worth noting but in the designer it's blue.<a href=\"http://i.stack.imgur.com/QK2sD.jpg\" rel=\"nofollow\">Picture of the slider tab in question</a></p>\n\n<p>Thanks in advance.</p>\n"
    }, {
        "tags": ["windows-10", "iot"],
        "is_answered": true,
        "view_count": 881,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1467302970,
        "creation_date": 1467285390,
        "question_id": 38121551,
        "link": "https://stackoverflow.com/questions/38121551/microphone-input-on-w10-iot-core",
        "title": "Microphone input on W10 IoT Core",
        "body": "<p>How can I enable the microphone input on Windows 10 IoT Core? I can't change it in the Device Portal. Does the mini-jack double as a mic input connector?</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-stream-analytics", "azure-machine-learning-studio"],
        "is_answered": true,
        "view_count": 610,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1467284456,
        "creation_date": 1467278958,
        "question_id": 38119062,
        "link": "https://stackoverflow.com/questions/38119062/pulling-data-from-stream-analytics-to-azure-machine-learning",
        "title": "Pulling data from Stream Analytics to Azure Machine Learning",
        "body": "<p>Working on a IoT telemetry project that receives humidity and weather pollution data from different sites on the field. I will then apply Machine Learning on the collected data. I'm using Event Hubs and Stream Analytics. Is there a way of pulling the data to Azure Machine Learning without the hassle of writing an application to get it from Stream Analytics and push to AML web service?</p>\n"
    }, {
        "tags": ["webcam", "iot", "windows-10-iot-core"],
        "is_answered": true,
        "view_count": 514,
        "favorite_count": 1,
        "score": 1,
        "last_activity_date": 1466629392,
        "creation_date": 1466618462,
        "question_id": 37975225,
        "link": "https://stackoverflow.com/questions/37975225/windows-10-iot-webcam-microsoft-lifecam-vx-700",
        "title": "Windows 10 IoT WebCam - Microsoft LifeCam VX-700",
        "body": "<p>This webcam (Microsoft LifeCam VX-700) can record from Rasberry Pi 3 Model B. The FPS is somewhere from 3-5 FPS on this sample <a href=\"https://codeload.github.com/ms-iot/samples/legacy.zip/master\" rel=\"nofollow\">https://codeload.github.com/ms-iot/samples/legacy.zip/master</a> (WebCamSample). Anyway to improve the FPS?</p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": true,
        "view_count": 60,
        "favorite_count": 0,
        "score": -2,
        "last_activity_date": 1466600213,
        "creation_date": 1466515615,
        "question_id": 37945790,
        "link": "https://stackoverflow.com/questions/37945790/looking-for-sample-code-to-test-iot-hub-dm-api",
        "title": "Looking for sample code to test IoT Hub DM API",
        "body": "<p>Where can I find sample code for implementing the Azure IoT Hub Device Management features? Looking at <a href=\"https://github.com/Azure/azure-iot-sdks\" rel=\"nofollow\">https://github.com/Azure/azure-iot-sdks</a> there doesn't seem to be any samples on this.</p>\n"
    }, {
        "tags": ["ubuntu", "makefile", "mqtt", "iot", "mosquitto"],
        "is_answered": false,
        "view_count": 152,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1465683971,
        "creation_date": 1465676070,
        "last_edit_date": 1465679745,
        "question_id": 37768118,
        "link": "https://stackoverflow.com/questions/37768118/error-compiling-make-mosquitto-1-4-8",
        "title": "Error compiling [make] Mosquitto 1.4.8",
        "body": "<p>I want to install MQTT server on Ubuntu.</p>\n\n<p>I'm following: <a href=\"https://www.digitalocean.com/community/questions/how-to-setup-a-mosquitto-mqtt-server-and-receive-data-from-owntracks\" rel=\"nofollow noreferrer\">https://www.digitalocean.com/community/questions/how-to-setup-a-mosquitto-mqtt-server-and-receive-data-from-owntracks</a></p>\n\n<p>I'm at Step 2: Install Mosquitto.\nA problem occurs when I input <code>commands &gt;&gt;&gt; make</code>...</p>\n\n<p><a href=\"https://i.stack.imgur.com/WCAD8.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCAD8.jpg\" alt=\"Console Image\"></a></p>\n"
    }, {
        "tags": ["azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 687,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1465164942,
        "creation_date": 1456843134,
        "question_id": 35725763,
        "link": "https://stackoverflow.com/questions/35725763/iot-hub-message-processor",
        "title": "IOT hub message processor",
        "body": "<p>Having some trouble processing messages created in the Azure IoT Hub.</p>\n\n<p>Getting the following eror:  Exception thrown: 'Microsoft.ServiceBus.Messaging.Amqp.AmqpException' in Microsoft.ServiceBus.dll (\"An AMQP error occurred (condition='amqp:link:redirect').\")</p>\n\n<p>Can anyone point me in the right direction?</p>\n\n<p>Regards,\nJonas</p>\n\n<pre><code>using System;\nusing System.Collections.Generic;\nusing System.Linq;\nusing System.Text;\nusing System.Threading.Tasks;\nusing Microsoft.ServiceBus.Messaging;\n\nnamespace IOTHubMessageProcessor\n{\n    class Program\n    {\n        static string connectionString = \"HostName=yaddaaaa.azure-devices.net;SharedAccessKeyName=iothubowner;SharedAccessKey=keydataasdss+tacsCxwkWQeUm9sMCc2GHnQkIZHM=\";\n        static string iotHubD2cEndpoint = \"messages/events\";\n        static EventHubClient eventHubClient;\n        static void Main(string[] args)\n        {\n\n            Console.WriteLine(\"Receive messages\\n\");\n            eventHubClient = EventHubClient.CreateFromConnectionString(connectionString, iotHubD2cEndpoint);\n\n            var d2cPartitions = eventHubClient.GetRuntimeInformation().PartitionIds;\n\n            foreach (string partition in d2cPartitions)\n            {\n                ReceiveMessagesFromDeviceAsync(partition);\n            }\n            Console.ReadLine();\n        }\n\n\n        private async static Task ReceiveMessagesFromDeviceAsync(string partition)\n        {\n            var eventHubReceiver = eventHubClient.GetDefaultConsumerGroup().CreateReceiver(partition, DateTime.UtcNow);\n\n            while (true)\n            {\n                EventData eventData = await eventHubReceiver.ReceiveAsync();\n                if (eventData == null) continue;\n\n                string data = Encoding.UTF8.GetString(eventData.GetBytes());\n                Console.WriteLine(string.Format(\"Message received. Partition: {0} Data: '{1}'\", partition, data));\n            }\n        }\n    }\n}\n</code></pre>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 508,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1464337827,
        "creation_date": 1433296757,
        "last_edit_date": 1433371224,
        "question_id": 30609589,
        "link": "https://stackoverflow.com/questions/30609589/ibm-bluemix-ibm-iot-out-node-configuration-for-arduino-example",
        "title": "IBM Bluemix - IBM IOT out node configuration for Arduino example",
        "body": "<p>I have the <a href=\"http://www.ibm.com/developerworks/cloud/library/cl-bluemix-arduino-iot1/index.html\" rel=\"nofollow\">IBM tutorial on using Arduino+Bluemix</a>, up and running. I would now like to take a decision on the cloud and let the Arduino subscribe to a topic containing the decision message. For this, I am trying to use the <a href=\"http://i.stack.imgur.com/by6ev.jpg\" rel=\"nofollow\">IBM IOT out node</a> in my Node-RED editor. However, I am not sure of how to configure this node. </p>\n\n<p>Are there any tutorials that cover this use-case (IBM IOT out node + Arduino, MQTT)- or documentation on the node properties?</p>\n\n<p>Thanks.\nNK</p>\n"
    }, {
        "tags": ["java", "azure", "mqtt", "iot", "azure-iot-hub"],
        "is_answered": true,
        "view_count": 1858,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1463994692,
        "creation_date": 1463819471,
        "last_edit_date": 1463982132,
        "question_id": 37360627,
        "link": "https://stackoverflow.com/questions/37360627/mqtt-on-azure-iot-hub-error-initializing-mqtt-connectionnot-authorized-to-con",
        "title": "MQTT on Azure IOT Hub : Error initializing MQTT connection:Not authorized to connect",
        "body": "<p>I am trying to use Microsoft Azure IOT Hub to demonstrate connecting my device to IOT Hub and send messages using mqtt protocol.\nI have an account and created device and SAS with TTL as required. I am using java client SDK given by microsoft azure to connect but my connection is not authorized.\nI have followed all the steps as given in the below URL:\n<a href=\"https://azure.microsoft.com/en-us/documentation/articles/iot-hub-mqtt-support/\" rel=\"nofollow\">https://azure.microsoft.com/en-us/documentation/articles/iot-hub-mqtt-support/</a>\nPlease help me in this regards. My logs are below:</p>\n\n<p>Logs:</p>\n\n<pre><code>MqttIotHubConnection.open() connectionOptions=\n============== Connection options ==============\nCleanSession : false\nSocketFactory : null\nMqttVersion : 4\nKeepAliveInterval : 20\nConTimeout : 30\nUserName : PCSIOTHub.azure-devices.net/MQ...\nSSLProperties : null\nWillDestination : null\n\n\nException in thread \"main\" java.io.IOException: Error initializing MQTT connection:Not authorized to connect\nat com.microsoft.azure.iothub.transport.mqtt.MqttIotHubConnection.open(MqttIotHubConnection.java:142)\nat com.microsoft.azure.iothub.transport.mqtt.MqttTransport.open(MqttTransport.java:83)\nat com.microsoft.azure.iothub.DeviceClient.open(DeviceClient.java:163)\nat samples.com.microsoft.azure.iothub.SendReceive.main(SendReceive.java:210)\n</code></pre>\n"
    }, {
        "tags": ["analytics", "ibm-cloud", "geospatial", "iot"],
        "is_answered": true,
        "view_count": 143,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1463677757,
        "creation_date": 1463086901,
        "last_edit_date": 1463141476,
        "question_id": 37197336,
        "link": "https://stackoverflow.com/questions/37197336/cannot-start-geospatial-analytics",
        "title": "Cannot start Geospatial Analytics",
        "body": "<p>I am new to Bluemix I and was trying out the IoT Connected Vehicle Tutorial <a href=\"http://m2m.demos.ibm.com/dl/iot-connected-vehicle-tutorial.pdf\" rel=\"nofollow\">http://m2m.demos.ibm.com/dl/iot-connected-vehicle-tutorial.pdf</a></p>\n\n<p>Everything is working fine until I try to start the Geospatial Analytics Service by accessing the link for my app:\n<a href=\"http://lm-trafficsim.eu-gb.mybluemix.net/GeospatialService_start\" rel=\"nofollow\">http://lm-trafficsim.eu-gb.mybluemix.net/GeospatialService_start</a></p>\n\n<p>After approximately 1 minute it shows: </p>\n\n<blockquote>\n  <p>502 Bad Gateway: Registered endpoint failed to handle the request.</p>\n</blockquote>\n\n<p>and the logs are:</p>\n\n<pre><code>[App/0]OUTAbout to call /GeospatialService_start\n[App/0]OUTNO BODY\n[App/0]OUTOptions prepared: { host: 'streams-broker.eu-gb.bluemix.net',\n[App/0]OUT port: '443',\n[App/0]OUT headers:\n[App/0]OUT method: 'PUT',\n[App/0]OUT path: '/jax-rs/geo/start/service_instances/538a9b3d-7160-4235-8e47-9be62d873842/service_bindings/2709488e-2310-4628-acef-df0313877bb5',\n[App/0]OUT 'Content-Type': 'application/json',\n[App/0]OUT { Authorization: 'Basic YWIxM2I3ODQtMzdmZi00ZGI2LWJkYTctYTgwYzc3MmMwNDY1OjA3YjU0NzMwLWYxM2MtNGYxYi1iZjkzLWY4ZWNlMDEwNDFhYg==',\n[App/0]OUTWriting json:\n[App/0]OUT 'Content-Length': 448 } }\n[App/0]OUTDo the GeospatialService_start call\n[App/0]OUT {\n[App/0]OUT \"mqtt_pw\": \"xxxxx\",\n[App/0]OUT \"mqtt_uid\": \"xxxxx\",\n[App/0]OUT \"mqtt_client_id_notify\": \"a:ybv0lr:geoNotify627\",\n[App/0]OUT \"mqtt_client_id_input\": \"a:ybv0lr:geoInput393\",\n[App/0]OUT \"mqtt_uri\": \"ybv0lr.messaging.internetofthings.ibmcloud.com:1883\",\n[App/0]OUT \"device_id_attr_name\": \"id\",\n[App/0]OUT \"mqtt_notify_topic\": \"iot-2/type/api/id/geospatial/cmd/geoAlert/fmt/json\",\n[App/0]OUT \"mqtt_input_topics\": \"iot-2/type/vehicle/id/+/evt/telemetry/fmt/json\",\n[App/0]OUT \"latitude_attr_name\": \"lat\",\n[App/0]OUT \"longitude_attr_name\": \"lng\"\n[App/0]OUT}\n[App/0]ERR{ [Error: socket hang up] code: 'ECONNRESET' }\n[App/0]OUT[0mGET /GeospatialService_start [0m- [0m- ms - -[0m\n[RTR/0]OUTlm-trafficsim.eu-gb.mybluemix.net - [12/05/2016:20:47:37 +0000] \"GET /GeospatialService_start HTTP/1.1\" 502 0 67 \"-\" \"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/50.0.2661.94 Safari/537.36\" 159.122.215.10:19754 x_forwarded_for:\"188.26.151.29\" x_forwarded_proto:\"http\" vcap_request_id:b8812e5c-98dd-4d5a-6c2b-75780c6f0996 response_time:120.113068106 app_id:81052294-dfad-43c6-980f-1f058011632d x_global_transaction_id:\"333879271\"\n</code></pre>\n\n<p>I have stopped my firewall as I read in some other posts that it may prevent accessing the port, but that did not help. Any ideas of what could be wrong?</p>\n\n<p>The only difference from the tutorial is that the Geospatial Analytics plan I am using is Standard, not Free, because Standard is the only one I could choose.</p>\n"
    }, {
        "tags": ["javascript", "node.js", "server", "iot", "intel-edison"],
        "is_answered": true,
        "view_count": 54,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1463324590,
        "creation_date": 1463319788,
        "last_edit_date": 1463323443,
        "question_id": 37239015,
        "link": "https://stackoverflow.com/questions/37239015/nodejs-server-generates-input-form-before-parsing-previous-input",
        "title": "Nodejs server generates input form before parsing previous input",
        "body": "<p>I have this code snippet.</p>\n\n<pre><code>function handleRequest(req, res)\n{\n    req.on('data', parseInput);\n    res.write(generateInputform());\n}\n\nhttp.createServer(handleRequest).listen(port, ipAddress);\n</code></pre>\n\n<p>The req.on callbacks parseInput and does literally what the function's called, it parses the input and sets pins and such. Afterwards another input form is generated and presented to the user.</p>\n\n<p>However, node.js generates the input first and then parses the input... This means the user has to refresh the page to reflect the given commands. Parsing input works, I can see the pins toggle on submit with my logic analyzer.</p>\n\n<p>I seem to be stuck in a rut as I cannot find a simple solution to this answer. The ones that show promise deal with asynchronous delaying which I'd rather avoid. </p>\n\n<p>Perhaps someone can shed a light on this issue?</p>\n\n<p>Here's the complete handleRequest.</p>\n\n<pre><code>function handleRequest(req, res)\n{\n    switch( req.url )\n        {\n            case \"/markings.css\" :\n                res.writeHead(200, {'Content-Type': 'text/css'});\n                res.end(\"Literally nothing right now\");\n                break;\n            case \"/json\" :\n                res.writeHead(200, {'Content-Type': 'text/json'});\n                res.end(encapsulator(J17_1, J18_1, J19_14, J20_14));\n                break;\n            case \"/index\":\n                res.writeHead(200, {'Content-Type': 'text/html'});\n                res.end(getHTML());\n                break;\n            case \"/\":\n                // show the user a simple form\n                console.log(\"[200] \" + req.method + \" to \" + req.url);\n                res.writeHead(200, \"OK\", {'Content-Type': 'text/html'});\n                switch( req.method )\n                    {\n                        case 'POST':\n                            //Problems between here\n                            req.on('data', parseInput);\n                            res.write(generateInputform());\n                            //And here\n                            console.log(\"Done\");\n                            res.end();\n                            break;\n                        case 'GET':\n                            console.log(\"User probably refreshed page without entering anything useful\");\n                            res.write(generateInputform());\n                            console.log(\"Done\");\n                            res.end();\n                            break;\n                        default:\n                            console.log(\"?\");\n                            res.end();\n                            break;\n                    }\n\n                //res.end();\n                break;\n            default:\n                res.writeHead(404, {'Content-Type': 'text/html'});\n                res.end('&lt;!DOCTYPE html&gt;\\r\\n&lt;html&gt;\\r\\n&lt;body&gt;\\r\\n404, that means trouble.&lt;br&gt;&lt;a href=\"http://' +\n                        ipAddress + ':' + port + '\"&gt;Go back to the index&lt;/a&gt;&lt;/body&gt;&lt;/html&gt;');\n                break;\n        }\n}\n</code></pre>\n\n<p>Edit:</p>\n\n<p>Answer found here.\n<a href=\"https://stackoverflow.com/questions/23879942/make-a-blocking-call-to-a-function-in-node-js-required-in-this-case\">Make a blocking call to a function in Node.js required in this case?</a></p>\n\n<p>New handleRequest</p>\n\n<pre><code>req.on('data', parseInput);\nreq.on('end', function()\n{\n    res.write(generateInputform());\n    console.log(\"Done\");\n    res.end();\n});\n</code></pre>\n"
    }, {
        "tags": ["java", "azure", "iot"],
        "is_answered": true,
        "view_count": 245,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1463122747,
        "creation_date": 1463062674,
        "question_id": 37189683,
        "link": "https://stackoverflow.com/questions/37189683/azure-iot-hub-and-ttn-the-things-network",
        "title": "Azure IoT Hub and TTN (The Things Network)",
        "body": "<p>Can I configure Azure IoT hub in such a way I can receive messages from TTN (The Things Network)?</p>\n"
    }, {
        "tags": ["ios", "iot", "bonjour"],
        "is_answered": false,
        "view_count": 35,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1461616669,
        "creation_date": 1461046987,
        "question_id": 36710125,
        "link": "https://stackoverflow.com/questions/36710125/discovering-insteon-hub-using-bonjour",
        "title": "Discovering insteon Hub using Bonjour",
        "body": "<p>I am trying to build an app on iPhone that can detect if an Insteon hub is connected to the same router as the phone. Does anyone know what Insteon hub advertises itself as? How I can detect and get details to present it to the users.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 69,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1461175307,
        "creation_date": 1455229798,
        "last_edit_date": 1455291589,
        "question_id": 35351360,
        "link": "https://stackoverflow.com/questions/35351360/can-the-same-device-be-connected-to-different-iotf-organizations",
        "title": "Can the same device be connected to different IoTF organizations?",
        "body": "<p>I've been able to register and connect a device to my IoTF organization using similar steps as <a href=\"https://developer.ibm.com/recipes/tutorials/how-to-register-devices-in-ibm-iot-foundation/\" rel=\"nofollow\">this recipe.</a>.</p>\n\n<p>Now, if I try to follow the same steps to register the same device to a different (colleague's) IoTF organization, it does not connect. For this second organization, I created the same Device Type, but I used a different device ID and token.</p>\n\n<p>I'm wondering if the MAC address of the device is used behind the scenes by IoTF/Bluemix. If so, then it might be preventing the connection to the second org. I've gone as far as deleting the device from the first org, but still no luck. </p>\n\n<p>Any advice is appreciated.  Thanks.</p>\n"
    }, {
        "tags": ["arduino", "ibm-cloud", "mqtt", "iot", "node-red"],
        "is_answered": true,
        "view_count": 121,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1460484606,
        "creation_date": 1443979541,
        "question_id": 32936238,
        "link": "https://stackoverflow.com/questions/32936238/when-talking-to-a-sensor-iot-device-from-bluemix-node-red-what-is-the-reasoning",
        "title": "When Talking to a sensor IoT device from Bluemix Node-RED, what is the reasoning for connecting to IoT Foundation?",
        "body": "<p>I see in the recipes for Bluemix that when I connect my Arduino Uno up with a sensor, that it's asking me to use the catalog boiler plate for IoT foundation (IoTF) rather than just the Node-Red boilerplate.  What is the reasoning for this? What more is IoTF providing? Is IoTF providing the MQTT broker?  Anything else? (note: I don't want to store any data, so don't want to pay for that)</p>\n"
    }, {
        "tags": ["node.js", "amazon-web-services", "amazon-dynamodb", "aws-sdk", "iot"],
        "is_answered": true,
        "view_count": 1190,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1458759589,
        "creation_date": 1458756781,
        "question_id": 36185700,
        "link": "https://stackoverflow.com/questions/36185700/get-item-from-dynamodb-table-using-separate-index-table-with-node-js",
        "title": "Get item from dynamodb table using separate index table with Node.js",
        "body": "<p>I am creating a weather station using the <a href=\"https://www.particle.io/cellular\" rel=\"nofollow\">Particle Electron</a> and AWS. I have managed to get the returned data sent to a DynamoDB table \"weather\" which contains all of the weather data with the following schema (with included sample values):</p>\n\n<pre><code>Item{13}\ndeviceId: 540056000a51343334363138 (String) (Primary Partition Key)\ntm: 1458754711 (Number) (Primary Sort Key) \nbatSoC: 89 (String)\nbatV: 4.01 (String)\nhum: 27.9 (String)\nlat: 41.2083 (String)\nlon: -73.3439 (String)\npres: 968.4 (String)\ntemp: 19.8 (String)\nuvI: 0.1 (String)\nwDir: 0 (String)\nwGst: 0.0 (String)\nwSpd: 0.0 (String)\n</code></pre>\n\n<p>as well as a separate \"weather_index\" table which contains only the <code>deviceId</code> and <code>tm</code> attributes for the most recent data that was written to the main table (kind of like an atomic counter but for a periodically updated unix timestamp value). So if the \"weather_index\" item above was the most recent entry, the item in the \"weather_index\" table would look like this:</p>\n\n<pre><code>Item{2}\ndeviceIdString: 540056000a51343334363138 (String) (Primary Partition Key)\ntmNumber: 1458754711 (Number)\n</code></pre>\n\n<p>I am currently trying to write a very basic web frontend in Node.js (which, prior to this project, I have had no experience with, so I am still learning) and can't figure out how to:</p>\n\n<ol>\n<li>Perform a DynamoDB getItem which contains a parameter retrieved via a previous getItem. Like:</li>\n</ol>\n\n<p>latestTime = getItem(weather_index, deviceId) // Gets the time \"tm\" of the most recent weather observation and stores it in \"latestTime\"\n// Where \"weather_index\" is the table name</p>\n\n<p>currentWeather = getItem(deviceId, tm) // Gets the weather observation for the specified \"tm\" value and stores it in \"currentWeather\"\n//  Where \"tm\" is the unix time-stamp of the most recent observation</p>\n\n<p>I then want to be able to print the individual values to the terminal/webpage/carrier pigeon/etc... (Something along the lines of <code>currentWeather.deviceId</code>, <code>currentWeather.tm</code>, <code>currentWeather.batSoC</code>, etc...</p>\n\n<p>I have the following code that I can't really make work properly:</p>\n\n<pre><code>/*\n * Module dependencies\n */\nvar AWS = require('aws-sdk')\n\n// weathermon_dev credentials\nAWS.config.update({accessKeyId: 'REDACTED for obvious reasons', secretAccessKey: 'This bit too'});\n\n// Select AWS region\nAWS.config.update({region: 'us-east-1'});\n\nvar db = new AWS.DynamoDB();\n// db.listTables(function(err,data) {\n//   console.log(data.TableNames);\n// });\n\n\nvar time = Date.now() / 1000;\ntime = Math.round(time);\n//console.log(\"Time: \");\n//console.log(time);\n\ntime = Math.round(time);\n\n\n\nvar deviceId = \"540056000a51343334363138\"\n\nvar params = {\n  Key: {\n    deviceId: {S: deviceId}\n  },\n  TableName: 'weather_index'\n};\n\nvar timeJson;\n\ndb.getItem(params, function(err,data) {\n  if (err) console.log(err); // an error occurred\n  else console.log(data); // successful response\n    var timeJson = JSON.parse(data);\n})\n\n// var timeJson = JSON.parse(data);\n// var itemTime = timeJson.item;\n\nconsole.log(\"timeJSON: \" + timeJson);\n\n// console.log(\"itemTime: \" + itemTime);\n\n\n\nvar params = {\n  Key: {\n    deviceId: {S: deviceId},\n    time: {N: 'tm'}\n  },\n  TableName: 'weather'\n};\n\n\ndb.getItem(params, function(err, data) {\n  if (err) console.log(err); // an error occurred\n  else console.log(data); // successful response\n})\n</code></pre>\n\n<p>Any help would be greatly appreciated.</p>\n"
    }, {
        "tags": ["c#", "azure", "iot", "azure-iot-hub"],
        "is_answered": false,
        "view_count": 123,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1458256486,
        "creation_date": 1458235322,
        "last_edit_date": 1458256486,
        "question_id": 36067567,
        "link": "https://stackoverflow.com/questions/36067567/azure-sb-lite-connection-string-and-event-hub-compatible-name",
        "title": "Azure sb lite connection string and event hub compatible name",
        "body": "<p>I'm trying to make an UWP app for receiving messages from Azure IoT hub, and I found some example code that use Azure sb lite, but problem is in these lines of code:</p>\n\n<pre><code>var factory = MessagingFactory.CreateFromConnectionString(Config.ConnectionStringAzureSbLite);\nvar client = factory.CreateEventHubClient(Config.EventHubCompatibleName);\n</code></pre>\n\n<p>Where can I find out what is my <code>ConnectionStringAzureSbLite</code> and what is my <code>EventHubCompatibleName</code>?</p>\n"
    }, {
        "tags": ["python", "raspberry-pi", "ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 81,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1457869506,
        "creation_date": 1457865946,
        "last_edit_date": 1457869506,
        "question_id": 35969260,
        "link": "https://stackoverflow.com/questions/35969260/iot-python-app-with-a-raspberry-pi-and-bluemix-cannot-turn-on-off-lights",
        "title": "IoT Python app with a Raspberry Pi and Bluemix: Cannot turn on/off lights",
        "body": "<p>I followed the tutorial to connect my Raspberry Pi with an application on Bluemix using the IoT Foundation:</p>\n\n<p><a href=\"https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/\" rel=\"nofollow\">https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/</a></p>\n\n<p>The problem is that nothing is happening the \"Turn light on/off\" buttons of the web application.</p>\n\n<p>If I check the logs of the python app using \"./cf logs myappname -recent\" I get the following output</p>\n\n<pre><code>2016-03-13T15:00:01.37+0530 [RTR/1]      OUT souvikiot.mybluemix.net - [13/03/20\n16:09:30:01 +0000] \"GET / HTTP/1.1\" 200 0 751 \"http://souvikiot.mybluemix.net/\"\n\"Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chro\nme/48.0.2564.116 Safari/537.36\" 192.155.237.117:40463 x_forwarded_for:\"49.207.13\n6.134\" x_forwarded_proto:\"http\" vcap_request_id:9f2af0b2-d1c5-4391-55e8-afb19759\n68f9 response_time:0.005322145 app_id:4499b999-047b-4eb9-be09-7e76f164a5c0 x_glo\nbal_transaction_id:\"808477683\"\n2016-03-13T15:00:05.66+0530 [App/0]      OUT off\n2016-03-13T15:00:05.67+0530 [App/0]      ERR 198.11.228.42 - - [13/Mar/2016 09:3\n0:05] \"POST /light/off HTTP/1.1\" 302 -\n2016-03-13T15:00:05.96+0530 [App/0]      ERR 169.54.180.77 - - [13/Mar/2016 09:3\n0:05] \"GET / HTTP/1.1\" 200 -\n2016-03-13T15:00:41.66+0530 [App/0]      OUT off\n2016-03-13T15:00:41.66+0530 [App/0]      ERR 75.126.37.74 - - [13/Mar/2016 09:30\n:41] \"POST /light/off HTTP/1.1\" 302 -\n2016-03-13T15:00:41.93+0530 [App/0]      ERR 169.54.180.77 - - [13/Mar/2016 09:3\n0:41] \"GET / HTTP/1.1\" 200 -\n2016-03-13T15:00:42.90+0530 [App/0]      OUT off\n2016-03-13T15:00:42.91+0530 [App/0]      ERR 75.126.52.20 - - [13/Mar/2016 09:30\n:42] \"POST /light/off HTTP/1.1\" 302 -\n2016-03-13T15:00:43.16+0530 [App/0]      ERR 169.54.180.77 - - [13/Mar/2016 09:3\n0:43] \"GET / HTTP/1.1\" 200 -\n2016-03-13T15:05:57.10+0530 [App/0]      OUT off\n2016-03-13T15:05:57.11+0530 [App/0]      ERR 169.55.202.148 - - [13/Mar/2016 09:\n35:57] \"POST /light/off HTTP/1.1\" 302 -\n2016-03-13T15:05:57.38+0530 [App/0]      ERR 169.55.202.148 - - [13/Mar/2016 09:\n35:57] \"GET / HTTP/1.1\" 200 -\n2016-03-13T15:06:02.35+0530 [App/0]      OUT on\n2016-03-13T15:06:02.35+0530 [App/0]      ERR 169.55.202.148 - - [13/Mar/2016 09:\n36:02] \"POST /light/on HTTP/1.1\" 302 -\n2016-03-13T15:06:02.62+0530 [App/0]      ERR 169.45.162.88 - - [13/Mar/2016 09:3\n6:02] \"GET / HTTP/1.1\" 200 -\n2016-03-13T15:06:09.20+0530 [App/0]      OUT on\n2016-03-13T15:06:09.20+0530 [App/0]      ERR 169.55.202.148 - - [13/Mar/2016 09:\n36:09] \"POST /light/on HTTP/1.1\" 302 -\n2016-03-13T15:06:09.47+0530 [App/0]      ERR 169.45.162.88 - - [13/Mar/2016 09:3\n6:09] \"GET / HTTP/1.1\" 200 -\n2016-03-13T15:06:12.03+0530 [App/0]      OUT off\n2016-03-13T15:06:12.03+0530 [App/0]      ERR 169.45.162.88 - - [13/Mar/2016 09:3\n6:12] \"POST /light/off HTTP/1.1\" 302 -\n2016-03-13T15:06:12.31+0530\n</code></pre>\n\n<p>[App/0]      ERR 75.126.52.20 - - [13/Mar/2016 09:36\n:12] \"GET / HTTP/1.1\" 200 -</p>\n"
    }, {
        "tags": ["python", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 541,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1457862537,
        "creation_date": 1454167167,
        "last_edit_date": 1454336684,
        "question_id": 35103434,
        "link": "https://stackoverflow.com/questions/35103434/iot-python-app-with-a-raspberry-pi-and-bluemix-cannot-turn-on-off-lights-and-se",
        "title": "IoT Python app with a Raspberry Pi and Bluemix: Cannot turn on/off lights and send message using the button",
        "body": "<p>I did the following tutorial to connect my Raspberry Pi with an application on Bluemix using the IoT Foundation:</p>\n\n<p><a href=\"https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/\" rel=\"nofollow\">https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/</a></p>\n\n<p>I had everything up and running except the client.py (step 36 in the tutorial). I got the following error message:</p>\n\n<pre><code>client.py:9: RuntimeWarning: This channel is already in use, continuing anyway.  Use GPIO.setwarnings(False) to disable warnings.\n  GPIO.setup(17, GPIO.OUT)\nTraceback (most recent call last):\n  File \"client.py\", line 23, in &lt;module&gt;\n    options = ibmiotf.application.ParseConfigFile(\"/home/pi/device.cfg\")\n  File \"/usr/local/lib/python2.7/dist-packages/ibmiotf/application.py\", line 501, in ParseConfigFile\n    appType = parms.get(sectionHeader, \"type\", \"standalone\")\n  File \"/usr/lib/python2.7/ConfigParser.py\", line 618, in get\n    raise NoOptionError(option, section)\nConfigParser.NoOptionError: No option 'type' in section: 'application'\n</code></pre>\n\n<p>I found out the the error came from the missing \"type\" section in the config file (device.cfg). </p>\n\n<p>The file structure listed in step 35 of the tutorial doesn't say, that you need a \"type\". I used the device type (raspberrypi) that I created before in the IoT Foundation.</p>\n\n<p>Now I did connect to the IoT Foundation successfully.</p>\n\n<p>The problem that I have now is, that nothing is happening when I either press the button on my Raspberry Pi or the \"Turn light on/off\" buttons of the web application.</p>\n\n<p>If I check the logs of the python app using \"./cf logs myappname -recent\" I get the following output:</p>\n\n<pre><code>2016-01-29T08:38:49.10+0100 [App/0]      OUT on\n2016-01-29T08:38:49.10+0100 [App/0]      ERR 75.126.37.74 - - [29/Jan/2016 07:38:49] \"POST /light/on HTTP/1.1\"; 302 -\n2016-01-29T08:38:49.34+0100 [App/0]      ERR 75.126.52.20 - - [29/Jan/2016 07:38:49] \"GET / HTTP/1.1\"; 200 -\n2016-01-29T08:38:49.56+0100 [RTR/1]      OUT myappname.mybluemix.net - [29/01/2016:07:38:49 +0000] \"GET / HTTP/1.1\" 200 0 751 \"http://myappname.mybluemix.net/&amp;quot; \";Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.111 Safari/537.36\" 108.168.250.151:39460 x_forwarded_for:&amp;quot;46.5.2.236\"x_forwarded_proto:\"http&amp;quot; vcap_request_id:myrequestid response_time:0.31228492 app_id:myapp_id x_global_transaction_id:mytransactionid;\n2016-01-29T08:40:08.32+0100 [App/0]      OUT off\n2016-01-29T08:40:08.33+0100 [App/0]      ERR 75.126.37.74 - - [29/Jan/2016 07:40:08] \"POST /light/off HTTP/1.1\" 302 -\n2016-01-29T08:40:08.51+0100 [App/0]      ERR 75.126.23.243 - - [29/Jan/2016 07:40:08] \"GET / HTTP/1.1\" 200 -`\n</code></pre>\n\n<p>The writer of the tutorial, Jeff, said that I should double check that the Pi and the app in Bluemix are both listening on the same topic. And in the IoT service I should be able to see messages coming through.</p>\n\n<p>I don't know what this means or how I do this.</p>\n\n<p>We already had an discussion about my problems in the comment section of the youtube video of the blog post (<a href=\"https://www.youtube.com/watch?v=YHDhn5hGnn8\" rel=\"nofollow\">https://www.youtube.com/watch?v=YHDhn5hGnn8</a>) and Jeff told me we should move to StackOverflow with it (makes sense).</p>\n\n<p>I appreciate your help.</p>\n\n<p>// edit for additional information //\nThis is the output I get on the Pi, when I start the application:\nsudo python client.py</p>\n\n<pre><code>2016-02-01 14:36:23,221   ibmiotf.application.Client  WARNING Unable to encrypt messages because TLSv1.2 is unavailable (MQTT over SSL requires at least Python v2.7.9 or 3.4 and openssl v1.0.1)\n2016-02-01 14:36:23,716   ibmiotf.application.Client  INFO    Connected successfully: A:69wm3f:aaaafdsfsd45641safsda2313\n</code></pre>\n\n<p>If I press the on/off buttons for the first time after the client has started I get the following output on the Pi:</p>\n\n<pre><code>Exception in thread Thread-1:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 552, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 505, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 2287, in _thread_main\n    self.loop_forever()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1261, in loop_forever\n    rc = self.loop(timeout, max_packets)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 811, in loop\n    rc = self.loop_read(max_packets)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1073, in loop_read\n    rc = self._packet_read()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1475, in _packet_read\n    rc = self._packet_handle()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1943, in _packet_handle\n    return self._handle_publish()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 2118, in _handle_publish\n    self._handle_on_message(message)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 2268, in _handle_on_message\n    t[1](self, self._userdata, message)\n  File \"/usr/local/lib/python2.7/dist-packages/ibmiotf/application.py\", line 423, in __onDeviceEvent\n    if self.deviceEventCallback: self.deviceEventCallback(event)\n  File \"client.py\", line 17, in myCommandCallback\n    command = cmd.payload[\"d\"][\"command\"]\nTypeError: string indices must be integers, not str\n</code></pre>\n\n<p>It looks like the messages from the IoT Foundation are reaching the client.</p>\n\n<p>I set the following IDs on the IoT Foundation, the environment variable of the Bluemix Python app and on the Raspberry Pi:</p>\n\n<ul>\n<li>IoT Foundation ID:   afdsfsd45641safsda2313</li>\n<li>Bluemix Python app ID:   afdsfsd45641safsda2313</li>\n<li>Raspberry Pi ID in device.cfg: afdsfsd45641safsda2313</li>\n</ul>\n\n<p>All three IDs are the same.</p>\n\n<p>// edit 2 //\nLogging output after adding the print cmd statements from the comment section:</p>\n\n<pre><code>&lt;ibmiotf.application.Event instance at 0x76526738&gt;\nlight\n{\"command\": \"on\"}\n</code></pre>\n\n<p>Stacktrace after changing </p>\n\n<p><code>command = cmd.payload[\"d\"][\"command\"]</code></p>\n\n<p>to</p>\n\n<p><code>command = cmd.payload[\"command\"]</code></p>\n\n<pre><code>Exception in thread Thread-1:\nTraceback (most recent call last):\n  File \"/usr/lib/python2.7/threading.py\", line 552, in __bootstrap_inner\n    self.run()\n  File \"/usr/lib/python2.7/threading.py\", line 505, in run\n    self.__target(*self.__args, **self.__kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 2287, in _thread_main\n    self.loop_forever()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1261, in loop_forever\n    rc = self.loop(timeout, max_packets)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 811, in loop\n    rc = self.loop_read(max_packets)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1073, in loop_read\n    rc = self._packet_read()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1475, in _packet_read\n    rc = self._packet_handle()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 1943, in _packet_handle\n    return self._handle_publish()\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 2118, in _handle_publish\n    self._handle_on_message(message)\n  File \"/usr/local/lib/python2.7/dist-packages/paho/mqtt/client.py\", line 2268, in _handle_on_message\n    t[1](self, self._userdata, message)\n  File \"/usr/local/lib/python2.7/dist-packages/ibmiotf/application.py\", line 423, in __onDeviceEvent\n    if self.deviceEventCallback: self.deviceEventCallback(event)\n  File \"client.py\", line 18, in myCommandCallback\n    command = cmd.payload[\"command\"]\nTypeError: string indices must be integers, not str\n</code></pre>\n"
    }, {
        "tags": ["android", "eclipse", "sensors", "iot", "alljoyn"],
        "is_answered": false,
        "view_count": 107,
        "favorite_count": 1,
        "score": 0,
        "last_activity_date": 1457683767,
        "creation_date": 1456835491,
        "last_edit_date": 1456835771,
        "question_id": 35723029,
        "link": "https://stackoverflow.com/questions/35723029/android-alljoyn-can-we-connect-two-different-devices-with-two-different-busatta",
        "title": "Android Alljoyn: Can we connect two different devices with two different BusAttachments",
        "body": "<p>I have been trying to connect with two different devices with two different BusAttachment objects but I'm getting BusAlreadyExistException?</p>\n\n<p>I'm getting exception at this position </p>\n\n<pre><code>aboutClient.startAboutClient(bus);\n</code></pre>\n\n<p>I have tried many methods but couldn't find solution. How can I resolve this issue.\nThanks in advance.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "texas-instruments", "launchpad"],
        "is_answered": false,
        "view_count": 42,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1457544819,
        "creation_date": 1457532894,
        "last_edit_date": 1457544819,
        "question_id": 35894020,
        "link": "https://stackoverflow.com/questions/35894020/ibm-bluemix-iot-for-tiva-launchpad-communication",
        "title": "IBM Bluemix IOT for TIVA Launchpad communication",
        "body": "<p>I have coded TIVA launchpad using the quickstart example for IBM bluemix and it works perfectly fine with data available on the quickstart dashboard, however when I use the registered option following the steps given here <a href=\"https://developer.ibm.com/recipes/tutorials/energia-tm4c1294/\" rel=\"nofollow\">https://developer.ibm.com/recipes/tutorials/energia-tm4c1294/</a> the device does not connect to the Bluemix server(doesn't show connected status on serial port nor on active device status dashboard). Please help.</p>\n"
    }, {
        "tags": ["amazon-web-services", "aws-sdk", "iot", "aws-cli", "aws-iot"],
        "is_answered": true,
        "view_count": 1957,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1457241704,
        "creation_date": 1457237957,
        "question_id": 35823058,
        "link": "https://stackoverflow.com/questions/35823058/aws-iot-describe-endpointyou-must-specify-a-region",
        "title": "aws iot describe-endpoint::You must specify a region",
        "body": "<p>I am following <a href=\"http://docs.aws.amazon.com/iot/latest/developerguide/iot-device-sdk-node.html\" rel=\"nofollow noreferrer\">this tutorial</a> for connecting Raspberry Pi to AWS IoT using Node.js SDK and I have done all the other steps but I am lost in the authentication and certificate step:</p>\n\n<pre><code>pi@raspberrypi:~ $ aws iot describe-endpoint\nYou must specify a region. You can also configure your region by running \"aws configure\".\npi@raspberrypi:~ $ aws configure\nAWS Access Key ID [None]: \nAWS Secret Access Key [None]: \nDefault region name [None]: \nDefault output format [None]: \npi@raspberrypi:~ $ ls\n2016-02-24-204612_1920x1080_scrot.png  Desktop     get-pip.py           node_modules  python_games             sources    WiringPi\naws                                    device.cfg  ibm                  Pictures      python-iot-raspberry-pi  Templates\naws-iot-device-sdk-js                  Documents   iot_1.0-1_armhf.deb  projects      root                     Videos\ncerts                                  Downloads   Music                Public        root.pem                 wiringPi\n\npi@raspberrypi:~ $ cd certs/\npi@raspberrypi:~/certs $ ls\n1cf77402f9-certificate.pem.crt  1cf77402f9-private.pem.key  1cf77402f9-public.pem.key\n</code></pre>\n\n<p>When I browse to <a href=\"https://A34SXNTM6AT7XH.iot.us-west-2.amazonaws.com/things/MyNewThing/shadow\" rel=\"nofollow noreferrer\">https://A34SXNTM6AT7XH.iot.us-west-2.amazonaws.com/things/MyNewThing/shadow</a> or <a href=\"https://A34SXNTM6AT7XH.iot.us-west-2.amazonaws.com\" rel=\"nofollow noreferrer\">https://A34SXNTM6AT7XH.iot.us-west-2.amazonaws.com</a> I see <code>Missing Authentication Token</code> message:\n<a href=\"https://i.stack.imgur.com/Qgfx7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qgfx7.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am not sure how to get the last step working so I could see stuff in the URLs when I browse to them. Can someone help me figure which steps I am missing or is missing from the tutorial?\n<a href=\"https://i.stack.imgur.com/n6Qyr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6Qyr.png\" alt=\"enter image description here\"></a></p>\n"
    }, {
        "tags": ["javascript", "node.js", "single-sign-on", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 264,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1455609428,
        "creation_date": 1455281271,
        "last_edit_date": 1455354187,
        "question_id": 35363065,
        "link": "https://stackoverflow.com/questions/35363065/bluemix-single-sign-on-doesnt-show-login-page",
        "title": "Bluemix Single Sign On doesn&#39;t show login page",
        "body": "<p>I did the tutorial to visualize data from my raspberry pi using the IoT Foundation Service and a the .js boilerplate.</p>\n\n<p>I followed the following tutorial:</p>\n\n<p><a href=\"https://developer.ibm.com/recipes/tutorials/visualizing-your-data/\" rel=\"nofollow\">https://developer.ibm.com/recipes/tutorials/visualizing-your-data/</a></p>\n\n<p>Everything works fine.</p>\n\n<p>Now I tried to add a the Single Sign On Service for authentication purposes. I created a cloud registry and added two test users. Afterwards I bound the service to my IoT visualisation .js app and did the steps to integrate my app with the service. I followed the official documentation steps for this (point \"Configuring a Node.js app\"):</p>\n\n<p><a href=\"http://www.ng.bluemix.net/docs/services/SingleSignOn/configure_apps.html#tsk_configuringnodejsapp_express4\" rel=\"nofollow\">http://www.ng.bluemix.net/docs/services/SingleSignOn/configure_apps.html#tsk_configuringnodejsapp_express4</a></p>\n\n<p>I modified the files on my pc and uploaded them using the CL CLI. The problem is, that it didn't change anything. I can access my app as before and I don't see any login page.</p>\n\n<p>Here are my files:</p>\n\n<p>package.json</p>\n\n<pre><code>{\n  \"name\": \"iot-visualization\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node app.js\"\n  },\n  \"dependencies\": {\n    \"passport\": \"*\",\n    \"cookie-parser\": \"*\",\n    \"express-session\": \"*\",\n    \"passport-idaas-openidconnect\": \"*\",\n    \"express\": \"~4.2.0\",\n    \"serve-favicon\": \"~2.1.0\",\n    \"morgan\": \"~1.0.0\",\n    \"cookie-parser\": \"~1.0.1\",\n    \"body-parser\": \"~1.0.0\",\n    \"debug\": \"~0.7.4\",\n    \"jade\": \"~1.3.0\",\n    \"stylus\": \"0.42.3\",\n    \"express-session\": \"^1.8.1\"\n  }\n}\n</code></pre>\n\n<p>app.js (URL modified)</p>\n\n<pre><code>/*******************************************************************************\n* Copyright (c) 2014 IBM Corporation and other Contributors.\n*\n* All rights reserved. This program and the accompanying materials\n* are made available under the terms of the Eclipse Public License v1.0\n* which accompanies this distribution, and is available at\n* http://www.eclipse.org/legal/epl-v10.html\n*\n* Contributors:\n* IBM - Initial Contribution\n*******************************************************************************/\n\nvar express = require('express');\nvar path = require('path');\nvar favicon = require('serve-favicon');\nvar logger = require('morgan');\nvar cookieParser = require('cookie-parser');\nvar bodyParser = require('body-parser');\nvar session = require('express-session');\n\n\nvar index = require('./routes/index');\n\nvar app = express();\n\nvar http_host = (process.env.VCAP_APP_HOST || '0.0.0.0');\nvar http_port = (process.env.VCAP_APP_PORT || 7000);\n\napp.set('port', http_port);\napp.set('host',http_host);\n\n// view engine setup\napp.set('views', path.join(__dirname, 'views'));\napp.set('view engine', 'jade');\n//use favicon\napp.use(favicon(__dirname + '/public/images/favicon.ico'));\napp.use(logger('dev'));\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded());\napp.use(cookieParser());\n// add session to store the api-key and auth token in the session\napp.use(session({secret: 'xxxxxxxxxx',saveUninitialized: true,\n                 resave: true}));\napp.use(require('stylus').middleware(path.join(__dirname, 'public')));\n\nvar passport = require('passport'); \nvar cookieParser = require('cookie-parser');\nvar session = require('express-session');\n\napp.use(cookieParser());\napp.use(session({resave: 'true', saveUninitialized: 'true' , secret: 'keyboard cat'}));\napp.use(passport.initialize());\napp.use(passport.session()); \n\npassport.serializeUser(function(user, done) {\n   done(null, user);\n}); \n\npassport.deserializeUser(function(obj, done) {\n   done(null, obj);\n});         \n\n// VCAP_SERVICES contains all the credentials of services bound to\n// this application. For details of its content, please refer to\n// the document or sample of each service.  \nvar services = JSON.parse(process.env.VCAP_SERVICES || \"{}\");\nvar ssoConfig = services.SingleSignOn[0]; \nvar client_id = ssoConfig.credentials.clientId;\nvar client_secret = ssoConfig.credentials.secret;\nvar authorization_url = ssoConfig.credentials.authorizationEndpointUrl;\nvar token_url = ssoConfig.credentials.tokenEndpointUrl;\nvar issuer_id = ssoConfig.credentials.issuerIdentifier;\nvar callback_url = 'https://xxxxx.mybluemix.net/auth/sso/callback';        \n\nvar OpenIDConnectStrategy = require('passport-idaas-openidconnect').IDaaSOIDCStrategy;\nvar Strategy = new OpenIDConnectStrategy({\n                 authorizationURL : authorization_url,\n                 tokenURL : token_url,\n                 clientID : client_id,\n                 scope: 'openid',\n                 response_type: 'code',\n                 clientSecret : client_secret,\n                 callbackURL : callback_url,\n                 skipUserProfile: true,\n                 issuer: issuer_id}, \n    function(iss, sub, profile, accessToken, refreshToken, params, done)  {\n                process.nextTick(function() {\n        profile.accessToken = accessToken;\n        profile.refreshToken = refreshToken;\n        done(null, profile);\n            })\n}); \n\npassport.use(Strategy); \napp.get('/login', passport.authenticate('openidconnect', {})); \n\nfunction ensureAuthenticated(req, res, next) {\n    if(!req.isAuthenticated()) {\n                req.session.originalUrl = req.originalUrl;\n        res.redirect('/login');\n    } else {\n        return next();\n    }\n}\n\napp.get('/auth/sso/callback',function(req,res,next) {               \n             var redirect_url = req.session.originalUrl;                \n             passport.authenticate('openidconnect', {\n                     successRedirect: redirect_url,                                \n                     failureRedirect: '/failure',                        \n          })(req,res,next);\n        });\n\napp.get('/failure', function(req, res) { \n             res.send('login failed'); });\n\napp.use(express.static(path.join(__dirname, 'public')));\n\n\napp.use('/',index);\n\napp.use(function(req, res, next) {\n    if(req.session.api_key)\n    res.redirect(\"/dashboard\");\n  else\n    res.redirect('/login');\n});\n\n/// error handlers\n\n// development error handler\n// will print stacktrace\nif (app.get('env') === 'development') {\n    app.use(function(err, req, res, next) {\n        res.status(err.status || 500);\n        res.render('error', {\n            message: err.message,\n            error: err\n        });\n    });\n}\n\n// production error handler\n// no stacktraces leaked to user\napp.use(function(err, req, res, next) {\n    res.status(err.status || 500);\n    res.render('error', {\n        message: err.message,\n        error: {}\n    });\n});\n\nvar server = app.listen(app.get('port'), app.get('host'), function() {\n  console.log('Express server listening on ' + server.address().address + ':' + server.address().port);\n});\n\nmodule.exports = app;\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p>// edit</p>\n\n<p>There was not .cfignore file when I first started the tutorial. So I created one with the following content in my apps root folder:</p>\n\n<pre><code>node_modules/passport\nnode_modules/cookie-parser\nnode_modules/express-session\nnode_modules/passport-idaas-openidconnect\n</code></pre>\n\n<p>Is this correct and why I didn't have this file before with the content from the tutorial:</p>\n\n<pre><code>node_modules\n</code></pre>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 93,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1455117340,
        "creation_date": 1455015384,
        "last_edit_date": 1455044202,
        "question_id": 35290225,
        "link": "https://stackoverflow.com/questions/35290225/ibm-bluemix-iotfoundation-receiving-messages-from-non-declared-devices",
        "title": "IBM Bluemix IotFoundation : Receiving messages from non-declared devices",
        "body": "<p>I'm using the IBM Bluemix Iot Foundation (IoTF fot shortness).</p>\n\n<p>On one hand, I use a NodeJs application, declared in the API keys of IoTF. This application posts messages as a device :</p>\n\n<p><code>\n    const IotfApp = require(\"ibmiotf\").IotfApplication;\n    const appClient = new IotfApp(configApp);\n    /* ... Stuff */\n    appClient.publishDeviceEvent(deviceType, deviceId, \"metrics\", \"json\", msg);\n</code></p>\n\n<p>So far, so good.</p>\n\n<p>I have declared two (out of tens) devices for test purpose in the IoTF.</p>\n\n<p>On the other end, I use a NodeRed IoTF boilerplate sample. Everything seems to work, BUT i receive messages from device that HAS NOT been declared in the IoTF.</p>\n\n<p>Is this a normal behaviour ?\nHow can I list (nothing found using API) all the terminals sending messages but not 'officially' declared ?</p>\n\n<p>Thanks.</p>\n\n<p>--- Edit ---</p>\n\n<p>Screenshots :</p>\n\n<p>Iot Foundation : <a href=\"http://i.imgur.com/H4ut77b.png\" rel=\"nofollow\">http://i.imgur.com/H4ut77b.png</a></p>\n\n<p>NodeRed boilerplate : <a href=\"http://i.imgur.com/OAxQKuk.png\" rel=\"nofollow\">http://i.imgur.com/OAxQKuk.png</a>        </p>\n"
    }, {
        "tags": ["node.js", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 53,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1454858637,
        "creation_date": 1454829743,
        "last_edit_date": 1454858637,
        "question_id": 35250880,
        "link": "https://stackoverflow.com/questions/35250880/sample-node-js-doing-form-handling-and-processing-in-node-js",
        "title": "Sample node.js doing form handling and processing - in Node.js",
        "body": "<p>I need a pointer or sample tutorial or some examples to form handling in Node.js.\nI have a form.html which has 3 buttons \"Forward\", \"Backward\", \"Stop\" and they will have to call a process get and appropriately send messages to the backend component to take appropriate action.\nMy sample node.js that comes when I create the application is good, but it does not have form processing, so a link to some worked examples would help a lot.</p>\n"
    }, {
        "tags": ["python", "raspberry-pi", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 149,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1454591820,
        "creation_date": 1454343471,
        "last_edit_date": 1454411198,
        "question_id": 35135226,
        "link": "https://stackoverflow.com/questions/35135226/iot-python-app-with-a-raspberry-pi-and-bluemix-pushing-the-button-doesnt-work",
        "title": "IoT Python app with a Raspberry Pi and Bluemix: Pushing the button doesn&#39;t work",
        "body": "<p>I did the following tutorial to connect my Raspberry Pi with an application on Bluemix using the IoT Foundation:</p>\n\n<p><a href=\"https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/\" rel=\"nofollow\">https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/</a></p>\n\n<p>I have the following problem:</p>\n\n<p>If I press the button on my Pi it only prints out \"Button pushed\" in the Pi terminal.</p>\n\n<p>I don't get any SMS send on my phone and there is now entry in the Log from Twilio.</p>\n"
    }, {
        "tags": ["azure", "iot", "azure-stream-analytics"],
        "is_answered": true,
        "view_count": 574,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1453826280,
        "creation_date": 1451861690,
        "question_id": 34582575,
        "link": "https://stackoverflow.com/questions/34582575/azure-iot-and-stream-analytics-job",
        "title": "Azure ioT and Stream Analytics job",
        "body": "<p>I am trying to collect data from a ioT device, as for now i am using this code to simulate the device. <a href=\"https://github.com/Azure/azure-iot-sdks/blob/master/node/device/samples/remote_monitoring.js\" rel=\"nofollow\">remote_monitoring</a>. It send data and i can se the data in the dashboard. Next thing is that i want to save the data to a SQL database. I was thinking of using Stream Analytics to do the job. The problem i am having now is that when i select ioT HUB as a input i get the error </p>\n\n<blockquote>\n  <p>Please check if the input source is configured correctly and data is in correct format.</p>\n</blockquote>\n\n<p>I am trying to find documentation if there is something special i need to add to my JSON object before i send it.</p>\n"
    }, {
        "tags": ["algorithm", "math", "statistics", "iot", "error-detection"],
        "is_answered": false,
        "view_count": 114,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1453755526,
        "creation_date": 1453752428,
        "last_edit_date": 1453755526,
        "question_id": 35001353,
        "link": "https://stackoverflow.com/questions/35001353/iot-fault-detection-algorithm-implementation",
        "title": "IoT fault detection algorithm implementation",
        "body": "<p>I am attempting to implement a sensor fault detection algorithm from a white paper I found here: <a href=\"http://www.hindawi.com/journals/mpe/2013/712028/ref/\" rel=\"nofollow\">http://www.hindawi.com/journals/mpe/2013/712028/ref/</a>\nMy math skills are decent, but this article does not give great detail on how everything is set up.</p>\n\n<p>My current implementation looks something like the following: </p>\n\n<pre><code>/*******************************************************************************\nHow this algorithm works:\n    1) There exists W historical windows which hold the distribution objects (mean, variance)\n        for that window. Each window is of size m (the sliding window size)\n    2) There exists a current window which changes every iteration by popping the \n        oldest value into the buffer window.\n    3) There exists a buffer window which takes the oldest values from the current window\n        each iteration. Once the buffer window reaches size m\n        it then becomes the newest historical window.\n*******************************************************************************/\n\nint m = 10; //Statistics sliding window size\nfloat outlierDetectionThreshold; // The outlier detection threshold for sensor s, also called epsilon\nList&lt;float&gt; U; // Holds the last 10 windows mean\nList&lt;float&gt; V; // Holds the last 10 windows variance\nList&lt;float&gt; CurrentWindow; // Holds the last m values\n\nprocedure GFD()\n    do\n        get a value vi \n        Detection(vi)\n    while not end\nreturn\n\nprocedure Detection(vi)\n    init outlierDetectionThreshold\n    init U and V, loading last m distribution characteristics from DB\n    init CurrentWindow loading the last m - 1 values\n\n    Xi; // What is this?\n    Tau; // What is this?\n\n    Insert vi into CurrentWindow // CurrentWindow now has the m latest values \n\n    float CurrentWindowMean = Mean(CurrentWindow)\n    float CurrentWindowVariance = Variance(CurrentWindow)\n\n    if (IsStuck(CurrentWindowVariance) or IsSpikes(vi))\n        return\n    If (IsOutlier(vi) and not IsRatStatChagne(vi))\n        return;\n    IsRatStatChagne(vi);\n    return\n\nprocedure IsStuck(variance)\n    if (variance == 0)\n        return true;\n    return false;\n\nprocedure IsSpike(windowMean, windowVariance, historicalMeans, historicalVariances, xi, tau)\n    if ( (mean / Mean(historicalMeans)) &lt; xi)\n        if ( (variance / Mean(historicalVariances)) &gt; tau)\n            return true;\n    return false;\n\nprocedure IsOutlier(historicalMeans, historicalVariances, outlierDetectionThreshold)\n    // use historicalMeans and historicalVariances to calculate theta\n    if (theta &gt; outlierDetectionThreshold)\n        return true;\n</code></pre>\n\n<p>I am running into difficulty implementing the IsOutlier and IsRatStatChange functions.</p>\n\n<ol>\n<li>In IsSpike, how are xi and tau calculated, or what do they represent?</li>\n<li>For the IsOutlier function, how is theta calculated?</li>\n<li>For the IsRatStatStange function, I have not looked into as much yet, but does anyone have a solid grasp to write this?</li>\n</ol>\n\n<p>Any other insights you gleam would be most appreciated.\nThanks in advance.</p>\n"
    }, {
        "tags": ["android", "ibm-cloud", "iot", "texas-instruments"],
        "is_answered": true,
        "view_count": 697,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1453293226,
        "creation_date": 1453234579,
        "question_id": 34886139,
        "link": "https://stackoverflow.com/questions/34886139/unable-to-connect-ti-sensortag-cc2650stk-to-iot-foundation-bluemix-via-android",
        "title": "Unable to connect TI SensorTag CC2650STK to IoT Foundation / Bluemix via Android App",
        "body": "<p>I can connect the SensorTag with the BLE SensorTag app on my Android phone and I can use the default Push to Cloud Quickstart setup to send data to IoT Foundation Quickstart. But I fail when trying to connect to IoT Foundation as a registered device.</p>\n\n<p>I have registered the device on IoT foundation.</p>\n\n<p>I have the newest app from the Google Play Store (Android) and get an error while connecting (\"Keine Berechtigung f\u00fcr Verbindung\" ~ \"No authorization for connection\").</p>\n\n<p>My configuration is:</p>\n\n<pre><code>Cloud Service: IBM IoT Foundation\nUsername:      use-token-auth\nPassword:      &lt;&lt; Auth-token &gt;&gt;\nDevice id:     d:&lt;&lt;orgID&gt;&gt;:sensortag:&lt;&lt;device ID&gt;&gt;\nBroker add.:   tcp://&lt;&lt;orgID&gt;&gt;.messaging.internetofthings.ibmcloud.com\nBroker Port:   1883\nPublish topic: iot-2/evt/sensors/fmt/json\n</code></pre>\n\n<p>I would appreciate any help on this.</p>\n\n<p>PS: I know the same question was asked by Harald Uebele some time ago, but my error was not explained and my post there was deleted.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 1244,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1453218894,
        "creation_date": 1441716847,
        "last_edit_date": 1441873076,
        "question_id": 32458410,
        "link": "https://stackoverflow.com/questions/32458410/unable-to-connect-ti-sensortag-cc2650stk-to-iot-foundation-bluemix",
        "title": "Unable to connect TI SensorTag CC2650STK to IoT Foundation / Bluemix",
        "body": "<p>I can connect the SensorTag with the BLE SensorTag app on my Android phone and I can use the default Push to Cloud Quickstart setup to send data to IoT Foundation Quickstart. But I fail when trying to connect to IoT Foundation as a registered device.</p>\n\n<p>I have registered the device on IoT foundation:</p>\n\n<pre><code>Organization ID         abcdef   (&lt;- not my real org on IoT Foundation)\nDevice Type             sensortag\nDevice ID               sensortag1\nAuthentication Method   token\nAuthentication Token    somecrypticcharacters\n</code></pre>\n\n<p>In the BLE SensorTag app on my phone in Cloud Setup:</p>\n\n<pre><code>Cloud Service: IBM IoT Foundation\nUsername:      use-token-auth\nPassword:      somecrypticcharacters\nDevice id:     d:abcdef:sensortag:sensortag1\nBroker add.:   abcdef.messaging.internetofthings.ibmcloud.com\nBroker Port:   1883\nPublish topic: iot-2/evt/sensors/fmt/json\n</code></pre>\n\n<p>When I enable Push to Cloud I get a </p>\n\n<pre><code>\"Failed with error code: Attempt to invoke virtual method 'boolean java.lang.String.equals(java.lang.Object)' on a null object reference'\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"
    }, {
        "tags": ["azure", "iot", "symmetric-key"],
        "is_answered": true,
        "view_count": 1410,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1453121540,
        "creation_date": 1453117037,
        "question_id": 34853806,
        "link": "https://stackoverflow.com/questions/34853806/should-symmetric-key-or-sas-token-be-used-in-azure-iot-hub-device-connection-str",
        "title": "Should symmetric key or SAS token be used in Azure IoT hub device connection string",
        "body": "<p>I noticed with Azure IoT hub, a device can connect either using connection string which is composed with device Primary or Secondary key in form:\n<code>\nHostName=&lt;host_name&gt;;DeviceId=&lt;device_id&gt;;SharedAccessKey=&lt;primary_key or secondary key&gt;\n</code></p>\n\n<p>or can connect with connection string which is composed with a generated SAS token in form:\n<code>\nHostName=&lt;host_name&gt;;DeviceId=&lt;device_id&gt;;SharedAccessSignature=SharedAccessSignature sr=&lt;device_endpoint&gt;&amp;sig=&lt;generated_token&gt;&amp;se=1453107988\n</code></p>\n\n<p>In the first form, the symmetric key is hold by device and in second form the IoT hub owns the device's symmetric key.</p>\n\n<p>So, my question is when should I use which form? and why?</p>\n"
    }, {
        "tags": ["azure", "iot"],
        "is_answered": false,
        "view_count": 240,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1452104414,
        "creation_date": 1450427225,
        "question_id": 34351339,
        "link": "https://stackoverflow.com/questions/34351339/error-in-azure-iot-hub-receiver",
        "title": "Error in Azure IoT hub Receiver",
        "body": "<p>I copy pasted the code available in this <a href=\"https://azure.microsoft.com/en-us/documentation/articles/iot-hub-csharp-csharp-getstarted/\" rel=\"nofollow\">link</a>. I am able to get messages to IoT hub (the quota can show that). However, I am not receiving anything when I create the receiver.</p>\n\n<p>Any thoughts?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 55,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1449256691,
        "creation_date": 1449256183,
        "last_edit_date": 1449256691,
        "question_id": 34095740,
        "link": "https://stackoverflow.com/questions/34095740/my-bluemix-iot-foundation-organization-is-not-shown-on-webpage",
        "title": "My Bluemix IoT Foundation organization is not shown on webpage",
        "body": "<p>I have a Bluemix account with organization defined, but when I login to IoTF via the webpage <a href=\"https://internetofthings.ibmcloud.com/\" rel=\"nofollow\">https://internetofthings.ibmcloud.com/</a> my organization is not shown.  I see a message that says \"You are not a member of any organization\". </p>\n\n<p>I am unable to add any devices as a result.  What could be causing this issue?</p>\n"
    }, {
        "tags": ["c#", "azure", "raspberry-pi", "iot"],
        "is_answered": false,
        "view_count": 313,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1449049554,
        "creation_date": 1448866110,
        "last_edit_date": 1449049554,
        "question_id": 33992910,
        "link": "https://stackoverflow.com/questions/33992910/azure-api-app-with-user-input",
        "title": "Azure API App with User Input",
        "body": "<p>I am creating Azure API App, later i'll use it as Azure Logic App Connector. </p>\n\n<p>I have created one App and tested it as Azure Logic App Connector. All is working fine. </p>\n\n<p>I have few parameters in API App, which i want to get from users who is using Connector. i.e. Connection String, Authorization Token. Like, if we use SMTP Connector, it will ask user to add Server Name, Port, etc.</p>\n\n<p>Any idea how to give user interface in API App (for Connector use)? Feel free to ask me if you are confused about my question.</p>\n\n<p><strong><em>SOLUTION:</em></strong></p>\n\n<p>Finally i did it with Swagger UI. Hope it helps someone.</p>\n"
    }, {
        "tags": ["memory", "instance", "ibm-cloud", "weather", "iot"],
        "is_answered": true,
        "view_count": 124,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1448891432,
        "creation_date": 1448585017,
        "last_edit_date": 1448891152,
        "question_id": 33948878,
        "link": "https://stackoverflow.com/questions/33948878/how-many-instances-do-i-need-for-connecting-100000-devices-to-iotf",
        "title": "how many instances do I need for connecting 100000 devices to IoTF?",
        "body": "<p>I want to connect 100000 number of devices to IoT Foundation which is binded to bluemix application runtime. node.js or java liberty.\nand I will bind weather insight service on this application so that each devices can ask the weather information related to its geolocation.</p>\n\n<p>I wonder how many instances and memories in each instances do I need?</p>\n"
    }, {
        "tags": ["fiware", "iot", "fiware-orion"],
        "is_answered": true,
        "view_count": 128,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1448527357,
        "creation_date": 1448384095,
        "question_id": 33899459,
        "link": "https://stackoverflow.com/questions/33899459/fiware-iot-agent-how-to-send-the-location-attribut-to-the-contextbroker-entity",
        "title": "FIWARE IoT Agent: how to send the location attribut to the contextBroker Entity?",
        "body": "<p>I want to add location information to my entity in the contextBroker using the MQTT IoT Agent.\nI followed this link to do so <a href=\"https://github.com/telefonicaid/fiware-IoTAgent-Cplusplus/blob/develop/doc/modules.md\" rel=\"nofollow\">https://github.com/telefonicaid/fiware-IoTAgent-Cplusplus/blob/develop/doc/modules.md</a> </p>\n\n<p>My problem is that the attribut \"location\" was sent as String to the contextBroker not as \"coords\"</p>\n\n<p>Here is what I sent to the MQTT IoT agent:</p>\n\n<pre><code>int qos = 1;\nboolean retain = false;\n\nString topic = \"myKey/sensorId/location\";\nString payload= \"12.5/14.5\";\n\nthis.dataService.publish(topic, position.getBytes(), qos, retain, 2);\n</code></pre>\n\n<p>I assume that the location attribut in the contextBroker will have the type \"coords\", something like that:</p>\n\n<pre><code>{\n    \"name\":\"position\",\n    \"type\":\"coords\",\n    \"value\":\"33.000,-3.234234\",\n    \"metadatas\":[\n    {\n        \"name\":\"location\",\n        \"type\":\"string\",\n        \"value\":\"WGS84\"\n    }]\n}\n</code></pre>\n\n<p>But what I got in the contextBroker is this:</p>\n\n<pre><code>\"location\" : {\n        \"value\" : \"12.5/14.5\",\n        \"type\" : \"string\",\n        \"md\" : [\n            {\n                \"name\" : \"TimeInstant\",\n                \"type\" : \"ISO8601\",\n                \"value\" : \"2015-11-24T16:26:09.530507\"\n            }\n        ],\n        \"creDate\" : 1448382369,\n        \"modDate\" : 1448382369\n    }\n</code></pre>\n\n<p>What have I missed? Thanks in advance for your help!</p>\n"
    }, {
        "tags": ["vb.net", "raspberry-pi", "iot", "windows-10-iot-core"],
        "is_answered": true,
        "view_count": 637,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1445630049,
        "creation_date": 1444798424,
        "last_edit_date": 1445207299,
        "question_id": 33116867,
        "link": "https://stackoverflow.com/questions/33116867/how-to-display-random-image-from-usb-on-a-pi",
        "title": "How to display random image from USB on a Pi",
        "body": "<p>I have managed to create my first iot project and can get an image to load on a button press on my Raspberry Pi2.</p>\n\n<p>I have tried to put together code that will get me a random image from a set of images but I have a few areas I am falling over.</p>\n\n<p>1) I don't know how to scan a USB stick from the Pi</p>\n\n<p>2) I cannot seem to load an image from a file, only from an embedded resource.</p>\n\n<p>3) I cannot seem to work out how to close the app, I would have thought <code>App.exit</code> would do it but it appears not.</p>\n\n<p>Basically I am just playing around and I thought a good learning project would be to create a digital photo frame which randomly shows images from a USB stick, it's not gone well for me at all.</p>\n\n<p>If I can get it to work on the button press I should be able to drop in a timer and have it run all the time quite easily.</p>\n\n<p>Here is my code, you can see from my commented out parts what I have tried:</p>\n\n<pre><code>' The Blank Page item template is documented at http://go.microsoft.com/fwlink/?LinkId=402352&amp;clcid=0x409\n''' &lt;summary&gt;\n''' An empty page that can be used on its own or navigated to within a Frame.\n''' &lt;/summary&gt;\n\nPublic NotInheritable Class MainPage\n    Inherits Page\n    Dim random As Random = New Random()\n\n    Private Sub ClickMe_Click(sender As Object, e As RoutedEventArgs)\n        'Dim DirectoryPath As String = \"F:/VB.Net files/Images/\"\n        'Dim finfo As FileInfo = New FileInfo(GetRandomImageFilePath(DirectoryPath))\n        'Dim filename As String = finfo.Name.Replace(finfo.Extension, \"\")\n        'BBPLogo.Source = New BitmapImage(New Uri(\"file:///\" &amp; finfo.FullName, UriKind.Relative))\n        BBPLogo.Source = New BitmapImage(New Uri(\"ms-appx:///Assets/Bowral-Bricks.png\", UriKind.Absolute))\n    End Sub\n\n    Private Sub ExitButton_Click(sender As Object, e As RoutedEventArgs) Handles ExitButton.Click\n\n    End Sub\n\n    Public Function GetRandomImageFilePath(ByVal folderPath As String) As String\n        Dim files() As String = Directory.GetFiles(folderPath, \"*.png\")\n        Return files(random.Next(0, files.Length))\n    End Function\n\nEnd Class\n</code></pre>\n\n<p>Not sure if you need it but here is the xaml</p>\n\n<pre><code>&lt;Page\n    x:Class=\"PiTest01.MainPage\"\n    xmlns=\"http://schemas.microsoft.com/winfx/2006/xaml/presentation\"\n    xmlns:x=\"http://schemas.microsoft.com/winfx/2006/xaml\"\n    xmlns:local=\"using:PiTest01\"\n    xmlns:d=\"http://schemas.microsoft.com/expression/blend/2008\"\n    xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\"\n    mc:Ignorable=\"d\" Height=\"480\" Width=\"800\"&gt;\n\n    &lt;Grid&gt;\n        &lt;Grid.Background&gt;\n            &lt;ImageBrush Stretch=\"Fill\"/&gt;\n        &lt;/Grid.Background&gt;\n        &lt;Image x:Name=\"BBPLogo\" HorizontalAlignment=\"Left\" Height=\"480\" VerticalAlignment=\"Top\" Width=\"800\" RenderTransformOrigin=\"1.163,0.596\" Stretch=\"UniformToFill\"/&gt;\n        &lt;StackPanel HorizontalAlignment=\"Center\" VerticalAlignment=\"Center\" Margin=\"78,18,436,164\" Height=\"178\"&gt;\n            &lt;Button x:Name=\"ClickMe\" Content=\"Click Me!\"  Margin=\"10\" HorizontalAlignment=\"Center\" Click=\"ClickMe_Click\"/&gt;\n            &lt;Button x:Name=\"ExitButton\" Content=\"Exit\" HorizontalAlignment=\"Left\" VerticalAlignment=\"Bottom\" Width=\"126\"/&gt;\n        &lt;/StackPanel&gt;\n    &lt;/Grid&gt;\n&lt;/Page&gt;\n</code></pre>\n"
    }, {
        "tags": ["azure", "cloud", "iot"],
        "is_answered": false,
        "view_count": 223,
        "favorite_count": 1,
        "score": -1,
        "last_activity_date": 1444718782,
        "creation_date": 1430197634,
        "last_edit_date": 1444718782,
        "question_id": 29910739,
        "link": "https://stackoverflow.com/questions/29910739/internet-of-things-using-ms-azure",
        "title": "Internet of Things using MS Azure",
        "body": "<p>I am starting my journey of IoT development with MS Azure. I would like some insight on the Azure cloud. I am a total newbie on cloud development. Can someone tell me some good books/links on Azure that will help me understand how I can use Azure for IoT and start development on the same.?</p>\n\n<p>Thanks a lot for your inputs.</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 67,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1444303427,
        "creation_date": 1444206964,
        "question_id": 32987492,
        "link": "https://stackoverflow.com/questions/32987492/iot-foundation-payload-limit-what-is-the-shortest-byte-array-i-can-send",
        "title": "IoT Foundation payload limit, what is the shortest byte array I can send?",
        "body": "<p>I am using IoT Foundation on Bluemix and trying to send a byte array representing a simple text file, whose size is only 1354 bytes. I do not see anything arriving on IoT Foundation, it looks like I am hitting the 4KB payload limit (<a href=\"https://docs.internetofthings.ibmcloud.com/messaging/payload.html\" rel=\"nofollow\">IoT Foundation doc</a>). The shortest byte array I am able to send is only 1349 bytes. Is this a limitation of current IoT Foundation implementation?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot", "node-red"],
        "is_answered": true,
        "view_count": 218,
        "favorite_count": 1,
        "score": 2,
        "last_activity_date": 1443707719,
        "creation_date": 1433771829,
        "last_edit_date": 1443707719,
        "question_id": 30711096,
        "link": "https://stackoverflow.com/questions/30711096/difference-between-iot-foundation-and-node-red",
        "title": "difference between IoT Foundation and Node-RED?",
        "body": "<p>We have 2 boilerplates with Node-RED in Bluemix catalogs.</p>\n\n<p>I know that the Node-RED Starter boilerplate has the Monitoring and Analytics service. </p>\n\n<p>Is this the only difference?</p>\n\n<p>Are there any differences between \"IoT Foundation Starter\" and \"Node-RED Starter\"?</p>\n"
    }, {
        "tags": ["dns", "ibm-cloud", "iot"],
        "is_answered": false,
        "view_count": 125,
        "favorite_count": 0,
        "score": 2,
        "last_activity_date": 1443622834,
        "creation_date": 1443468658,
        "last_edit_date": 1443474444,
        "question_id": 32830398,
        "link": "https://stackoverflow.com/questions/32830398/custom-domain-for-bluemix-iot",
        "title": "Custom domain for Bluemix IoT",
        "body": "<p>We are starting our Bluemix IoT infrasctructure with IoTF and I am wondering about DNS issues in my devices.\nWhen I ship my IoT devices with a pre-configured organization ID, which is generated by Bluemix like <code>orgid.messaging.internetofthings.ibmcloud.com</code>, how can I customize this address to <code>mqtt.myorganization.com</code> to have the ability to create other IoT instances without re-configuring my device?</p>\n\n<p>Thanks!</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 492,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1442249672,
        "creation_date": 1441722544,
        "last_edit_date": 1441732737,
        "question_id": 32460425,
        "link": "https://stackoverflow.com/questions/32460425/not-able-to-add-device-in-ibm-bluemix",
        "title": "Not able to add device in IBM bluemix?",
        "body": "<p>I am not able to add Raspberry Pi to IBM Bluemix. I have generated the access keys and followed all the steps. But when I click on the portal add a device, it asks for device types on creating new one I am still not able to add the device. Has the device adding process changed in new IBM Bluemix portal because none of the recipes defines it. Please provide the latest steps if someone has.</p>\n"
    }, {
        "tags": ["raspberry-pi", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 167,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1438101124,
        "creation_date": 1438033379,
        "last_edit_date": 1438101115,
        "question_id": 31663831,
        "link": "https://stackoverflow.com/questions/31663831/raspberry-pi-and-bluemix-typeerror-for-publishevent",
        "title": "Raspberry Pi and Bluemix - TypeError for publishEvent()",
        "body": "<p>Hey I followed a tutorial at <a href=\"https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/\" rel=\"nofollow\">https://developer.ibm.com/bluemix/2015/04/02/tutorial-using-a-raspberry-pi-python-iot-twilio-bluemix/</a> and a line is giving me hell.</p>\n\n<pre><code>client.publishEvent(\"raspberrypi\",options[\"deviceId\"], \"input\", myData)\n</code></pre>\n\n<p>TypeError: publishEvent() takes at least 6 arguments (5 given)</p>\n\n<p>Any advice?</p>\n"
    }, {
        "tags": ["c++", "pragma", "iot", "data-distribution-service"],
        "is_answered": true,
        "view_count": 1223,
        "favorite_count": 0,
        "score": 3,
        "last_activity_date": 1437620846,
        "creation_date": 1437507314,
        "question_id": 31548067,
        "link": "https://stackoverflow.com/questions/31548067/what-does-pragma-keylist-keyword-do",
        "title": "What does pragma keylist keyword do?",
        "body": "<p>While reading about various IoT messaging protocols I came across a structure defined as below:</p>\n\n<pre><code>enum TempScale {\n   CELSIUM,\n   KELVIN,\n   FARENHEIT\n};\n\nstruct TempSensorType {\n   short id;\n   float temp;\n   float hum;\n   TempScale scale;\n};\n#pragma keylist TempSensorType id\n</code></pre>\n\n<p>My question is: What does this <em>#pragma keylist</em> keyword do and where can I find some documentation about using <em>#pragma</em> preprocessor directives (I believe it is such directive..).</p>\n\n<p>Thanks.</p>\n"
    }, {
        "tags": ["wifi", "mqtt", "ibm-cloud", "arduino-uno", "iot"],
        "is_answered": true,
        "view_count": 1436,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1435288145,
        "creation_date": 1435288082,
        "question_id": 31064241,
        "link": "https://stackoverflow.com/questions/31064241/how-to-connect-arduino-uno-iot-recipe-to-mqtt-over-wifi-wpa",
        "title": "How to connect Arduino-Uno IOT recipe to MQTT over WiFi WPA",
        "body": "<p>This IOT Foundation recipe for Arduino Uno provides a way to connect to the MQTT server on Bluemix via the Ethernet client, but how can I do this using the Arduino Wifi shield with WPA secured wifi connection.</p>\n\n<p><a href=\"https://developer.ibm.com/iotfoundation/recipes/arduino-uno/\" rel=\"nofollow\">https://developer.ibm.com/iotfoundation/recipes/arduino-uno/</a></p>\n"
    }, {
        "tags": ["azure", "mobile", "service", "mqtt", "iot"],
        "is_answered": false,
        "view_count": 147,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1431287708,
        "creation_date": 1431282420,
        "question_id": 30155089,
        "link": "https://stackoverflow.com/questions/30155089/mqtt-broket-to-azure-mobile-services",
        "title": "MQTT broket to Azure Mobile Services",
        "body": "<p>I have a MQTT broker and need to consume this information via REST with azure mobile services, is this possible? am I missing something in the way?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 121,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1430934240,
        "creation_date": 1430900017,
        "last_edit_date": 1430909168,
        "question_id": 30071088,
        "link": "https://stackoverflow.com/questions/30071088/deleting-an-ibm-bluemix-internet-of-things-services-gives-an-error",
        "title": "Deleting an IBM Bluemix Internet of things services gives an error",
        "body": "<p>I'm working on a Bluemix Internet of Things (IoT) project and want to delete an IoT service. Bluemix returns: </p>\n\n<blockquote>\n  <p>Service broker error: Calling url\n  <a href=\"https://bluemix-staging.internetofthings.ibmcloud.com/broker/v2/service_instances/2a98b0e9-2d48-4fed-b66b-c20cac2f83c7?plan_id=iotf-service-free-id&amp;service_id=iotf-service-id\" rel=\"nofollow\">https://bluemix-staging.internetofthings.ibmcloud.com/broker/v2/service_instances/2a98b0e9-2d48-4fed-b66b-c20cac2f83c7?plan_id=iotf-service-free-id&amp;service_id=iotf-service-id</a>\n  failed with error message getaddrinfo ENOTFOUND\n  bluemix-staging.internetofthings.ibmcloud.com</p>\n</blockquote>\n\n<p>I can't create a new service as well. Any ideas how to proceed?</p>\n"
    }, {
        "tags": ["arduino", "raspberry-pi", "ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 242,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1429731329,
        "creation_date": 1429706798,
        "last_edit_date": 1429730547,
        "question_id": 29798052,
        "link": "https://stackoverflow.com/questions/29798052/failure-occurs-when-trying-to-connect-my-registered-device-to-the-iot-foundation",
        "title": "Failure occurs when trying to connect my registered device to the IoT Foundation on BlueMix",
        "body": "<p>I can successfully communicate with IoT in quickstart, but after I modify the code to include specific credentials for my registered device,  I get an \"unsuccessful connection\". I have been using the <a href=\"https://developer.ibm.com/iot/\" rel=\"nofollow\">online recipes</a> and tutorials for connecting my IOT device to Bluemix.  </p>\n\n<p>I can get past the first part of the recipe and successfully communicate with IoT Foundation in Bluemix using the quickstart connection, so that part works for me.  But I encounter an error and my connection fails when I try to do the connection as a registered device.</p>\n\n<p>Trying to connect an arduino device, I followed this tutorial: <a href=\"http://www.ibm.com/developerworks/cloud/library/cl-bluemix-arduino-iot1/index.html\" rel=\"nofollow\">http://www.ibm.com/developerworks/cloud/library/cl-bluemix-arduino-iot1/index.html</a></p>\n\n<p>Please let me know if you have a suggestion as to what I should check to determine why the connection fails.  </p>\n"
    }, {
        "tags": ["parse-platform", "arduino", "iot"],
        "is_answered": true,
        "view_count": 116,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1429095132,
        "creation_date": 1428945164,
        "last_edit_date": 1592644375,
        "question_id": 29611143,
        "link": "https://stackoverflow.com/questions/29611143/saving-parse-objects-from-arduino-yun",
        "title": "Saving Parse objects from Arduino Yun",
        "body": "<p>I have followed the Parse quickstart guide for the Arduino Yun, and am getting the following response:</p>\n<blockquote>\n<p>Parse Starter Project</p>\n<p>Response for saving a TestObject:</p>\n<p>Test object id:</p>\n</blockquote>\n<p>I have run the code from File &gt; Examples &gt; Bridge &gt; WiFi status, which confirms I am connected to the wifi network. Has anyone else faced this issue?</p>\n"
    }, {
        "tags": ["p2p", "nat", "dht", "hole-punching", "iot"],
        "is_answered": false,
        "view_count": 229,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1427279751,
        "creation_date": 1427279751,
        "question_id": 29253261,
        "link": "https://stackoverflow.com/questions/29253261/is-there-maidsafe-routing-alternative-p2p-routing-nat-traversal-library-in-c-o",
        "title": "Is there MaidSafe-Routing alternative (p2p routing, NAT traversal library in C or C++)",
        "body": "<p>MaidSafe-Routing is able to maintain p2p route and do NAT traverse without STUN.\nThere are many libraries only for NAT traversal or DHT(such as Chord and Chimera).\nIs there any other C/C++ library like MaidSafe-Routing that is with DHT and NAT traverse?\nThank you.</p>\n"
    }, {
        "tags": ["c++", "windows", "azure", "iot", "intel-galileo"],
        "is_answered": false,
        "view_count": 319,
        "favorite_count": 0,
        "score": 0,
        "last_activity_date": 1425914233,
        "creation_date": 1423804361,
        "question_id": 28492917,
        "link": "https://stackoverflow.com/questions/28492917/winsock-for-azure-services",
        "title": "Winsock for Azure services",
        "body": "<p>I want to send sensor's data from intel Galileo running on windows to Azure. I tried the Casablanca sample and Azure storage SDK but they are giving many errors and it didn't worked for me. Is there is any other way to do that or please tell me the correct way to do that in detail as so far i have tried many things.</p>\n\n<p>Is it possible to use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms737889%28v=vs.85%29.aspx\" rel=\"nofollow\">Winsock</a> to store data in Azure tables? Has anyone been able to run the Casablanca sample application, or use the C++ REST SDK with Galileo?</p>\n"
    }, {
        "tags": ["embedded", "wifi", "network-protocols", "captivenetwork", "iot"],
        "is_answered": true,
        "view_count": 1182,
        "favorite_count": 1,
        "score": 4,
        "last_activity_date": 1422819826,
        "creation_date": 1421267979,
        "question_id": 27951995,
        "link": "https://stackoverflow.com/questions/27951995/embedded-wifi-device-that-can-accept-terms-on-a-captive-portal",
        "title": "Embedded wifi device that can accept terms on a captive portal?",
        "body": "<p>I'm building out an IoT solution for a client and the network admins are insisting that the devices only connect through the guest network, which has a captive portal with terms of service that must be accepted with a UI button press before gaining external internet access.  Most IoT Solutions I've looked at so far (electric imp, Spark core) explicitly state that they cannot connect to a captive portal. I've seen other higher-level code for automatically interacting with a captive portal but I have not found a solution that allows an embedded wifi device (like the CC3000) to automatically accept terms on a captive portal. </p>\n\n<p>Has anyone seen or built a custom wifi stack for something like the CC3000 that can recognize and interact with a captive portal? is there another embedded wifi solution (xbee wifi maybe?) that has had success in this area?</p>\n"
    }, {
        "tags": ["ibm-cloud", "iot"],
        "is_answered": true,
        "view_count": 443,
        "favorite_count": 0,
        "score": 1,
        "last_activity_date": 1419752351,
        "creation_date": 1419746621,
        "last_edit_date": 1419746981,
        "question_id": 27674067,
        "link": "https://stackoverflow.com/questions/27674067/how-to-add-a-sensor-tag-in-ibm-bluemix",
        "title": "how to add a sensor tag in IBM bluemix?",
        "body": "<p>I am trying to connect TI SensorTag to the IBM Internet of Things. I connected BeagleBone to linux and and I logged in into BeagleBone in following way.\nssh root@192.168.7.2</p>\n\n<p>But I am not sure how to get the mac address ? Can someone please help me in this?</p>\n"
    }]
}